cscope 15 /c/qtproject/libass -q 0000006595 0000696895
	@libass/ass.c

19 
	~"c⁄fig.h
"

20 
	~"ass_com∑t.h
"

22 
	~<°dio.h
>

23 
	~<°dlib.h
>

24 
	~<°rög.h
>

25 
	~<as£π.h
>

26 
	~<î∫o.h
>

27 
	~<sys/ty≥s.h
>

28 
	~<sys/°©.h
>

29 
	~<öây≥s.h
>

31 #ifde‡
CONFIG_ICONV


32 
	~<ic⁄v.h
>

35 
	~"ass.h
"

36 
	~"ass_utûs.h
"

37 
	~"ass_libøry.h
"

38 
	~"ass_°rög.h
"

40 
	#ass_©of
(
STR
Ë(
	`ass_°πod
((STR),
NULL
))

	)

43 
	mPST_UNKNOWN
 = 0,

44 
	mPST_INFO
,

45 
	mPST_STYLES
,

46 
	mPST_EVENTS
,

47 
	mPST_FONTS


48 } 
	tP¨£rSèã
;

50 
	s∑r£r_¥iv
 {

51 
P¨£rSèã
 
	m°©e
;

52 *
	mf⁄äame
;

53 *
	mf⁄td©a
;

54 
	mf⁄td©a_size
;

55 
	mf⁄td©a_u£d
;

58 
uöt32_t
 *
	mªad_‹dî_bôm≠
;

59 
	mªad_‹dî_ñems
;

60 
	mcheck_ªad‹dî
;

63 
	#ASS_STYLES_ALLOC
 20

	)

65 
	$ass_libøry_vîsi⁄
()

67  
LIBASS_VERSION
;

68 
	}
}

70 
	$ass_‰ì_åack
(
ASS_Tøck
 *
åack
)

72 
i
;

74 i‡(
åack
->
∑r£r_¥iv
) {

75 
	`‰ì
(
åack
->
∑r£r_¥iv
->
ªad_‹dî_bôm≠
);

76 
	`‰ì
(
åack
->
∑r£r_¥iv
->
f⁄äame
);

77 
	`‰ì
(
åack
->
∑r£r_¥iv
->
f⁄td©a
);

78 
	`‰ì
(
åack
->
∑r£r_¥iv
);

80 
	`‰ì
(
åack
->
°yÀ_f‹m©
);

81 
	`‰ì
(
åack
->
evít_f‹m©
);

82 
	`‰ì
(
åack
->
L™guage
);

83 i‡(
åack
->
°yÀs
) {

84 
i
 = 0; i < 
åack
->
n_°yÀs
; ++i)

85 
	`ass_‰ì_°yÀ
(
åack
, 
i
);

87 
	`‰ì
(
åack
->
°yÀs
);

88 i‡(
åack
->
evíts
) {

89 
i
 = 0; i < 
åack
->
n_evíts
; ++i)

90 
	`ass_‰ì_evít
(
åack
, 
i
);

92 
	`‰ì
(
åack
->
evíts
);

93 
	`‰ì
(
åack
->
«me
);

94 
	`‰ì
(
åack
);

95 
	}
}

100 
	$ass_Æloc_°yÀ
(
ASS_Tøck
 *
åack
)

102 
sid
;

104 
	`as£π
(
åack
->
n_°yÀs
 <åack->
max_°yÀs
);

106 i‡(
åack
->
n_°yÀs
 =åack->
max_°yÀs
) {

107 
åack
->
max_°yÀs
 +
ASS_STYLES_ALLOC
;

108 
åack
->
°yÀs
 =

109 (
ASS_StyÀ
 *Ë
	`ªÆloc
(
åack
->
°yÀs
,

110 (
ASS_StyÀ
) *

111 
åack
->
max_°yÀs
);

114 
sid
 = 
åack
->
n_°yÀs
++;

115 
	`mem£t
(
åack
->
°yÀs
 + 
sid
, 0, (
ASS_StyÀ
));

116  
sid
;

117 
	}
}

122 
	$ass_Æloc_evít
(
ASS_Tøck
 *
åack
)

124 
eid
;

126 
	`as£π
(
åack
->
n_evíts
 <åack->
max_evíts
);

128 i‡(
åack
->
n_evíts
 =åack->
max_evíts
) {

129 
åack
->
max_evíts
 =Årack->max_events * 2 + 1;

130 
åack
->
evíts
 =

131 (
ASS_Evít
 *Ë
	`ªÆloc
(
åack
->
evíts
,

132 (
ASS_Evít
) *

133 
åack
->
max_evíts
);

136 
eid
 = 
åack
->
n_evíts
++;

137 
	`mem£t
(
åack
->
evíts
 + 
eid
, 0, (
ASS_Evít
));

138  
eid
;

139 
	}
}

141 
	$ass_‰ì_evít
(
ASS_Tøck
 *
åack
, 
eid
)

143 
ASS_Evít
 *
evít
 = 
åack
->
evíts
 + 
eid
;

145 
	`‰ì
(
evít
->
Name
);

146 
	`‰ì
(
evít
->
Ef„˘
);

147 
	`‰ì
(
evít
->
Text
);

148 
	`‰ì
(
evít
->
ªndî_¥iv
);

149 
	}
}

151 
	$ass_‰ì_°yÀ
(
ASS_Tøck
 *
åack
, 
sid
)

153 
ASS_StyÀ
 *
°yÀ
 = 
åack
->
°yÀs
 + 
sid
;

155 
	`‰ì
(
°yÀ
->
Name
);

156 
	`‰ì
(
°yÀ
->
F⁄tName
);

157 
	}
}

159 
	$ªsize_ªad_‹dî_bôm≠
(
ASS_Tøck
 *
åack
, 
max_id
)

162 i‡(
max_id
 < 0 || max_id >= 10 * 1024 * 1024 * 8)

163 
Áû
;

164 i‡(
max_id
 >
åack
->
∑r£r_¥iv
->
ªad_‹dî_ñems
 * 32) {

165 
ﬁdñems
 = 
åack
->
∑r£r_¥iv
->
ªad_‹dî_ñems
;

166 
ñems
 = ((
max_id
 + 31) / 32 + 1) * 2;

167 
	`as£π
(
ñems
 >
ﬁdñems
);

168 
åack
->
∑r£r_¥iv
->
ªad_‹dî_ñems
 = 
ñems
;

169 *
√w_bôm≠
 =

170 
	`ªÆloc
(
åack
->
∑r£r_¥iv
->
ªad_‹dî_bôm≠
, 
ñems
 * 4);

171 i‡(!
√w_bôm≠
)

172 
Áû
;

173 
åack
->
∑r£r_¥iv
->
ªad_‹dî_bôm≠
 = 
√w_bôm≠
;

174 
	`mem£t
(
åack
->
∑r£r_¥iv
->
ªad_‹dî_bôm≠
 + 
ﬁdñems
, 0,

175 (
ñems
 - 
ﬁdñems
) * 4);

179 
Áû
:

180 
	`‰ì
(
åack
->
∑r£r_¥iv
->
ªad_‹dî_bôm≠
);

181 
åack
->
∑r£r_¥iv
->
ªad_‹dî_bôm≠
 = 
NULL
;

182 
åack
->
∑r£r_¥iv
->
ªad_‹dî_ñems
 = 0;

184 
	}
}

186 
	$ã°_™d_£t_ªad_‹dî_bô
(
ASS_Tøck
 *
åack
, 
id
)

188 i‡(
	`ªsize_ªad_‹dî_bôm≠
(
åack
, 
id
) < 0)

190 
ödex
 = 
id
 / 32;

191 
bô
 = 1 << (
id
 % 32);

192 i‡(
åack
->
∑r£r_¥iv
->
ªad_‹dî_bôm≠
[
ödex
] & 
bô
)

194 
åack
->
∑r£r_¥iv
->
ªad_‹dî_bôm≠
[
ödex
] |
bô
;

196 
	}
}

206 
	$£t_deÁu…_°yÀ
(
ASS_StyÀ
 *
°yÀ
)

208 
°yÀ
->
Name
 = 
	`°rdup
("Default");

209 
°yÀ
->
F⁄tName
 = 
	`°rdup
("Arial");

210 
°yÀ
->
F⁄tSize
 = 18;

211 
°yÀ
->
Prim¨yCﬁour
 = 0xffffff00;

212 
°yÀ
->
Sec⁄d¨yCﬁour
 = 0x00ffff00;

213 
°yÀ
->
OuéöeCﬁour
 = 0x00000000;

214 
°yÀ
->
BackCﬁour
 = 0x00000080;

215 
°yÀ
->
Bﬁd
 = 200;

216 
°yÀ
->
SˇÀX
 = 1.0;

217 
°yÀ
->
SˇÀY
 = 1.0;

218 
°yÀ
->
S∑cög
 = 0;

219 
°yÀ
->
B‹dîStyÀ
 = 1;

220 
°yÀ
->
Ouéöe
 = 2;

221 
°yÀ
->
Shadow
 = 3;

222 
°yÀ
->
Alignmít
 = 2;

223 
°yÀ
->
M¨göL
 = styÀ->
M¨göR
 = styÀ->
M¨göV
 = 20;

224 
	}
}

226 
	$°rög2timecode
(
ASS_Libøry
 *
libøry
, *
p
)

228 
h
, 
m
, 
s
, 
ms
;

229 
tm
;

230 
ªs
 = 
	`ssˇnf
(
p
, "%d:%d:%d.%d", &
h
, &
m
, &
s
, &
ms
);

231 i‡(
ªs
 < 4) {

232 
	`ass_msg
(
libøry
, 
MSGL_WARN
, "BadÅimestamp");

235 
tm
 = ((
h
 * 60LL + 
m
Ë* 60 + 
s
Ë* 1000 + 
ms
 * 10LL;

236  
tm
;

237 
	}
}

239 
	#NEXT
(
°r
,
tokí
) \

240 
tokí
 = 
	`√xt_tokí
(&
°r
); \

241 i‡(!
tokí
Ë;

	)

244 
	#ALIAS
(
Æüs
,
«me
) \

245 i‡(
	`ass_°rˇ£cmp
(
äame
, #ÆüsË=0Ë{äamê#«me;}

	)

257 
	#PARSE_START
 i‡(0Ë{

	)

258 
	#PARSE_END
 }

	)

260 
	#ANYVAL
(
«me
,
func
) \

261 } i‡(
	`ass_°rˇ£cmp
(
äame
, #name) == 0) { \

262 
èrgë
->
«me
 = 
	`func
(
tokí
);

	)

264 
	#STRVAL
(
«me
) \

265 } i‡(
	`ass_°rˇ£cmp
(
äame
, #name) == 0) { \

266 i‡(
èrgë
->
«me
 !
NULL
Ë
	`‰ì
(target->name); \

267 
èrgë
->
«me
 = 
	`°rdup
(
tokí
);

	)

269 
	#STARREDSTRVAL
(
«me
) \

270 } i‡(
	`ass_°rˇ£cmp
(
äame
, #name) == 0) { \

271 i‡(
èrgë
->
«me
 !
NULL
Ë
	`‰ì
(target->name); \

272 *
tokí
 == '*') ++token; \

273 
èrgë
->
«me
 = 
	`°rdup
(
tokí
);

	)

275 
	#COLORVAL
(
«me
Ë
	`ANYVAL
“ame,
∑r£_cﬁ‹_hódî
)

	)

276 
	#INTVAL
(
«me
Ë
	`ANYVAL
“ame,
©oi
)

	)

277 
	#FPVAL
(
«me
Ë
	`ANYVAL
“ame,
ass_©of
)

	)

278 
	#TIMEVAL
(
«me
) \

279 } i‡(
	`ass_°rˇ£cmp
(
äame
, #name) == 0) { \

280 
èrgë
->
«me
 = 
	`°rög2timecode
(
åack
->
libøry
, 
tokí
);

	)

282 
	#STYLEVAL
(
«me
) \

283 } i‡(
	`ass_°rˇ£cmp
(
äame
, #name) == 0) { \

284 
èrgë
->
«me
 = 
	`lookup_°yÀ
(
åack
, 
tokí
);

	)

286 *
√xt_tokí
(**
°r
)

288 *
	gp
 = *
°r
;

289 *
	g°¨t
;

290 
skù_•a˚s
(&
p
);

291 i‡(*
	gp
 == '\0') {

292 *
°r
 = 
p
;

295 
	g°¨t
 = 
p
;

296 ; (*
	gp
 !'\0'Ë&& (*
p
 != ','); ++p) {

298 i‡(*
	gp
 == '\0') {

299 *
°r
 = 
p
;

301 *
	gp
 = '\0';

302 *
	g°r
 = 
p
 + 1;

304 
rskù_•a˚s
(&
p
, 
°¨t
);

305 *
	gp
 = '\0';

306  
	g°¨t
;

316 
¥o˚ss_evít_èû
(
ASS_Tøck
 *
åack
, 
ASS_Evít
 *
evít
,

317 *
°r
, 
n_ign‹ed
)

319 *
	gtokí
;

320 *
	gäame
;

321 *
	gp
 = 
°r
;

322 
	gi
;

323 
ASS_Evít
 *
	gèrgë
 = 
evít
;

325 *
	gf‹m©
 = 
°rdup
(
åack
->
evít_f‹m©
);

326 *
	gq
 = 
f‹m©
;

328 i‡(
	gåack
->
	gn_°yÀs
 == 0) {

331 
sid
 = 
ass_Æloc_°yÀ
(
åack
);

332 
£t_deÁu…_°yÀ
(&
åack
->
°yÀs
[
sid
]);

333 
	gåack
->
	gdeÁu…_°yÀ
 = 
sid
;

336 
	gi
 = 0; i < 
	gn_ign‹ed
; ++i) {

337 
NEXT
(
q
, 
äame
);

341 
NEXT
(
q
, 
äame
);

342 i‡(
ass_°rˇ£cmp
(
äame
, "Text") == 0) {

343 *
œ°
;

344 
	gevít
->
	gText
 = 
°rdup
(
p
);

345 i‡(*
	gevít
->
	gText
 != 0) {

346 
œ°
 = 
evít
->
Text
 + 
°æí
(event->Text) - 1;

347 i‡(
	gœ°
 >
evít
->
Text
 && *
œ°
 == '\r')

348 *
œ°
 = 0;

350 
	gevít
->
	gDuøti⁄
 -
evít
->
Sèπ
;

351 
‰ì
(
f‹m©
);

354 
NEXT
(
p
, 
tokí
);

356 
ALIAS
(
End
, 
Duøti⁄
)

357 
PARSE_START


358 
INTVAL
(
Layî
)

359 
STYLEVAL
(
StyÀ
)

360 
STRVAL
(
Name
)

361 
STRVAL
(
Ef„˘
)

362 
INTVAL
(
M¨göL
)

363 
INTVAL
(
M¨göR
)

364 
INTVAL
(
M¨göV
)

365 
TIMEVAL
(
Sèπ
)

366 
TIMEVAL
(
Duøti⁄
)

367 
	gPARSE_END


369 
‰ì
(
f‹m©
);

378 
ass_¥o˚ss_f‹˚_°yÀ
(
ASS_Tøck
 *
åack
)

380 **
	gfs
, *
	geq
, *
	gdt
, *
	g°yÀ
, *
	gäame
, *
	gtokí
;

381 
ASS_StyÀ
 *
	gèrgë
;

382 
	gsid
;

383 **
	gli°
 = 
åack
->
libøry
->
°yÀ_ovîrides
;

385 i‡(!
	gli°
)

388 
	gfs
 = 
li°
; *fs; ++fs) {

389 
	geq
 = 
°ºchr
(*
fs
, '=');

390 i‡(!
	geq
)

392 *
	geq
 = '\0';

393 
	gtokí
 = 
eq
 + 1;

395 i‡(!
ass_°rˇ£cmp
(*
fs
, "PlayResX"))

396 
	gåack
->
	gPœyResX
 = 
©oi
(
tokí
);

397 i‡(!
ass_°rˇ£cmp
(*
fs
, "PlayResY"))

398 
	gåack
->
	gPœyResY
 = 
©oi
(
tokí
);

399 i‡(!
ass_°rˇ£cmp
(*
fs
, "Timer"))

400 
	gåack
->
	gTimî
 = 
ass_©of
(
tokí
);

401 i‡(!
ass_°rˇ£cmp
(*
fs
, "WrapStyle"))

402 
	gåack
->
	gWøpStyÀ
 = 
©oi
(
tokí
);

403 i‡(!
ass_°rˇ£cmp
(*
fs
, "ScaledBorderAndShadow"))

404 
	gåack
->
	gSˇÀdB‹dîAndShadow
 = 
∑r£_boﬁ
(
tokí
);

405 i‡(!
ass_°rˇ£cmp
(*
fs
, "Kerning"))

406 
	gåack
->
	gKînög
 = 
∑r£_boﬁ
(
tokí
);

407 i‡(!
ass_°rˇ£cmp
(*
fs
, "YCbCr Matrix"))

408 
	gåack
->
	gYCbCrM©rix
 = 
∑r£_ycb¸_m©rix
(
tokí
);

410 
	gdt
 = 
°ºchr
(*
fs
, '.');

411 i‡(
	gdt
) {

412 *
	gdt
 = '\0';

413 
	g°yÀ
 = *
fs
;

414 
	gäame
 = 
dt
 + 1;

416 
	g°yÀ
 = 
NULL
;

417 
	gäame
 = *
fs
;

419 
	gsid
 = 0; sid < 
	gåack
->
	gn_°yÀs
; ++sid) {

420 i‡(
	g°yÀ
 =
NULL


421 || 
ass_°rˇ£cmp
(
åack
->
°yÀs
[
sid
].
Name
, 
°yÀ
) == 0) {

422 
èrgë
 = 
åack
->
°yÀs
 + 
sid
;

423 
PARSE_START


424 
STRVAL
(
F⁄tName
)

425 
COLORVAL
(
Prim¨yCﬁour
)

426 
COLORVAL
(
Sec⁄d¨yCﬁour
)

427 
COLORVAL
(
OuéöeCﬁour
)

428 
COLORVAL
(
BackCﬁour
)

429 
FPVAL
(
F⁄tSize
)

430 
INTVAL
(
Bﬁd
)

431 
INTVAL
(
Ièlic
)

432 
INTVAL
(
Undîlöe
)

433 
INTVAL
(
SåikeOut
)

434 
FPVAL
(
S∑cög
)

435 
FPVAL
(
AngÀ
)

436 
INTVAL
(
B‹dîStyÀ
)

437 
INTVAL
(
Alignmít
)

438 
INTVAL
(
Ju°ify
)

439 
INTVAL
(
M¨göL
)

440 
INTVAL
(
M¨göR
)

441 
INTVAL
(
M¨göV
)

442 
INTVAL
(
Encodög
)

443 
FPVAL
(
SˇÀX
)

444 
FPVAL
(
SˇÀY
)

445 
FPVAL
(
Ouéöe
)

446 
FPVAL
(
Shadow
)

447 
FPVAL
(
Blur
)

448 
	gPARSE_END


451 *
	geq
 = '=';

452 i‡(
	gdt
)

453 *
	gdt
 = '.';

463 
¥o˚ss_°yÀ
(
ASS_Tøck
 *
åack
, *
°r
)

466 *
	gtokí
;

467 *
	gäame
;

468 *
	gp
 = 
°r
;

469 *
	gf‹m©
;

470 *
	gq
;

471 
	gsid
;

472 
ASS_StyÀ
 *
	g°yÀ
;

473 
ASS_StyÀ
 *
	gèrgë
;

475 i‡(!
	gåack
->
	g°yÀ_f‹m©
) {

478 i‡(
	gåack
->
	gåack_ty≥
 =
TRACK_TYPE_SSA
)

479 
åack
->
°yÀ_f‹m©
 =

480 
°rdup


485 
	gåack
->
	g°yÀ_f‹m©
 =

486 
°rdup


493 
	gq
 = 
f‹m©
 = 
°rdup
(
åack
->
°yÀ_f‹m©
);

496 i‡(
	gåack
->
	gn_°yÀs
 == 0) {

498 
sid
 = 
ass_Æloc_°yÀ
(
åack
);

499 
£t_deÁu…_°yÀ
(&
åack
->
°yÀs
[
sid
]);

500 
	gåack
->
	gdeÁu…_°yÀ
 = 
sid
;

503 
ass_msg
(
åack
->
libøry
, 
MSGL_V
, "[%p] StyÀ: %s",Åøck, 
°r
);

505 
	gsid
 = 
ass_Æloc_°yÀ
(
åack
);

507 
	g°yÀ
 = 
åack
->
°yÀs
 + 
sid
;

508 
	gèrgë
 = 
°yÀ
;

511 
	g°yÀ
->
	gSˇÀX
 = 100.;

512 
	g°yÀ
->
	gSˇÀY
 = 100.;

515 
NEXT
(
q
, 
äame
);

516 
NEXT
(
p
, 
tokí
);

518 
PARSE_START


519 
STARREDSTRVAL
(
Name
)

520 i‡(
°rcmp
(
èrgë
->
Name
, "Default") == 0)

521 
åack
->
deÁu…_°yÀ
 = 
sid
;

522 
STRVAL
(
F⁄tName
)

523 
COLORVAL
(
Prim¨yCﬁour
)

524 
COLORVAL
(
Sec⁄d¨yCﬁour
)

525 
COLORVAL
(
OuéöeCﬁour
)

526 
COLORVAL
(
BackCﬁour
)

529 i‡(
	gåack
->
	gåack_ty≥
 =
TRACK_TYPE_SSA
)

530 
èrgë
->
OuéöeCﬁour
 =Å¨gë->
BackCﬁour
;

531 
FPVAL
(
F⁄tSize
)

532 
INTVAL
(
Bﬁd
)

533 
INTVAL
(
Ièlic
)

534 
INTVAL
(
Undîlöe
)

535 
INTVAL
(
SåikeOut
)

536 
FPVAL
(
S∑cög
)

537 
FPVAL
(
AngÀ
)

538 
INTVAL
(
B‹dîStyÀ
)

539 
INTVAL
(
Alignmít
)

540 i‡(
	gåack
->
	gåack_ty≥
 =
TRACK_TYPE_ASS
)

541 
èrgë
->
Alignmít
 = 
num∑d2Æign
(target->Alignment);

543 i‡(
	gèrgë
->
	gAlignmít
 == 8)

544 
èrgë
->
Alignmít
 = 3;

545 i‡(
	gèrgë
->
	gAlignmít
 == 4)

546 
èrgë
->
Alignmít
 = 11;

547 
INTVAL
(
M¨göL
)

548 
INTVAL
(
M¨göR
)

549 
INTVAL
(
M¨göV
)

550 
INTVAL
(
Encodög
)

551 
FPVAL
(
SˇÀX
)

552 
FPVAL
(
SˇÀY
)

553 
FPVAL
(
Ouéöe
)

554 
FPVAL
(
Shadow
)

555 
	gPARSE_END


557 
	g°yÀ
->
	gSˇÀX
 = 
FFMAX
(
°yÀ
->
SˇÀX
, 0.) / 100.;

558 
	g°yÀ
->
	gSˇÀY
 = 
FFMAX
(
°yÀ
->
SˇÀY
, 0.) / 100.;

559 
	g°yÀ
->
	gS∑cög
 = 
FFMAX
(
°yÀ
->
S∑cög
, 0.);

560 
	g°yÀ
->
	gOuéöe
 = 
FFMAX
(
°yÀ
->
Ouéöe
, 0.);

561 
	g°yÀ
->
	gShadow
 = 
FFMAX
(
°yÀ
->
Shadow
, 0.);

562 
	g°yÀ
->
	gBﬁd
 = !!
°yÀ
->
Bﬁd
;

563 
	g°yÀ
->
	gIèlic
 = !!
°yÀ
->
Ièlic
;

564 
	g°yÀ
->
	gUndîlöe
 = !!
°yÀ
->
Undîlöe
;

565 
	g°yÀ
->
	gSåikeOut
 = !!
°yÀ
->
SåikeOut
;

566 i‡(!
	g°yÀ
->
	gName
)

567 
	g°yÀ
->
	gName
 = 
°rdup
("Default");

568 i‡(!
	g°yÀ
->
	gF⁄tName
)

569 
	g°yÀ
->
	gF⁄tName
 = 
°rdup
("Arial");

570 
‰ì
(
f‹m©
);

575 
¥o˚ss_°yÀs_löe
(
ASS_Tøck
 *
åack
, *
°r
)

577 i‡(!
°∫cmp
(
°r
, "Format:", 7)) {

578 *
	gp
 = 
°r
 + 7;

579 
skù_•a˚s
(&
p
);

580 
‰ì
(
åack
->
°yÀ_f‹m©
);

581 
	gåack
->
	g°yÀ_f‹m©
 = 
°rdup
(
p
);

582 
ass_msg
(
åack
->
libøry
, 
MSGL_DBG2
, "Style format: %s",

583 
åack
->
°yÀ_f‹m©
);

584 } i‡(!
°∫cmp
(
°r
, "Style:", 6)) {

585 *
	gp
 = 
°r
 + 6;

586 
skù_•a˚s
(&
p
);

587 
¥o˚ss_°yÀ
(
åack
, 
p
);

592 
¥o˚ss_öfo_löe
(
ASS_Tøck
 *
åack
, *
°r
)

594 i‡(!
°∫cmp
(
°r
, "PlayResX:", 9)) {

595 
	gåack
->
	gPœyResX
 = 
©oi
(
°r
 + 9);

596 } i‡(!
°∫cmp
(
°r
, "PlayResY:", 9)) {

597 
	gåack
->
	gPœyResY
 = 
©oi
(
°r
 + 9);

598 } i‡(!
°∫cmp
(
°r
, "Timer:", 6)) {

599 
	gåack
->
	gTimî
 = 
ass_©of
(
°r
 + 6);

600 } i‡(!
°∫cmp
(
°r
, "WrapStyle:", 10)) {

601 
	gåack
->
	gWøpStyÀ
 = 
©oi
(
°r
 + 10);

602 } i‡(!
°∫cmp
(
°r
, "ScaledBorderAndShadow:", 22)) {

603 
	gåack
->
	gSˇÀdB‹dîAndShadow
 = 
∑r£_boﬁ
(
°r
 + 22);

604 } i‡(!
°∫cmp
(
°r
, "Kerning:", 8)) {

605 
	gåack
->
	gKînög
 = 
∑r£_boﬁ
(
°r
 + 8);

606 } i‡(!
°∫cmp
(
°r
, "YCbCr Matrix:", 13)) {

607 
	gåack
->
	gYCbCrM©rix
 = 
∑r£_ycb¸_m©rix
(
°r
 + 13);

608 } i‡(!
°∫cmp
(
°r
, "Language:", 9)) {

609 *
	gp
 = 
°r
 + 9;

610 *
	gp
 && 
ass_is•a˚
(*
p
))Ö++;

611 
‰ì
(
åack
->
L™guage
);

612 
	gåack
->
	gL™guage
 = 
°∫dup
(
p
, 2);

617 
evít_f‹m©_ÁŒback
(
ASS_Tøck
 *
åack
)

619 
	gåack
->
	g∑r£r_¥iv
->
	g°©e
 = 
PST_EVENTS
;

620 i‡(
	gåack
->
	gåack_ty≥
 =
TRACK_TYPE_SSA
)

621 
åack
->
evít_f‹m©
 = 
°rdup
("Marked, Start, End, Style, "

624 
	gåack
->
	gevít_f‹m©
 = 
°rdup
("Layer, Start, End, Style, "

626 
ass_msg
(
åack
->
libøry
, 
MSGL_V
,

630 
¥o˚ss_evíts_löe
(
ASS_Tøck
 *
åack
, *
°r
)

632 i‡(!
°∫cmp
(
°r
, "Format:", 7)) {

633 *
	gp
 = 
°r
 + 7;

634 
skù_•a˚s
(&
p
);

635 
‰ì
(
åack
->
evít_f‹m©
);

636 
	gåack
->
	gevít_f‹m©
 = 
°rdup
(
p
);

637 
ass_msg
(
åack
->
libøry
, 
MSGL_DBG2
, "Evíàf‹m©: %s",Åøck->
evít_f‹m©
);

638 } i‡(!
°∫cmp
(
°r
, "Dialogue:", 9)) {

642 
	geid
;

643 
ASS_Evít
 *
	gevít
;

645 
	g°r
 += 9;

646 
skù_•a˚s
(&
°r
);

648 
	geid
 = 
ass_Æloc_evít
(
åack
);

649 
	gevít
 = 
åack
->
evíts
 + 
eid
;

652 i‡(!
	gåack
->
	gevít_f‹m©
)

653 
evít_f‹m©_ÁŒback
(
åack
);

655 
¥o˚ss_evít_èû
(
åack
, 
evít
, 
°r
, 0);

657 
ass_msg
(
åack
->
libøry
, 
MSGL_V
, "NŸ undî°ood: '%.30s'", 
°r
);

662 *
decode_ch¨s
(c⁄° *
§c
,

663 *
d°
, 
˙t_ö
)

665 
uöt32_t
 
	gvÆue
 = 0;

666 
	gi
 = 0; i < 
	g˙t_ö
; i++)

667 
	gvÆue
 |(
uöt32_t
Ë((
§c
[
i
] - 33u) & 63) << 6 * (3 - i);

669 *
	gd°
++ = 
vÆue
 >> 16;

670 i‡(
	g˙t_ö
 >= 3)

671 *
d°
++ = 
vÆue
 >> 8 & 0xff;

672 i‡(
	g˙t_ö
 >= 4)

673 *
d°
++ = 
vÆue
 & 0xff;

674  
	gd°
;

677 
decode_f⁄t
(
ASS_Tøck
 *
åack
)

679 *
	gp
;

680 *
	gq
;

681 
	gi
;

682 
	gsize
;

683 
	gdsize
;

684 *
	gbuf
 = 0;

686 
ass_msg
(
åack
->
libøry
, 
MSGL_V
, "Font: %d bytesÉncoded data",

687 
åack
->
∑r£r_¥iv
->
f⁄td©a_u£d
);

688 
	gsize
 = 
åack
->
∑r£r_¥iv
->
f⁄td©a_u£d
;

689 i‡(
	gsize
 % 4 == 1) {

690 
ass_msg
(
åack
->
libøry
, 
MSGL_ERR
, "BadÉncoded data size");

691 
	gîr‹_decode_f⁄t
;

693 
	gbuf
 = 
mÆloc
(
size
 / 4 * 3 + 
FFMAX
(size % 4 - 1, 0));

694 i‡(!
	gbuf
)

695 
	gîr‹_decode_f⁄t
;

696 
	gq
 = 
buf
;

697 
	gi
 = 0, 
	gp
 = (*Ë
åack
->
∑r£r_¥iv
->
f⁄td©a
;

698 
	gi
 < 
	gsize
 / 4; i++, 
	gp
 += 4) {

699 
q
 = 
decode_ch¨s
(
p
, q, 4);

701 i‡(
	gsize
 % 4 == 2) {

702 
q
 = 
decode_ch¨s
(
p
, q, 2);

703 } i‡(
	gsize
 % 4 == 3) {

704 
q
 = 
decode_ch¨s
(
p
, q, 3);

706 
	gdsize
 = 
q
 - 
buf
;

707 
as£π
(
dsize
 =
size
 / 4 * 3 + 
FFMAX
(size % 4 - 1, 0));

709 i‡(
	gåack
->
	glibøry
->
	gexåa˘_f⁄ts
) {

710 
ass_add_f⁄t
(
åack
->
libøry
,Åøck->
∑r£r_¥iv
->
f⁄äame
,

711 (*Ë
buf
, 
dsize
);

714 
	gîr‹_decode_f⁄t
:

715 
‰ì
(
buf
);

716 
‰ì
(
åack
->
∑r£r_¥iv
->
f⁄äame
);

717 
‰ì
(
åack
->
∑r£r_¥iv
->
f⁄td©a
);

718 
	gåack
->
	g∑r£r_¥iv
->
	gf⁄äame
 = 0;

719 
	gåack
->
	g∑r£r_¥iv
->
	gf⁄td©a
 = 0;

720 
	gåack
->
	g∑r£r_¥iv
->
	gf⁄td©a_size
 = 0;

721 
	gåack
->
	g∑r£r_¥iv
->
	gf⁄td©a_u£d
 = 0;

725 
¥o˚ss_f⁄ts_löe
(
ASS_Tøck
 *
åack
, *
°r
)

727 
	gÀn
;

729 i‡(!
°∫cmp
(
°r
, "fontname:", 9)) {

730 *
	gp
 = 
°r
 + 9;

731 
skù_•a˚s
(&
p
);

732 i‡(
	gåack
->
	g∑r£r_¥iv
->
	gf⁄äame
) {

733 
decode_f⁄t
(
åack
);

735 
	gåack
->
	g∑r£r_¥iv
->
	gf⁄äame
 = 
°rdup
(
p
);

736 
ass_msg
(
åack
->
libøry
, 
MSGL_V
, "Fontname: %s",

737 
åack
->
∑r£r_¥iv
->
f⁄äame
);

741 i‡(!
	gåack
->
	g∑r£r_¥iv
->
	gf⁄äame
) {

742 
ass_msg
(
åack
->
libøry
, 
MSGL_V
, "NŸ undî°ood: '%s'", 
°r
);

746 
	gÀn
 = 
°æí
(
°r
);

747 i‡(
	gåack
->
	g∑r£r_¥iv
->
	gf⁄td©a_u£d
 + 
	gÀn
 >

748 
	gåack
->
	g∑r£r_¥iv
->
	gf⁄td©a_size
) {

749 
	gåack
->
	g∑r£r_¥iv
->
	gf⁄td©a_size
 +
FFMAX
(
Àn
, 100 * 1024);

750 
	gåack
->
	g∑r£r_¥iv
->
	gf⁄td©a
 =

751 
ªÆloc
(
åack
->
∑r£r_¥iv
->
f⁄td©a
,

752 
åack
->
∑r£r_¥iv
->
f⁄td©a_size
);

754 
mem˝y
(
åack
->
∑r£r_¥iv
->
f⁄td©a
 +Åøck->∑r£r_¥iv->
f⁄td©a_u£d
,

755 
°r
, 
Àn
);

756 
	gåack
->
	g∑r£r_¥iv
->
	gf⁄td©a_u£d
 +
Àn
;

766 
¥o˚ss_löe
(
ASS_Tøck
 *
åack
, *
°r
)

768 i‡(!
ass_°∫ˇ£cmp
(
°r
, "[Script Info]", 13)) {

769 
	gåack
->
	g∑r£r_¥iv
->
	g°©e
 = 
PST_INFO
;

770 } i‡(!
ass_°∫ˇ£cmp
(
°r
, "[V4 Styles]", 11)) {

771 
	gåack
->
	g∑r£r_¥iv
->
	g°©e
 = 
PST_STYLES
;

772 
	gåack
->
	gåack_ty≥
 = 
TRACK_TYPE_SSA
;

773 } i‡(!
ass_°∫ˇ£cmp
(
°r
, "[V4+ Styles]", 12)) {

774 
	gåack
->
	g∑r£r_¥iv
->
	g°©e
 = 
PST_STYLES
;

775 
	gåack
->
	gåack_ty≥
 = 
TRACK_TYPE_ASS
;

776 } i‡(!
ass_°∫ˇ£cmp
(
°r
, "[Events]", 8)) {

777 
	gåack
->
	g∑r£r_¥iv
->
	g°©e
 = 
PST_EVENTS
;

778 } i‡(!
ass_°∫ˇ£cmp
(
°r
, "[Fonts]", 7)) {

779 
	gåack
->
	g∑r£r_¥iv
->
	g°©e
 = 
PST_FONTS
;

781 
	gåack
->
	g∑r£r_¥iv
->
	g°©e
) {

782 
	gPST_INFO
:

783 
¥o˚ss_öfo_löe
(
åack
, 
°r
);

785 
	gPST_STYLES
:

786 
¥o˚ss_°yÀs_löe
(
åack
, 
°r
);

788 
	gPST_EVENTS
:

789 
¥o˚ss_evíts_löe
(
åack
, 
°r
);

791 
	gPST_FONTS
:

792 
¥o˚ss_f⁄ts_löe
(
åack
, 
°r
);

801 
¥o˚ss_ãxt
(
ASS_Tøck
 *
åack
, *
°r
)

803 *
	gp
 = 
°r
;

805 *
	gq
;

807 i‡((*
	gp
 ='\r'Ë|| (*
p
 == '\n'))

808 ++
p
;

809 i‡(
	gp
[0] ='\xef' && 
p
[1] == '\xbb' &&Ö[2] == '\xbf')

810 
p
 += 3;

814 
	gq
 = 
p
; ((*q !'\0'Ë&& (*
q
 != '\r') && (*q != '\n')); ++q) {

816 i‡(
	gq
 =
p
)

818 i‡(*
	gq
 != '\0')

819 *(
q
++) = '\0';

820 
¥o˚ss_löe
(
åack
, 
p
);

821 i‡(*
	gq
 == '\0')

823 
	gp
 = 
q
;

826 i‡(
	gåack
->
	g∑r£r_¥iv
->
	gf⁄äame
)

827 
decode_f⁄t
(
åack
);

837 
ass_¥o˚ss_d©a
(
ASS_Tøck
 *
åack
, *
d©a
, 
size
)

839 *
	g°r
 = 
mÆloc
(
size
 + 1);

840 i‡(!
	g°r
)

843 
mem˝y
(
°r
, 
d©a
, 
size
);

844 
	g°r
[
size
] = '\0';

846 
ass_msg
(
åack
->
libøry
, 
MSGL_V
, "Evít: %s", 
°r
);

847 
¥o˚ss_ãxt
(
åack
, 
°r
);

848 
‰ì
(
°r
);

858 
ass_¥o˚ss_codec_¥iv©e
(
ASS_Tøck
 *
åack
, *
d©a
, 
size
)

860 
ass_¥o˚ss_d©a
(
åack
, 
d©a
, 
size
);

864 i‡(!
	gåack
->
	gevít_f‹m©
)

865 
evít_f‹m©_ÁŒback
(
åack
);

867 
ass_¥o˚ss_f‹˚_°yÀ
(
åack
);

870 
check_du∂iˇã_evít
(
ASS_Tøck
 *
åack
, 
RódOrdî
)

872 i‡(
	gåack
->
	g∑r£r_¥iv
->
	gªad_‹dî_bôm≠
)

873  
ã°_™d_£t_ªad_‹dî_bô
(
åack
, 
RódOrdî
) > 0;

875 
	gi
 = 0; i < 
	gåack
->
	gn_evíts
 - 1; i++)

876 i‡(
	gåack
->
	gevíts
[
i
].
	gRódOrdî
 =
RódOrdî
)

881 
ass_£t_check_ªad‹dî
(
ASS_Tøck
 *
åack
, 
check_ªad‹dî
)

883 
	gåack
->
	g∑r£r_¥iv
->
	gcheck_ªad‹dî
 = 
check_ªad‹dî
 == 1;

894 
ass_¥o˚ss_chunk
(
ASS_Tøck
 *
åack
, *
d©a
, 
size
,

895 
timecode
, 
duøti⁄
)

897 *
	g°r
;

898 
	geid
;

899 *
	gp
;

900 *
	gtokí
;

901 
ASS_Evít
 *
	gevít
;

902 
	gcheck_ªad‹dî
 = 
åack
->
∑r£r_¥iv
->
check_ªad‹dî
;

904 i‡(
	gcheck_ªad‹dî
 && !
	gåack
->
	g∑r£r_¥iv
->
	gªad_‹dî_bôm≠
) {

905 
	gi
 = 0; i < 
	gåack
->
	gn_evíts
; i++) {

906 i‡(
ã°_™d_£t_ªad_‹dî_bô
(
åack
,Åøck->
evíts
[
i
].
RódOrdî
) < 0)

911 i‡(!
	gåack
->
	gevít_f‹m©
) {

912 
ass_msg
(
åack
->
libøry
, 
MSGL_WARN
, "Event format header missing");

916 
	g°r
 = 
mÆloc
(
size
 + 1);

917 i‡(!
	g°r
)

919 
mem˝y
(
°r
, 
d©a
, 
size
);

920 
	g°r
[
size
] = '\0';

921 
ass_msg
(
åack
->
libøry
, 
MSGL_V
, "Evíà© %" 
PRId64
 ", +%" PRId64 ": %s",

922 (
öt64_t
Ë
timecode
, (öt64_tË
duøti⁄
, 
°r
);

924 
	geid
 = 
ass_Æloc_evít
(
åack
);

925 
	gevít
 = 
åack
->
evíts
 + 
eid
;

927 
	gp
 = 
°r
;

930 
NEXT
(
p
, 
tokí
);

931 
	gevít
->
	gRódOrdî
 = 
©oi
(
tokí
);

932 i‡(
	gcheck_ªad‹dî
 && 
check_du∂iˇã_evít
(
åack
, 
evít
->
RódOrdî
))

935 
NEXT
(
p
, 
tokí
);

936 
	gevít
->
	gLayî
 = 
©oi
(
tokí
);

938 
¥o˚ss_evít_èû
(
åack
, 
evít
, 
p
, 3);

940 
	gevít
->
	gSèπ
 = 
timecode
;

941 
	gevít
->
	gDuøti⁄
 = 
duøti⁄
;

943 
‰ì
(
°r
);

948 
ass_‰ì_evít
(
åack
, 
eid
);

949 
	gåack
->
	gn_evíts
--;

950 
‰ì
(
°r
);

957 
ass_Êush_evíts
(
ASS_Tøck
 *
åack
)

959 i‡(
	gåack
->
	gevíts
) {

960 
	geid
;

961 
	geid
 = 0;Éid < 
	gåack
->
	gn_evíts
;Éid++)

962 
ass_‰ì_evít
(
åack
, 
eid
);

963 
	gåack
->
	gn_evíts
 = 0;

965 
‰ì
(
åack
->
∑r£r_¥iv
->
ªad_‹dî_bôm≠
);

966 
	gåack
->
	g∑r£r_¥iv
->
	gªad_‹dî_bôm≠
 = 
NULL
;

967 
	gåack
->
	g∑r£r_¥iv
->
	gªad_‹dî_ñems
 = 0;

970 #ifde‡
CONFIG_ICONV


977 *
sub_ªcode
(
ASS_Libøry
 *
libøry
, *
d©a
, 
size_t
 
size
,

978 *
codïage
)

980 
ic⁄v_t
 
	gicdsc
;

981 *
	gto˝
 = "UTF-8";

982 *
	goutbuf
;

983 
as£π
(
codïage
);

985 i‡((
	gicdsc
 = 
ic⁄v_›í
(
to˝
, 
codïage
)Ë!(
ic⁄v_t
) (-1)) {

986 
ass_msg
(
libøry
, 
MSGL_V
, "Opened iconv descriptor");

988 
ass_msg
(
libøry
, 
MSGL_ERR
, "Error opening iconv descriptor");

989  
	gNULL
;

993 
size_t
 
	gosize
 = 
size
;

994 
size_t
 
	gûe·
 = 
size
;

995 
size_t
 
	gﬁe·
 = 
size
 - 1;

996 *
	gù
;

997 *
	g›
;

998 
size_t
 
	grc
;

999 
	g˛ór
 = 0;

1001 
	goutbuf
 = 
mÆloc
(
osize
);

1002 i‡(!
	goutbuf
)

1003 
	gout
;

1004 
	gù
 = 
d©a
;

1005 
	g›
 = 
outbuf
;

1008 i‡(
	gûe·
)

1009 
	grc
 = 
ic⁄v
(
icdsc
, &
ù
, &
ûe·
, &
›
, &
ﬁe·
);

1011 
	g˛ór
 = 1;

1012 
	grc
 = 
ic⁄v
(
icdsc
, 
NULL
, NULL, &
›
, &
ﬁe·
);

1014 i‡(
	grc
 =(
size_t
) (-1)) {

1015 i‡(
î∫o
 =
E2BIG
) {

1016 
size_t
 
off£t
 = 
›
 - 
outbuf
;

1017 *
	gnbuf
 = 
ªÆloc
(
outbuf
, 
osize
 + 
size
);

1018 i‡(!
	gnbuf
) {

1019 
‰ì
(
outbuf
);

1020 
	goutbuf
 = 0;

1021 
	gout
;

1023 
	goutbuf
 = 
nbuf
;

1024 
	g›
 = 
outbuf
 + 
off£t
;

1025 
	gosize
 +
size
;

1026 
	gﬁe·
 +
size
;

1028 
ass_msg
(
libøry
, 
MSGL_WARN
, "ErrorÑecoding file");

1029 
‰ì
(
outbuf
);

1030 
	goutbuf
 = 
NULL
;

1031 
	gout
;

1033 } i‡(
	g˛ór
)

1036 
	goutbuf
[
osize
 - 
ﬁe·
 - 1] = 0;

1039 
	gout
:

1040 i‡(
icdsc
 !(
ic⁄v_t
) (-1)) {

1041 (Ë
ic⁄v_˛o£
(
icdsc
);

1042 
ass_msg
(
libøry
, 
MSGL_V
, "Closed iconv descriptor");

1045  
	goutbuf
;

1055 *
ªad_fûe
(
ASS_Libøry
 *
libøry
, *
‚ame
, 
size_t
 *
bufsize
)

1057 
	gªs
;

1058 
	gsz
;

1059 
	gbyãs_ªad
;

1060 *
	gbuf
;

1062 
FILE
 *
	gÂ
 = 
f›í
(
‚ame
, "rb");

1063 i‡(!
	gÂ
) {

1064 
ass_msg
(
libøry
, 
MSGL_WARN
,

1065 "ass_ªad_fûe(%s): f›í faûed", 
‚ame
);

1068 
	gªs
 = 
f£ek
(
Â
, 0, 
SEEK_END
);

1069 i‡(
	gªs
 == -1) {

1070 
ass_msg
(
libøry
, 
MSGL_WARN
,

1071 "ass_ªad_fûe(%s): f£ek faûed", 
‚ame
);

1072 
f˛o£
(
Â
);

1076 
	gsz
 = 
·ñl
(
Â
);

1077 
ªwöd
(
Â
);

1079 
ass_msg
(
libøry
, 
MSGL_V
, "Fûêsize: %ld", 
sz
);

1081 
	gbuf
 = 
sz
 < 
SIZE_MAX
 ? 
mÆloc
(sz + 1Ë: 
NULL
;

1082 i‡(!
	gbuf
) {

1083 
f˛o£
(
Â
);

1084  
	gNULL
;

1086 
as£π
(
buf
);

1087 
	gbyãs_ªad
 = 0;

1089 
	gªs
 = 
‰ód
(
buf
 + 
byãs_ªad
, 1, 
sz
 - byãs_ªad, 
Â
);

1090 i‡(
	gªs
 <= 0) {

1091 
ass_msg
(
libøry
, 
MSGL_INFO
, "Ród faûed, %d: %s", 
î∫o
,

1092 
°ªº‹
(
î∫o
));

1093 
f˛o£
(
Â
);

1094 
‰ì
(
buf
);

1097 
	gbyãs_ªad
 +
ªs
;

1098 } 
	gsz
 - 
	gbyãs_ªad
 > 0);

1099 
	gbuf
[
sz
] = '\0';

1100 
f˛o£
(
Â
);

1102 i‡(
	gbufsize
)

1103 *
	gbufsize
 = 
sz
;

1104  
	gbuf
;

1110 
ASS_Tøck
 *
∑r£_mem‹y
(
ASS_Libøry
 *
libøry
, *
buf
)

1112 
ASS_Tøck
 *
	gåack
;

1113 
	gi
;

1115 
	gåack
 = 
ass_√w_åack
(
libøry
);

1118 
¥o˚ss_ãxt
(
åack
, 
buf
);

1121 
	gi
 = 0; i < 
	gåack
->
	gn_evíts
; ++i)

1122 
	gåack
->
	gevíts
[
i
].
	gRódOrdî
 = i;

1124 i‡(
	gåack
->
	gåack_ty≥
 =
TRACK_TYPE_UNKNOWN
) {

1125 
ass_‰ì_åack
(
åack
);

1129 
ass_¥o˚ss_f‹˚_°yÀ
(
åack
);

1131  
	gåack
;

1142 
ASS_Tøck
 *
ass_ªad_mem‹y
(
ASS_Libøry
 *
libøry
, *
buf
,

1143 
size_t
 
bufsize
, *
codïage
)

1145 
ASS_Tøck
 *
	gåack
;

1146 
	gc›õd
 = 0;

1148 i‡(!
	gbuf
)

1151 #ifde‡
CONFIG_ICONV


1152 i‡(
	gcodïage
) {

1153 
	gbuf
 = 
sub_ªcode
(
libøry
, 
buf
, 
bufsize
, 
codïage
);

1154 i‡(!
	gbuf
)

1157 
	gc›õd
 = 1;

1160 i‡(!
	gc›õd
) {

1161 *
	g√wbuf
 = 
mÆloc
(
bufsize
 + 1);

1162 i‡(!
	g√wbuf
)

1164 
mem˝y
(
√wbuf
, 
buf
, 
bufsize
);

1165 
	g√wbuf
[
bufsize
] = '\0';

1166 
	gbuf
 = 
√wbuf
;

1168 
	gåack
 = 
∑r£_mem‹y
(
libøry
, 
buf
);

1169 
‰ì
(
buf
);

1170 i‡(!
	gåack
)

1173 
ass_msg
(
libøry
, 
MSGL_INFO
, "Added subtitle file: "

1175 
åack
->
n_°yÀs
,Åøck->
n_evíts
);

1176  
	gåack
;

1179 *
ªad_fûe_ªcode
(
ASS_Libøry
 *
libøry
, *
‚ame
,

1180 *
codïage
, 
size_t
 *
size
)

1182 *
	gbuf
;

1183 
size_t
 
	gbufsize
;

1185 
	gbuf
 = 
ªad_fûe
(
libøry
, 
‚ame
, &
bufsize
);

1186 i‡(!
	gbuf
)

1188 #ifde‡
CONFIG_ICONV


1189 i‡(
	gcodïage
) {

1190 *
	gtmpbuf
 = 
sub_ªcode
(
libøry
, 
buf
, 
bufsize
, 
codïage
);

1191 
‰ì
(
buf
);

1192 
	gbuf
 = 
tmpbuf
;

1194 i‡(!
	gbuf
)

1197 *
	gsize
 = 
bufsize
;

1198  
	gbuf
;

1208 
ASS_Tøck
 *
ass_ªad_fûe
(
ASS_Libøry
 *
libøry
, *
‚ame
,

1209 *
codïage
)

1211 *
	gbuf
;

1212 
ASS_Tøck
 *
	gåack
;

1213 
size_t
 
	gbufsize
;

1215 
	gbuf
 = 
ªad_fûe_ªcode
(
libøry
, 
‚ame
, 
codïage
, &
bufsize
);

1216 i‡(!
	gbuf
)

1218 
	gåack
 = 
∑r£_mem‹y
(
libøry
, 
buf
);

1219 
‰ì
(
buf
);

1220 i‡(!
	gåack
)

1223 
	gåack
->
	g«me
 = 
°rdup
(
‚ame
);

1225 
ass_msg
(
libøry
, 
MSGL_INFO
,

1227 
‚ame
, 
åack
->
n_°yÀs
,Åøck->
n_evíts
);

1229  
	gåack
;

1235 
ass_ªad_°yÀs
(
ASS_Tøck
 *
åack
, *
‚ame
, *
codïage
)

1237 *
	gbuf
;

1238 
P¨£rSèã
 
	gﬁd_°©e
;

1239 
size_t
 
	gsz
;

1241 
	gbuf
 = 
ªad_fûe
(
åack
->
libøry
, 
‚ame
, &
sz
);

1242 i‡(!
	gbuf
)

1244 #ifde‡
CONFIG_ICONV


1245 i‡(
	gcodïage
) {

1246 *
	gtmpbuf
;

1247 
	gtmpbuf
 = 
sub_ªcode
(
åack
->
libøry
, 
buf
, 
sz
, 
codïage
);

1248 
‰ì
(
buf
);

1249 
	gbuf
 = 
tmpbuf
;

1251 i‡(!
	gbuf
)

1255 
	gﬁd_°©e
 = 
åack
->
∑r£r_¥iv
->
°©e
;

1256 
	gåack
->
	g∑r£r_¥iv
->
	g°©e
 = 
PST_STYLES
;

1257 
¥o˚ss_ãxt
(
åack
, 
buf
);

1258 
‰ì
(
buf
);

1259 
	gåack
->
	g∑r£r_¥iv
->
	g°©e
 = 
ﬁd_°©e
;

1264 
ass_°ï_sub
(
ASS_Tøck
 *
åack
, 
now
, 
movemít
)

1266 
	gi
;

1267 
ASS_Evít
 *
	gbe°
 = 
NULL
;

1268 
	gèrgë
 = 
now
;

1269 
	gdúe˘i⁄
 = (
movemít
 > 0 ? 1 : -1) * !!movement;

1271 i‡(
	gåack
->
	gn_evíts
 == 0)

1275 
ASS_Evít
 *
	g˛o£°
 = 
NULL
;

1276 
	g˛o£°_time
 = 
now
;

1277 
	gi
 = 0; i < 
	gåack
->
	gn_evíts
; i++) {

1278 i‡(
	gdúe˘i⁄
 < 0) {

1279 
	gíd
 =

1280 
åack
->
evíts
[
i
].
Sèπ
 +Åøck->evíts[i].
Duøti⁄
;

1281 i‡(
	gíd
 < 
	gèrgë
) {

1282 i‡(!
	g˛o£°
 || 
	gíd
 > 
	g˛o£°_time
) {

1283 
	g˛o£°
 = &
åack
->
evíts
[
i
];

1284 
	g˛o£°_time
 = 
íd
;

1287 } i‡(
	gdúe˘i⁄
 > 0) {

1288 
	g°¨t
 = 
åack
->
evíts
[
i
].
Sèπ
;

1289 i‡(
	g°¨t
 > 
	gèrgë
) {

1290 i‡(!
	g˛o£°
 || 
	g°¨t
 < 
	g˛o£°_time
) {

1291 
	g˛o£°
 = &
åack
->
evíts
[
i
];

1292 
	g˛o£°_time
 = 
°¨t
;

1296 
	g°¨t
 = 
åack
->
evíts
[
i
].
Sèπ
;

1297 i‡(
	g°¨t
 < 
	gèrgë
) {

1298 i‡(!
	g˛o£°
 || 
	g°¨t
 >
˛o£°_time
) {

1299 
˛o£°
 = &
åack
->
evíts
[
i
];

1300 
	g˛o£°_time
 = 
°¨t
;

1305 
	gèrgë
 = 
˛o£°_time
 + 
dúe˘i⁄
;

1306 
	gmovemít
 -
dúe˘i⁄
;

1307 i‡(
	g˛o£°
)

1308 
	gbe°
 = 
˛o£°
;

1309 } 
	gmovemít
);

1311  
	gbe°
 ? be°->
	gSèπ
 - 
	gnow
 : 0;

1314 
ASS_Tøck
 *
ass_√w_åack
(
ASS_Libøry
 *
libøry
)

1316 
ASS_Tøck
 *
	gåack
 = 
ˇŒoc
(1, (ASS_Track));

1317 i‡(!
	gåack
)

1318  
	gNULL
;

1319 
	gåack
->
	glibøry
 = 
libøry
;

1320 
	gåack
->
	gSˇÀdB‹dîAndShadow
 = 1;

1321 
	gåack
->
	g∑r£r_¥iv
 = 
ˇŒoc
(1, (
ASS_P¨£rPriv
));

1322 i‡(!
	gåack
->
	g∑r£r_¥iv
) {

1323 
‰ì
(
åack
);

1324  
	gNULL
;

1326 
	gåack
->
	g∑r£r_¥iv
->
	gcheck_ªad‹dî
 = 1;

1327  
	gåack
;

1333 
ass_œzy_åack_öô
(
ASS_Libøry
 *
lib
, 
ASS_Tøck
 *
åack
)

1335 i‡(
	gåack
->
	gPœyResX
 > 0 &&Åøck->
	gPœyResY
 > 0)

1337 i‡(
	gåack
->
	gPœyResX
 <0 && 
åack
->
PœyResY
 <= 0) {

1338 
ass_msg
(
lib
, 
MSGL_WARN
,

1340 
	gåack
->
	gPœyResX
 = 384;

1341 
	gåack
->
	gPœyResY
 = 288;

1343 i‡(
	gåack
->
	gPœyResY
 <0 && 
åack
->
PœyResX
 == 1280) {

1344 
åack
->
PœyResY
 = 1024;

1345 
ass_msg
(
lib
, 
MSGL_WARN
,

1346 "PœyResY undeföed, sëtögÅÿ%d", 
åack
->
PœyResY
);

1347 } i‡(
	gåack
->
	gPœyResY
 <= 0) {

1348 
åack
->
PœyResY
 = 
FFMAX
(1,Åøck->
PœyResX
 * 3 / 4);

1349 
ass_msg
(
lib
, 
MSGL_WARN
,

1350 "PœyResY undeföed, sëtögÅÿ%d", 
åack
->
PœyResY
);

1351 } i‡(
	gåack
->
	gPœyResX
 <0 && 
åack
->
PœyResY
 == 1024) {

1352 
åack
->
PœyResX
 = 1280;

1353 
ass_msg
(
lib
, 
MSGL_WARN
,

1354 "PœyResX undeföed, sëtögÅÿ%d", 
åack
->
PœyResX
);

1355 } i‡(
	gåack
->
	gPœyResX
 <= 0) {

1356 
åack
->
PœyResX
 = 
FFMAX
(1,Åøck->
PœyResY
 * 4 / 3);

1357 
ass_msg
(
lib
, 
MSGL_WARN
,

1358 "PœyResX undeföed, sëtögÅÿ%d", 
åack
->
PœyResX
);

	@libass/ass.h

20 #i‚de‡
LIBASS_ASS_H


21 
	#LIBASS_ASS_H


	)

23 
	~<°dio.h
>

24 
	~<°d¨g.h
>

25 
	~"ass_ty≥s.h
"

27 
	#LIBASS_VERSION
 0x01400000

	)

29 #ifde‡
__˝lu•lus


42 
	sass_image
 {

43 
w
, 
h
;

44 
°ride
;

45 *
bôm≠
;

48 
uöt32_t
 
cﬁ‹
;

49 
d°_x
, 
d°_y
;

51 
ass_image
 *
√xt
;

54 
IMAGE_TYPE_CHARACTER
,

55 
IMAGE_TYPE_OUTLINE
,

56 
IMAGE_TYPE_SHADOW


57 } 
ty≥
;

59 } 
	tASS_Image
;

76 
ASS_HINTING_NONE
 = 0,

77 
ASS_HINTING_LIGHT
,

78 
ASS_HINTING_NORMAL
,

79 
ASS_HINTING_NATIVE


80 } 
	tASS_Hötög
;

91 
ASS_SHAPING_SIMPLE
 = 0,

92 
ASS_SHAPING_COMPLEX


93 } 
	tASS_Sh≠ögLevñ
;

106 
ASS_OVERRIDE_DEFAULT
 = 0,

121 
ASS_OVERRIDE_BIT_STYLE
 = 1 << 0,

127 
ASS_OVERRIDE_BIT_SELECTIVE_FONT_SCALE
 = 1 << 1,

131 
ASS_OVERRIDE_BIT_FONT_SIZE
 = 1 << 1,

135 
ASS_OVERRIDE_BIT_FONT_SIZE_FIELDS
 = 1 << 2,

139 
ASS_OVERRIDE_BIT_FONT_NAME
 = 1 << 3,

143 
ASS_OVERRIDE_BIT_COLORS
 = 1 << 4,

147 
ASS_OVERRIDE_BIT_ATTRIBUTES
 = 1 << 5,

151 
ASS_OVERRIDE_BIT_BORDER
 = 1 << 6,

155 
ASS_OVERRIDE_BIT_ALIGNMENT
 = 1 << 7,

159 
ASS_OVERRIDE_BIT_MARGINS
 = 1 << 8,

168 
ASS_OVERRIDE_FULL_STYLE
 = 1 << 9,

172 
ASS_OVERRIDE_BIT_JUSTIFY
 = 1 << 10,

173 } 
	tASS_OvîrideBôs
;

180 
ass_libøry_vîsi⁄
();

193 
ASS_FONTPROVIDER_NONE
 = 0,

194 
ASS_FONTPROVIDER_AUTODETECT
 = 1,

195 
ASS_FONTPROVIDER_CORETEXT
,

196 
ASS_FONTPROVIDER_FONTCONFIG
,

197 
ASS_FONTPROVIDER_DIRECTWRITE
,

198 } 
	tASS_DeÁu…F⁄tProvidî
;

204 
ASS_Libøry
 *
ass_libøry_öô
();

210 
ass_libøry_d⁄e
(
ASS_Libøry
 *
¥iv
);

221 
ass_£t_f⁄ts_dú
(
ASS_Libøry
 *
¥iv
, c⁄° *
f⁄ts_dú
);

228 
ass_£t_exåa˘_f⁄ts
(
ASS_Libøry
 *
¥iv
, 
exåa˘
);

239 
ass_£t_°yÀ_ovîrides
(
ASS_Libøry
 *
¥iv
, **
li°
);

245 
ass_¥o˚ss_f‹˚_°yÀ
(
ASS_Tøck
 *
åack
);

261 
ass_£t_mesßge_cb
(
ASS_Libøry
 *
¥iv
, (*
msg_cb
)

262 (
Àvñ
, c⁄° *
fmt
, 
va_li°
 
¨gs
, *
d©a
),

263 *
d©a
);

270 
ASS_Rídîî
 *
ass_ªndîî_öô
(
ASS_Libøry
 *);

276 
ass_ªndîî_d⁄e
(
ASS_Rídîî
 *
¥iv
);

290 
ass_£t_‰ame_size
(
ASS_Rídîî
 *
¥iv
, 
w
, 
h
);

303 
ass_£t_°‹age_size
(
ASS_Rídîî
 *
¥iv
, 
w
, 
h
);

310 
ass_£t_sh≠î
(
ASS_Rídîî
 *
¥iv
, 
ASS_Sh≠ögLevñ
 
Àvñ
);

340 
ass_£t_m¨gös
(
ASS_Rídîî
 *
¥iv
, 
t
, 
b
, 
l
, 
r
);

347 
ass_£t_u£_m¨gös
(
ASS_Rídîî
 *
¥iv
, 
u£
);

367 
ass_£t_pixñ_a•e˘
(
ASS_Rídîî
 *
¥iv
, 
∑r
);

377 
ass_£t_a•e˘_øtio
(
ASS_Rídîî
 *
¥iv
, 
d¨
, 
ßr
);

384 
ass_£t_f⁄t_sˇÀ
(
ASS_Rídîî
 *
¥iv
, 
f⁄t_sˇÀ
);

391 
ass_£t_hötög
(
ASS_Rídîî
 *
¥iv
, 
ASS_Hötög
 
ht
);

398 
ass_£t_löe_•acög
(
ASS_Rídîî
 *
¥iv
, 
löe_•acög
);

406 
ass_£t_löe_posôi⁄
(
ASS_Rídîî
 *
¥iv
, 
löe_posôi⁄
);

417 
ass_gë_avaûabÀ_f⁄t_¥ovidîs
(
ASS_Libøry
 *
¥iv
,

418 
ASS_DeÁu…F⁄tProvidî
 **
¥ovidîs
,

419 
size_t
 *
size
);

439 
ass_£t_f⁄ts
(
ASS_Rídîî
 *
¥iv
, c⁄° *
deÁu…_f⁄t
,

440 c⁄° *
deÁu…_Ámûy
, 
dÂ
,

441 c⁄° *
c⁄fig
, 
upd©e
);

458 
ass_£t_£À˘ive_°yÀ_ovîride_íabÀd
(
ASS_Rídîî
 *
¥iv
, 
bôs
);

467 
ass_£t_£À˘ive_°yÀ_ovîride
(
ASS_Rídîî
 *
¥iv
, 
ASS_StyÀ
 *
°yÀ
);

476 
ass_f⁄ts_upd©e
(
ASS_Rídîî
 *
¥iv
);

486 
ass_£t_ˇche_limôs
(
ASS_Rídîî
 *
¥iv
, 
glyph_max
,

487 
bôm≠_max_size
);

497 
ASS_Image
 *
ass_ªndî_‰ame
(
ASS_Rídîî
 *
¥iv
, 
ASS_Tøck
 *
åack
,

498 
now
, *
dëe˘_ch™ge
);

511 
ASS_Tøck
 *
ass_√w_åack
(
ASS_Libøry
 *);

517 
ass_‰ì_åack
(
ASS_Tøck
 *
åack
);

524 
ass_Æloc_°yÀ
(
ASS_Tøck
 *
åack
);

531 
ass_Æloc_evít
(
ASS_Tøck
 *
åack
);

539 
ass_‰ì_°yÀ
(
ASS_Tøck
 *
åack
, 
sid
);

547 
ass_‰ì_evít
(
ASS_Tøck
 *
åack
, 
eid
);

555 
ass_¥o˚ss_d©a
(
ASS_Tøck
 *
åack
, *
d©a
, 
size
);

564 
ass_¥o˚ss_codec_¥iv©e
(
ASS_Tøck
 *
åack
, *
d©a
, 
size
);

580 
ass_¥o˚ss_chunk
(
ASS_Tøck
 *
åack
, *
d©a
, 
size
,

581 
timecode
, 
duøti⁄
);

592 
ass_£t_check_ªad‹dî
(
ASS_Tøck
 *
åack
, 
check_ªad‹dî
);

598 
ass_Êush_evíts
(
ASS_Tøck
 *
åack
);

607 
ASS_Tøck
 *
ass_ªad_fûe
(
ASS_Libøry
 *
libøry
, *
‚ame
,

608 *
codïage
);

618 
ASS_Tøck
 *
ass_ªad_mem‹y
(
ASS_Libøry
 *
libøry
, *
buf
,

619 
size_t
 
bufsize
, *
codïage
);

626 
ass_ªad_°yÀs
(
ASS_Tøck
 *
åack
, *
‚ame
, *
codïage
);

635 
ass_add_f⁄t
(
ASS_Libøry
 *
libøry
, *
«me
, *
d©a
,

636 
d©a_size
);

642 
ass_˛ór_f⁄ts
(
ASS_Libøry
 *
libøry
);

653 
ass_°ï_sub
(
ASS_Tøck
 *
åack
, 
now
, 
movemít
);

655 #ifde‡
__˝lu•lus


	@libass/ass_bitmap.c

21 
	~"c⁄fig.h
"

22 
	~"ass_com∑t.h
"

24 
	~<°dlib.h
>

25 
	~<°rög.h
>

26 
	~<m©h.h
>

27 
	~<°dboﬁ.h
>

28 
	~<as£π.h
>

29 
	~<·2buûd.h
>

30 #ö˛udê
FT_GLYPH_H


31 #ö˛udê
FT_OUTLINE_H


33 
	~"ass_utûs.h
"

34 
	~"ass_ouéöe.h
"

35 
	~"ass_bôm≠.h
"

36 
	~"ass_ªndî.h
"

39 
	#ALIGN
 
C_ALIGN_ORDER


	)

40 
	#DECORATE
(
func
Ë
ass_
##func##
_c


	)

41 
	~"ass_func_ãm∂©e.h
"

42 #unde‡
ALIGN


43 #unde‡
DECORATE


45 #i‡(
deföed
(
__i386__
Ë|| deföed(
__x86_64__
)Ë&& 
CONFIG_ASM


47 
	#ALIGN
 4

	)

48 
	#DECORATE
(
func
Ë
ass_
##func##
_s£2


	)

49 
	~"ass_func_ãm∂©e.h
"

50 #unde‡
ALIGN


51 #unde‡
DECORATE


53 
	#ALIGN
 5

	)

54 
	#DECORATE
(
func
Ë
ass_
##func##
_avx2


	)

55 
	~"ass_func_ãm∂©e.h
"

56 #unde‡
ALIGN


57 #unde‡
DECORATE


62 
	$ass_sy¡h_blur
(c⁄° 
Bôm≠Engöe
 *
ígöe
, 
›aque_box
, 
be
,

63 
blur_ødius
, 
Bôm≠
 *
bm_g
, Bôm≠ *
bm_o
)

65 
boﬁ
 
blur_g
 = !
bm_o
 || 
›aque_box
;

66 i‡(
blur_g
 && !
bm_g
)

70 
r2
 = 
blur_ødius
 * blur_ødiu†/ 
	`log
(256);

71 i‡(
r2
 > 0.001) {

72 i‡(
bm_o
)

73 
	`ass_gaussün_blur
(
ígöe
, 
bm_o
, 
r2
);

74 i‡(
blur_g
)

75 
	`ass_gaussün_blur
(
ígöe
, 
bm_g
, 
r2
);

79 i‡(
be
) {

80 
size_t
 
size_o
 = 0, 
size_g
 = 0;

81 i‡(
bm_o
)

82 
size_o
 = (
uöt16_t
Ë* 
bm_o
->
°ride
 * 2;

83 i‡(
blur_g
)

84 
size_g
 = (
uöt16_t
Ë* 
bm_g
->
°ride
 * 2;

85 
size_t
 
size
 = 
	`FFMAX
(
size_o
, 
size_g
);

86 
uöt16_t
 *
tmp
 = 
size
 ? 
	`ass_Æig√d_Æloc
(32, size, 
Ál£
Ë: 
NULL
;

87 i‡(!
tmp
)

89 i‡(
bm_o
) {

90 
∑s£s
 = 
be
;

91 
w
 = 
bm_o
->w;

92 
h
 = 
bm_o
->h;

93 
°ride
 = 
bm_o
->stride;

94 *
buf
 = 
bm_o
->
buf„r
;

95 if(
w
 && 
h
){

96 if(
∑s£s
 > 1){

97 
	`be_blur_¥e
(
buf
, 
w
, 
h
, 
°ride
);

98 --
∑s£s
){

99 
	`mem£t
(
tmp
, 0, 
°ride
 * 2);

100 
ígöe
->
	`be_blur
(
buf
, 
w
, 
h
, 
°ride
, 
tmp
);

102 
	`be_blur_po°
(
buf
, 
w
, 
h
, 
°ride
);

104 
	`mem£t
(
tmp
, 0, 
°ride
 * 2);

105 
ígöe
->
	`be_blur
(
buf
, 
w
, 
h
, 
°ride
, 
tmp
);

108 i‡(
blur_g
) {

109 
∑s£s
 = 
be
;

110 
w
 = 
bm_g
->w;

111 
h
 = 
bm_g
->h;

112 
°ride
 = 
bm_g
->stride;

113 *
buf
 = 
bm_g
->
buf„r
;

114 if(
w
 && 
h
){

115 if(
∑s£s
 > 1){

116 
	`be_blur_¥e
(
buf
, 
w
, 
h
, 
°ride
);

117 --
∑s£s
){

118 
	`mem£t
(
tmp
, 0, 
°ride
 * 2);

119 
ígöe
->
	`be_blur
(
buf
, 
w
, 
h
, 
°ride
, 
tmp
);

121 
	`be_blur_po°
(
buf
, 
w
, 
h
, 
°ride
);

123 
	`mem£t
(
tmp
, 0, 
°ride
 * 2);

124 
ígöe
->
	`be_blur
(
buf
, 
w
, 
h
, 
°ride
, 
tmp
);

127 
	`ass_Æig√d_‰ì
(
tmp
);

129 
	}
}

131 
boﬁ
 
	$Æloc_bôm≠_buf„r
(c⁄° 
Bôm≠Engöe
 *
ígöe
, 
Bôm≠
 *
bm
, 
w
, 
h
,

132 
boﬁ
 
zîo
)

134 
Æign
 = 1 << 
ígöe
->
Æign_‹dî
;

135 
size_t
 
s
 = 
	`ass_Æign
(
Æign
, 
w
);

137 i‡(
s
 > (
INT_MAX
 - 32Ë/ 
	`FFMAX
(
h
, 1))

138  
Ál£
;

139 
uöt8_t
 *
buf
 = 
	`ass_Æig√d_Æloc
(
Æign
, 
s
 * 
h
 + 32, 
zîo
);

140 i‡(!
buf
)

141  
Ál£
;

142 
bm
->
w
 = w;

143 
bm
->
h
 = h;

144 
bm
->
°ride
 = 
s
;

145 
bm
->
buf„r
 = 
buf
;

146  
åue
;

147 
	}
}

149 
Bôm≠
 *
	$Æloc_bôm≠
(c⁄° 
Bôm≠Engöe
 *
ígöe
, 
w
, 
h
, 
boﬁ
 
zîo
)

151 
Bôm≠
 *
bm
 = 
	`mÆloc
((Bitmap));

152 i‡(!
bm
)

153  
NULL
;

154 i‡(!
	`Æloc_bôm≠_buf„r
(
ígöe
, 
bm
, 
w
, 
h
, 
zîo
)) {

155 
	`‰ì
(
bm
);

156  
NULL
;

158 
bm
->
À·
 = bm->
t›
 = 0;

159  
bm
;

160 
	}
}

162 
boﬁ
 
	$ªÆloc_bôm≠
(c⁄° 
Bôm≠Engöe
 *
ígöe
, 
Bôm≠
 *
bm
, 
w
, 
h
)

164 
uöt8_t
 *
ﬁd
 = 
bm
->
buf„r
;

165 i‡(!
	`Æloc_bôm≠_buf„r
(
ígöe
, 
bm
, 
w
, 
h
, 
Ál£
))

166  
Ál£
;

167 
	`ass_Æig√d_‰ì
(
ﬁd
);

168  
åue
;

169 
	}
}

171 
	$ass_‰ì_bôm≠
(
Bôm≠
 *
bm
)

173 i‡(
bm
)

174 
	`ass_Æig√d_‰ì
(
bm
->
buf„r
);

175 
	`‰ì
(
bm
);

176 
	}
}

178 
Bôm≠
 *
	$c›y_bôm≠
(c⁄° 
Bôm≠Engöe
 *
ígöe
, c⁄° 
Bôm≠
 *
§c
)

180 
Bôm≠
 *
d°
 = 
	`Æloc_bôm≠
(
ígöe
, 
§c
->
w
, src->
h
, 
Ál£
);

181 i‡(!
d°
)

182  
NULL
;

183 
d°
->
À·
 = 
§c
->left;

184 
d°
->
t›
 = 
§c
->top;

185 
	`mem˝y
(
d°
->
buf„r
, 
§c
->buf„r, src->
°ride
 * src->
h
);

186  
d°
;

187 
	}
}

189 
Bôm≠
 *
	$ouéöe_to_bôm≠
(
ASS_Rídîî
 *
ªndî_¥iv
,

190 
ASS_Ouéöe
 *
ouéöe1
, ASS_Ouéöê*
ouéöe2
,

191 
b‹d
)

193 
Ra°îizîD©a
 *
r°
 = &
ªndî_¥iv
->
ø°îizî
;

194 i‡(
ouéöe1
 && !
	`ø°îizî_£t_ouéöe
(
r°
, ouéöe1, 
Ál£
)) {

195 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_WARN
, "FailedÅoÖrocess glyph outline!\n");

196  
NULL
;

198 i‡(
ouéöe2
 && !
	`ø°îizî_£t_ouéöe
(
r°
, ouéöe2, !!
ouéöe1
)) {

199 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_WARN
, "FailedÅoÖrocess glyph outline!\n");

200  
NULL
;

203 i‡(
b‹d
 < 0 || b‹d > 
INT_MAX
 / 2)

204  
NULL
;

205 i‡(
r°
->
bbox
.
x_max
 > 
INT_MAX
 - 63 ||Ñ°->bbox.
y_max
 > INT_MAX - 63)

206  
NULL
;

208 
x_mö
 = 
r°
->
bbox
.x_min >> 6;

209 
y_mö
 = 
r°
->
bbox
.y_min >> 6;

210 
x_max
 = (
r°
->
bbox
.x_max + 63) >> 6;

211 
y_max
 = (
r°
->
bbox
.y_max + 63) >> 6;

212 
w
 = 
x_max
 - 
x_mö
;

213 
h
 = 
y_max
 - 
y_mö
;

215 
mask
 = (1 << 
ªndî_¥iv
->
ígöe
->
tûe_‹dî
) - 1;

217 i‡(
w
 < 0 || 
h
 < 0 ||

218 
w
 > 
INT_MAX
 - (2 * 
b‹d
 + 
mask
Ë|| 
h
 > INT_MAX - (2 * bord + mask)) {

219 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_WARN
, "Glyph bounding boxÅooÜarge: %dx%dpx",

220 
w
, 
h
);

221  
NULL
;

224 
tûe_w
 = (
w
 + 2 * 
b‹d
 + 
mask
) & ~mask;

225 
tûe_h
 = (
h
 + 2 * 
b‹d
 + 
mask
) & ~mask;

226 
Bôm≠
 *
bm
 = 
	`Æloc_bôm≠
(
ªndî_¥iv
->
ígöe
, 
tûe_w
, 
tûe_h
, 
Ál£
);

227 i‡(!
bm
)

228  
NULL
;

229 
bm
->
À·
 = 
x_mö
 - 
b‹d
;

230 
bm
->
t›
 = 
y_mö
 - 
b‹d
;

232 i‡(!
	`ø°îizî_fûl
(
ªndî_¥iv
->
ígöe
, 
r°
, 
bm
->
buf„r
,

233 
x_mö
 - 
b‹d
, 
y_mö
 - bord,

234 
bm
->
°ride
, 
tûe_h
, bm->stride)) {

235 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_WARN
, "FailedÅoÑasterize glyph!\n");

236 
	`ass_‰ì_bôm≠
(
bm
);

237  
NULL
;

240  
bm
;

241 
	}
}

249 
	$fix_ouéöe
(
Bôm≠
 *
bm_g
, Bôm≠ *
bm_o
)

251 
x
, 
y
;

252 c⁄° 
l
 = 
bm_o
->
À·
 > 
bm_g
->left ? bm_o->left : bm_g->left;

253 c⁄° 
t
 = 
bm_o
->
t›
 > 
bm_g
->top ? bm_o->top : bm_g->top;

254 c⁄° 
r
 =

255 
bm_o
->
À·
 + bm_o->
°ride
 <

256 
bm_g
->
À·
 + bm_g->
°ride
 ? 
bm_o
->left + bm_o->stride : bm_g->left + bm_g->stride;

257 c⁄° 
b
 =

258 
bm_o
->
t›
 + bm_o->
h
 <

259 
bm_g
->
t›
 + bm_g->
h
 ? 
bm_o
->top + bm_o->h : bm_g->top + bm_g->h;

261 *
g
 =

262 
bm_g
->
buf„r
 + (
t
 - bm_g->
t›
Ë* bm_g->
°ride
 + (
l
 - bm_g->
À·
);

263 *
o
 =

264 
bm_o
->
buf„r
 + (
t
 - bm_o->
t›
Ë* bm_o->
°ride
 + (
l
 - bm_o->
À·
);

266 
y
 = 0; y < 
b
 - 
t
; ++y) {

267 
x
 = 0; x < 
r
 - 
l
; ++x) {

268 
c_g
, 
c_o
;

269 
c_g
 = 
g
[
x
];

270 
c_o
 = 
o
[
x
];

271 
o
[
x
] = (
c_o
 > 
c_g
) ? c_o - (c_g / 2) : 0;

273 
g
 +
bm_g
->
°ride
;

274 
o
 +
bm_o
->
°ride
;

276 
	}
}

282 
	$shi·_bôm≠
(
Bôm≠
 *
bm
, 
shi·_x
, 
shi·_y
)

284 
x
, 
y
, 
b
;

285 
w
 = 
bm
->w;

286 
h
 = 
bm
->h;

287 
s
 = 
bm
->
°ride
;

288 *
buf
 = 
bm
->
buf„r
;

290 
	`as£π
((
shi·_x
 & ~63Ë=0 && (
shi·_y
 & ~63) == 0);

293 
y
 = 0; y < 
h
; y++) {

294 
x
 = 
w
 - 1; x > 0; x--) {

295 
b
 = (
buf
[
x
 + 
y
 * 
s
 - 1] * 
shi·_x
) >> 6;

296 
buf
[
x
 + 
y
 * 
s
 - 1] -
b
;

297 
buf
[
x
 + 
y
 * 
s
] +
b
;

302 
x
 = 0; x < 
w
; x++) {

303 
y
 = 
h
 - 1; y > 0; y--) {

304 
b
 = (
buf
[
x
 + (
y
 - 1Ë* 
s
] * 
shi·_y
) >> 6;

305 
buf
[
x
 + (
y
 - 1Ë* 
s
] -
b
;

306 
buf
[
x
 + 
y
 * 
s
] +
b
;

309 
	}
}

316 
	$ass_be_blur_c
(
uöt8_t
 *
buf
, 
öçå_t
 
w
, i¡±r_à
h
,

317 
öçå_t
 
°ride
, 
uöt16_t
 *
tmp
)

319 
uöt16_t
 *
cﬁ_pix_buf
 = 
tmp
;

320 
uöt16_t
 *
cﬁ_sum_buf
 = 
tmp
 + 
w
;

321 
x
, 
y
, 
ﬁd_pix
, 
ﬁd_sum
, 
ãmp1
, 
ãmp2
;

322 
uöt8_t
 *
§c
, *
d°
;

323 
	`mem£t
(
tmp
, 0, (
uöt16_t
Ë* 
w
 * 2);

324 
y
 = 0;

327 
§c
=
buf
+
y
*
°ride
;

329 
x
 = 1;

330 
ﬁd_pix
 = 
§c
[
x
-1];

331 
ﬁd_sum
 = 
ﬁd_pix
;

332  ; 
x
 < 
w
; x++) {

333 
ãmp1
 = 
§c
[
x
];

334 
ãmp2
 = 
ﬁd_pix
 + 
ãmp1
;

335 
ﬁd_pix
 = 
ãmp1
;

336 
ãmp1
 = 
ﬁd_sum
 + 
ãmp2
;

337 
ﬁd_sum
 = 
ãmp2
;

338 
cﬁ_pix_buf
[
x
-1] = 
ãmp1
;

339 
cﬁ_sum_buf
[
x
-1] = 
ãmp1
;

341 
ãmp1
 = 
ﬁd_sum
 + 
ﬁd_pix
;

342 
cﬁ_pix_buf
[
x
-1] = 
ãmp1
;

343 
cﬁ_sum_buf
[
x
-1] = 
ãmp1
;

346 
y
++; y < 
h
; y++) {

347 
§c
=
buf
+
y
*
°ride
;

348 
d°
=
buf
+(
y
-1)*
°ride
;

350 
x
 = 1;

351 
ﬁd_pix
 = 
§c
[
x
-1];

352 
ﬁd_sum
 = 
ﬁd_pix
;

353  ; 
x
 < 
w
; x++) {

354 
ãmp1
 = 
§c
[
x
];

355 
ãmp2
 = 
ﬁd_pix
 + 
ãmp1
;

356 
ﬁd_pix
 = 
ãmp1
;

357 
ãmp1
 = 
ﬁd_sum
 + 
ãmp2
;

358 
ﬁd_sum
 = 
ãmp2
;

360 
ãmp2
 = 
cﬁ_pix_buf
[
x
-1] + 
ãmp1
;

361 
cﬁ_pix_buf
[
x
-1] = 
ãmp1
;

362 
d°
[
x
-1] = (
cﬁ_sum_buf
[x-1] + 
ãmp2
) >> 4;

363 
cﬁ_sum_buf
[
x
-1] = 
ãmp2
;

365 
ãmp1
 = 
ﬁd_sum
 + 
ﬁd_pix
;

366 
ãmp2
 = 
cﬁ_pix_buf
[
x
-1] + 
ãmp1
;

367 
cﬁ_pix_buf
[
x
-1] = 
ãmp1
;

368 
d°
[
x
-1] = (
cﬁ_sum_buf
[x-1] + 
ãmp2
) >> 4;

369 
cﬁ_sum_buf
[
x
-1] = 
ãmp2
;

373 
d°
=
buf
+(
y
-1)*
°ride
;

374 
x
 = 0; x < 
w
; x++)

375 
d°
[
x
] = (
cﬁ_sum_buf
[x] + 
cﬁ_pix_buf
[x]) >> 4;

377 
	}
}

379 
	$be_blur_¥e
(
uöt8_t
 *
buf
, 
öçå_t
 
w
, i¡±r_à
h
, i¡±r_à
°ride
)

381 
y
 = 0; y < 
h
; ++y)

383 
x
 = 0; x < 
w
; ++x)

388 
buf
[
y
 * 
°ride
 + 
x
] =

389 (
uöt8_t
Ë((
buf
[
y
 * 
°ride
 + 
x
] >> 1) + 1) >> 1;

392 
	}
}

394 
	$be_blur_po°
(
uöt8_t
 *
buf
, 
öçå_t
 
w
, i¡±r_à
h
, i¡±r_à
°ride
)

396 
y
 = 0; y < 
h
; ++y)

398 
x
 = 0; x < 
w
; ++x)

402 
uöt8_t
 
vÆue
 = 
buf
[
y
 * 
°ride
 + 
x
];

403 
buf
[
y
 * 
°ride
 + 
x
] = (
vÆue
 << 2) - (value > 32);

406 
	}
}

426 
	$be_∑ddög
(
be
)

428 i‡(
be
 <= 3)

429  
be
;

430 i‡(
be
 <= 7)

432 i‡(
be
 <= 123)

434  
	`FFMAX
(128 - 
be
, 0);

435 
	}
}

437 
boﬁ
 
	$ouéöe_to_bôm≠2
(
ASS_Rídîî
 *
ªndî_¥iv
, 
ASS_Ouéöe
 *
ouéöe
,

438 
ASS_Ouéöe
 *
b‹dî1
, ASS_Ouéöê*
b‹dî2
,

439 
Bôm≠
 **
bm_g
, Bôm≠ **
bm_o
)

441 
	`as£π
(
bm_g
 && 
bm_o
);

442 *
bm_g
 = *
bm_o
 = 
NULL
;

444 i‡(
ouéöe
 && !ouéöe->
n_poöts
)

445 
ouéöe
 = 
NULL
;

446 i‡(
b‹dî1
 && !b‹dî1->
n_poöts
)

447 
b‹dî1
 = 
NULL
;

448 i‡(
b‹dî2
 && !b‹dî2->
n_poöts
)

449 
b‹dî2
 = 
NULL
;

451 i‡(
ouéöe
) {

452 *
bm_g
 = 
	`ouéöe_to_bôm≠
(
ªndî_¥iv
, 
ouéöe
, 
NULL
, 1);

453 i‡(!*
bm_g
)

454  
Ál£
;

457 i‡(
b‹dî1
 || 
b‹dî2
) {

458 *
bm_o
 = 
	`ouéöe_to_bôm≠
(
ªndî_¥iv
, 
b‹dî1
, 
b‹dî2
, 1);

459 i‡(!*
bm_o
) {

460  
Ál£
;

464  
åue
;

465 
	}
}

471 
	$ass_add_bôm≠s_c
(
uöt8_t
 *
d°
, 
öçå_t
 
d°_°ride
,

472 
uöt8_t
 *
§c
, 
öçå_t
 
§c_°ride
,

473 
öçå_t
 
height
, i¡±r_à
width
)

475 
out
;

476 
uöt8_t
* 
íd
 = 
d°
 + 
d°_°ride
 * 
height
;

477 
d°
 < 
íd
) {

478 
j
 = 0; j < 
width
; ++j) {

479 
out
 = 
d°
[
j
] + 
§c
[j];

480 
d°
[
j
] = 
	`FFMIN
(
out
, 255);

482 
d°
 +
d°_°ride
;

483 
§c
 +
§c_°ride
;

485 
	}
}

487 
	$ass_sub_bôm≠s_c
(
uöt8_t
 *
d°
, 
öçå_t
 
d°_°ride
,

488 
uöt8_t
 *
§c
, 
öçå_t
 
§c_°ride
,

489 
öçå_t
 
height
, i¡±r_à
width
)

491 
out
;

492 
uöt8_t
* 
íd
 = 
d°
 + 
d°_°ride
 * 
height
;

493 
d°
 < 
íd
) {

494 
j
 = 0; j < 
width
; ++j) {

495 
out
 = 
d°
[
j
] - 
§c
[j];

496 
d°
[
j
] = 
	`FFMAX
(
out
, 0);

498 
d°
 +
d°_°ride
;

499 
§c
 +
§c_°ride
;

501 
	}
}

503 
	$ass_mul_bôm≠s_c
(
uöt8_t
 *
d°
, 
öçå_t
 
d°_°ride
,

504 
uöt8_t
 *
§c1
, 
öçå_t
 
§c1_°ride
,

505 
uöt8_t
 *
§c2
, 
öçå_t
 
§c2_°ride
,

506 
öçå_t
 
w
, i¡±r_à
h
)

508 
uöt8_t
* 
íd
 = 
§c1
 + 
§c1_°ride
 * 
h
;

509 
§c1
 < 
íd
) {

510 
x
 = 0; x < 
w
; ++x) {

511 
d°
[
x
] = (
§c1
[x] * 
§c2
[x] + 255) >> 8;

513 
d°
 +
d°_°ride
;

514 
§c1
 +
§c1_°ride
;

515 
§c2
 +
§c2_°ride
;

517 
	}
}

	@libass/ass_bitmap.h

19 #i‚de‡
LIBASS_BITMAP_H


20 
	#LIBASS_BITMAP_H


	)

22 
	~<°dboﬁ.h
>

23 
	~<·2buûd.h
>

24 #ö˛udê
FT_GLYPH_H


26 
	~"ass.h
"

27 
	~"ass_ouéöe.h
"

30 
	g£gmít
;

31 (*
	tFûlSﬁidTûeFunc
)(
	tuöt8_t
 *
	tbuf
, 
	t±rdiff_t
 
	t°ride
, 
	t£t
);

32 (*
	tFûlHÆÂœ√TûeFunc
)(
	tuöt8_t
 *
	tbuf
, 
	t±rdiff_t
 
	t°ride
,

33 
	töt32_t
 
	ta
, i¡32_à
	tb
, 
	töt64_t
 
	tc
, i¡32_à
	tsˇÀ
);

34 (*
	tFûlGíîicTûeFunc
)(
	tuöt8_t
 *
	tbuf
, 
	t±rdiff_t
 
	t°ride
,

35 c⁄° 
	t£gmít
 *
	tlöe
, 
	tsize_t
 
	tn_löes
,

36 
	twödög
);

38 (*
	tBôm≠BÀndFunc
)(
	tuöt8_t
 *
	td°
, 
	töçå_t
 
	td°_°ride
,

39 
	tuöt8_t
 *
	t§c
, 
	töçå_t
 
	t§c_°ride
,

40 
	töçå_t
 
	theight
, i¡±r_à
	twidth
);

41 (*
	tBôm≠MulFunc
)(
	tuöt8_t
 *
	td°
, 
	töçå_t
 
	td°_°ride
,

42 
	tuöt8_t
 *
	t§c1
, 
	töçå_t
 
	t§c1_°ride
,

43 
	tuöt8_t
 *
	t§c2
, 
	töçå_t
 
	t§c2_°ride
,

44 
	töçå_t
 
	twidth
, i¡±r_à
	theight
);

46 (*
	tBeBlurFunc
)(
	tuöt8_t
 *
	tbuf
, 
	töçå_t
 
	tw
, i¡±r_à
	th
,

47 
	töçå_t
 
	t°ride
, 
	tuöt16_t
 *
	ttmp
);

50 (*
	tC⁄vît8to16Func
)(
	töt16_t
 *
	td°
, c⁄° 
	tuöt8_t
 *
	t§c
, 
	t±rdiff_t
 
	t§c_°ride
,

51 
	tuöçå_t
 
	twidth
, uöçå_à
	theight
);

52 (*
	tC⁄vît16to8Func
)(
	tuöt8_t
 *
	td°
, 
	t±rdiff_t
 
	td°_°ride
, c⁄° 
	töt16_t
 *
	t§c
,

53 
	tuöçå_t
 
	twidth
, uöçå_à
	theight
);

54 (*
	tFûãrFunc
)(
	töt16_t
 *
	td°
, c⁄° i¡16_à*
	t§c
,

55 
	tuöçå_t
 
	t§c_width
, uöçå_à
	t§c_height
);

56 (*
	tP¨amFûãrFunc
)(
	töt16_t
 *
	td°
, c⁄° i¡16_à*
	t§c
,

57 
	tuöçå_t
 
	t§c_width
, uöçå_à
	t§c_height
,

58 c⁄° 
	töt16_t
 *
	t∑øm
);

60 
	#C_ALIGN_ORDER
 5

	)

63 
Æign_‹dî
;

66 
tûe_‹dî
;

67 
FûlSﬁidTûeFunc
 
fûl_sﬁid
;

68 
FûlHÆÂœ√TûeFunc
 
fûl_hÆÂœ√
;

69 
FûlGíîicTûeFunc
 
fûl_gíîic
;

72 
Bôm≠BÀndFunc
 
add_bôm≠s
, 
sub_bôm≠s
;

73 
Bôm≠MulFunc
 
mul_bôm≠s
;

76 
BeBlurFunc
 
be_blur
;

79 
C⁄vît8to16Func
 
°rùe_u≈ack
;

80 
C⁄vît16to8Func
 
°rùe_∑ck
;

81 
FûãrFunc
 
shrök_h‹z
, 
shrök_vît
;

82 
FûãrFunc
 
ex∑nd_h‹z
, 
ex∑nd_vît
;

83 
FûãrFunc
 
¥e_blur_h‹z
[3], 
¥e_blur_vît
[3];

84 
P¨amFûãrFunc
 
maö_blur_h‹z
[3], 
maö_blur_vît
[3];

85 } 
	tBôm≠Engöe
;

87 c⁄° 
Bôm≠Engöe
 
ass_bôm≠_ígöe_c
;

88 c⁄° 
Bôm≠Engöe
 
ass_bôm≠_ígöe_s£2
;

89 c⁄° 
Bôm≠Engöe
 
ass_bôm≠_ígöe_avx2
;

93 
À·
, 
t›
;

94 
w
, 
h
;

95 
°ride
;

96 *
buf„r
;

97 } 
	tBôm≠
;

99 
Bôm≠
 *
	`Æloc_bôm≠
(c⁄° 
Bôm≠Engöe
 *
ígöe
, 
w
, 
h
, 
boﬁ
 
zîo
);

100 
boﬁ
 
	`ªÆloc_bôm≠
(c⁄° 
Bôm≠Engöe
 *
ígöe
, 
Bôm≠
 *
bm
, 
w
, 
h
);

101 
Bôm≠
 *
	`c›y_bôm≠
(c⁄° 
Bôm≠Engöe
 *
ígöe
, c⁄° Bôm≠ *
§c
);

102 
	`ass_‰ì_bôm≠
(
Bôm≠
 *
bm
);

104 
Bôm≠
 *
	`ouéöe_to_bôm≠
(
ASS_Rídîî
 *
ªndî_¥iv
,

105 
ASS_Ouéöe
 *
ouéöe1
, ASS_Ouéöê*
ouéöe2
,

106 
b‹d
);

108 
	`ass_sy¡h_blur
(c⁄° 
Bôm≠Engöe
 *
ígöe
, 
›aque_box
, 
be
,

109 
blur_ødius
, 
Bôm≠
 *
bm_g
, Bôm≠ *
bm_o
);

119 
boﬁ
 
	`ouéöe_to_bôm≠2
(
ASS_Rídîî
 *
ªndî_¥iv
, 
ASS_Ouéöe
 *
ouéöe
,

120 
ASS_Ouéöe
 *
b‹dî1
, ASS_Ouéöê*
b‹dî2
,

121 
Bôm≠
 **
bm_g
, Bôm≠ **
bm_o
);

123 
	`be_∑ddög
(
be
);

124 
	`be_blur_¥e
(
uöt8_t
 *
buf
, 
öçå_t
 
w
,

125 
öçå_t
 
h
, i¡±r_à
°ride
);

126 
	`be_blur_po°
(
uöt8_t
 *
buf
, 
öçå_t
 
w
,

127 
öçå_t
 
h
, i¡±r_à
°ride
);

128 
boﬁ
 
	`ass_gaussün_blur
(c⁄° 
Bôm≠Engöe
 *
ígöe
, 
Bôm≠
 *
bm
, 
r2
);

129 
	`shi·_bôm≠
(
Bôm≠
 *
bm
, 
shi·_x
, 
shi·_y
);

130 
	`fix_ouéöe
(
Bôm≠
 *
bm_g
, Bôm≠ *
bm_o
);

	@libass/ass_blur.c

19 
	~"c⁄fig.h
"

20 
	~"ass_com∑t.h
"

22 
	~<m©h.h
>

23 
	~<°dboﬁ.h
>

25 
	~"ass_utûs.h
"

26 
	~"ass_bôm≠.h
"

46 
	#STRIPE_WIDTH
 (1 << (
C_ALIGN_ORDER
 - 1))

	)

47 
	#STRIPE_MASK
 (
STRIPE_WIDTH
 - 1)

	)

48 
öt16_t
 
	gzîo_löe
[
STRIPE_WIDTH
];

49 
öt16_t
 
	gdôhî_löe
[2 * 
STRIPE_WIDTH
] = {

50 #i‡
STRIPE_WIDTH
 > 8

59 
ölöe
 c⁄° 
öt16_t
 *
	$gë_löe
(c⁄° 
öt16_t
 *
±r
, 
uöçå_t
 
offs
, uöçå_à
size
)

61  
offs
 < 
size
 ? 
±r
 + off†: 
zîo_löe
;

62 
	}
}

64 
ölöe
 
	$c›y_löe
(
öt16_t
 *
buf
, c⁄° i¡16_à*
±r
, 
uöçå_t
 
offs
, uöçå_à
size
)

66 
±r
 = 
	`gë_löe
’å, 
offs
, 
size
);

67 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

68 
buf
[
k
] = 
±r
[k];

69 
	}
}

79 
	$ass_°rùe_u≈ack_c
(
öt16_t
 *
d°
, c⁄° 
uöt8_t
 *
§c
, 
±rdiff_t
 
§c_°ride
,

80 
uöçå_t
 
width
, uöçå_à
height
)

82 
uöçå_t
 
y
 = 0; y < 
height
; ++y) {

83 
öt16_t
 *
±r
 = 
d°
;

84 
uöçå_t
 
x
 = 0; x < 
width
; x +
STRIPE_WIDTH
) {

85 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

86 
±r
[
k
] = (
uöt16_t
Ë(((
§c
[
x
 + k] << 7) | (src[x + k] >> 1)) + 1) >> 1;

88 
±r
 +
STRIPE_WIDTH
 * 
height
;

90 
d°
 +
STRIPE_WIDTH
;

91 
§c
 +
§c_°ride
;

93 
	}
}

95 
	$ass_°rùe_∑ck_c
(
uöt8_t
 *
d°
, 
±rdiff_t
 
d°_°ride
, c⁄° 
öt16_t
 *
§c
,

96 
uöçå_t
 
width
, uöçå_à
height
)

98 
uöçå_t
 
x
 = 0; x < 
width
; x +
STRIPE_WIDTH
) {

99 
uöt8_t
 *
±r
 = 
d°
;

100 
uöçå_t
 
y
 = 0; y < 
height
; ++y) {

101 c⁄° 
öt16_t
 *
dôhî
 = 
dôhî_löe
 + (
y
 & 1Ë* 
STRIPE_WIDTH
;

102 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

103 
±r
[
k
] = (
uöt16_t
Ë(
§c
[k] - (§c[k] >> 8Ë+ 
dôhî
[k]) >> 6;

105 
±r
 +
d°_°ride
;

106 
§c
 +
STRIPE_WIDTH
;

108 
d°
 +
STRIPE_WIDTH
;

110 
uöçå_t
 
À·
 = 
d°_°ride
 - ((
width
 + 
STRIPE_MASK
) & ~STRIPE_MASK);

111 
uöçå_t
 
y
 = 0; y < 
height
; ++y) {

112 
uöçå_t
 
x
 = 0; x < 
À·
; ++x)

113 
d°
[
x
] = 0;

114 
d°
 +
d°_°ride
;

116 
	}
}

124 
ölöe
 
öt16_t
 
	$shrök_func
(
öt16_t
 
p1p
, i¡16_à
p1n
,

125 
öt16_t
 
z0p
, i¡16_à
z0n
,

126 
öt16_t
 
n1p
, i¡16_à
n1n
)

131 
öt32_t
 
r
 = (
p1p
 + 
p1n
 + 
n1p
 + 
n1n
) >> 1;

132 
r
 = (∏+ 
z0p
 + 
z0n
) >> 1;

133 
r
 = (∏+ 
p1n
 + 
n1p
) >> 1;

134  (
r
 + 
z0p
 + 
z0n
 + 2) >> 2;

135 
	}
}

137 
	$ass_shrök_h‹z_c
(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

138 
uöçå_t
 
§c_width
, uöçå_à
§c_height
)

140 
uöçå_t
 
d°_width
 = (
§c_width
 + 5) >> 1;

141 
uöçå_t
 
size
 = ((
§c_width
 + 
STRIPE_MASK
Ë& ~STRIPE_MASKË* 
§c_height
;

142 
uöçå_t
 
°ï
 = 
STRIPE_WIDTH
 * 
§c_height
;

144 
uöçå_t
 
offs
 = 0;

145 
öt16_t
 
buf
[3 * 
STRIPE_WIDTH
];

146 
öt16_t
 *
±r
 = 
buf
 + 
STRIPE_WIDTH
;

147 
uöçå_t
 
x
 = 0; x < 
d°_width
; x +
STRIPE_WIDTH
) {

148 
uöçå_t
 
y
 = 0; y < 
§c_height
; ++y) {

149 
	`c›y_löe
(
±r
 - 1 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 1 * 
°ï
, 
size
);

150 
	`c›y_löe
(
±r
 + 0 * 
STRIPE_WIDTH
, 
§c
, 
offs
 + 0 * 
°ï
, 
size
);

151 
	`c›y_löe
(
±r
 + 1 * 
STRIPE_WIDTH
, 
§c
, 
offs
 + 1 * 
°ï
, 
size
);

152 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

153 
d°
[
k
] = 
	`shrök_func
(
±r
[2 * k - 4],Ötr[2 * k - 3],

154 
±r
[2 * 
k
 - 2],Ötr[2 * k - 1],

155 
±r
[2 * 
k
 + 0],Ötr[2 * k + 1]);

156 
d°
 +
STRIPE_WIDTH
;

157 
offs
 +
STRIPE_WIDTH
;

159 
offs
 +
°ï
;

161 
	}
}

163 
	$ass_shrök_vît_c
(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

164 
uöçå_t
 
§c_width
, uöçå_à
§c_height
)

166 
uöçå_t
 
d°_height
 = (
§c_height
 + 5) >> 1;

167 
uöçå_t
 
°ï
 = 
STRIPE_WIDTH
 * 
§c_height
;

169 
uöçå_t
 
x
 = 0; x < 
§c_width
; x +
STRIPE_WIDTH
) {

170 
uöçå_t
 
offs
 = 0;

171 
uöçå_t
 
y
 = 0; y < 
d°_height
; ++y) {

172 c⁄° 
öt16_t
 *
p1p
 = 
	`gë_löe
(
§c
, 
offs
 - 4 * 
STRIPE_WIDTH
, 
°ï
);

173 c⁄° 
öt16_t
 *
p1n
 = 
	`gë_löe
(
§c
, 
offs
 - 3 * 
STRIPE_WIDTH
, 
°ï
);

174 c⁄° 
öt16_t
 *
z0p
 = 
	`gë_löe
(
§c
, 
offs
 - 2 * 
STRIPE_WIDTH
, 
°ï
);

175 c⁄° 
öt16_t
 *
z0n
 = 
	`gë_löe
(
§c
, 
offs
 - 1 * 
STRIPE_WIDTH
, 
°ï
);

176 c⁄° 
öt16_t
 *
n1p
 = 
	`gë_löe
(
§c
, 
offs
 - 0 * 
STRIPE_WIDTH
, 
°ï
);

177 c⁄° 
öt16_t
 *
n1n
 = 
	`gë_löe
(
§c
, 
offs
 + 1 * 
STRIPE_WIDTH
, 
°ï
);

178 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

179 
d°
[
k
] = 
	`shrök_func
(
p1p
[k], 
p1n
[k], 
z0p
[k], 
z0n
[k], 
n1p
[k], 
n1n
[k]);

180 
d°
 +
STRIPE_WIDTH
;

181 
offs
 +2 * 
STRIPE_WIDTH
;

183 
§c
 +
°ï
;

185 
	}
}

193 
ölöe
 
	$ex∑nd_func
(
öt16_t
 *
Ω
, i¡16_à*
∫
,

194 
öt16_t
 
p1
, i¡16_à
z0
, i¡16_à
n1
)

200 
uöt16_t
 
r
 = (uöt16_tË(((uöt16_tË(
p1
 + 
n1
Ë>> 1Ë+ 
z0
) >> 1;

201 *
Ω
 = (
uöt16_t
Ë(((uöt16_tË(
r
 + 
p1
Ë>> 1Ë+ 
z0
 + 1) >> 1;

202 *
∫
 = (
uöt16_t
Ë(((uöt16_tË(
r
 + 
n1
Ë>> 1Ë+ 
z0
 + 1) >> 1;

203 
	}
}

205 
	$ass_ex∑nd_h‹z_c
(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

206 
uöçå_t
 
§c_width
, uöçå_à
§c_height
)

208 
uöçå_t
 
d°_width
 = 2 * 
§c_width
 + 4;

209 
uöçå_t
 
size
 = ((
§c_width
 + 
STRIPE_MASK
Ë& ~STRIPE_MASKË* 
§c_height
;

210 
uöçå_t
 
°ï
 = 
STRIPE_WIDTH
 * 
§c_height
;

212 
uöçå_t
 
offs
 = 0;

213 
öt16_t
 
buf
[2 * 
STRIPE_WIDTH
];

214 
öt16_t
 *
±r
 = 
buf
 + 
STRIPE_WIDTH
;

215 
uöçå_t
 
x
 = 
STRIPE_WIDTH
; x < 
d°_width
; x += 2 * STRIPE_WIDTH) {

216 
uöçå_t
 
y
 = 0; y < 
§c_height
; ++y) {

217 
	`c›y_löe
(
±r
 - 1 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 1 * 
°ï
, 
size
);

218 
	`c›y_löe
(
±r
 - 0 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 0 * 
°ï
, 
size
);

219 
k
 = 0; k < 
STRIPE_WIDTH
 / 2; ++k)

220 
	`ex∑nd_func
(&
d°
[2 * 
k
], &dst[2 * k + 1],

221 
±r
[
k
 - 2],Ötr[k - 1],Ötr[k]);

222 
öt16_t
 *
√xt
 = 
d°
 + 
°ï
 - 
STRIPE_WIDTH
;

223 
k
 = 
STRIPE_WIDTH
 / 2; k < STRIPE_WIDTH; ++k)

224 
	`ex∑nd_func
(&
√xt
[2 * 
k
], &next[2 * k + 1],

225 
±r
[
k
 - 2],Ötr[k - 1],Ötr[k]);

226 
d°
 +
STRIPE_WIDTH
;

227 
offs
 +
STRIPE_WIDTH
;

229 
d°
 +
°ï
;

231 i‡((
d°_width
 - 1Ë& 
STRIPE_WIDTH
)

234 
uöçå_t
 
y
 = 0; y < 
§c_height
; ++y) {

235 
	`c›y_löe
(
±r
 - 1 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 1 * 
°ï
, 
size
);

236 
	`c›y_löe
(
±r
 - 0 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 0 * 
°ï
, 
size
);

237 
k
 = 0; k < 
STRIPE_WIDTH
 / 2; ++k)

238 
	`ex∑nd_func
(&
d°
[2 * 
k
], &dst[2 * k + 1],

239 
±r
[
k
 - 2],Ötr[k - 1],Ötr[k]);

240 
d°
 +
STRIPE_WIDTH
;

241 
offs
 +
STRIPE_WIDTH
;

243 
	}
}

245 
	$ass_ex∑nd_vît_c
(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

246 
uöçå_t
 
§c_width
, uöçå_à
§c_height
)

248 
uöçå_t
 
d°_height
 = 2 * 
§c_height
 + 4;

249 
uöçå_t
 
°ï
 = 
STRIPE_WIDTH
 * 
§c_height
;

251 
uöçå_t
 
x
 = 0; x < 
§c_width
; x +
STRIPE_WIDTH
) {

252 
uöçå_t
 
offs
 = 0;

253 
uöçå_t
 
y
 = 0; y < 
d°_height
; y += 2) {

254 c⁄° 
öt16_t
 *
p1
 = 
	`gë_löe
(
§c
, 
offs
 - 2 * 
STRIPE_WIDTH
, 
°ï
);

255 c⁄° 
öt16_t
 *
z0
 = 
	`gë_löe
(
§c
, 
offs
 - 1 * 
STRIPE_WIDTH
, 
°ï
);

256 c⁄° 
öt16_t
 *
n1
 = 
	`gë_löe
(
§c
, 
offs
 - 0 * 
STRIPE_WIDTH
, 
°ï
);

257 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

258 
	`ex∑nd_func
(&
d°
[
k
], &d°[k + 
STRIPE_WIDTH
],

259 
p1
[
k
], 
z0
[k], 
n1
[k]);

260 
d°
 +2 * 
STRIPE_WIDTH
;

261 
offs
 +
STRIPE_WIDTH
;

263 
§c
 +
°ï
;

265 
	}
}

273 
ölöe
 
öt16_t
 
	$¥e_blur1_func
(
öt16_t
 
p1
, i¡16_à
z0
, i¡16_à
n1
)

278  (
uöt16_t
Ë(((uöt16_tË(
p1
 + 
n1
Ë>> 1Ë+ 
z0
 + 1) >> 1;

279 
	}
}

281 
	$ass_¥e_blur1_h‹z_c
(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

282 
uöçå_t
 
§c_width
, uöçå_à
§c_height
)

284 
uöçå_t
 
d°_width
 = 
§c_width
 + 2;

285 
uöçå_t
 
size
 = ((
§c_width
 + 
STRIPE_MASK
Ë& ~STRIPE_MASKË* 
§c_height
;

286 
uöçå_t
 
°ï
 = 
STRIPE_WIDTH
 * 
§c_height
;

288 
uöçå_t
 
offs
 = 0;

289 
öt16_t
 
buf
[2 * 
STRIPE_WIDTH
];

290 
öt16_t
 *
±r
 = 
buf
 + 
STRIPE_WIDTH
;

291 
uöçå_t
 
x
 = 0; x < 
d°_width
; x +
STRIPE_WIDTH
) {

292 
uöçå_t
 
y
 = 0; y < 
§c_height
; ++y) {

293 
	`c›y_löe
(
±r
 - 1 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 1 * 
°ï
, 
size
);

294 
	`c›y_löe
(
±r
 - 0 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 0 * 
°ï
, 
size
);

295 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

296 
d°
[
k
] = 
	`¥e_blur1_func
(
±r
[k - 2],Ötr[k - 1],Ötr[k]);

297 
d°
 +
STRIPE_WIDTH
;

298 
offs
 +
STRIPE_WIDTH
;

301 
	}
}

303 
	$ass_¥e_blur1_vît_c
(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

304 
uöçå_t
 
§c_width
, uöçå_à
§c_height
)

306 
uöçå_t
 
d°_height
 = 
§c_height
 + 2;

307 
uöçå_t
 
°ï
 = 
STRIPE_WIDTH
 * 
§c_height
;

309 
uöçå_t
 
x
 = 0; x < 
§c_width
; x +
STRIPE_WIDTH
) {

310 
uöçå_t
 
offs
 = 0;

311 
uöçå_t
 
y
 = 0; y < 
d°_height
; ++y) {

312 c⁄° 
öt16_t
 *
p1
 = 
	`gë_löe
(
§c
, 
offs
 - 2 * 
STRIPE_WIDTH
, 
°ï
);

313 c⁄° 
öt16_t
 *
z0
 = 
	`gë_löe
(
§c
, 
offs
 - 1 * 
STRIPE_WIDTH
, 
°ï
);

314 c⁄° 
öt16_t
 *
n1
 = 
	`gë_löe
(
§c
, 
offs
 - 0 * 
STRIPE_WIDTH
, 
°ï
);

315 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

316 
d°
[
k
] = 
	`¥e_blur1_func
(
p1
[k], 
z0
[k], 
n1
[k]);

317 
d°
 +
STRIPE_WIDTH
;

318 
offs
 +
STRIPE_WIDTH
;

320 
§c
 +
°ï
;

322 
	}
}

330 
ölöe
 
öt16_t
 
	$¥e_blur2_func
(
öt16_t
 
p2
, i¡16_à
p1
, i¡16_à
z0
,

331 
öt16_t
 
n1
, i¡16_à
n2
)

336 
uöt16_t
 
r1
 = ((uöt16_tË(((uöt16_tË(
p2
 + 
n2
Ë>> 1Ë+ 
z0
) >> 1) + z0;

337 
uöt16_t
 
r2
 = 
p1
 + 
n1
;

338 
uöt16_t
 
r
 = ((uöt16_tË(
r1
 + 
r2
) >> 1) | (0x8000 &Ñ1 &Ñ2);

339  (
uöt16_t
Ë(
r
 + 1) >> 1;

340 
	}
}

342 
	$ass_¥e_blur2_h‹z_c
(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

343 
uöçå_t
 
§c_width
, uöçå_à
§c_height
)

345 
uöçå_t
 
d°_width
 = 
§c_width
 + 4;

346 
uöçå_t
 
size
 = ((
§c_width
 + 
STRIPE_MASK
Ë& ~STRIPE_MASKË* 
§c_height
;

347 
uöçå_t
 
°ï
 = 
STRIPE_WIDTH
 * 
§c_height
;

349 
uöçå_t
 
offs
 = 0;

350 
öt16_t
 
buf
[2 * 
STRIPE_WIDTH
];

351 
öt16_t
 *
±r
 = 
buf
 + 
STRIPE_WIDTH
;

352 
uöçå_t
 
x
 = 0; x < 
d°_width
; x +
STRIPE_WIDTH
) {

353 
uöçå_t
 
y
 = 0; y < 
§c_height
; ++y) {

354 
	`c›y_löe
(
±r
 - 1 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 1 * 
°ï
, 
size
);

355 
	`c›y_löe
(
±r
 - 0 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 0 * 
°ï
, 
size
);

356 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

357 
d°
[
k
] = 
	`¥e_blur2_func
(
±r
[k - 4],Ötr[k - 3],Ötr[k - 2],Ötr[k - 1],Ötr[k]);

358 
d°
 +
STRIPE_WIDTH
;

359 
offs
 +
STRIPE_WIDTH
;

362 
	}
}

364 
	$ass_¥e_blur2_vît_c
(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

365 
uöçå_t
 
§c_width
, uöçå_à
§c_height
)

367 
uöçå_t
 
d°_height
 = 
§c_height
 + 4;

368 
uöçå_t
 
°ï
 = 
STRIPE_WIDTH
 * 
§c_height
;

370 
uöçå_t
 
x
 = 0; x < 
§c_width
; x +
STRIPE_WIDTH
) {

371 
uöçå_t
 
offs
 = 0;

372 
uöçå_t
 
y
 = 0; y < 
d°_height
; ++y) {

373 c⁄° 
öt16_t
 *
p2
 = 
	`gë_löe
(
§c
, 
offs
 - 4 * 
STRIPE_WIDTH
, 
°ï
);

374 c⁄° 
öt16_t
 *
p1
 = 
	`gë_löe
(
§c
, 
offs
 - 3 * 
STRIPE_WIDTH
, 
°ï
);

375 c⁄° 
öt16_t
 *
z0
 = 
	`gë_löe
(
§c
, 
offs
 - 2 * 
STRIPE_WIDTH
, 
°ï
);

376 c⁄° 
öt16_t
 *
n1
 = 
	`gë_löe
(
§c
, 
offs
 - 1 * 
STRIPE_WIDTH
, 
°ï
);

377 c⁄° 
öt16_t
 *
n2
 = 
	`gë_löe
(
§c
, 
offs
 - 0 * 
STRIPE_WIDTH
, 
°ï
);

378 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

379 
d°
[
k
] = 
	`¥e_blur2_func
(
p2
[k], 
p1
[k], 
z0
[k], 
n1
[k], 
n2
[k]);

380 
d°
 +
STRIPE_WIDTH
;

381 
offs
 +
STRIPE_WIDTH
;

383 
§c
 +
°ï
;

385 
	}
}

393 
ölöe
 
öt16_t
 
	$¥e_blur3_func
(
öt16_t
 
p3
, i¡16_à
p2
, i¡16_à
p1
, i¡16_à
z0
,

394 
öt16_t
 
n1
, i¡16_à
n2
, i¡16_à
n3
)

399  (20 * (
uöt16_t
Ë
z0
 +

400 15 * (
uöt16_t
Ë(
p1
 + 
n1
) +

401 6 * (
uöt16_t
Ë(
p2
 + 
n2
) +

402 1 * (
uöt16_t
Ë(
p3
 + 
n3
) + 32) >> 6;

403 
	}
}

405 
	$ass_¥e_blur3_h‹z_c
(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

406 
uöçå_t
 
§c_width
, uöçå_à
§c_height
)

408 
uöçå_t
 
d°_width
 = 
§c_width
 + 6;

409 
uöçå_t
 
size
 = ((
§c_width
 + 
STRIPE_MASK
Ë& ~STRIPE_MASKË* 
§c_height
;

410 
uöçå_t
 
°ï
 = 
STRIPE_WIDTH
 * 
§c_height
;

412 
uöçå_t
 
offs
 = 0;

413 
öt16_t
 
buf
[2 * 
STRIPE_WIDTH
];

414 
öt16_t
 *
±r
 = 
buf
 + 
STRIPE_WIDTH
;

415 
uöçå_t
 
x
 = 0; x < 
d°_width
; x +
STRIPE_WIDTH
) {

416 
uöçå_t
 
y
 = 0; y < 
§c_height
; ++y) {

417 
	`c›y_löe
(
±r
 - 1 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 1 * 
°ï
, 
size
);

418 
	`c›y_löe
(
±r
 - 0 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 0 * 
°ï
, 
size
);

419 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

420 
d°
[
k
] = 
	`¥e_blur3_func
(
±r
[k - 6],Ötr[k - 5],Ötr[k - 4],Ötr[k - 3],

421 
±r
[
k
 - 2],Ötr[k - 1],Ötr[k]);

422 
d°
 +
STRIPE_WIDTH
;

423 
offs
 +
STRIPE_WIDTH
;

426 
	}
}

428 
	$ass_¥e_blur3_vît_c
(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

429 
uöçå_t
 
§c_width
, uöçå_à
§c_height
)

431 
uöçå_t
 
d°_height
 = 
§c_height
 + 6;

432 
uöçå_t
 
°ï
 = 
STRIPE_WIDTH
 * 
§c_height
;

434 
uöçå_t
 
x
 = 0; x < 
§c_width
; x +
STRIPE_WIDTH
) {

435 
uöçå_t
 
offs
 = 0;

436 
uöçå_t
 
y
 = 0; y < 
d°_height
; ++y) {

437 c⁄° 
öt16_t
 *
p3
 = 
	`gë_löe
(
§c
, 
offs
 - 6 * 
STRIPE_WIDTH
, 
°ï
);

438 c⁄° 
öt16_t
 *
p2
 = 
	`gë_löe
(
§c
, 
offs
 - 5 * 
STRIPE_WIDTH
, 
°ï
);

439 c⁄° 
öt16_t
 *
p1
 = 
	`gë_löe
(
§c
, 
offs
 - 4 * 
STRIPE_WIDTH
, 
°ï
);

440 c⁄° 
öt16_t
 *
z0
 = 
	`gë_löe
(
§c
, 
offs
 - 3 * 
STRIPE_WIDTH
, 
°ï
);

441 c⁄° 
öt16_t
 *
n1
 = 
	`gë_löe
(
§c
, 
offs
 - 2 * 
STRIPE_WIDTH
, 
°ï
);

442 c⁄° 
öt16_t
 *
n2
 = 
	`gë_löe
(
§c
, 
offs
 - 1 * 
STRIPE_WIDTH
, 
°ï
);

443 c⁄° 
öt16_t
 *
n3
 = 
	`gë_löe
(
§c
, 
offs
 - 0 * 
STRIPE_WIDTH
, 
°ï
);

444 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

445 
d°
[
k
] = 
	`¥e_blur3_func
(
p3
[k], 
p2
[k], 
p1
[k], 
z0
[k], 
n1
[k], 
n2
[k], 
n3
[k]);

446 
d°
 +
STRIPE_WIDTH
;

447 
offs
 +
STRIPE_WIDTH
;

449 
§c
 +
°ï
;

451 
	}
}

464 
ölöe
 
öt16_t
 
	$blur_func
(
öt16_t
 
p4
, i¡16_à
p3
, i¡16_à
p2
, i¡16_à
p1
, i¡16_à
z0
,

465 
öt16_t
 
n1
, i¡16_à
n2
, i¡16_à
n3
, i¡16_à
n4
, c⁄° i¡16_à
c
[])

467 
p1
 -
z0
;

468 
p2
 -
z0
;

469 
p3
 -
z0
;

470 
p4
 -
z0
;

471 
n1
 -
z0
;

472 
n2
 -
z0
;

473 
n3
 -
z0
;

474 
n4
 -
z0
;

475  (((
p1
 + 
n1
Ë* 
c
[0] +

476 (
p2
 + 
n2
Ë* 
c
[1] +

477 (
p3
 + 
n3
Ë* 
c
[2] +

478 (
p4
 + 
n4
Ë* 
c
[3] +

479 0x8000Ë>> 16Ë+ 
z0
;

480 
	}
}

482 
	$ass_blur1234_h‹z_c
(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

483 
uöçå_t
 
§c_width
, uöçå_à
§c_height
,

484 c⁄° 
öt16_t
 *
∑øm
)

486 
uöçå_t
 
d°_width
 = 
§c_width
 + 8;

487 
uöçå_t
 
size
 = ((
§c_width
 + 
STRIPE_MASK
Ë& ~STRIPE_MASKË* 
§c_height
;

488 
uöçå_t
 
°ï
 = 
STRIPE_WIDTH
 * 
§c_height
;

490 
uöçå_t
 
offs
 = 0;

491 
öt16_t
 
buf
[2 * 
STRIPE_WIDTH
];

492 
öt16_t
 *
±r
 = 
buf
 + 
STRIPE_WIDTH
;

493 
uöçå_t
 
x
 = 0; x < 
d°_width
; x +
STRIPE_WIDTH
) {

494 
uöçå_t
 
y
 = 0; y < 
§c_height
; ++y) {

495 
	`c›y_löe
(
±r
 - 1 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 1 * 
°ï
, 
size
);

496 
	`c›y_löe
(
±r
 - 0 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 0 * 
°ï
, 
size
);

497 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

498 
d°
[
k
] = 
	`blur_func
(
±r
[k - 8],Ötr[k - 7],Ötr[k - 6],Ötr[k - 5],Ötr[k - 4],

499 
±r
[
k
 - 3],Öå[k - 2],Öå[k - 1],Öå[k - 0], 
∑øm
);

500 
d°
 +
STRIPE_WIDTH
;

501 
offs
 +
STRIPE_WIDTH
;

504 
	}
}

506 
	$ass_blur1234_vît_c
(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

507 
uöçå_t
 
§c_width
, uöçå_à
§c_height
,

508 c⁄° 
öt16_t
 *
∑øm
)

510 
uöçå_t
 
d°_height
 = 
§c_height
 + 8;

511 
uöçå_t
 
°ï
 = 
STRIPE_WIDTH
 * 
§c_height
;

513 
uöçå_t
 
x
 = 0; x < 
§c_width
; x +
STRIPE_WIDTH
) {

514 
uöçå_t
 
offs
 = 0;

515 
uöçå_t
 
y
 = 0; y < 
d°_height
; ++y) {

516 c⁄° 
öt16_t
 *
p4
 = 
	`gë_löe
(
§c
, 
offs
 - 8 * 
STRIPE_WIDTH
, 
°ï
);

517 c⁄° 
öt16_t
 *
p3
 = 
	`gë_löe
(
§c
, 
offs
 - 7 * 
STRIPE_WIDTH
, 
°ï
);

518 c⁄° 
öt16_t
 *
p2
 = 
	`gë_löe
(
§c
, 
offs
 - 6 * 
STRIPE_WIDTH
, 
°ï
);

519 c⁄° 
öt16_t
 *
p1
 = 
	`gë_löe
(
§c
, 
offs
 - 5 * 
STRIPE_WIDTH
, 
°ï
);

520 c⁄° 
öt16_t
 *
z0
 = 
	`gë_löe
(
§c
, 
offs
 - 4 * 
STRIPE_WIDTH
, 
°ï
);

521 c⁄° 
öt16_t
 *
n1
 = 
	`gë_löe
(
§c
, 
offs
 - 3 * 
STRIPE_WIDTH
, 
°ï
);

522 c⁄° 
öt16_t
 *
n2
 = 
	`gë_löe
(
§c
, 
offs
 - 2 * 
STRIPE_WIDTH
, 
°ï
);

523 c⁄° 
öt16_t
 *
n3
 = 
	`gë_löe
(
§c
, 
offs
 - 1 * 
STRIPE_WIDTH
, 
°ï
);

524 c⁄° 
öt16_t
 *
n4
 = 
	`gë_löe
(
§c
, 
offs
 - 0 * 
STRIPE_WIDTH
, 
°ï
);

525 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

526 
d°
[
k
] = 
	`blur_func
(
p4
[k], 
p3
[k], 
p2
[k], 
p1
[k], 
z0
[k],

527 
n1
[
k
], 
n2
[k], 
n3
[k], 
n4
[k], 
∑øm
);

528 
d°
 +
STRIPE_WIDTH
;

529 
offs
 +
STRIPE_WIDTH
;

531 
§c
 +
°ï
;

533 
	}
}

535 
	$ass_blur1235_h‹z_c
(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

536 
uöçå_t
 
§c_width
, uöçå_à
§c_height
,

537 c⁄° 
öt16_t
 *
∑øm
)

539 
uöçå_t
 
d°_width
 = 
§c_width
 + 10;

540 
uöçå_t
 
size
 = ((
§c_width
 + 
STRIPE_MASK
Ë& ~STRIPE_MASKË* 
§c_height
;

541 
uöçå_t
 
°ï
 = 
STRIPE_WIDTH
 * 
§c_height
;

543 
uöçå_t
 
offs
 = 0;

544 #i‡
STRIPE_WIDTH
 < 10

545 
öt16_t
 
buf
[3 * 
STRIPE_WIDTH
];

546 
öt16_t
 *
±r
 = 
buf
 + 2 * 
STRIPE_WIDTH
;

548 
öt16_t
 
buf
[2 * 
STRIPE_WIDTH
];

549 
öt16_t
 *
±r
 = 
buf
 + 
STRIPE_WIDTH
;

551 
uöçå_t
 
x
 = 0; x < 
d°_width
; x +
STRIPE_WIDTH
) {

552 
uöçå_t
 
y
 = 0; y < 
§c_height
; ++y) {

553 #i‡
STRIPE_WIDTH
 < 10

554 
	`c›y_löe
(
±r
 - 2 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 2 * 
°ï
, 
size
);

556 
	`c›y_löe
(
±r
 - 1 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 1 * 
°ï
, 
size
);

557 
	`c›y_löe
(
±r
 - 0 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 0 * 
°ï
, 
size
);

558 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

559 
d°
[
k
] = 
	`blur_func
(
±r
[k - 10],Ötr[k - 8],Ötr[k - 7],Ötr[k - 6],Ötr[k - 5],

560 
±r
[
k
 - 4],Öå[k - 3],Öå[k - 2],Öå[k - 0], 
∑øm
);

561 
d°
 +
STRIPE_WIDTH
;

562 
offs
 +
STRIPE_WIDTH
;

565 
	}
}

567 
	$ass_blur1235_vît_c
(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

568 
uöçå_t
 
§c_width
, uöçå_à
§c_height
,

569 c⁄° 
öt16_t
 *
∑øm
)

571 
uöçå_t
 
d°_height
 = 
§c_height
 + 10;

572 
uöçå_t
 
°ï
 = 
STRIPE_WIDTH
 * 
§c_height
;

574 
uöçå_t
 
x
 = 0; x < 
§c_width
; x +
STRIPE_WIDTH
) {

575 
uöçå_t
 
offs
 = 0;

576 
uöçå_t
 
y
 = 0; y < 
d°_height
; ++y) {

577 c⁄° 
öt16_t
 *
p4
 = 
	`gë_löe
(
§c
, 
offs
 - 10 * 
STRIPE_WIDTH
, 
°ï
);

578 c⁄° 
öt16_t
 *
p3
 = 
	`gë_löe
(
§c
, 
offs
 - 8 * 
STRIPE_WIDTH
, 
°ï
);

579 c⁄° 
öt16_t
 *
p2
 = 
	`gë_löe
(
§c
, 
offs
 - 7 * 
STRIPE_WIDTH
, 
°ï
);

580 c⁄° 
öt16_t
 *
p1
 = 
	`gë_löe
(
§c
, 
offs
 - 6 * 
STRIPE_WIDTH
, 
°ï
);

581 c⁄° 
öt16_t
 *
z0
 = 
	`gë_löe
(
§c
, 
offs
 - 5 * 
STRIPE_WIDTH
, 
°ï
);

582 c⁄° 
öt16_t
 *
n1
 = 
	`gë_löe
(
§c
, 
offs
 - 4 * 
STRIPE_WIDTH
, 
°ï
);

583 c⁄° 
öt16_t
 *
n2
 = 
	`gë_löe
(
§c
, 
offs
 - 3 * 
STRIPE_WIDTH
, 
°ï
);

584 c⁄° 
öt16_t
 *
n3
 = 
	`gë_löe
(
§c
, 
offs
 - 2 * 
STRIPE_WIDTH
, 
°ï
);

585 c⁄° 
öt16_t
 *
n4
 = 
	`gë_löe
(
§c
, 
offs
 - 0 * 
STRIPE_WIDTH
, 
°ï
);

586 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

587 
d°
[
k
] = 
	`blur_func
(
p4
[k], 
p3
[k], 
p2
[k], 
p1
[k], 
z0
[k],

588 
n1
[
k
], 
n2
[k], 
n3
[k], 
n4
[k], 
∑øm
);

589 
d°
 +
STRIPE_WIDTH
;

590 
offs
 +
STRIPE_WIDTH
;

592 
§c
 +
°ï
;

594 
	}
}

596 
	$ass_blur1246_h‹z_c
(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

597 
uöçå_t
 
§c_width
, uöçå_à
§c_height
,

598 c⁄° 
öt16_t
 *
∑øm
)

600 
uöçå_t
 
d°_width
 = 
§c_width
 + 12;

601 
uöçå_t
 
size
 = ((
§c_width
 + 
STRIPE_MASK
Ë& ~STRIPE_MASKË* 
§c_height
;

602 
uöçå_t
 
°ï
 = 
STRIPE_WIDTH
 * 
§c_height
;

604 
uöçå_t
 
offs
 = 0;

605 #i‡
STRIPE_WIDTH
 < 12

606 
öt16_t
 
buf
[3 * 
STRIPE_WIDTH
];

607 
öt16_t
 *
±r
 = 
buf
 + 2 * 
STRIPE_WIDTH
;

609 
öt16_t
 
buf
[2 * 
STRIPE_WIDTH
];

610 
öt16_t
 *
±r
 = 
buf
 + 
STRIPE_WIDTH
;

612 
uöçå_t
 
x
 = 0; x < 
d°_width
; x +
STRIPE_WIDTH
) {

613 
uöçå_t
 
y
 = 0; y < 
§c_height
; ++y) {

614 #i‡
STRIPE_WIDTH
 < 12

615 
	`c›y_löe
(
±r
 - 2 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 2 * 
°ï
, 
size
);

617 
	`c›y_löe
(
±r
 - 1 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 1 * 
°ï
, 
size
);

618 
	`c›y_löe
(
±r
 - 0 * 
STRIPE_WIDTH
, 
§c
, 
offs
 - 0 * 
°ï
, 
size
);

619 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

620 
d°
[
k
] = 
	`blur_func
(
±r
[k - 12],Ötr[k - 10],Ötr[k - 8],Ötr[k - 7],Ötr[k - 6],

621 
±r
[
k
 - 5],Öå[k - 4],Öå[k - 2],Öå[k - 0], 
∑øm
);

622 
d°
 +
STRIPE_WIDTH
;

623 
offs
 +
STRIPE_WIDTH
;

626 
	}
}

628 
	$ass_blur1246_vît_c
(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

629 
uöçå_t
 
§c_width
, uöçå_à
§c_height
,

630 c⁄° 
öt16_t
 *
∑øm
)

632 
uöçå_t
 
d°_height
 = 
§c_height
 + 12;

633 
uöçå_t
 
°ï
 = 
STRIPE_WIDTH
 * 
§c_height
;

635 
uöçå_t
 
x
 = 0; x < 
§c_width
; x +
STRIPE_WIDTH
) {

636 
uöçå_t
 
offs
 = 0;

637 
uöçå_t
 
y
 = 0; y < 
d°_height
; ++y) {

638 c⁄° 
öt16_t
 *
p4
 = 
	`gë_löe
(
§c
, 
offs
 - 12 * 
STRIPE_WIDTH
, 
°ï
);

639 c⁄° 
öt16_t
 *
p3
 = 
	`gë_löe
(
§c
, 
offs
 - 10 * 
STRIPE_WIDTH
, 
°ï
);

640 c⁄° 
öt16_t
 *
p2
 = 
	`gë_löe
(
§c
, 
offs
 - 8 * 
STRIPE_WIDTH
, 
°ï
);

641 c⁄° 
öt16_t
 *
p1
 = 
	`gë_löe
(
§c
, 
offs
 - 7 * 
STRIPE_WIDTH
, 
°ï
);

642 c⁄° 
öt16_t
 *
z0
 = 
	`gë_löe
(
§c
, 
offs
 - 6 * 
STRIPE_WIDTH
, 
°ï
);

643 c⁄° 
öt16_t
 *
n1
 = 
	`gë_löe
(
§c
, 
offs
 - 5 * 
STRIPE_WIDTH
, 
°ï
);

644 c⁄° 
öt16_t
 *
n2
 = 
	`gë_löe
(
§c
, 
offs
 - 4 * 
STRIPE_WIDTH
, 
°ï
);

645 c⁄° 
öt16_t
 *
n3
 = 
	`gë_löe
(
§c
, 
offs
 - 2 * 
STRIPE_WIDTH
, 
°ï
);

646 c⁄° 
öt16_t
 *
n4
 = 
	`gë_löe
(
§c
, 
offs
 - 0 * 
STRIPE_WIDTH
, 
°ï
);

647 
k
 = 0; k < 
STRIPE_WIDTH
; ++k)

648 
d°
[
k
] = 
	`blur_func
(
p4
[k], 
p3
[k], 
p2
[k], 
p1
[k], 
z0
[k],

649 
n1
[
k
], 
n2
[k], 
n3
[k], 
n4
[k], 
∑øm
);

650 
d°
 +
STRIPE_WIDTH
;

651 
offs
 +
STRIPE_WIDTH
;

653 
§c
 +
°ï
;

655 
	}
}

659 
	$ˇlc_gauss
(*
ªs
, 
n
, 
r2
)

661 
Æpha
 = 0.5 / 
r2
;

662 
mul
 = 
	`exp
(-
Æpha
), 
mul2
 = mul * mul;

663 
cur
 = 
	`sqπ
(
Æpha
 / 
M_PI
);

665 
ªs
[0] = 
cur
;

666 
cur
 *
mul
;

667 
ªs
[1] = 
cur
;

668 
i
 = 2; i <
n
; ++i) {

669 
mul
 *
mul2
;

670 
cur
 *
mul
;

671 
ªs
[
i
] = 
cur
;

673 
	}
}

675 
	$c€ff_blur121
(*
c€ff
, 
n
)

677 
¥ev
 = 
c€ff
[1];

678 
i
 = 0; i <
n
; ++i) {

679 
ªs
 = (
¥ev
 + 2 * 
c€ff
[
i
] + coeff[i + 1]) / 4;

680 
¥ev
 = 
c€ff
[
i
];

681 
c€ff
[
i
] = 
ªs
;

683 
	}
}

685 
	$c€ff_fûãr
(*
c€ff
, 
n
, c⁄° 
kî√l
[4])

687 
¥ev1
 = 
c€ff
[1], 
¥ev2
 = c€ff[2], 
¥ev3
 = coeff[3];

688 
i
 = 0; i <
n
; ++i) {

689 
ªs
 = 
c€ff
[
i
 + 0] * 
kî√l
[0] +

690 (
¥ev1
 + 
c€ff
[
i
 + 1]Ë* 
kî√l
[1] +

691 (
¥ev2
 + 
c€ff
[
i
 + 2]Ë* 
kî√l
[2] +

692 (
¥ev3
 + 
c€ff
[
i
 + 3]Ë* 
kî√l
[3];

693 
¥ev3
 = 
¥ev2
;

694 
¥ev2
 = 
¥ev1
;

695 
¥ev1
 = 
c€ff
[
i
];

696 
c€ff
[
i
] = 
ªs
;

698 
	}
}

700 
	$ˇlc_m©rix
(
m©
[4][4], c⁄° *
m©_‰eq
, c⁄° *
ödex
)

702 
i
 = 0; i < 4; ++i) {

703 
m©
[
i
][i] = 
m©_‰eq
[2 * 
ödex
[i]] + 3 * mat_freq[0] - 4 * mat_freq[index[i]];

704 
j
 = 
i
 + 1; j < 4; ++j)

705 
m©
[
i
][
j
] = mat[j][i] =

706 
m©_‰eq
[
ödex
[
i
] + index[
j
]] + mat_freq[index[j] - index[i]] +

707 2 * (
m©_‰eq
[0] - m©_‰eq[
ödex
[
i
]] - m©_‰eq[ödex[
j
]]);

711 
k
 = 0; k < 4; ++k) {

712 
ù
 = 
k
, 
jp
 = k;

713 
z
 = 1 / 
m©
[
ù
][
jp
];

714 
m©
[
ù
][
jp
] = 1;

715 
i
 = 0; i < 4; ++i) {

716 i‡(
i
 =
ù
)

719 
mul
 = 
m©
[
i
][
jp
] * 
z
;

720 
m©
[
i
][
jp
] = 0;

721 
j
 = 0; j < 4; ++j)

722 
m©
[
i
][
j
] -m©[
ù
][j] * 
mul
;

724 
j
 = 0; j < 4; ++j)

725 
m©
[
ù
][
j
] *
z
;

727 
	}
}

737 
	$ˇlc_c€ff
(
mu
[4], c⁄° 
ödex
[4], 
¥efûãr
, 
r2
, 
mul
)

739 
mul2
 = 
mul
 * mul, 
mul3
 = mul2 * mul;

740 
kî√l
[] = {

741 (5204 + 2520 * 
mul
 + 1092 * 
mul2
 + 3280 * 
mul3
) / 12096,

742 (2943 - 210 * 
mul
 - 273 * 
mul2
 - 2460 * 
mul3
) / 12096,

743 –486 - 924 * 
mul
 - 546 * 
mul2
 + 984 * 
mul3
) / 12096,

744 –17 - 126 * 
mul
 + 273 * 
mul2
 - 164 * 
mul3
) / 12096,

747 
m©_‰eq
[14];

748 
	`mem˝y
(
m©_‰eq
, 
kî√l
, (kernel));

749 
	`mem£t
(
m©_‰eq
 + 4, 0, (m©_‰eqË- (
kî√l
));

750 
n
 = 6;

751 
	`c€ff_fûãr
(
m©_‰eq
, 
n
, 
kî√l
);

752 
k
 = 0; k < 2 * 
¥efûãr
; ++k)

753 
	`c€ff_blur121
(
m©_‰eq
, ++
n
);

755 
vec_‰eq
[13];

756 
n
 = 
ödex
[3] + 
¥efûãr
 + 3;

757 
	`ˇlc_gauss
(
vec_‰eq
, 
n
, 
r2
);

758 
	`mem£t
(
vec_‰eq
 + 
n
 + 1, 0, (vec_freq) - (n + 1) * (vec_freq[0]));

759 
n
 -= 3;

760 
	`c€ff_fûãr
(
vec_‰eq
, 
n
, 
kî√l
);

761 
k
 = 0; k < 
¥efûãr
; ++k)

762 
	`c€ff_blur121
(
vec_‰eq
, --
n
);

764 
m©
[4][4];

765 
	`ˇlc_m©rix
(
m©
, 
m©_‰eq
, 
ödex
);

767 
vec
[4];

768 
i
 = 0; i < 4; ++i)

769 
vec
[
i
] = 
m©_‰eq
[0] - m©_‰eq[
ödex
[i]] - 
vec_‰eq
[0] + vec_freq[index[i]];

771 
i
 = 0; i < 4; ++i) {

772 
ªs
 = 0;

773 
j
 = 0; j < 4; ++j)

774 
ªs
 +
m©
[
i
][
j
] * 
vec
[j];

775 
mu
[
i
] = 
	`FFMAX
(0, 
ªs
);

777 
	}
}

780 
	mÀvñ
, 
	m¥efûãr
, 
	mfûãr
;

781 
öt16_t
 
	mc€ff
[4];

782 } 
	tBlurMëhod
;

784 
	$föd_be°_mëhod
(
BlurMëhod
 *
blur
, 
r2
)

786 c⁄° 
ödex
[][4] = {

792 
mu
[5];

793 i‡(
r2
 < 1.9) {

794 
blur
->
Àvñ
 = blur->
¥efûãr
 = blur->
fûãr
 = 0;

796 i‡(
r2
 < 0.5) {

797 
mu
[2] = 0.085 * 
r2
 *Ñ2 *Ñ2;

798 
mu
[1] = 0.5 * 
r2
 - 4 * mu[2];

799 
mu
[3] = mu[4] = 0;

801 
	`ˇlc_gauss
(
mu
, 4, 
r2
);

804 
mul
 = 1;

805 i‡(
r2
 < 6.693) {

806 
blur
->
Àvñ
 = 0;

808 i‡(
r2
 < 2.8)

809 
blur
->
¥efûãr
 = 1;

810 i‡(
r2
 < 4.4)

811 
blur
->
¥efûãr
 = 2;

813 
blur
->
¥efûãr
 = 3;

815 
blur
->
fûãr
 = blur->
¥efûãr
 - 1;

817 
	`‰exp
((
r2
 + 0.7Ë/ 26.5, &
blur
->
Àvñ
);

818 
blur
->
Àvñ
 = (blur->level + 3) >> 1;

819 
mul
 = 
	`pow
(0.25, 
blur
->
Àvñ
);

820 
r2
 *
mul
;

822 i‡(
r2
 < 3.15 - 1.5 * 
mul
)

823 
blur
->
¥efûãr
 = 0;

824 i‡(
r2
 < 5.3 - 5.2 * 
mul
)

825 
blur
->
¥efûãr
 = 1;

827 
blur
->
¥efûãr
 = 2;

829 
blur
->
fûãr
 = blur->
¥efûãr
;

831 
	`ˇlc_c€ff
(
mu
 + 1, 
ödex
[
blur
->
fûãr
], blur->
¥efûãr
, 
r2
, 
mul
);

834 
i
 = 1; i <= 4; ++i)

835 
blur
->
c€ff
[
i
 - 1] = (Ë(0x10000 * 
mu
[i] + 0.5);

836 
	}
}

842 
boﬁ
 
	$ass_gaussün_blur
(c⁄° 
Bôm≠Engöe
 *
ígöe
, 
Bôm≠
 *
bm
, 
r2
)

844 
BlurMëhod
 
blur
;

845 
	`föd_be°_mëhod
(&
blur
, 
r2
);

847 
w
 = 
bm
->w, 
h
 = bm->h;

848 
off£t
 = ((2 * (
blur
.
¥efûãr
 + blur.
fûãr
Ë+ 17Ë<< blur.
Àvñ
) - 5;

849 
íd_w
 = ((
w
 + 
off£t
Ë& ~((1 << 
blur
.
Àvñ
) - 1)) - 4;

850 
íd_h
 = ((
h
 + 
off£t
Ë& ~((1 << 
blur
.
Àvñ
) - 1)) - 4;

852 c⁄° 
°rùe_width
 = 1 << (
ígöe
->
Æign_‹dî
 - 1);

853 
size
 = 
íd_h
 * ((
íd_w
 + 
°rùe_width
 - 1) & ~(stripe_width - 1));

854 
öt16_t
 *
tmp
 = 
	`ass_Æig√d_Æloc
(2 * 
°rùe_width
, 4 * 
size
, 
Ál£
);

855 i‡(!
tmp
)

856  
Ál£
;

858 
ígöe
->
	`°rùe_u≈ack
(
tmp
, 
bm
->
buf„r
, bm->
°ride
, 
w
, 
h
);

859 
öt16_t
 *
buf
[2] = {
tmp
,Åm∞+ 
size
};

860 
ödex
 = 0;

862 
i
 = 0; i < 
blur
.
Àvñ
; ++i) {

863 
ígöe
->
	`shrök_vît
(
buf
[
ödex
 ^ 1], buf[ödex], 
w
, 
h
);

864 
h
 = (h + 5) >> 1;

865 
ödex
 ^= 1;

867 
i
 = 0; i < 
blur
.
Àvñ
; ++i) {

868 
ígöe
->
	`shrök_h‹z
(
buf
[
ödex
 ^ 1], buf[ödex], 
w
, 
h
);

869 
w
 = (w + 5) >> 1;

870 
ödex
 ^= 1;

872 i‡(
blur
.
¥efûãr
) {

873 
ígöe
->
¥e_blur_h‹z
[
blur
.
¥efûãr
 - 1](
buf
[
ödex
 ^ 1], buf[ödex], 
w
, 
h
);

874 
w
 +2 * 
blur
.
¥efûãr
;

875 
ödex
 ^= 1;

877 
ígöe
->
maö_blur_h‹z
[
blur
.
fûãr
](
buf
[
ödex
 ^ 1], buf[ödex], 
w
, 
h
, blur.
c€ff
);

878 
w
 +2 * 
blur
.
fûãr
 + 8;

879 
ödex
 ^= 1;

880 
i
 = 0; i < 
blur
.
Àvñ
; ++i) {

881 
ígöe
->
	`ex∑nd_h‹z
(
buf
[
ödex
 ^ 1], buf[ödex], 
w
, 
h
);

882 
w
 = 2 * w + 4;

883 
ödex
 ^= 1;

885 i‡(
blur
.
¥efûãr
) {

886 
ígöe
->
¥e_blur_vît
[
blur
.
¥efûãr
 - 1](
buf
[
ödex
 ^ 1], buf[ödex], 
w
, 
h
);

887 
h
 +2 * 
blur
.
¥efûãr
;

888 
ödex
 ^= 1;

890 
ígöe
->
maö_blur_vît
[
blur
.
fûãr
](
buf
[
ödex
 ^ 1], buf[ödex], 
w
, 
h
, blur.
c€ff
);

891 
h
 +2 * 
blur
.
fûãr
 + 8;

892 
ödex
 ^= 1;

893 
i
 = 0; i < 
blur
.
Àvñ
; ++i) {

894 
ígöe
->
	`ex∑nd_vît
(
buf
[
ödex
 ^ 1], buf[ödex], 
w
, 
h
);

895 
h
 = 2 * h + 4;

896 
ödex
 ^= 1;

898 
	`as£π
(
w
 =
íd_w
 && 
h
 =
íd_h
);

900 i‡(!
	`ªÆloc_bôm≠
(
ígöe
, 
bm
, 
w
, 
h
)) {

901 
	`ass_Æig√d_‰ì
(
tmp
);

902  
Ál£
;

904 
off£t
 = ((
blur
.
¥efûãr
 + blur.
fûãr
 + 8Ë<< blur.
Àvñ
) - 4;

905 
bm
->
À·
 -
off£t
;

906 
bm
->
t›
 -
off£t
;

908 
ígöe
->
	`°rùe_∑ck
(
bm
->
buf„r
, bm->
°ride
, 
buf
[
ödex
], 
w
, 
h
);

909 
	`ass_Æig√d_‰ì
(
tmp
);

910  
åue
;

911 
	}
}

	@libass/ass_cache.c

20 
	~"c⁄fig.h
"

21 
	~"ass_com∑t.h
"

23 
	~<öây≥s.h
>

24 
	~<·2buûd.h
>

25 #ö˛udê
FT_OUTLINE_H


26 
	~<as£π.h
>

28 
	~"ass_utûs.h
"

29 
	~"ass_f⁄t.h
"

30 
	~"ass_ouéöe.h
"

31 
	~"ass_ˇche.h
"

35 
	#CREATE_HASH_FUNCTIONS


	)

36 
	~"ass_ˇche_ãm∂©e.h
"

37 
	#CREATE_COMPARISON_FUNCTIONS


	)

38 
	~"ass_ˇche_ãm∂©e.h
"

41 
	$f⁄t_hash
(*
buf
, 
size_t
 
Àn
)

43 
ASS_F⁄tDesc
 *
desc
 = 
buf
;

44 
hvÆ
;

45 
hvÆ
 = 
	`‚v_32a_°r
(
desc
->
Ámûy
, 
FNV1_32A_INIT
);

46 
hvÆ
 = 
	`‚v_32a_buf
(&
desc
->
bﬁd
, (desc->bold), hval);

47 
hvÆ
 = 
	`‚v_32a_buf
(&
desc
->
ôÆic
, (desc->italic), hval);

48 
hvÆ
 = 
	`‚v_32a_buf
(&
desc
->
vîtiˇl
, (desc->vertical), hval);

49  
hvÆ
;

50 
	}
}

52 
	$f⁄t_com∑ª
(*
key1
, *
key2
, 
size_t
 
key_size
)

54 
ASS_F⁄tDesc
 *
a
 = 
key1
;

55 
ASS_F⁄tDesc
 *
b
 = 
key2
;

56 i‡(
	`°rcmp
(
a
->
Ámûy
, 
b
->family) != 0)

58 i‡(
a
->
bﬁd
 !
b
->bold)

60 i‡(
a
->
ôÆic
 !
b
->italic)

62 i‡(
a
->
vîtiˇl
 !
b
->vertical)

65 
	}
}

67 
boﬁ
 
	$f⁄t_key_move
(*
d°
, *
§c
, 
size_t
 
key_size
)

69 
ASS_F⁄tDesc
 *
k
 = 
§c
;

70 i‡(
d°
)

71 
	`mem˝y
(
d°
, 
§c
, 
key_size
);

73 
	`‰ì
(
k
->
Ámûy
);

74  
åue
;

75 
	}
}

77 
	$f⁄t_de°ru˘
(*
key
, *
vÆue
)

79 
	`ass_f⁄t_˛ór
(
vÆue
);

80 
	}
}

82 c⁄° 
CacheDesc
 
	gf⁄t_ˇche_desc
 = {

83 .
hash_func
 = 
f⁄t_hash
,

84 .
	gcom∑ª_func
 = 
f⁄t_com∑ª
,

85 .
	gkey_move_func
 = 
f⁄t_key_move
,

86 .
	gde°ru˘_func
 = 
f⁄t_de°ru˘
,

87 .
	gkey_size
 = (
ASS_F⁄tDesc
),

88 .
	gvÆue_size
 = (
ASS_F⁄t
)

93 
	$bôm≠_hash
(*
key
, 
size_t
 
key_size
)

95 
Bôm≠HashKey
 *
k
 = 
key
;

96 
k
->
ty≥
) {

97 
BITMAP_OUTLINE
:  
	`ouéöe_bôm≠_hash
(&
k
->
u
, 
key_size
);

98 
BITMAP_CLIP
:  
	`˛ù_bôm≠_hash
(&
k
->
u
, 
key_size
);

101 
	}
}

103 
	$bôm≠_com∑ª
(*
a
, *
b
, 
size_t
 
key_size
)

105 
Bôm≠HashKey
 *
ak
 = 
a
;

106 
Bôm≠HashKey
 *
bk
 = 
b
;

107 i‡(
ak
->
ty≥
 !
bk
->type)  0;

108 
ak
->
ty≥
) {

109 
BITMAP_OUTLINE
:  
	`ouéöe_bôm≠_com∑ª
(&
ak
->
u
, &
bk
->u, 
key_size
);

110 
BITMAP_CLIP
:  
	`˛ù_bôm≠_com∑ª
(&
ak
->
u
, &
bk
->u, 
key_size
);

113 
	}
}

115 
boﬁ
 
	$bôm≠_key_move
(*
d°
, *
§c
, 
size_t
 
key_size
)

117 
Bôm≠HashKey
 *
d
 = 
d°
, *
s
 = 
§c
;

118 i‡(!
d°
) {

119 i‡(
s
->
ty≥
 =
BITMAP_OUTLINE
)

120 
	`ass_ˇche_dec_ªf
(
s
->
u
.
ouéöe
.outline);

121  
åue
;

123 
	`mem˝y
(
d°
, 
§c
, 
key_size
);

124 i‡(
s
->
ty≥
 !
BITMAP_CLIP
)

125  
åue
;

126 
d
->
u
.
˛ù
.
ãxt
 = 
	`°rdup
(
s
->u.clip.text);

127  
d
->
u
.
˛ù
.
ãxt
;

128 
	}
}

130 
	$bôm≠_de°ru˘
(*
key
, *
vÆue
)

132 
Bôm≠HashVÆue
 *
v
 = 
vÆue
;

133 
Bôm≠HashKey
 *
k
 = 
key
;

134 i‡(
v
->
bm
)

135 
	`ass_‰ì_bôm≠
(
v
->
bm
);

136 i‡(
v
->
bm_o
)

137 
	`ass_‰ì_bôm≠
(
v
->
bm_o
);

138 
k
->
ty≥
) {

139 
BITMAP_OUTLINE
: 
	`ass_ˇche_dec_ªf
(
k
->
u
.
ouéöe
.outline); ;

140 
BITMAP_CLIP
: 
	`‰ì
(
k
->
u
.
˛ù
.
ãxt
); ;

142 
	}
}

144 c⁄° 
CacheDesc
 
	gbôm≠_ˇche_desc
 = {

145 .
hash_func
 = 
bôm≠_hash
,

146 .
	gcom∑ª_func
 = 
bôm≠_com∑ª
,

147 .
	gkey_move_func
 = 
bôm≠_key_move
,

148 .
	gde°ru˘_func
 = 
bôm≠_de°ru˘
,

149 .
	gkey_size
 = (
Bôm≠HashKey
),

150 .
	gvÆue_size
 = (
Bôm≠HashVÆue
)

155 
	$composôe_hash
(*
key
, 
size_t
 
key_size
)

157 
ComposôeHashKey
 *
k
 = 
key
;

158 
hvÆ
 = 
	`fûãr_hash
(&
k
->
fûãr
, 
key_size
);

159 
size_t
 
i
 = 0; i < 
k
->
bôm≠_cou¡
; i++) {

160 
hvÆ
 = 
	`‚v_32a_buf
(&
k
->
bôm≠s
[
i
].
image
, (k->bitmaps[i].image), hval);

161 
hvÆ
 = 
	`‚v_32a_buf
(&
k
->
bôm≠s
[
i
].
x
, (k->bitmaps[i].x), hval);

162 
hvÆ
 = 
	`‚v_32a_buf
(&
k
->
bôm≠s
[
i
].
y
, (k->bitmaps[i].y), hval);

164  
hvÆ
;

165 
	}
}

167 
	$composôe_com∑ª
(*
a
, *
b
, 
size_t
 
key_size
)

169 
ComposôeHashKey
 *
ak
 = 
a
;

170 
ComposôeHashKey
 *
bk
 = 
b
;

171 i‡(
ak
->
bôm≠_cou¡
 !
bk
->bitmap_count)

173 
size_t
 
i
 = 0; i < 
ak
->
bôm≠_cou¡
; i++) {

174 i‡(
ak
->
bôm≠s
[
i
].
image
 !
bk
->bitmaps[i].image ||

175 
ak
->
bôm≠s
[
i
].
x
 !
bk
->bitmaps[i].x ||

176 
ak
->
bôm≠s
[
i
].
y
 !
bk
->bitmaps[i].y)

179  
	`fûãr_com∑ª
(&
ak
->
fûãr
, &
bk
->fûãr, 
key_size
);

180 
	}
}

182 
boﬁ
 
	$composôe_key_move
(*
d°
, *
§c
, 
size_t
 
key_size
)

184 i‡(
d°
) {

185 
	`mem˝y
(
d°
, 
§c
, 
key_size
);

186  
åue
;

188 
ComposôeHashKey
 *
k
 = 
§c
;

189 
size_t
 
i
 = 0; i < 
k
->
bôm≠_cou¡
; i++)

190 
	`ass_ˇche_dec_ªf
(
k
->
bôm≠s
[
i
].
image
);

191 
	`‰ì
(
k
->
bôm≠s
);

192  
åue
;

193 
	}
}

195 
	$composôe_de°ru˘
(*
key
, *
vÆue
)

197 
ComposôeHashVÆue
 *
v
 = 
vÆue
;

198 
ComposôeHashKey
 *
k
 = 
key
;

199 i‡(
v
->
bm
)

200 
	`ass_‰ì_bôm≠
(
v
->
bm
);

201 i‡(
v
->
bm_o
)

202 
	`ass_‰ì_bôm≠
(
v
->
bm_o
);

203 i‡(
v
->
bm_s
)

204 
	`ass_‰ì_bôm≠
(
v
->
bm_s
);

205 
size_t
 
i
 = 0; i < 
k
->
bôm≠_cou¡
; i++)

206 
	`ass_ˇche_dec_ªf
(
k
->
bôm≠s
[
i
].
image
);

207 
	`‰ì
(
k
->
bôm≠s
);

208 
	}
}

210 c⁄° 
CacheDesc
 
	gcomposôe_ˇche_desc
 = {

211 .
hash_func
 = 
composôe_hash
,

212 .
	gcom∑ª_func
 = 
composôe_com∑ª
,

213 .
	gkey_move_func
 = 
composôe_key_move
,

214 .
	gde°ru˘_func
 = 
composôe_de°ru˘
,

215 .
	gkey_size
 = (
ComposôeHashKey
),

216 .
	gvÆue_size
 = (
ComposôeHashVÆue
)

221 
	$ouéöe_hash
(*
key
, 
size_t
 
key_size
)

223 
OuéöeHashKey
 *
k
 = 
key
;

224 
k
->
ty≥
) {

225 
OUTLINE_GLYPH
:  
	`glyph_hash
(&
k
->
u
, 
key_size
);

226 
OUTLINE_DRAWING
:  
	`døwög_hash
(&
k
->
u
, 
key_size
);

229 
	}
}

231 
	$ouéöe_com∑ª
(*
a
, *
b
, 
size_t
 
key_size
)

233 
OuéöeHashKey
 *
ak
 = 
a
;

234 
OuéöeHashKey
 *
bk
 = 
b
;

235 i‡(
ak
->
ty≥
 !
bk
->type)  0;

236 
ak
->
ty≥
) {

237 
OUTLINE_GLYPH
:  
	`glyph_com∑ª
(&
ak
->
u
, &
bk
->u, 
key_size
);

238 
OUTLINE_DRAWING
:  
	`døwög_com∑ª
(&
ak
->
u
, &
bk
->u, 
key_size
);

241 
	}
}

243 
boﬁ
 
	$ouéöe_key_move
(*
d°
, *
§c
, 
size_t
 
key_size
)

245 
OuéöeHashKey
 *
d
 = 
d°
, *
s
 = 
§c
;

246 i‡(!
d°
) {

247 i‡(
s
->
ty≥
 =
OUTLINE_GLYPH
)

248 
	`ass_ˇche_dec_ªf
(
s
->
u
.
glyph
.
f⁄t
);

249  
åue
;

251 
	`mem˝y
(
d°
, 
§c
, 
key_size
);

252 i‡(
s
->
ty≥
 !
OUTLINE_DRAWING
)

253  
åue
;

254 
d
->
u
.
døwög
.
ãxt
 = 
	`°rdup
(
s
->u.drawing.text);

255  
d
->
u
.
døwög
.
ãxt
;

256 
	}
}

258 
	$ouéöe_de°ru˘
(*
key
, *
vÆue
)

260 
OuéöeHashVÆue
 *
v
 = 
vÆue
;

261 
OuéöeHashKey
 *
k
 = 
key
;

262 
	`ouéöe_‰ì
(&
v
->
ouéöe
);

263 
	`ouéöe_‰ì
(&
v
->
b‹dî
[0]);

264 
	`ouéöe_‰ì
(&
v
->
b‹dî
[1]);

265 
k
->
ty≥
) {

266 
OUTLINE_GLYPH
: 
	`ass_ˇche_dec_ªf
(
k
->
u
.
glyph
.
f⁄t
); ;

267 
OUTLINE_DRAWING
: 
	`‰ì
(
k
->
u
.
døwög
.
ãxt
); ;

269 
	}
}

271 c⁄° 
CacheDesc
 
	gouéöe_ˇche_desc
 = {

272 .
hash_func
 = 
ouéöe_hash
,

273 .
	gcom∑ª_func
 = 
ouéöe_com∑ª
,

274 .
	gkey_move_func
 = 
ouéöe_key_move
,

275 .
	gde°ru˘_func
 = 
ouéöe_de°ru˘
,

276 .
	gkey_size
 = (
OuéöeHashKey
),

277 .
	gvÆue_size
 = (
OuéöeHashVÆue
)

282 
boﬁ
 
	$glyph_mërics_key_move
(*
d°
, *
§c
, 
size_t
 
key_size
)

284 i‡(!
d°
)

285  
åue
;

286 
	`mem˝y
(
d°
, 
§c
, 
key_size
);

287 
GlyphMëricsHashKey
 *
k
 = 
§c
;

288 
	`ass_ˇche_öc_ªf
(
k
->
f⁄t
);

289  
åue
;

290 
	}
}

292 
	$glyph_mërics_de°ru˘
(*
key
, *
vÆue
)

294 
GlyphMëricsHashKey
 *
k
 = 
key
;

295 
	`ass_ˇche_dec_ªf
(
k
->
f⁄t
);

296 
	}
}

298 c⁄° 
CacheDesc
 
	gglyph_mërics_ˇche_desc
 = {

299 .
hash_func
 = 
glyph_mërics_hash
,

300 .
	gcom∑ª_func
 = 
glyph_mërics_com∑ª
,

301 .
	gkey_move_func
 = 
glyph_mërics_key_move
,

302 .
	gde°ru˘_func
 = 
glyph_mërics_de°ru˘
,

303 .
	gkey_size
 = (
GlyphMëricsHashKey
),

304 .
	gvÆue_size
 = (
GlyphMëricsHashVÆue
)

310 
	sˇche_ôem
 {

311 
Cache
 *
	mˇche
;

312 c⁄° 
CacheDesc
 *
	mdesc
;

313 
ˇche_ôem
 *
	m√xt
, **
	m¥ev
;

314 
ˇche_ôem
 *
	mqueue_√xt
, **
	mqueue_¥ev
;

315 
size_t
 
	msize
, 
	mªf_cou¡
;

316 } 
	tCacheIãm
;

318 
	sˇche
 {

319 
	mbuckës
;

320 
CacheIãm
 **
	mm≠
;

321 
CacheIãm
 *
	mqueue_fú°
, **
	mqueue_œ°
;

323 c⁄° 
CacheDesc
 *
	mdesc
;

325 
size_t
 
	mˇche_size
;

326 
	mhôs
;

327 
	mmis£s
;

328 
	môems
;

331 
	#CACHE_ALIGN
 8

	)

332 
	#CACHE_ITEM_SIZE
 (((
CacheIãm
Ë+ (
CACHE_ALIGN
 - 1)Ë& ~(CACHE_ALIGN - 1))

	)

334 
ölöe
 
size_t
 
	$Æign_ˇche
(
size_t
 
size
)

336  (
size
 + (
CACHE_ALIGN
 - 1)) & ~(CACHE_ALIGN - 1);

337 
	}
}

339 
ölöe
 
CacheIãm
 *
	$vÆue_to_ôem
(*
vÆue
)

341  (
CacheIãm
 *Ë((*Ë
vÆue
 - 
CACHE_ITEM_SIZE
);

342 
	}
}

346 
Cache
 *
	$ass_ˇche_¸óã
(c⁄° 
CacheDesc
 *
desc
)

348 
Cache
 *
ˇche
 = 
	`ˇŒoc
(1, (*cache));

349 i‡(!
ˇche
)

350  
NULL
;

351 
ˇche
->
buckës
 = 0xFFFF;

352 
ˇche
->
queue_œ°
 = &ˇche->
queue_fú°
;

353 
ˇche
->
desc
 = desc;

354 
ˇche
->
m≠
 = 
	`ˇŒoc
(ˇche->
buckës
, (
CacheIãm
 *));

355 i‡(!
ˇche
->
m≠
) {

356 
	`‰ì
(
ˇche
);

357  
NULL
;

360  
ˇche
;

361 
	}
}

363 
boﬁ
 
	$ass_ˇche_gë
(
Cache
 *
ˇche
, *
key
, *
vÆue_±r
)

365 **
vÆue
 = (**Ë
vÆue_±r
;

366 c⁄° 
CacheDesc
 *
desc
 = 
ˇche
->desc;

367 
size_t
 
key_offs
 = 
CACHE_ITEM_SIZE
 + 
	`Æign_ˇche
(
desc
->
vÆue_size
);

368 
buckë
 = 
desc
->
	`hash_func
(
key
, desc->
key_size
Ë% 
ˇche
->
buckës
;

369 
CacheIãm
 *
ôem
 = 
ˇche
->
m≠
[
buckë
];

370 
ôem
) {

371 i‡(
desc
->
	`com∑ª_func
(
key
, (*Ë
ôem
 + 
key_offs
, desc->
key_size
)) {

372 
	`as£π
(
ôem
->
size
);

373 i‡(!
ôem
->
queue_¥ev
 || iãm->
queue_√xt
) {

374 i‡(
ôem
->
queue_¥ev
) {

375 
ôem
->
queue_√xt
->
queue_¥ev
 = item->queue_prev;

376 *
ôem
->
queue_¥ev
 = iãm->
queue_√xt
;

378 
ôem
->
ªf_cou¡
++;

379 *
ˇche
->
queue_œ°
 = 
ôem
;

380 
ôem
->
queue_¥ev
 = 
ˇche
->
queue_œ°
;

381 
ˇche
->
queue_œ°
 = &
ôem
->
queue_√xt
;

382 
ôem
->
queue_√xt
 = 
NULL
;

384 
ˇche
->
hôs
++;

385 
desc
->
	`key_move_func
(
NULL
, 
key
, desc->
key_size
);

386 *
vÆue
 = (*Ë
ôem
 + 
CACHE_ITEM_SIZE
;

387 
ôem
->
ªf_cou¡
++;

388  
åue
;

390 
ôem
 = iãm->
√xt
;

392 
ˇche
->
mis£s
++;

394 
ôem
 = 
	`mÆloc
(
key_offs
 + 
desc
->
key_size
);

395 i‡(!
ôem
) {

396 
desc
->
	`key_move_func
(
NULL
, 
key
, desc->
key_size
);

397 *
vÆue
 = 
NULL
;

398  
Ál£
;

400 
ôem
->
size
 = 0;

401 
ôem
->
ˇche
 = cache;

402 
ôem
->
desc
 = desc;

403 i‡(!
desc
->
	`key_move_func
((*Ë
ôem
 + 
key_offs
, 
key
, desc->
key_size
)) {

404 
	`‰ì
(
ôem
);

405 *
vÆue
 = 
NULL
;

406  
Ál£
;

408 *
vÆue
 = (*Ë
ôem
 + 
CACHE_ITEM_SIZE
;

410 
CacheIãm
 **
buckë±r
 = &
ˇche
->
m≠
[
buckë
];

411 i‡(*
buckë±r
)

412 (*
buckë±r
)->
¥ev
 = &
ôem
->
√xt
;

413 
ôem
->
¥ev
 = 
buckë±r
;

414 
ôem
->
√xt
 = *
buckë±r
;

415 *
buckë±r
 = 
ôem
;

417 
ôem
->
queue_¥ev
 = 
NULL
;

418 
ôem
->
queue_√xt
 = 
NULL
;

419 
ôem
->
ªf_cou¡
 = 1;

420  
Ál£
;

421 
	}
}

423 *
	$ass_ˇche_key
(*
vÆue
)

425 
CacheIãm
 *
ôem
 = 
	`vÆue_to_ôem
(
vÆue
);

426  (*Ë
vÆue
 + 
	`Æign_ˇche
(
ôem
->
desc
->
vÆue_size
);

427 
	}
}

429 
	$ass_ˇche_commô
(*
vÆue
, 
size_t
 
ôem_size
)

431 
CacheIãm
 *
ôem
 = 
	`vÆue_to_ôem
(
vÆue
);

432 
	`as£π
(!
ôem
->
size
 && 
ôem_size
);

433 
ôem
->
size
 = 
ôem_size
;

434 
Cache
 *
ˇche
 = 
ôem
->cache;

435 
ˇche
->
ˇche_size
 +
ôem_size
;

436 
ˇche
->
ôems
++;

438 *
ˇche
->
queue_œ°
 = 
ôem
;

439 
ôem
->
queue_¥ev
 = 
ˇche
->
queue_œ°
;

440 
ˇche
->
queue_œ°
 = &
ôem
->
queue_√xt
;

441 
ôem
->
ªf_cou¡
++;

442 
	}
}

444 
ölöe
 
	$de°roy_ôem
(c⁄° 
CacheDesc
 *
desc
, 
CacheIãm
 *
ôem
)

446 
	`as£π
(
ôem
->
desc
 == desc);

447 *
vÆue
 = (*Ë
ôem
 + 
CACHE_ITEM_SIZE
;

448 
desc
->
	`de°ru˘_func
(
vÆue
 + 
	`Æign_ˇche
(desc->
vÆue_size
), value);

449 
	`‰ì
(
ôem
);

450 
	}
}

452 
	$ass_ˇche_öc_ªf
(*
vÆue
)

454 i‡(!
vÆue
)

456 
CacheIãm
 *
ôem
 = 
	`vÆue_to_ôem
(
vÆue
);

457 
	`as£π
(
ôem
->
size
 && iãm->
ªf_cou¡
);

458 
ôem
->
ªf_cou¡
++;

459 
	}
}

461 
	$ass_ˇche_dec_ªf
(*
vÆue
)

463 i‡(!
vÆue
)

465 
CacheIãm
 *
ôem
 = 
	`vÆue_to_ôem
(
vÆue
);

466 
	`as£π
(
ôem
->
size
 && iãm->
ªf_cou¡
);

467 i‡(--
ôem
->
ªf_cou¡
)

470 
Cache
 *
ˇche
 = 
ôem
->cache;

471 i‡(
ˇche
) {

472 i‡(
ôem
->
√xt
)

473 
ôem
->
√xt
->
¥ev
 = item->prev;

474 *
ôem
->
¥ev
 = iãm->
√xt
;

476 
ˇche
->
ôems
--;

477 
ˇche
->
ˇche_size
 -
ôem
->
size
;

479 
	`de°roy_ôem
(
ôem
->
desc
, item);

480 
	}
}

482 
	$ass_ˇche_cut
(
Cache
 *
ˇche
, 
size_t
 
max_size
)

484 i‡(
ˇche
->
ˇche_size
 <
max_size
)

488 
CacheIãm
 *
ôem
 = 
ˇche
->
queue_fú°
;

489 i‡(!
ôem
)

491 
	`as£π
(
ôem
->
size
);

493 
ˇche
->
queue_fú°
 = 
ôem
->
queue_√xt
;

494 i‡(--
ôem
->
ªf_cou¡
) {

495 
ôem
->
queue_¥ev
 = 
NULL
;

499 i‡(
ôem
->
√xt
)

500 
ôem
->
√xt
->
¥ev
 = item->prev;

501 *
ôem
->
¥ev
 = iãm->
√xt
;

503 
ˇche
->
ôems
--;

504 
ˇche
->
ˇche_size
 -
ôem
->
size
;

505 
	`de°roy_ôem
(
ˇche
->
desc
, 
ôem
);

506 } 
ˇche
->
ˇche_size
 > 
max_size
);

507 i‡(
ˇche
->
queue_fú°
)

508 
ˇche
->
queue_fú°
->
queue_¥ev
 = &cache->queue_first;

510 
ˇche
->
queue_œ°
 = &ˇche->
queue_fú°
;

511 
	}
}

513 
	$ass_ˇche_°©s
(
Cache
 *
ˇche
, 
size_t
 *
size
, *
hôs
,

514 *
mis£s
, *
cou¡
)

516 i‡(
size
)

517 *
size
 = 
ˇche
->
ˇche_size
;

518 i‡(
hôs
)

519 *
hôs
 = 
ˇche
->hits;

520 i‡(
mis£s
)

521 *
mis£s
 = 
ˇche
->misses;

522 i‡(
cou¡
)

523 *
cou¡
 = 
ˇche
->
ôems
;

524 
	}
}

526 
	$ass_ˇche_em±y
(
Cache
 *
ˇche
)

528 
i
 = 0; i < 
ˇche
->
buckës
; i++) {

529 
CacheIãm
 *
ôem
 = 
ˇche
->
m≠
[
i
];

530 
ôem
) {

531 
	`as£π
(
ôem
->
size
);

532 
CacheIãm
 *
√xt
 = 
ôem
->next;

533 i‡(
ôem
->
queue_¥ev
)

534 
ôem
->
ªf_cou¡
--;

535 i‡(
ôem
->
ªf_cou¡
)

536 
ôem
->
ˇche
 = 
NULL
;

538 
	`de°roy_ôem
(
ˇche
->
desc
, 
ôem
);

539 
ôem
 = 
√xt
;

541 
ˇche
->
m≠
[
i
] = 
NULL
;

544 
ˇche
->
queue_fú°
 = 
NULL
;

545 
ˇche
->
queue_œ°
 = &ˇche->
queue_fú°
;

546 
ˇche
->
ôems
 = cache->
hôs
 = cache->
mis£s
 = cache->
ˇche_size
 = 0;

547 
	}
}

549 
	$ass_ˇche_d⁄e
(
Cache
 *
ˇche
)

551 
	`ass_ˇche_em±y
(
ˇche
);

552 
	`‰ì
(
ˇche
->
m≠
);

553 
	`‰ì
(
ˇche
);

554 
	}
}

557 
Cache
 *
	$ass_f⁄t_ˇche_¸óã
()

559  
	`ass_ˇche_¸óã
(&
f⁄t_ˇche_desc
);

560 
	}
}

562 
Cache
 *
	$ass_ouéöe_ˇche_¸óã
()

564  
	`ass_ˇche_¸óã
(&
ouéöe_ˇche_desc
);

565 
	}
}

567 
Cache
 *
	$ass_glyph_mërics_ˇche_¸óã
()

569  
	`ass_ˇche_¸óã
(&
glyph_mërics_ˇche_desc
);

570 
	}
}

572 
Cache
 *
	$ass_bôm≠_ˇche_¸óã
()

574  
	`ass_ˇche_¸óã
(&
bôm≠_ˇche_desc
);

575 
	}
}

577 
Cache
 *
	$ass_composôe_ˇche_¸óã
()

579  
	`ass_ˇche_¸óã
(&
composôe_ˇche_desc
);

580 
	}
}

	@libass/ass_cache.h

20 #i‚de‡
LIBASS_CACHE_H


21 
	#LIBASS_CACHE_H


	)

23 
	~"ass.h
"

24 
	~"ass_f⁄t.h
"

25 
	~"ass_ouéöe.h
"

26 
	~"ass_bôm≠.h
"

28 
ˇche
 
	tCache
;

33 
boﬁ
 
	mvÆid
;

34 
Bôm≠
 *
	mbm
;

35 
Bôm≠
 *
	mbm_o
;

36 } 
	tBôm≠HashVÆue
;

39 
Bôm≠
 *
	mbm
;

40 
Bôm≠
 *
	mbm_o
;

41 
Bôm≠
 *
	mbm_s
;

42 } 
	tComposôeHashVÆue
;

45 
boﬁ
 
	mvÆid
;

46 
ASS_Ouéöe
 
	mouéöe
;

47 
ASS_Ouéöe
 
	mb‹dî
[2];

48 
ASS_Re˘
 
	mbbox_sˇÀd
;

49 
ASS_Ve˘‹
 
	madv™˚
;

50 
	masc
, 
	mdesc
;

51 } 
	tOuéöeHashVÆue
;

54 
FT_Glyph_Mërics
 
	mmërics
;

55 } 
	tGlyphMëricsHashVÆue
;

58 
	#CREATE_STRUCT_DEFINITIONS


	)

59 
	~"ass_ˇche_ãm∂©e.h
"

62 (*
	tHashFun˘i⁄
)(*
	tkey
, 
	tsize_t
 
	tkey_size
);

63 (*
	tHashCom∑ª
)(*
	ta
, *
	tb
, 
	tsize_t
 
	tkey_size
);

64 
	$boﬁ
(*
	tCacheKeyMove
)(*
	td°
, *
	t§c
, 
	tsize_t
 
	tkey_size
);

65 (*
	tCacheIãmDe°ru˘‹
)(*
	tkey
, *
	tvÆue
);

69 
	souéöe_hash_key
 {

71 
OUTLINE_GLYPH
,

72 
OUTLINE_DRAWING
,

73 } 
ty≥
;

75 
GlyphHashKey
 
glyph
;

76 
DøwögHashKey
 
døwög
;

77 } 
u
;

78 } 
	tOuéöeHashKey
;

80 
	sbôm≠_hash_key
 {

82 
BITMAP_OUTLINE
,

83 
BITMAP_CLIP
,

84 } 
ty≥
;

86 
OuéöeBôm≠HashKey
 
ouéöe
;

87 
ClùMaskHashKey
 
˛ù
;

88 } 
u
;

89 } 
	tBôm≠HashKey
;

92 
Bôm≠HashVÆue
 *
image
;

93 
x
, 
y
;

94 } 
	tBôm≠Ref
;

97 
FILTER_BORDER_STYLE_3
 = 1,

98 
FILTER_NONZERO_BORDER
 = 2,

99 
FILTER_NONZERO_SHADOW
 = 4,

100 
FILTER_DRAW_SHADOW
 = 8,

104 
FûãrDesc
 
fûãr
;

105 
size_t
 
bôm≠_cou¡
;

106 
Bôm≠Ref
 *
bôm≠s
;

107 } 
	tComposôeHashKey
;

111 
HashFun˘i⁄
 
hash_func
;

112 
HashCom∑ª
 
com∑ª_func
;

113 
CacheKeyMove
 
key_move_func
;

114 
CacheIãmDe°ru˘‹
 
de°ru˘_func
;

115 
size_t
 
key_size
;

116 
size_t
 
vÆue_size
;

117 } 
	tCacheDesc
;

119 
Cache
 *
	`ass_ˇche_¸óã
(c⁄° 
CacheDesc
 *
desc
);

120 
boﬁ
 
	`ass_ˇche_gë
(
Cache
 *
ˇche
, *
key
, *
vÆue_±r
);

121 *
	`ass_ˇche_key
(*
vÆue
);

122 
	`ass_ˇche_commô
(*
vÆue
, 
size_t
 
ôem_size
);

123 
	`ass_ˇche_öc_ªf
(*
vÆue
);

124 
	`ass_ˇche_dec_ªf
(*
vÆue
);

125 
	`ass_ˇche_cut
(
Cache
 *
ˇche
, 
size_t
 
max_size
);

126 
	`ass_ˇche_°©s
(
Cache
 *
ˇche
, 
size_t
 *
size
, *
hôs
,

127 *
mis£s
, *
cou¡
);

128 
	`ass_ˇche_em±y
(
Cache
 *
ˇche
);

129 
	`ass_ˇche_d⁄e
(
Cache
 *
ˇche
);

130 
Cache
 *
	`ass_f⁄t_ˇche_¸óã
();

131 
Cache
 *
	`ass_ouéöe_ˇche_¸óã
();

132 
Cache
 *
	`ass_glyph_mërics_ˇche_¸óã
();

133 
Cache
 *
	`ass_bôm≠_ˇche_¸óã
();

134 
Cache
 *
	`ass_composôe_ˇche_¸óã
();

	@libass/ass_cache_template.h

1 #ifde‡
CREATE_STRUCT_DEFINITIONS


2 #unde‡
CREATE_STRUCT_DEFINITIONS


3 
	#START
(
fun˙ame
, 
°ru˘«me
) \

4 
	s°ru˘«me
 {

	)

5 
	#GENERIC
(
ty≥
, 
membî
) \

6 
ty≥
 
membî
;

	)

7 
	#STRING
(
membî
) \

8 *
membî
;

	)

9 
	#VECTOR
(
membî
) \

10 
ASS_Ve˘‹
 
membî
;

	)

11 
	#BITMAPHASHKEY
(
membî
) \

12 
Bôm≠HashKey
 
membî
;

	)

13 
	#END
(
ty≥de‚amíame
) \

14 } 
	tty≥de‚amíame
;

	)

16 #ñi‡
deföed
(
CREATE_COMPARISON_FUNCTIONS
)

17 #unde‡
CREATE_COMPARISON_FUNCTIONS


18 
	#START
(
fun˙ame
, 
°ru˘«me
) \

19 
fun˙ame
##
	`_com∑ª
(*
key1
, *
key2
, 
size_t
 
key_size
) \

21 
°ru˘«me
 *
a
 = 
key1
; \

22 
°ru˘«me
 *
b
 = 
key2
; \

24 
	#GENERIC
(
ty≥
, 
membî
) \

25 
a
->
membî
 =
b
->membî &&

	)

26 
	#STRING
(
membî
) \

27 
	`°rcmp
(
a
->
membî
, 
b
->membîË=0 &&

	)

28 
	#VECTOR
(
membî
) \

29 
a
->
membî
.
x
 =
b
->membî.x &&á->membî.
y
 =b->membî.y &&

	)

30 
	#BITMAPHASHKEY
(
membî
) \

31 
	`bôm≠_com∑ª
(&
a
->
membî
, &
b
->membî, ◊->membî)Ë&&

	)

32 
	#END
(
ty≥de‚ame
) \

34 }

	)

36 #ñi‡
deföed
(
CREATE_HASH_FUNCTIONS
)

37 #unde‡
CREATE_HASH_FUNCTIONS


38 
	#START
(
fun˙ame
, 
°ru˘«me
) \

39 
fun˙ame
##
	`_hash
(*
buf
, 
size_t
 
Àn
) \

41 
°ru˘«me
 *
p
 = 
buf
; \

42 
hvÆ
 = 
FNV1_32A_INIT
;

	)

43 
	#GENERIC
(
ty≥
, 
membî
) \

44 
hvÆ
 = 
	`‚v_32a_buf
(&
p
->
membî
, ’->membî), hvÆ);

	)

45 
	#STRING
(
membî
) \

46 
hvÆ
 = 
	`‚v_32a_°r
(
p
->
membî
, hvÆ);

	)

47 
	#VECTOR
(
membî
Ë
	`GENERIC
(, membî.
x
); GENERIC(, membî.
y
);

	)

48 
	#BITMAPHASHKEY
(
membî
) { \

49 
ãmp
 = 
	`bôm≠_hash
(&
p
->
membî
, (p->member)); \

50 
hvÆ
 = 
	`‚v_32a_buf
(&
ãmp
, (temp), hval); \

51 }

	)

52 
	#END
(
ty≥de‚ame
) \

53  
hvÆ
; \

54 }

	)

57 #îr‹ 
missög
 
deföes


63 
	$START
(
ouéöe_bôm≠
, 
ouéöe_bôm≠_hash_key
)

64 
	$GENERIC
(
OuéöeHashVÆue
 *, 
ouéöe
)

65 
	$GENERIC
(, 
‰x
)

66 
	$GENERIC
(, 
‰y
)

67 
	$GENERIC
(, 
‰z
)

68 
	$GENERIC
(, 
Áx
)

69 
	$GENERIC
(, 
Áy
)

73 
	$GENERIC
(, 
shi·_x
)

74 
	$GENERIC
(, 
shi·_y
)

75 
	$VECTOR
(
adv™˚
)

76 
	$END
(
OuéöeBôm≠HashKey
)

79 
	$START
(
˛ù_bôm≠
, 
˛ù_bôm≠_hash_key
)

80 
	$STRING
(
ãxt
)

81 
	$END
(
ClùMaskHashKey
)

84 
	$START
(
glyph
, 
glyph_hash_key
)

85 
	$GENERIC
(
ASS_F⁄t
 *, 
f⁄t
)

86 
	$GENERIC
(, 
size
)

87 
	$GENERIC
(, 
Á˚_ödex
)

88 
	$GENERIC
(, 
glyph_ödex
)

89 
	$GENERIC
(, 
bﬁd
)

90 
	$GENERIC
(, 
ôÆic
)

91 
	$GENERIC
(, 
sˇÀ_x
)

92 
	$GENERIC
(, 
sˇÀ_y
)

93 
	$VECTOR
(
ouéöe
)

94 
	$GENERIC
(, 
Êags
)

95 
	$GENERIC
(, 
b‹dî_°yÀ
)

96 
	$GENERIC
(, 
h•acög
)

97 
	$END
(
GlyphHashKey
)

99 
	$START
(
glyph_mërics
, 
glyph_mërics_hash_key
)

100 
	$GENERIC
(
ASS_F⁄t
 *, 
f⁄t
)

101 
	$GENERIC
(, 
size
)

102 
	$GENERIC
(, 
Á˚_ödex
)

103 
	$GENERIC
(, 
glyph_ödex
)

104 
	$GENERIC
(, 
sˇÀ_x
)

105 
	$GENERIC
(, 
sˇÀ_y
)

106 
	$END
(
GlyphMëricsHashKey
)

109 
	$START
(
døwög
, 
døwög_hash_key
)

110 
	$GENERIC
(, 
sˇÀ_x
)

111 
	$GENERIC
(, 
sˇÀ_y
)

112 
	$GENERIC
(, 
pbo
)

113 
	$VECTOR
(
ouéöe
)

114 
	$GENERIC
(, 
b‹dî_°yÀ
)

115 
	$GENERIC
(, 
h•acög
)

116 
	$GENERIC
(, 
sˇÀ
)

117 
	$GENERIC
(, 
hash
)

118 
	$STRING
(
ãxt
)

119 
	$END
(
DøwögHashKey
)

122 
	$START
(
fûãr
, 
fûãr_desc
)

123 
	$GENERIC
(, 
Êags
)

124 
	$GENERIC
(, 
be
)

125 
	$GENERIC
(, 
blur
)

126 
	$VECTOR
(
shadow
)

127 
	$END
(
FûãrDesc
)

129 #unde‡
START


130 #unde‡
GENERIC


131 #unde‡
STRING


132 #unde‡
VECTOR


133 #unde‡
BITMAPHASHKEY


134 #unde‡
END


	@libass/ass_compat.h

19 #i‚de‡
LIBASS_COMPAT_H


20 
	#LIBASS_COMPAT_H


	)

22 #ifde‡
_MSC_VER


23 
	#_CRT_NONSTDC_NO_DEPRECATE


	)

24 
	#_CRT_SECURE_NO_WARNINGS


	)

25 
	#_USE_MATH_DEFINES


	)

26 
	#ölöe
 
__ölöe


	)

	@libass/ass_coretext.c

19 
	~"c⁄fig.h
"

20 
	~"ass_com∑t.h
"

22 
	~<C‹eFound©i⁄/C‹eFound©i⁄.h
>

23 
	~<T¨gëC⁄dôi⁄Æs.h
>

24 #i‡
TARGET_OS_IPHONE


25 
	~<C‹eText/C‹eText.h
>

27 
	~<Aµliˇti⁄Sîvi˚s/Aµliˇti⁄Sîvi˚s.h
>

30 
	~"ass_c‹ëext.h
"

32 
	#SAFE_CFRñó£
(
x
Ëdÿ{ i‡(xË
	`CFRñó£
(x); } 0)

	)

34 c⁄° 
ASS_F⁄tM≠pög
 
	gf⁄t_sub°ôuti⁄s
[] = {

40 *
	$cf°r2buf
(
CFSåögRef
 
°rög
)

42 i‡(!
°rög
)

43  
NULL
;

44 c⁄° 
ícodög
 = 
kCFSåögEncodögUTF8
;

45 c⁄° *
buf_±r
 = 
	`CFSåögGëCSåögPå
(
°rög
, 
ícodög
);

46 i‡(
buf_±r
) {

47  
	`°rdup
(
buf_±r
);

49 
size_t
 
Àn
 = 
	`CFSåögGëLígth
(
°rög
);

50 
CFIndex
 
buf_Àn
 = 
	`CFSåögGëMaximumSizeF‹Encodög
(
Àn
, 
ícodög
);

51 *
buf
 = 
	`mÆloc
(
buf_Àn
);

52 
	`CFSåögGëCSåög
(
°rög
, 
buf
, 
buf_Àn
, 
ícodög
);

53  
buf
;

55 
	}
}

57 
	$de°roy_f⁄t
(*
¥iv
)

59 
CTF⁄tDes¸ùt‹Ref
 
f⁄td
 = 
¥iv
;

60 
	`SAFE_CFRñó£
(
f⁄td
);

61 
	}
}

63 
boﬁ
 
	$check_po°s¸ùt
(*
¥iv
)

65 
CTF⁄tDes¸ùt‹Ref
 
f⁄td
 = 
¥iv
;

66 
CFNumbîRef
 
cff‹m©
 =

67 
	`CTF⁄tDes¸ùt‹C›yAâribuã
(
f⁄td
, 
kCTF⁄tF‹m©Aâribuã
);

68 
f‹m©
;

70 i‡(!
	`CFNumbîGëVÆue
(
cff‹m©
, 
kCFNumbîI¡Ty≥
, &
f‹m©
))

71  
Ál£
;

73 
	`SAFE_CFRñó£
(
cff‹m©
);

75  
f‹m©
 =
kCTF⁄tF‹m©O≥nTy≥Po°S¸ùt
 ||

76 
f‹m©
 =
kCTF⁄tF‹m©Po°S¸ùt
;

77 
	}
}

79 
boﬁ
 
	$check_glyph
(*
¥iv
, 
uöt32_t
 
code
)

81 i‡(
code
 == 0)

82  
åue
;

84 
CTF⁄tDes¸ùt‹Ref
 
f⁄td
 = 
¥iv
;

85 
CFCh¨a˘îSëRef
 
£t
 =

86 
	`CTF⁄tDes¸ùt‹C›yAâribuã
(
f⁄td
, 
kCTF⁄tCh¨a˘îSëAâribuã
);

88 i‡(!
£t
)

89  
åue
;

91 
boﬁ
 
ªsu…
 = 
	`CFCh¨a˘îSëIsL⁄gCh¨a˘îMembî
(
£t
, 
code
);

92 
	`SAFE_CFRñó£
(
£t
);

93  
ªsu…
;

94 
	}
}

96 *
	$gë_f⁄t_fûe
(
CTF⁄tDes¸ùt‹Ref
 
f⁄td
)

98 
CFURLRef
 
uæ
 = 
	`CTF⁄tDes¸ùt‹C›yAâribuã
(
f⁄td
, 
kCTF⁄tURLAâribuã
);

99 
CFSåögRef
 
∑th
 = 
	`CFURLC›yFûeSy°emP©h
(
uæ
, 
kCFURLPOSIXP©hStyÀ
);

100 *
buf„r
 = 
	`cf°r2buf
(
∑th
);

101 
	`SAFE_CFRñó£
(
∑th
);

102 
	`SAFE_CFRñó£
(
uæ
);

103  
buf„r
;

104 
	}
}

106 
	$gë_«me
(
CTF⁄tDes¸ùt‹Ref
 
f⁄td
, 
CFSåögRef
 
©å
,

107 **
¨øy
, *
idx
)

110 
CFSåögRef
 
«me
 = 
	`CTF⁄tDes¸ùt‹C›yAâribuã
(
f⁄td
, 
©å
);

111 i‡(
«me
) {

112 
¨øy
[*
idx
] = 
	`cf°r2buf
(
«me
);

113 
	`SAFE_CFRñó£
(
«me
);

114 *
idx
 += 1;

116 
	}
}

118 
	$gë_åaô
(
CFDi˘i⁄¨yRef
 
åaôs
, 
CFSåögRef
 
©åibuã
,

119 *
åaô
)

121 
CFNumbîRef
 
c·øô
 = 
	`CFDi˘i⁄¨yGëVÆue
(
åaôs
, 
©åibuã
);

122 i‡(!
	`CFNumbîGëVÆue
(
c·øô
, 
kCFNumbîFlﬂtTy≥
, 
åaô
))

123 *
åaô
 = 0.0;

124 
	}
}

126 
	$gë_f⁄t_åaôs
(
CTF⁄tDes¸ùt‹Ref
 
f⁄td
,

127 
ASS_F⁄tProvidîMëaD©a
 *
mëa
)

129 
weight
, 
¶™t
, 
width
;

131 
CFDi˘i⁄¨yRef
 
åaôs
 =

132 
	`CTF⁄tDes¸ùt‹C›yAâribuã
(
f⁄td
, 
kCTF⁄tTøôsAâribuã
);

134 
	`gë_åaô
(
åaôs
, 
kCTF⁄tWeightTøô
, &
weight
);

135 
	`gë_åaô
(
åaôs
, 
kCTF⁄tSœ¡Tøô
, &
¶™t
);

136 
	`gë_åaô
(
åaôs
, 
kCTF⁄tWidthTøô
, &
width
);

138 
	`SAFE_CFRñó£
(
åaôs
);

148 i‡(
weight
 >= 0.62)

149 
mëa
->
weight
 = 800;

150 i‡(
weight
 >= 0.4)

151 
mëa
->
weight
 = 700;

152 i‡(
weight
 >= 0.3)

153 
mëa
->
weight
 = 600;

154 i‡(
weight
 >= 0.23)

155 
mëa
->
weight
 = 500;

156 i‡(
weight
 >= -0.4)

157 
mëa
->
weight
 = 400;

159 
mëa
->
weight
 = 200;

161 i‡(
¶™t
 > 0.03)

162 
mëa
->
¶™t
 = 
FONT_SLANT_ITALIC
;

164 
mëa
->
¶™t
 = 
FONT_SLANT_NONE
;

166 i‡(
width
 <= -0.2)

167 
mëa
->
width
 = 
FONT_WIDTH_CONDENSED
;

168 i‡(
width
 >= 0.2)

169 
mëa
->
width
 = 
FONT_WIDTH_EXPANDED
;

171 
mëa
->
width
 = 
FONT_WIDTH_NORMAL
;

174 *
«me
[1];

175 
idx
 = 0;

176 
	`gë_«me
(
f⁄td
, 
kCTF⁄tDi•œyNameAâribuã
, 
«me
, &
idx
);

177 *
fûe
 = 
	`gë_f⁄t_fûe
(
f⁄td
);

178 
	`¥ötf
(

181 
«me
[0], 
fûe
,

182 
¶™t
, 
mëa
->¶™t, 
weight
, mëa->weight, 
width
, meta->width);

183 
	`‰ì
(
«me
[0]);

184 
	`‰ì
(
fûe
);

186 
	}
}

188 
	$¥o˚ss_des¸ùt‹s
(
ASS_F⁄tProvidî
 *
¥ovidî
, 
CFAºayRef
 
f⁄tsd
)

190 
ASS_F⁄tProvidîMëaD©a
 
mëa
;

191 *
Ámûõs
[1];

192 *
idítifõrs
[1];

193 *
fuŒ«mes
[1];

195 i‡(!
f⁄tsd
)

198 
i
 = 0; i < 
	`CFAºayGëCou¡
(
f⁄tsd
); i++) {

199 
CTF⁄tDes¸ùt‹Ref
 
f⁄td
 = 
	`CFAºayGëVÆueAtIndex
(
f⁄tsd
, 
i
);

200 
ödex
 = -1;

202 *
∑th
 = 
	`gë_f⁄t_fûe
(
f⁄td
);

203 i‡(
	`°rcmp
("", 
∑th
) == 0) {

205 
	`‰ì
(
∑th
);

209 
	`mem£t
(&
mëa
, 0, (meta));

210 
	`gë_f⁄t_åaôs
(
f⁄td
, &
mëa
);

212 
	`gë_«me
(
f⁄td
, 
kCTF⁄tFamûyNameAâribuã
, 
Ámûõs
, &
mëa
.
n_Ámûy
);

213 
mëa
.
Ámûõs
 = families;

215 
	`gë_«me
(
f⁄td
, 
kCTF⁄tDi•œyNameAâribuã
, 
fuŒ«mes
, &
mëa
.
n_fuŒ«me
);

216 
mëa
.
fuŒ«mes
 = fullnames;

218 
zîo
 = 0;

219 
	`gë_«me
(
f⁄td
, 
kCTF⁄tNameAâribuã
, 
idítifõrs
, &
zîo
);

220 
mëa
.
po°s¸ùt_«me
 = 
idítifõrs
[0];

222 
	`CFRëaö
(
f⁄td
);

223 
	`ass_f⁄t_¥ovidî_add_f⁄t
(
¥ovidî
, &
mëa
, 
∑th
, 
ödex
, (*)
f⁄td
);

225 
j
 = 0; j < 
mëa
.
n_Ámûy
; j++)

226 
	`‰ì
(
mëa
.
Ámûõs
[
j
]);

228 
j
 = 0; j < 
mëa
.
n_fuŒ«me
; j++)

229 
	`‰ì
(
mëa
.
fuŒ«mes
[
j
]);

231 
	`‰ì
(
mëa
.
po°s¸ùt_«me
);

233 
	`‰ì
(
∑th
);

235 
	}
}

237 
	$m©ch_f⁄ts
(
ASS_Libøry
 *
lib
, 
ASS_F⁄tProvidî
 *
¥ovidî
,

238 *
«me
)

240 íum { 
©åibuãs_n
 = 3 };

241 
CTF⁄tDes¸ùt‹Ref
 
˘des¸s
[
©åibuãs_n
];

242 
CFMuèbÀDi˘i⁄¨yRef
 
cÁârs
[
©åibuãs_n
];

243 
CFSåögRef
 
©åibuãs
[
©åibuãs_n
] = {

244 
kCTF⁄tFamûyNameAâribuã
,

245 
kCTF⁄tDi•œyNameAâribuã
,

246 
kCTF⁄tNameAâribuã
,

249 
CFSåögRef
 
c‚ame
 =

250 
	`CFSåögCª©eWôhCSåög
(
NULL
, 
«me
, 
kCFSåögEncodögUTF8
);

252 
i
 = 0; i < 
©åibuãs_n
; i++) {

253 
cÁârs
[
i
] = 
	`CFDi˘i⁄¨yCª©eMuèbÀ
(
NULL
, 0, 0, 0);

254 
	`CFDi˘i⁄¨yAddVÆue
(
cÁârs
[
i
], 
©åibuãs
[i], 
c‚ame
);

255 
˘des¸s
[
i
] = 
	`CTF⁄tDes¸ùt‹Cª©eWôhAâribuãs
(
cÁârs
[i]);

258 
CFAºayRef
 
des¸ùt‹s
 =

259 
	`CFAºayCª©e
(
NULL
, (c⁄° **)&
˘des¸s
, 
©åibuãs_n
, NULL);

261 
CTF⁄tCﬁÀ˘i⁄Ref
 
˘cﬁl
 =

262 
	`CTF⁄tCﬁÀ˘i⁄Cª©eWôhF⁄tDes¸ùt‹s
(
des¸ùt‹s
, 0);

264 
CFAºayRef
 
f⁄tsd
 =

265 
	`CTF⁄tCﬁÀ˘i⁄Cª©eM©chögF⁄tDes¸ùt‹s
(
˘cﬁl
);

267 
	`¥o˚ss_des¸ùt‹s
(
¥ovidî
, 
f⁄tsd
);

269 
	`SAFE_CFRñó£
(
f⁄tsd
);

270 
	`SAFE_CFRñó£
(
˘cﬁl
);

272 
i
 = 0; i < 
©åibuãs_n
; i++) {

273 
	`SAFE_CFRñó£
(
cÁârs
[
i
]);

274 
	`SAFE_CFRñó£
(
˘des¸s
[
i
]);

277 
	`SAFE_CFRñó£
(
des¸ùt‹s
);

278 
	`SAFE_CFRñó£
(
c‚ame
);

279 
	}
}

281 *
	$gë_ÁŒback
(*
¥iv
, c⁄° *
Ámûy
, 
uöt32_t
 
codïoöt
)

283 
CFSåögRef
 
«me
 = 
	`CFSåögCª©eWôhByãs
(

284 0, (
UI¡8
 *)
Ámûy
, 
	`°æí
(Ámûy), 
kCFSåögEncodögUTF8
, 
Ál£
);

285 
CTF⁄tRef
 
f⁄t
 = 
	`CTF⁄tCª©eWôhName
(
«me
, 0, 
NULL
);

286 
uöt32_t
 
codïoöée
 = 
	`OSSw≠Ho°ToLôéeI¡32
(
codïoöt
);

287 
CFSåögRef
 
r
 = 
	`CFSåögCª©eWôhByãs
(

288 0, (
UI¡8
*)&
codïoöée
, (codepointle),

289 
kCFSåögEncodögUTF32LE
, 
Ál£
);

290 
CTF⁄tRef
 
fb
 = 
	`CTF⁄tCª©eF‹Såög
(
f⁄t
, 
r
, 
	`CFR™geMake
(0, 1));

291 
CFSåögRef
 
cfÁmûy
 = 
	`CTF⁄tC›yFamûyName
(
fb
);

292 *
ªs_Ámûy
 = 
	`cf°r2buf
(
cfÁmûy
);

294 
	`SAFE_CFRñó£
(
«me
);

295 
	`SAFE_CFRñó£
(
f⁄t
);

296 
	`SAFE_CFRñó£
(
r
);

297 
	`SAFE_CFRñó£
(
fb
);

298 
	`SAFE_CFRñó£
(
cfÁmûy
);

300  
ªs_Ámûy
;

301 
	}
}

303 
	$gë_sub°ôuti⁄s
(*
¥iv
, c⁄° *
«me
,

304 
ASS_F⁄tProvidîMëaD©a
 *
mëa
)

306 c⁄° 
n
 = (
f⁄t_sub°ôuti⁄s
) / (font_substitutions[0]);

307 
	`ass_m≠_f⁄t
(
f⁄t_sub°ôuti⁄s
, 
n
, 
«me
, 
mëa
);

308 
	}
}

310 
ASS_F⁄tProvidîFuncs
 
	gc‹ëext_ˇŒbacks
 = {

311 .
check_po°s¸ùt
 = check_postscript,

312 .
	gcheck_glyph
 = 
check_glyph
,

313 .
	gde°roy_f⁄t
 = 
de°roy_f⁄t
,

314 .
	gm©ch_f⁄ts
 = 
m©ch_f⁄ts
,

315 .
	ggë_sub°ôuti⁄s
 = 
gë_sub°ôuti⁄s
,

316 .
	ggë_ÁŒback
 = 
gë_ÁŒback
,

319 
ASS_F⁄tProvidî
 *

320 
	$ass_c‹ëext_add_¥ovidî
(
ASS_Libøry
 *
lib
, 
ASS_F⁄tSñe˘‹
 *
£À˘‹
,

321 c⁄° *
c⁄fig
)

323  
	`ass_f⁄t_¥ovidî_√w
(
£À˘‹
, &
c‹ëext_ˇŒbacks
, 
NULL
);

324 
	}
}

	@libass/ass_coretext.h

19 
	~"ass_ty≥s.h
"

20 
	~"ass_f⁄t£À˘.h
"

22 #i‚de‡
ASS_CORETEXT_H


23 
	#ASS_CORETEXT_H


	)

25 #ifde‡
CONFIG_CORETEXT


27 
ASS_F⁄tProvidî
 *

28 
ass_c‹ëext_add_¥ovidî
(
ASS_Libøry
 *
lib
, 
ASS_F⁄tSñe˘‹
 *
£À˘‹
,

29 c⁄° *
c⁄fig
);

	@libass/ass_directwrite.c

18 
	#COBJMACROS


	)

20 
	~"c⁄fig.h
"

21 
	~"ass_com∑t.h
"

23 
	~<öôguid.h
>

24 
	~<ﬁe2.h
>

25 
	~<shobjidl.h
>

27 
	~"dwrôe_c.h
"

29 
	~"ass_dúe˘wrôe.h
"

30 
	~"ass_utûs.h
"

32 
	#NAME_MAX_LENGTH
 256

	)

33 
	#FALLBACK_DEFAULT_FONT
 
L
"Arül"

	)

35 c⁄° 
ASS_F⁄tM≠pög
 
	gf⁄t_sub°ôuti⁄s
[] = {

45 
IDWrôeF⁄t
 *
	mf⁄t
;

46 
IDWrôeF⁄tFa˚
 *
	mÁ˚
;

47 
IDWrôeF⁄tFûeSåóm
 *
	m°ªam
;

48 } 
	tF⁄tPriv©e
;

51 
HMODULE
 
	mdúe˘wrôe_lib
;

52 
IDWrôeFa˘‹y
 *
	mÁ˘‹y
;

53 } 
	tProvidîPriv©e
;

60 
	sFÆlbackLogTextRídîî
 {

61 
IDWrôeTextRídîî
 
	miÁ˚
;

62 
IDWrôeTextRídîîVtbl
 
	mvtbl
;

63 
IDWrôeFa˘‹y
 *
	mdw_Á˘‹y
;

64 
LONG
 
	mªf_cou¡
;

65 } 
	tFÆlbackLogTextRídîî
;

67 
HRESULT
 
STDMETHODCALLTYPE
 
	$FÆlbackLogTextRídîî_IsPixñS«µögDißbÀd
(

68 
IDWrôeTextRídîî
 *
This
,

69 * 
˛õ¡DøwögC⁄ãxt
,

70 
BOOL
* 
isDißbÀd


73 *
isDißbÀd
 = 
åue
;

74  
S_OK
;

75 
	}
}

77 
HRESULT
 
STDMETHODCALLTYPE
 
	$FÆlbackLogTextRídîî_GëCuºítTønsf‹m
(

78 
IDWrôeTextRídîî
 *
This
,

79 * 
˛õ¡DøwögC⁄ãxt
,

80 
DWRITE_MATRIX
* 
å™sf‹m


83  
E_NOTIMPL
;

84 
	}
}

86 
HRESULT
 
STDMETHODCALLTYPE
 
	$FÆlbackLogTextRídîî_GëPixñsPîDù
(

87 
IDWrôeTextRídîî
 *
This
,

88 * 
˛õ¡DøwögC⁄ãxt
,

89 
FLOAT
* 
pixñsPîDù


92  
E_NOTIMPL
;

93 
	}
}

95 
HRESULT
 
STDMETHODCALLTYPE
 
	$FÆlbackLogTextRídîî_DøwGlyphRun
(

96 
IDWrôeTextRídîî
 *
This
,

97 * 
˛õ¡DøwögC⁄ãxt
,

98 
FLOAT
 
ba£löeOrigöX
,

99 
FLOAT
 
ba£löeOrigöY
,

100 
DWRITE_MEASURING_MODE
 
mósurögMode
,

101 
DWRITE_GLYPH_RUN
 c⁄°* 
glyphRun
,

102 
DWRITE_GLYPH_RUN_DESCRIPTION
 c⁄°* 
glyphRunDes¸ùti⁄
,

103 
IUnknown
* 
˛õ¡DøwögEf„˘


106 
FÆlbackLogTextRídîî
 *
this
 = (FÆlbackLogTextRídîî *)
This
;

107 
HRESULT
 
hr
;

108 
IDWrôeF⁄tCﬁÀ˘i⁄
 *
f⁄t_cﬁl
 = 
NULL
;

109 
IDWrôeF⁄t
 **
f⁄t
 = (IDWrôeF⁄à**)
˛õ¡DøwögC⁄ãxt
;

111 
hr
 = 
	`IDWrôeFa˘‹y_GëSy°emF⁄tCﬁÀ˘i⁄
(
this
->
dw_Á˘‹y
, &
f⁄t_cﬁl
, 
FALSE
);

112 i‡(
	`FAILED
(
hr
))

113  
E_FAIL
;

115 
hr
 = 
	`IDWrôeF⁄tCﬁÀ˘i⁄_GëF⁄tFromF⁄tFa˚
(
f⁄t_cﬁl
, 
glyphRun
->
f⁄tFa˚
,

116 
f⁄t
);

117 i‡(
	`FAILED
(
hr
))

118  
E_FAIL
;

120  
S_OK
;

121 
	}
}

123 
HRESULT
 
STDMETHODCALLTYPE
 
	$FÆlbackLogTextRídîî_DøwUndîlöe
(

124 
IDWrôeTextRídîî
 *
This
,

125 * 
˛õ¡DøwögC⁄ãxt
,

126 
FLOAT
 
ba£löeOrigöX
,

127 
FLOAT
 
ba£löeOrigöY
,

128 
DWRITE_UNDERLINE
 c⁄°* 
undîlöe
,

129 
IUnknown
* 
˛õ¡DøwögEf„˘


132  
S_OK
;

133 
	}
}

135 
HRESULT
 
STDMETHODCALLTYPE
 
	$FÆlbackLogTextRídîî_DøwSåikëhrough
(

136 
IDWrôeTextRídîî
 *
This
,

137 * 
˛õ¡DøwögC⁄ãxt
,

138 
FLOAT
 
ba£löeOrigöX
,

139 
FLOAT
 
ba£löeOrigöY
,

140 
DWRITE_STRIKETHROUGH
 c⁄°* 
°rikëhrough
,

141 
IUnknown
* 
˛õ¡DøwögEf„˘


144  
S_OK
;

145 
	}
}

147 
HRESULT
 
STDMETHODCALLTYPE
 
	$FÆlbackLogTextRídîî_DøwI∆öeObje˘
(

148 
IDWrôeTextRídîî
 *
This
,

149 *
˛õ¡DøwögC⁄ãxt
,

150 
FLOAT
 
‹igöX
,

151 
FLOAT
 
‹igöY
,

152 
IDWrôeI∆öeObje˘
 *
ölöeObje˘
,

153 
BOOL
 
isSideways
,

154 
BOOL
 
isRightToLe·
,

155 
IUnknown
 *
˛õ¡DøwögEf„˘


158  
S_OK
;

159 
	}
}

163 
ULONG
 
STDMETHODCALLTYPE
 
	$FÆlbackLogTextRídîî_AddRef
(

164 
IDWrôeTextRídîî
 *
This


167 
FÆlbackLogTextRídîî
 *
this
 = (FÆlbackLogTextRídîî *)
This
;

168  
	`I¡îlockedIn¸emít
(&
this
->
ªf_cou¡
);

169 
	}
}

171 
ULONG
 
STDMETHODCALLTYPE
 
	$FÆlbackLogTextRídîî_Rñó£
(

172 
IDWrôeTextRídîî
 *
This


175 
FÆlbackLogTextRídîî
 *
this
 = (FÆlbackLogTextRídîî *)
This
;

176 
√w_cou¡
 = 
	`I¡îlockedDe¸emít
(&
this
->
ªf_cou¡
);

177 i‡(
√w_cou¡
 == 0) {

178 
	`‰ì
(
this
);

182  
√w_cou¡
;

183 
	}
}

185 
HRESULT
 
STDMETHODCALLTYPE
 
	$FÆlbackLogTextRídîî_QuîyI¡îÁ˚
(

186 
IDWrôeTextRídîî
 *
This
,

187 
REFIID
 
riid
,

188 **
µvObje˘


191 i‡(
	`IsEquÆGUID
(
riid
, &
IID_IDWrôeTextRídîî
)

192 || 
	`IsEquÆGUID
(
riid
, &
IID_IDWrôePixñS«µög
)

193 || 
	`IsEquÆGUID
(
riid
, &
IID_IUnknown
)) {

194 *
µvObje˘
 = 
This
;

196 *
µvObje˘
 = 
NULL
;

197  
E_FAIL
;

200 
This
->
ÕVtbl
->
	`AddRef
(This);

201  
S_OK
;

202 
	}
}

204 
	$öô_FÆlbackLogTextRídîî
(
FÆlbackLogTextRídîî
 *
r
,

205 
IDWrôeFa˘‹y
 *
Á˘‹y
)

207 *
r
 = (
FÆlbackLogTextRídîî
){

208 .
iÁ˚
 = {

209 .
ÕVtbl
 = &
r
->
vtbl
,

211 .
vtbl
 = {

212 
FÆlbackLogTextRídîî_QuîyI¡îÁ˚
,

213 
FÆlbackLogTextRídîî_AddRef
,

214 
FÆlbackLogTextRídîî_Rñó£
,

215 
FÆlbackLogTextRídîî_IsPixñS«µögDißbÀd
,

216 
FÆlbackLogTextRídîî_GëCuºítTønsf‹m
,

217 
FÆlbackLogTextRídîî_GëPixñsPîDù
,

218 
FÆlbackLogTextRídîî_DøwGlyphRun
,

219 
FÆlbackLogTextRídîî_DøwUndîlöe
,

220 
FÆlbackLogTextRídîî_DøwSåikëhrough
,

221 
FÆlbackLogTextRídîî_DøwI∆öeObje˘
,

223 .
dw_Á˘‹y
 = 
Á˘‹y
,

225 
	}
}

232 
boﬁ
 
	$öô_f⁄t_¥iv©e_Á˚
(
F⁄tPriv©e
 *
¥iv
)

234 
HRESULT
 
hr
;

235 
IDWrôeF⁄tFa˚
 *
Á˚
;

237 i‡(
¥iv
->
Á˚
 !
NULL
)

238  
åue
;

240 
hr
 = 
	`IDWrôeF⁄t_Cª©eF⁄tFa˚
(
¥iv
->
f⁄t
, &
Á˚
);

241 i‡(
	`FAILED
(
hr
Ë|| !
Á˚
)

242  
Ál£
;

244 
¥iv
->
Á˚
 = face;

245  
åue
;

246 
	}
}

253 
boﬁ
 
	$öô_f⁄t_¥iv©e_°ªam
(
F⁄tPriv©e
 *
¥iv
)

255 
HRESULT
 
hr
 = 
S_OK
;

256 
IDWrôeF⁄tFûe
 *
fûe
 = 
NULL
;

257 
IDWrôeF⁄tFûeSåóm
 *
°ªam
 = 
NULL
;

258 
IDWrôeF⁄tFûeLﬂdî
 *
lﬂdî
 = 
NULL
;

259 
UINT32
 
n_fûes
 = 1;

260 c⁄° *
ªfKey
 = 
NULL
;

261 
UINT32
 
keySize
 = 0;

263 i‡(
¥iv
->
°ªam
 !
NULL
)

264  
åue
;

266 i‡(!
	`öô_f⁄t_¥iv©e_Á˚
(
¥iv
))

267  
Ál£
;

270 
hr
 = 
	`IDWrôeF⁄tFa˚_GëFûes
(
¥iv
->
Á˚
, &
n_fûes
, &
fûe
);

271 i‡(
	`FAILED
(
hr
Ë|| !
fûe
)

272  
Ál£
;

274 
hr
 = 
	`IDWrôeF⁄tFûe_GëRe„ªn˚Key
(
fûe
, &
ªfKey
, &
keySize
);

275 i‡(
	`FAILED
(
hr
)) {

276 
	`IDWrôeF⁄tFûe_Rñó£
(
fûe
);

277  
Ál£
;

280 
hr
 = 
	`IDWrôeF⁄tFûe_GëLﬂdî
(
fûe
, &
lﬂdî
);

281 i‡(
	`FAILED
(
hr
Ë|| !
lﬂdî
) {

282 
	`IDWrôeF⁄tFûe_Rñó£
(
fûe
);

283  
Ál£
;

286 
hr
 = 
	`IDWrôeF⁄tFûeLﬂdî_Cª©eSåómFromKey
(
lﬂdî
, 
ªfKey
, 
keySize
, &
°ªam
);

287 i‡(
	`FAILED
(
hr
Ë|| !
°ªam
) {

288 
	`IDWrôeF⁄tFûe_Rñó£
(
fûe
);

289  
Ál£
;

292 
¥iv
->
°ªam
 = stream;

293 
	`IDWrôeF⁄tFûe_Rñó£
(
fûe
);

295  
åue
;

296 
	}
}

305 
size_t
 
	$gë_d©a
(*
d©a
, *
buf
, 
size_t
 
off£t
,

306 
size_t
 
Àngth
)

308 
HRESULT
 
hr
 = 
S_OK
;

309 
F⁄tPriv©e
 *
¥iv
 = (F⁄tPriv©ê*Ë
d©a
;

310 c⁄° *
fûeBuf
 = 
NULL
;

311 *
‰agC⁄ãxt
 = 
NULL
;

313 i‡(!
	`öô_f⁄t_¥iv©e_°ªam
(
¥iv
))

316 i‡(
buf
 =
NULL
) {

317 
UINT64
 
fûeSize
;

318 
hr
 = 
	`IDWrôeF⁄tFûeSåóm_GëFûeSize
(
¥iv
->
°ªam
, &
fûeSize
);

319 i‡(
	`FAILED
(
hr
))

322  
fûeSize
;

325 
hr
 = 
	`IDWrôeF⁄tFûeSåóm_RódFûeFøgmít
(
¥iv
->
°ªam
, &
fûeBuf
, 
off£t
,

326 
Àngth
, &
‰agC⁄ãxt
);

328 i‡(
	`FAILED
(
hr
Ë|| !
fûeBuf
)

331 
	`mem˝y
(
buf
, 
fûeBuf
, 
Àngth
);

333 
	`IDWrôeF⁄tFûeSåóm_Rñó£FûeFøgmít
(
¥iv
->
°ªam
, 
‰agC⁄ãxt
);

335  
Àngth
;

336 
	}
}

341 
boﬁ
 
	$check_po°s¸ùt
(*
d©a
)

343 
F⁄tPriv©e
 *
¥iv
 = (F⁄tPriv©ê*Ë
d©a
;

345 i‡(!
	`öô_f⁄t_¥iv©e_Á˚
(
¥iv
))

346  
Ál£
;

348 
DWRITE_FONT_FACE_TYPE
 
ty≥
 = 
	`IDWrôeF⁄tFa˚_GëTy≥
(
¥iv
->
Á˚
);

349  
ty≥
 =
DWRITE_FONT_FACE_TYPE_CFF
 ||

350 
ty≥
 =
DWRITE_FONT_FACE_TYPE_RAW_CFF
 ||

351 
ty≥
 =
DWRITE_FONT_FACE_TYPE_TYPE1
;

352 
	}
}

357 
	$gë_f⁄t_ödex
(*
d©a
)

359 
F⁄tPriv©e
 *
¥iv
 = (F⁄tPriv©ê*)
d©a
;

361 i‡(!
	`öô_f⁄t_¥iv©e_Á˚
(
¥iv
))

364  
	`IDWrôeF⁄tFa˚_GëIndex
(
¥iv
->
Á˚
);

365 
	}
}

370 
boﬁ
 
	$check_glyph
(*
d©a
, 
uöt32_t
 
code
)

372 
HRESULT
 
hr
 = 
S_OK
;

373 
F⁄tPriv©e
 *
¥iv
 = (F⁄tPriv©ê*Ë
d©a
;

374 
BOOL
 
exi°s
 = 
FALSE
;

376 i‡(
code
 == 0)

377  
åue
;

379 
hr
 = 
	`IDWrôeF⁄t_HasCh¨a˘î
(
¥iv
->
f⁄t
, 
code
, &
exi°s
);

380 i‡(
	`FAILED
(
hr
))

381  
Ál£
;

383  
exi°s
;

384 
	}
}

389 
	$de°roy_¥ovidî
(*
¥iv
)

391 
ProvidîPriv©e
 *
¥ovidî_¥iv
 = (ProvidîPriv©ê*)
¥iv
;

392 
¥ovidî_¥iv
->
Á˘‹y
->
ÕVtbl
->
	`Rñó£
(provider_priv->factory);

393 
	`FªeLibøry
(
¥ovidî_¥iv
->
dúe˘wrôe_lib
);

394 
	`‰ì
(
¥ovidî_¥iv
);

395 
	}
}

402 
	$de°roy_f⁄t
(*
d©a
)

404 
F⁄tPriv©e
 *
¥iv
 = (F⁄tPriv©ê*Ë
d©a
;

406 
	`IDWrôeF⁄t_Rñó£
(
¥iv
->
f⁄t
);

407 i‡(
¥iv
->
Á˚
 !
NULL
)

408 
	`IDWrôeF⁄tFa˚_Rñó£
(
¥iv
->
Á˚
);

409 i‡(
¥iv
->
°ªam
 !
NULL
)

410 
	`IDWrôeF⁄tFûeSåóm_Rñó£
(
¥iv
->
°ªam
);

412 
	`‰ì
(
¥iv
);

413 
	}
}

415 
	$ícode_utf16
(
wch¨_t
 *
ch¨s
, 
uöt32_t
 
codïoöt
)

417 i‡(
codïoöt
 < 0x10000) {

418 
ch¨s
[0] = 
codïoöt
;

421 
ch¨s
[0] = (
codïoöt
 >> 10) + 0xD7C0;

422 
ch¨s
[1] = (
codïoöt
 & 0x3FF) + 0xDC00;

425 
	}
}

427 *
	$gë_ÁŒback
(*
¥iv
, c⁄° *
ba£
, 
uöt32_t
 
codïoöt
)

429 
HRESULT
 
hr
;

430 
ProvidîPriv©e
 *
¥ovidî_¥iv
 = (ProvidîPriv©ê*)
¥iv
;

431 
IDWrôeFa˘‹y
 *
dw_Á˘‹y
 = 
¥ovidî_¥iv
->
Á˘‹y
;

432 
IDWrôeTextF‹m©
 *
ãxt_f‹m©
 = 
NULL
;

433 
IDWrôeTextLayout
 *
ãxt_œyout
 = 
NULL
;

434 
FÆlbackLogTextRídîî
 
ªndîî
;

436 
	`öô_FÆlbackLogTextRídîî
(&
ªndîî
, 
dw_Á˘‹y
);

438 
hr
 = 
	`IDWrôeFa˘‹y_Cª©eTextF‹m©
(
dw_Á˘‹y
, 
FALLBACK_DEFAULT_FONT
, 
NULL
,

439 
DWRITE_FONT_WEIGHT_MEDIUM
, 
DWRITE_FONT_STYLE_NORMAL
,

440 
DWRITE_FONT_STRETCH_NORMAL
, 1.0f, 
L
"", &
ãxt_f‹m©
);

441 i‡(
	`FAILED
(
hr
)) {

442  
NULL
;

446 
wch¨_t
 
ch¨_°rög
[2];

447 
ch¨_Àn
 = 
	`ícode_utf16
(
ch¨_°rög
, 
codïoöt
);

451 
hr
 = 
	`IDWrôeFa˘‹y_Cª©eTextLayout
(
dw_Á˘‹y
, 
ch¨_°rög
, 
ch¨_Àn
, 
ãxt_f‹m©
,

452 0.0f, 0.0f, &
ãxt_œyout
);

453 i‡(
	`FAILED
(
hr
)) {

454 
	`IDWrôeTextF‹m©_Rñó£
(
ãxt_f‹m©
);

455  
NULL
;

460 
IDWrôeF⁄t
 *
f⁄t
 = 
NULL
;

461 
hr
 = 
	`IDWrôeTextLayout_Døw
(
ãxt_œyout
, &
f⁄t
, &
ªndîî
.
iÁ˚
, 0.0f, 0.0f);

462 i‡(
	`FAILED
(
hr
Ë|| 
f⁄t
 =
NULL
) {

463 
	`IDWrôeTextLayout_Rñó£
(
ãxt_œyout
);

464 
	`IDWrôeTextF‹m©_Rñó£
(
ãxt_f‹m©
);

465  
NULL
;

469 
	`IDWrôeTextLayout_Rñó£
(
ãxt_œyout
);

470 
	`IDWrôeTextF‹m©_Rñó£
(
ãxt_f‹m©
);

473 
BOOL
 
exi°s
 = 
FALSE
;

474 
IDWrôeLoˇlizedSåögs
 *
ÁmûyNames
 = 
NULL
;

475 
hr
 = 
	`IDWrôeF⁄t_GëInf‹m©i⁄ÆSåögs
(
f⁄t
,

476 
DWRITE_INFORMATIONAL_STRING_WIN32_FAMILY_NAMES
,

477 &
ÁmûyNames
, &
exi°s
);

478 i‡(
	`FAILED
(
hr
Ë|| !
exi°s
) {

479 
	`IDWrôeF⁄t_Rñó£
(
f⁄t
);

480  
NULL
;

483 
wch¨_t
 
ãmp_«me
[
NAME_MAX_LENGTH
];

484 
hr
 = 
	`IDWrôeLoˇlizedSåögs_GëSåög
(
ÁmûyNames
, 0, 
ãmp_«me
, 
NAME_MAX_LENGTH
);

485 i‡(
	`FAILED
(
hr
)) {

486 
	`IDWrôeLoˇlizedSåögs_Rñó£
(
ÁmûyNames
);

487 
	`IDWrôeF⁄t_Rñó£
(
f⁄t
);

488  
NULL
;

490 
ãmp_«me
[
NAME_MAX_LENGTH
-1] = 0;

494 i‡(
codïoöt
 > 0) {

495 
hr
 = 
	`IDWrôeF⁄t_HasCh¨a˘î
(
f⁄t
, 
codïoöt
, &
exi°s
);

496 i‡(
	`FAILED
(
hr
Ë|| !
exi°s
) {

497 
	`IDWrôeLoˇlizedSåögs_Rñó£
(
ÁmûyNames
);

498 
	`IDWrôeF⁄t_Rñó£
(
f⁄t
);

499  
NULL
;

503 
size_√eded
 = 
	`WideCh¨ToMu…iByã
(
CP_UTF8
, 0, 
ãmp_«me
, -1, 
NULL
, 0,NULL, NULL);

504 *
Ámûy
 = (*Ë
	`mÆloc
(
size_√eded
);

505 
	`WideCh¨ToMu…iByã
(
CP_UTF8
, 0, 
ãmp_«me
, -1, 
Ámûy
, 
size_√eded
, 
NULL
, NULL);

507 
	`IDWrôeLoˇlizedSåögs_Rñó£
(
ÁmûyNames
);

508 
	`IDWrôeF⁄t_Rñó£
(
f⁄t
);

509  
Ámûy
;

510 
	}
}

512 
	$m≠_width
(
DWRITE_FONT_STRETCH
 
°ªtch
)

514 
°ªtch
) {

515 
DWRITE_FONT_STRETCH_ULTRA_CONDENSED
:  50;

516 
DWRITE_FONT_STRETCH_EXTRA_CONDENSED
:  63;

517 
DWRITE_FONT_STRETCH_CONDENSED
:  
FONT_WIDTH_CONDENSED
;

518 
DWRITE_FONT_STRETCH_SEMI_CONDENSED
:  88;

519 
DWRITE_FONT_STRETCH_MEDIUM
:  
FONT_WIDTH_NORMAL
;

520 
DWRITE_FONT_STRETCH_SEMI_EXPANDED
:  113;

521 
DWRITE_FONT_STRETCH_EXPANDED
:  
FONT_WIDTH_EXPANDED
;

522 
DWRITE_FONT_STRETCH_EXTRA_EXPANDED
:  150;

523 
DWRITE_FONT_STRETCH_ULTRA_EXPANDED
:  200;

525  
FONT_WIDTH_NORMAL
;

527 
	}
}

529 
	$add_f⁄t
(
IDWrôeF⁄t
 *
f⁄t
, 
IDWrôeF⁄tFamûy
 *
f⁄tFamûy
,

530 
ASS_F⁄tProvidî
 *
¥ovidî
)

532 
HRESULT
 
hr
;

533 
BOOL
 
exi°s
;

534 
wch¨_t
 
ãmp_«me
[
NAME_MAX_LENGTH
];

535 
size_√eded
;

536 
ASS_F⁄tProvidîMëaD©a
 
mëa
 = {0};

538 
mëa
.
weight
 = 
	`IDWrôeF⁄t_GëWeight
(
f⁄t
);

539 
mëa
.
width
 = 
	`m≠_width
(
	`IDWrôeF⁄t_GëSåëch
(
f⁄t
));

541 
DWRITE_FONT_STYLE
 
°yÀ
 = 
	`IDWrôeF⁄t_GëStyÀ
(
f⁄t
);

542 
mëa
.
¶™t
 = (
°yÀ
 =
DWRITE_FONT_STYLE_NORMAL
Ë? 
FONT_SLANT_NONE
 :

543 (
°yÀ
 =
DWRITE_FONT_STYLE_OBLIQUE
)? 
FONT_SLANT_OBLIQUE
 :

544 (
°yÀ
 =
DWRITE_FONT_STYLE_ITALIC
Ë? 
FONT_SLANT_ITALIC
 : 
FONT_SLANT_NONE
;

546 
IDWrôeLoˇlizedSåögs
 *
psNames
;

547 
hr
 = 
	`IDWrôeF⁄t_GëInf‹m©i⁄ÆSåögs
(
f⁄t
,

548 
DWRITE_INFORMATIONAL_STRING_POSTSCRIPT_NAME
, &
psNames
, &
exi°s
);

549 i‡(
	`FAILED
(
hr
))

550 
˛ónup
;

552 i‡(
exi°s
) {

553 
hr
 = 
	`IDWrôeLoˇlizedSåögs_GëSåög
(
psNames
, 0, 
ãmp_«me
, 
NAME_MAX_LENGTH
);

554 i‡(
	`FAILED
(
hr
)) {

555 
	`IDWrôeLoˇlizedSåögs_Rñó£
(
psNames
);

556 
˛ónup
;

559 
ãmp_«me
[
NAME_MAX_LENGTH
-1] = 0;

560 
size_√eded
 = 
	`WideCh¨ToMu…iByã
(
CP_UTF8
, 0, 
ãmp_«me
, -1, 
NULL
, 0, NULL, NULL);

561 *
mbName
 = (*Ë
	`mÆloc
(
size_√eded
);

562 i‡(!
mbName
) {

563 
	`IDWrôeLoˇlizedSåögs_Rñó£
(
psNames
);

564 
˛ónup
;

566 
	`WideCh¨ToMu…iByã
(
CP_UTF8
, 0, 
ãmp_«me
, -1, 
mbName
, 
size_√eded
, 
NULL
, NULL);

567 
mëa
.
po°s¸ùt_«me
 = 
mbName
;

569 
	`IDWrôeLoˇlizedSåögs_Rñó£
(
psNames
);

572 
IDWrôeLoˇlizedSåögs
 *
f⁄tNames
;

573 
hr
 = 
	`IDWrôeF⁄t_GëInf‹m©i⁄ÆSåögs
(
f⁄t
,

574 
DWRITE_INFORMATIONAL_STRING_FULL_NAME
, &
f⁄tNames
, &
exi°s
);

575 i‡(
	`FAILED
(
hr
))

576 
˛ónup
;

578 i‡(
exi°s
) {

579 
mëa
.
n_fuŒ«me
 = 
	`IDWrôeLoˇlizedSåögs_GëCou¡
(
f⁄tNames
);

580 
mëa
.
fuŒ«mes
 = (**Ë
	`ˇŒoc
(mëa.
n_fuŒ«me
, (*));

581 i‡(!
mëa
.
fuŒ«mes
) {

582 
	`IDWrôeLoˇlizedSåögs_Rñó£
(
f⁄tNames
);

583 
˛ónup
;

585 
k
 = 0; k < 
mëa
.
n_fuŒ«me
; k++) {

586 
hr
 = 
	`IDWrôeLoˇlizedSåögs_GëSåög
(
f⁄tNames
, 
k
,

587 
ãmp_«me
,

588 
NAME_MAX_LENGTH
);

589 i‡(
	`FAILED
(
hr
)) {

590 
	`IDWrôeLoˇlizedSåögs_Rñó£
(
f⁄tNames
);

591 
˛ónup
;

594 
ãmp_«me
[
NAME_MAX_LENGTH
-1] = 0;

595 
size_√eded
 = 
	`WideCh¨ToMu…iByã
(
CP_UTF8
, 0, 
ãmp_«me
, -1, 
NULL
, 0, NULL, NULL);

596 *
mbName
 = (*Ë
	`mÆloc
(
size_√eded
);

597 i‡(!
mbName
) {

598 
	`IDWrôeLoˇlizedSåögs_Rñó£
(
f⁄tNames
);

599 
˛ónup
;

601 
	`WideCh¨ToMu…iByã
(
CP_UTF8
, 0, 
ãmp_«me
, -1, 
mbName
, 
size_√eded
, 
NULL
, NULL);

602 
mëa
.
fuŒ«mes
[
k
] = 
mbName
;

604 
	`IDWrôeLoˇlizedSåögs_Rñó£
(
f⁄tNames
);

607 
IDWrôeLoˇlizedSåögs
 *
ÁmûyNames
;

608 
hr
 = 
	`IDWrôeF⁄t_GëInf‹m©i⁄ÆSåögs
(
f⁄t
,

609 
DWRITE_INFORMATIONAL_STRING_WIN32_FAMILY_NAMES
, &
ÁmûyNames
, &
exi°s
);

610 i‡(
	`FAILED
(
hr
Ë|| !
exi°s
)

611 
hr
 = 
	`IDWrôeF⁄tFamûy_GëFamûyNames
(
f⁄tFamûy
, &
ÁmûyNames
);

612 i‡(
	`FAILED
(
hr
))

613 
˛ónup
;

615 
mëa
.
n_Ámûy
 = 
	`IDWrôeLoˇlizedSåögs_GëCou¡
(
ÁmûyNames
);

616 
mëa
.
Ámûõs
 = (**Ë
	`ˇŒoc
(mëa.
n_Ámûy
, (*));

617 i‡(!
mëa
.
Ámûõs
) {

618 
	`IDWrôeLoˇlizedSåögs_Rñó£
(
ÁmûyNames
);

619 
˛ónup
;

621 
k
 = 0; k < 
mëa
.
n_Ámûy
; k++) {

622 
hr
 = 
	`IDWrôeLoˇlizedSåögs_GëSåög
(
ÁmûyNames
, 
k
,

623 
ãmp_«me
,

624 
NAME_MAX_LENGTH
);

625 i‡(
	`FAILED
(
hr
)) {

626 
	`IDWrôeLoˇlizedSåögs_Rñó£
(
ÁmûyNames
);

627 
˛ónup
;

630 
ãmp_«me
[
NAME_MAX_LENGTH
-1] = 0;

631 
size_√eded
 = 
	`WideCh¨ToMu…iByã
(
CP_UTF8
, 0, 
ãmp_«me
, -1, 
NULL
, 0, NULL, NULL);

632 *
mbName
 = (*Ë
	`mÆloc
(
size_√eded
);

633 i‡(!
mbName
) {

634 
	`IDWrôeLoˇlizedSåögs_Rñó£
(
ÁmûyNames
);

635 
˛ónup
;

637 
	`WideCh¨ToMu…iByã
(
CP_UTF8
, 0, 
ãmp_«me
, -1, 
mbName
, 
size_√eded
, 
NULL
, NULL);

638 
mëa
.
Ámûõs
[
k
] = 
mbName
;

640 
	`IDWrôeLoˇlizedSåögs_Rñó£
(
ÁmûyNames
);

642 
F⁄tPriv©e
 *
f⁄t_¥iv
 = (F⁄tPriv©ê*Ë
	`ˇŒoc
(1, (*font_priv));

643 i‡(!
f⁄t_¥iv
)

644 
˛ónup
;

645 
f⁄t_¥iv
->
f⁄t
 = font;

646 
f⁄t
 = 
NULL
;

648 
	`ass_f⁄t_¥ovidî_add_f⁄t
(
¥ovidî
, &
mëa
, 
NULL
, 0, 
f⁄t_¥iv
);

650 
˛ónup
:

651 i‡(
mëa
.
Ámûõs
) {

652 
k
 = 0; k < 
mëa
.
n_Ámûy
; k++)

653 
	`‰ì
(
mëa
.
Ámûõs
[
k
]);

654 
	`‰ì
(
mëa
.
Ámûõs
);

657 i‡(
mëa
.
fuŒ«mes
) {

658 
k
 = 0; k < 
mëa
.
n_fuŒ«me
; k++)

659 
	`‰ì
(
mëa
.
fuŒ«mes
[
k
]);

660 
	`‰ì
(
mëa
.
fuŒ«mes
);

663 
	`‰ì
(
mëa
.
po°s¸ùt_«me
);

665 i‡(
f⁄t
)

666 
	`IDWrôeF⁄t_Rñó£
(
f⁄t
);

667 
	}
}

674 
	$sˇn_f⁄ts
(
IDWrôeFa˘‹y
 *
Á˘‹y
,

675 
ASS_F⁄tProvidî
 *
¥ovidî
)

677 
HRESULT
 
hr
 = 
S_OK
;

678 
IDWrôeF⁄tCﬁÀ˘i⁄
 *
f⁄tCﬁÀ˘i⁄
 = 
NULL
;

679 
IDWrôeF⁄t
 *
f⁄t
 = 
NULL
;

680 
hr
 = 
	`IDWrôeFa˘‹y_GëSy°emF⁄tCﬁÀ˘i⁄
(
Á˘‹y
, &
f⁄tCﬁÀ˘i⁄
, 
FALSE
);

682 i‡(
	`FAILED
(
hr
Ë|| !
f⁄tCﬁÀ˘i⁄
)

685 
UINT32
 
ÁmûyCou¡
 = 
	`IDWrôeF⁄tCﬁÀ˘i⁄_GëF⁄tFamûyCou¡
(
f⁄tCﬁÀ˘i⁄
);

687 
UINT32
 
i
 = 0; i < 
ÁmûyCou¡
; ++i) {

688 
IDWrôeF⁄tFamûy
 *
f⁄tFamûy
 = 
NULL
;

690 
hr
 = 
	`IDWrôeF⁄tCﬁÀ˘i⁄_GëF⁄tFamûy
(
f⁄tCﬁÀ˘i⁄
, 
i
, &
f⁄tFamûy
);

691 i‡(
	`FAILED
(
hr
))

694 
UINT32
 
f⁄tCou¡
 = 
	`IDWrôeF⁄tFamûy_GëF⁄tCou¡
(
f⁄tFamûy
);

695 
UINT32
 
j
 = 0; j < 
f⁄tCou¡
; ++j) {

696 
hr
 = 
	`IDWrôeF⁄tFamûy_GëF⁄t
(
f⁄tFamûy
, 
j
, &
f⁄t
);

697 i‡(
	`FAILED
(
hr
))

702 i‡(
	`IDWrôeF⁄t_GëSimuœti⁄s
(
f⁄t
) != 0) {

703 
	`IDWrôeF⁄t_Rñó£
(
f⁄t
);

707 
	`add_f⁄t
(
f⁄t
, 
f⁄tFamûy
, 
¥ovidî
);

710 
	`IDWrôeF⁄tFamûy_Rñó£
(
f⁄tFamûy
);

713 
	`IDWrôeF⁄tCﬁÀ˘i⁄_Rñó£
(
f⁄tCﬁÀ˘i⁄
);

714 
	}
}

716 
	$gë_sub°ôuti⁄s
(*
¥iv
, c⁄° *
«me
,

717 
ASS_F⁄tProvidîMëaD©a
 *
mëa
)

719 c⁄° 
n
 = (
f⁄t_sub°ôuti⁄s
) / (font_substitutions[0]);

720 
	`ass_m≠_f⁄t
(
f⁄t_sub°ôuti⁄s
, 
n
, 
«me
, 
mëa
);

721 
	}
}

727 
ASS_F⁄tProvidîFuncs
 
	gdúe˘wrôe_ˇŒbacks
 = {

728 .
gë_d©a
 = get_data,

729 .
	gcheck_po°s¸ùt
 = 
check_po°s¸ùt
,

730 .
	gcheck_glyph
 = 
check_glyph
,

731 .
	gde°roy_f⁄t
 = 
de°roy_f⁄t
,

732 .
	gde°roy_¥ovidî
 = 
de°roy_¥ovidî
,

733 .
	ggë_sub°ôuti⁄s
 = 
gë_sub°ôuti⁄s
,

734 .
	ggë_ÁŒback
 = 
gë_ÁŒback
,

735 .
	ggë_f⁄t_ödex
 = 
gë_f⁄t_ödex
,

738 
	$HRESULT
 (
	tWINAPI
 *
	tDWrôeCª©eFa˘‹yFn
)(

739 
	tDWRITE_FACTORY_TYPE
 
	tÁ˘‹yTy≥
,

740 
	tREFIID
 
	tiid
,

741 
	tIUnknown
 **
	tÁ˘‹y


750 
ASS_F⁄tProvidî
 *
	$ass_dúe˘wrôe_add_¥ovidî
(
ASS_Libøry
 *
lib
,

751 
ASS_F⁄tSñe˘‹
 *
£À˘‹
,

752 c⁄° *
c⁄fig
)

754 
HRESULT
 
hr
 = 
S_OK
;

755 
IDWrôeFa˘‹y
 *
dwFa˘‹y
 = 
NULL
;

756 
ASS_F⁄tProvidî
 *
¥ovidî
 = 
NULL
;

757 
DWrôeCª©eFa˘‹yFn
 
DWrôeCª©eFa˘‹yPå
 = 
NULL
;

758 
ProvidîPriv©e
 *
¥iv
 = 
NULL
;

760 
HMODULE
 
dúe˘wrôe_lib
 = 
	`LﬂdLibøryW
(
L
"Dwrite.dll");

761 i‡(!
dúe˘wrôe_lib
)

762 
˛ónup
;

764 
DWrôeCª©eFa˘‹yPå
 = (
DWrôeCª©eFa˘‹yFn
)
	`GëProcAddªss
(
dúe˘wrôe_lib
,

766 i‡(!
DWrôeCª©eFa˘‹yPå
)

767 
˛ónup
;

769 
hr
 = 
	`DWrôeCª©eFa˘‹yPå
(
DWRITE_FACTORY_TYPE_SHARED
,

770 &
IID_IDWrôeFa˘‹y
,

771 (
IUnknown
 **Ë(&
dwFa˘‹y
));

772 i‡(
	`FAILED
(
hr
Ë|| !
dwFa˘‹y
) {

773 
	`ass_msg
(
lib
, 
MSGL_WARN
, "FailedÅo initialize directwrite.");

774 
dwFa˘‹y
 = 
NULL
;

775 
˛ónup
;

778 
¥iv
 = (
ProvidîPriv©e
 *)
	`ˇŒoc
((*priv), 1);

779 i‡(!
¥iv
)

780 
˛ónup
;

782 
¥iv
->
dúe˘wrôe_lib
 = directwrite_lib;

783 
¥iv
->
Á˘‹y
 = 
dwFa˘‹y
;

784 
¥ovidî
 = 
	`ass_f⁄t_¥ovidî_√w
(
£À˘‹
, &
dúe˘wrôe_ˇŒbacks
, 
¥iv
);

785 i‡(!
¥ovidî
)

786 
˛ónup
;

788 
	`sˇn_f⁄ts
(
dwFa˘‹y
, 
¥ovidî
);

789  
¥ovidî
;

791 
˛ónup
:

793 
	`‰ì
(
¥iv
);

794 i‡(
dwFa˘‹y
)

795 
dwFa˘‹y
->
ÕVtbl
->
	`Rñó£
(dwFactory);

796 i‡(
dúe˘wrôe_lib
)

797 
	`FªeLibøry
(
dúe˘wrôe_lib
);

799  
NULL
;

800 
	}
}

	@libass/ass_directwrite.h

19 
	~"ass_ty≥s.h
"

20 
	~"ass_f⁄t£À˘.h
"

22 #i‚de‡
ASS_DIRECTWRITE_H


23 
	#ASS_DIRECTWRITE_H


	)

25 
ASS_F⁄tProvidî
 *

26 
ass_dúe˘wrôe_add_¥ovidî
(
ASS_Libøry
 *
lib
, 
ASS_F⁄tSñe˘‹
 *
£À˘‹
,

27 c⁄° *
c⁄fig
);

	@libass/ass_drawing.c

19 
	~"c⁄fig.h
"

20 
	~"ass_com∑t.h
"

22 
	~<·2buûd.h
>

23 #ö˛udê
FT_OUTLINE_H


24 
	~<m©h.h
>

25 
	~<°dboﬁ.h
>

26 
	~<limôs.h
>

28 
	~"ass_utûs.h
"

29 
	~"ass_døwög.h
"

30 
	~"ass_f⁄t.h
"

32 
	#GLYPH_INITIAL_POINTS
 100

	)

33 
	#GLYPH_INITIAL_SEGMENTS
 100

	)

38 
	$døwög_¥ï¨e
(
ASS_Døwög
 *
døwög
)

41 
døwög
->
poöt_sˇÀ_x
 = døwög->
sˇÀ_x
 / (1 << (døwög->
sˇÀ
 - 1));

42 
døwög
->
poöt_sˇÀ_y
 = døwög->
sˇÀ_y
 / (1 << (døwög->
sˇÀ
 - 1));

43 
	}
}

49 
	$døwög_föish
(
ASS_Døwög
 *
døwög
, 
boﬁ
 
øw_mode
)

51 
ASS_Re˘
 
bbox
 = 
døwög
->
cbox
;

52 
ASS_Ouéöe
 *
ﬁ
 = &
døwög
->
ouéöe
;

54 i‡(
døwög
->
libøry
)

55 
	`ass_msg
(
døwög
->
libøry
, 
MSGL_V
,

57 
ﬁ
->
n_poöts
, ol->
n_£gmíts
);

59 i‡(
øw_mode
)

62 
døwög
->
adv™˚
.
x
 = 
bbox
.
x_max
 - bbox.
x_mö
;

64 
pbo
 = 
døwög
->pbÿ/ (1 << (døwög->
sˇÀ
 - 1));

65 
døwög
->
desc
 = 
	`doubÀ_to_d6
(
pbo
 * døwög->
sˇÀ_y
);

66 
døwög
->
asc
 = 
bbox
.
y_max
 - bbox.
y_mö
 - døwög->
desc
;

69 
size_t
 
i
 = 0; i < 
ﬁ
->
n_poöts
; i++)

70 
ﬁ
->
poöts
[
i
].
y
 -
døwög
->
asc
;

71 
	}
}

76 
	$tokí_check_vÆues
(
ASS_DøwögTokí
 *
tokí
, 
i
, 
ty≥
)

78 
j
 = 0; j < 
i
; j++) {

79 i‡(!
tokí
 ||Åokí->
ty≥
 !=Åype)  0;

80 
tokí
 =Åokí->
√xt
;

84 
	}
}

90 
ASS_DøwögTokí
 *
	$døwög_tokíize
(*
°r
)

92 *
p
 = 
°r
;

93 
ty≥
 = -1, 
is_£t
 = 0;

94 
vÆ
;

95 
ASS_Ve˘‹
 
poöt
 = {0, 0};

97 
ASS_DøwögTokí
 *
roŸ
 = 
NULL
, *
èû
 = NULL, *
•löe_°¨t
 = NULL;

99 
p
 && *p) {

100 
gŸ_co‹d
 = 0;

101 i‡(*
p
 ='c' && 
•löe_°¨t
) {

104 i‡(
	`tokí_check_vÆues
(
•löe_°¨t
->
√xt
, 2, 
TOKEN_B_SPLINE
)) {

105 
i
 = 0; i < 3; i++) {

106 
èû
->
√xt
 = 
	`ˇŒoc
(1, (
ASS_DøwögTokí
));

107 
èû
->
√xt
->
¥ev
 =Åail;

108 
èû
 =Åaû->
√xt
;

109 
èû
->
ty≥
 = 
TOKEN_B_SPLINE
;

110 
èû
->
poöt
 = 
•löe_°¨t
->point;

111 
•löe_°¨t
 = s∂öe_°¨t->
√xt
;

113 
•löe_°¨t
 = 
NULL
;

115 } i‡(!
is_£t
 && 
	`my°πod
(&
p
, &
vÆ
)) {

116 
poöt
.
x
 = 
	`doubÀ_to_d6
(
vÆ
);

117 
is_£t
 = 1;

118 
gŸ_co‹d
 = 1;

119 
p
--;

120 } i‡(
is_£t
 =1 && 
	`my°πod
(&
p
, &
vÆ
)) {

121 
poöt
.
y
 = 
	`doubÀ_to_d6
(
vÆ
);

122 
is_£t
 = 2;

123 
gŸ_co‹d
 = 1;

124 
p
--;

125 } i‡(*
p
 == 'm')

126 
ty≥
 = 
TOKEN_MOVE
;

127 i‡(*
p
 == 'n')

128 
ty≥
 = 
TOKEN_MOVE_NC
;

129 i‡(*
p
 == 'l')

130 
ty≥
 = 
TOKEN_LINE
;

131 i‡(*
p
 == 'b')

132 
ty≥
 = 
TOKEN_CUBIC_BEZIER
;

133 i‡(*
p
 == 'q')

134 
ty≥
 = 
TOKEN_CONIC_BEZIER
;

135 i‡(*
p
 == 's')

136 
ty≥
 = 
TOKEN_B_SPLINE
;

142 i‡(!
gŸ_co‹d
)

143 
is_£t
 = 0;

145 i‡(
ty≥
 !-1 && 
is_£t
 == 2) {

146 i‡(
roŸ
) {

147 
èû
->
√xt
 = 
	`ˇŒoc
(1, (
ASS_DøwögTokí
));

148 
èû
->
√xt
->
¥ev
 =Åail;

149 
èû
 =Åaû->
√xt
;

151 
roŸ
 = 
èû
 = 
	`ˇŒoc
(1, (
ASS_DøwögTokí
));

152 
èû
->
ty≥
 =Åype;

153 
èû
->
poöt
 =Öoint;

154 
is_£t
 = 0;

155 i‡(
ty≥
 =
TOKEN_B_SPLINE
 && !
•löe_°¨t
)

156 
•löe_°¨t
 = 
èû
->
¥ev
;

158 
p
++;

161  
roŸ
;

162 
	}
}

167 
	$døwög_‰ì_tokís
(
ASS_DøwögTokí
 *
tokí
)

169 
tokí
) {

170 
ASS_DøwögTokí
 *
©
 = 
tokí
;

171 
tokí
 =Åokí->
√xt
;

172 
	`‰ì
(
©
);

174 
	}
}

180 
ölöe
 
	$å™¶©e_poöt
(
ASS_Døwög
 *
døwög
, 
ASS_Ve˘‹
 *
poöt
)

182 
poöt
->
x
 = 
	`Ãöt
(
døwög
->
poöt_sˇÀ_x
 *Öoint->x);

183 
poöt
->
y
 = 
	`Ãöt
(
døwög
->
poöt_sˇÀ_y
 *Öoint->y);

185 
	`ª˘™gÀ_upd©e
(&
døwög
->
cbox
, 
poöt
->
x
,Öoöt->
y
,Öoint->x,Öoint->y);

186 
	}
}

191 
boﬁ
 
	$døwög_add_curve
(
ASS_Døwög
 *
døwög
, 
ASS_DøwögTokí
 *
tokí
,

192 
boﬁ
 
•löe
, 
°¨ãd
)

194 
ASS_Ve˘‹
 
p
[4];

195 
i
 = 0; i < 4; ++i) {

196 
p
[
i
] = 
tokí
->
poöt
;

197 
	`å™¶©e_poöt
(
døwög
, &
p
[
i
]);

198 
tokí
 =Åokí->
√xt
;

201 i‡(
•löe
) {

202 
x01
 = (
p
[1].
x
 -Ö[0].x) / 3;

203 
y01
 = (
p
[1].
y
 -Ö[0].y) / 3;

204 
x12
 = (
p
[2].
x
 -Ö[1].x) / 3;

205 
y12
 = (
p
[2].
y
 -Ö[1].y) / 3;

206 
x23
 = (
p
[3].
x
 -Ö[2].x) / 3;

207 
y23
 = (
p
[3].
y
 -Ö[2].y) / 3;

209 
p
[0].
x
 =Ö[1].x + ((
x12
 - 
x01
) >> 1);

210 
p
[0].
y
 =Ö[1].y + ((
y12
 - 
y01
) >> 1);

211 
p
[3].
x
 =Ö[2].x + ((
x23
 - 
x12
) >> 1);

212 
p
[3].
y
 =Ö[2].y + ((
y23
 - 
y12
) >> 1);

213 
p
[1].
x
 +
x12
;

214 
p
[1].
y
 +
y12
;

215 
p
[2].
x
 -
x12
;

216 
p
[2].
y
 -
y12
;

219  (
°¨ãd
 ||

220 
	`ouéöe_add_poöt
(&
døwög
->
ouéöe
, 
p
[0], 0)) &&

221 
	`ouéöe_add_poöt
(&
døwög
->
ouéöe
, 
p
[1], 0) &&

222 
	`ouéöe_add_poöt
(&
døwög
->
ouéöe
, 
p
[2], 0) &&

223 
	`ouéöe_add_poöt
(&
døwög
->
ouéöe
, 
p
[3], 
OUTLINE_CUBIC_SPLINE
);

224 
	}
}

229 
ASS_Døwög
 *
	$ass_døwög_√w
(
ASS_Libøry
 *
lib
)

231 
ASS_Døwög
 *
døwög
 = 
	`ˇŒoc
(1, (*drawing));

232 i‡(!
døwög
)

233  
NULL
;

234 
	`ª˘™gÀ_ª£t
(&
døwög
->
cbox
);

235 
døwög
->
libøry
 = 
lib
;

236 
døwög
->
sˇÀ_x
 = 1.;

237 
døwög
->
sˇÀ_y
 = 1.;

239 i‡(!
	`ouéöe_Æloc
(&
døwög
->
ouéöe
, 
GLYPH_INITIAL_POINTS
, 
GLYPH_INITIAL_SEGMENTS
)) {

240 
	`‰ì
(
døwög
);

241  
NULL
;

243  
døwög
;

244 
	}
}

249 
	$ass_døwög_‰ì
(
ASS_Døwög
 *
døwög
)

251 i‡(
døwög
) {

252 
	`‰ì
(
døwög
->
ãxt
);

253 
	`ouéöe_‰ì
(&
døwög
->
ouéöe
);

255 
	`‰ì
(
døwög
);

256 
	}
}

261 
	$ass_døwög_£t_ãxt
(
ASS_Døwög
 *
døwög
, *
°r
, 
size_t
 
Àn
)

263 
	`‰ì
(
døwög
->
ãxt
);

264 
døwög
->
ãxt
 = 
	`°∫dup
(
°r
, 
Àn
);

265 
	}
}

271 
	$ass_døwög_hash
(
ASS_Døwög
 *
døwög
)

273 i‡(!
døwög
->
ãxt
)

275 
døwög
->
hash
 = 
	`‚v_32a_°r
(døwög->
ãxt
, 
FNV1_32A_INIT
);

276 
	}
}

281 
ASS_Ouéöe
 *
	$ass_døwög_∑r£
(
ASS_Døwög
 *
døwög
, 
boﬁ
 
øw_mode
)

283 
boﬁ
 
°¨ãd
 = 
Ál£
;

284 
ASS_DøwögTokí
 *
tokí
;

285 
ASS_Ve˘‹
 
≥n
 = {0, 0};

287 
døwög
->
tokís
 = 
	`døwög_tokíize
(døwög->
ãxt
);

288 
	`døwög_¥ï¨e
(
døwög
);

290 
tokí
 = 
døwög
->
tokís
;

291 
tokí
) {

293 
tokí
->
ty≥
) {

294 
TOKEN_MOVE_NC
:

295 
≥n
 = 
tokí
->
poöt
;

296 
	`å™¶©e_poöt
(
døwög
, &
≥n
);

297 
tokí
 =Åokí->
√xt
;

299 
TOKEN_MOVE
:

300 
≥n
 = 
tokí
->
poöt
;

301 
	`å™¶©e_poöt
(
døwög
, &
≥n
);

302 i‡(
°¨ãd
) {

303 i‡(!
	`ouéöe_add_£gmít
(&
døwög
->
ouéöe
, 
OUTLINE_LINE_SEGMENT
))

304 
îr‹
;

305 i‡(!
	`ouéöe_˛o£_c⁄tour
(&
døwög
->
ouéöe
))

306 
îr‹
;

307 
°¨ãd
 = 
Ál£
;

309 
tokí
 =Åokí->
√xt
;

311 
TOKEN_LINE
: {

312 
ASS_Ve˘‹
 
to
 = 
tokí
->
poöt
;

313 
	`å™¶©e_poöt
(
døwög
, &
to
);

314 i‡(!
°¨ãd
 && !
	`ouéöe_add_poöt
(&
døwög
->
ouéöe
, 
≥n
, 0))

315 
îr‹
;

316 i‡(!
	`ouéöe_add_poöt
(&
døwög
->
ouéöe
, 
to
, 
OUTLINE_LINE_SEGMENT
))

317 
îr‹
;

318 
°¨ãd
 = 
åue
;

319 
tokí
 =Åokí->
√xt
;

322 
TOKEN_CUBIC_BEZIER
:

323 i‡(
	`tokí_check_vÆues
(
tokí
, 3, 
TOKEN_CUBIC_BEZIER
) &&

324 
tokí
->
¥ev
) {

325 i‡(!
	`døwög_add_curve
(
døwög
, 
tokí
->
¥ev
, 
Ál£
, 
°¨ãd
))

326 
îr‹
;

327 
tokí
 =Åokí->
√xt
;

328 
tokí
 =Åokí->
√xt
;

329 
tokí
 =Åokí->
√xt
;

330 
°¨ãd
 = 
åue
;

332 
tokí
 =Åokí->
√xt
;

334 
TOKEN_B_SPLINE
:

335 i‡(
	`tokí_check_vÆues
(
tokí
, 3, 
TOKEN_B_SPLINE
) &&

336 
tokí
->
¥ev
) {

337 i‡(!
	`døwög_add_curve
(
døwög
, 
tokí
->
¥ev
, 
åue
, 
°¨ãd
))

338 
îr‹
;

339 
tokí
 =Åokí->
√xt
;

340 
°¨ãd
 = 
åue
;

342 
tokí
 =Åokí->
√xt
;

345 
tokí
 =Åokí->
√xt
;

351 i‡(
°¨ãd
) {

352 i‡(!
	`ouéöe_add_£gmít
(&
døwög
->
ouéöe
, 
OUTLINE_LINE_SEGMENT
))

353 
îr‹
;

354 i‡(!
	`ouéöe_˛o£_c⁄tour
(&
døwög
->
ouéöe
))

355 
îr‹
;

358 
	`døwög_föish
(
døwög
, 
øw_mode
);

359 
	`døwög_‰ì_tokís
(
døwög
->
tokís
);

360  &
døwög
->
ouéöe
;

362 
îr‹
:

363 
	`døwög_‰ì_tokís
(
døwög
->
tokís
);

364  
NULL
;

365 
	}
}

	@libass/ass_drawing.h

19 #i‚de‡
LIBASS_DRAWING_H


20 
	#LIBASS_DRAWING_H


	)

22 
	~"ass.h
"

23 
	~"ass_ouéöe.h
"

24 
	~"ass_bôm≠.h
"

27 
	mTOKEN_MOVE
,

28 
	mTOKEN_MOVE_NC
,

29 
	mTOKEN_LINE
,

30 
	mTOKEN_CUBIC_BEZIER
,

31 
	mTOKEN_CONIC_BEZIER
,

32 
	mTOKEN_B_SPLINE
,

33 
	mTOKEN_EXTEND_SPLINE
,

34 
	mTOKEN_CLOSE


35 } 
	tASS_TokíTy≥
;

37 
	sass_døwög_tokí
 {

38 
ASS_TokíTy≥
 
	mty≥
;

39 
ASS_Ve˘‹
 
	mpoöt
;

40 
ass_døwög_tokí
 *
	m√xt
;

41 
ass_døwög_tokí
 *
	m¥ev
;

42 } 
	tASS_DøwögTokí
;

45 *
	mãxt
;

46 
	msˇÀ
;

47 
	mpbo
;

48 
	msˇÀ_x
;

49 
	msˇÀ_y
;

50 
	masc
;

51 
	mdesc
;

52 
ASS_Ouéöe
 
	mouéöe
;

53 
ASS_Ve˘‹
 
	madv™˚
;

54 
	mhash
;

57 
ASS_Libøry
 *
	mlibøry
;

58 
ASS_DøwögTokí
 *
	mtokís
;

59 
	mpoöt_sˇÀ_x
;

60 
	mpoöt_sˇÀ_y
;

61 
ASS_Re˘
 
	mcbox
;

62 } 
	tASS_Døwög
;

64 
ASS_Døwög
 *
ass_døwög_√w
(
ASS_Libøry
 *
lib
);

65 
ass_døwög_‰ì
(
ASS_Døwög
 *
døwög
);

66 
ass_døwög_£t_ãxt
(
ASS_Døwög
 *
døwög
, *
°r
, 
size_t
 
n
);

67 
ass_døwög_hash
(
ASS_Døwög
 *
døwög
);

68 
ASS_Ouéöe
 *
ass_døwög_∑r£
(
ASS_Døwög
 *
døwög
, 
boﬁ
 
øw_mode
);

	@libass/ass_font.c

19 
	~"c⁄fig.h
"

20 
	~"ass_com∑t.h
"

22 
	~<öây≥s.h
>

23 
	~<·2buûd.h
>

24 #ö˛udê
FT_FREETYPE_H


25 #ö˛udê
FT_SYNTHESIS_H


26 #ö˛udê
FT_GLYPH_H


27 #ö˛udê
FT_TRUETYPE_TABLES_H


28 #ö˛udê
FT_OUTLINE_H


29 
	~<limôs.h
>

31 
	~"ass.h
"

32 
	~"ass_libøry.h
"

33 
	~"ass_f⁄t.h
"

34 
	~"ass_f⁄t£À˘.h
"

35 
	~"ass_utûs.h
"

36 
	~"ass_sh≠î.h
"

42 
	$ch¨m≠_magic
(
ASS_Libøry
 *
libøry
, 
FT_Fa˚
 
Á˚
)

44 
i
;

45 
ms_cm≠
 = -1;

48 
i
 = 0; i < 
Á˚
->
num_ch¨m≠s
; ++i) {

49 
FT_Ch¨M≠
 
cm≠
 = 
Á˚
->
ch¨m≠s
[
i
];

50 
pid
 = 
cm≠
->
∂©f‹m_id
;

51 
eid
 = 
cm≠
->
ícodög_id
;

52 i‡(
pid
 == 3

53 && (
eid
 == 1

54 || 
eid
 == 10 )) {

55 
	`FT_Së_Ch¨m≠
(
Á˚
, 
cm≠
);

57 } i‡(
pid
 =3 && 
ms_cm≠
 < 0)

58 
ms_cm≠
 = 
i
;

62 i‡(
ms_cm≠
 >= 0) {

63 
FT_Ch¨M≠
 
cm≠
 = 
Á˚
->
ch¨m≠s
[
ms_cm≠
];

64 
	`FT_Së_Ch¨m≠
(
Á˚
, 
cm≠
);

68 i‡(!
Á˚
->
ch¨m≠
) {

69 i‡(
Á˚
->
num_ch¨m≠s
 == 0) {

70 
	`ass_msg
(
libøry
, 
MSGL_WARN
, "Font face withÇo charmaps");

73 
	`ass_msg
(
libøry
, 
MSGL_WARN
,

75 
	`FT_Së_Ch¨m≠
(
Á˚
, fa˚->
ch¨m≠s
[0]);

78 
	}
}

85 
uöt32_t
 
	$ass_f⁄t_ödex_magic
(
FT_Fa˚
 
Á˚
, 
uöt32_t
 
symbﬁ
)

87 i‡(!
Á˚
->
ch¨m≠
)

88  
symbﬁ
;

90 
Á˚
->
ch¨m≠
->
ícodög
){

91 
FT_ENCODING_MS_SYMBOL
:

92  0xF000 | 
symbﬁ
;

94  
symbﬁ
;

96 
	}
}

98 
	$buggy_f⁄t_w‹k¨ound
(
FT_Fa˚
 
Á˚
)

103 i‡(
Á˚
->
as˚ndî
 + fa˚->
des˚ndî
 =0 || fa˚->
height
 == 0) {

104 
TT_OS2
 *
os2
 = 
	`FT_Gë_S‚t_TabÀ
(
Á˚
, 
·_s‚t_os2
);

105 i‡(
os2
) {

106 
Á˚
->
as˚ndî
 = 
os2
->
sTypoAs˚ndî
;

107 
Á˚
->
des˚ndî
 = 
os2
->
sTypoDes˚ndî
;

108 
Á˚
->
height
 = fa˚->
as˚ndî
 - fa˚->
des˚ndî
;

110 
Á˚
->
as˚ndî
 = fa˚->
bbox
.
yMax
;

111 
Á˚
->
des˚ndî
 = fa˚->
bbox
.
yMö
;

112 
Á˚
->
height
 = fa˚->
as˚ndî
 - fa˚->
des˚ndî
;

115 
	}
}

118 
	$ªad_°ªam_f⁄t
(
FT_Såóm
 
°ªam
, 
off£t
, *
buf„r
,

119 
cou¡
)

121 
ASS_F⁄tSåóm
 *
f⁄t
 = (ASS_F⁄tSåóm *)
°ªam
->
des¸ùt‹
.
poöãr
;

123 
f⁄t
->
	`func
(f⁄t->
¥iv
, 
buf„r
, 
off£t
, 
cou¡
);

124  
cou¡
;

125 
	}
}

128 
	$˛o£_°ªam_f⁄t
(
FT_Såóm
 
°ªam
)

130 
	`‰ì
(
°ªam
->
des¸ùt‹
.
poöãr
);

131 
	`‰ì
(
°ªam
);

132 
	}
}

138 
	$add_Á˚
(
ASS_F⁄tSñe˘‹
 *
f⁄t£l
, 
ASS_F⁄t
 *
f⁄t
, 
uöt32_t
 
ch
)

140 *
∑th
;

141 *
po°s¸ùt_«me
 = 
NULL
;

142 
i
, 
ödex
, 
uid
, 
îr‹
;

143 
ASS_F⁄tSåóm
 
°ªam
 = { 
NULL
, NULL };

144 
FT_Fa˚
 
Á˚
;

146 i‡(
f⁄t
->
n_Á˚s
 =
ASS_FONT_MAX_FACES
)

149 
∑th
 = 
	`ass_f⁄t_£À˘
(
f⁄t£l
, 
f⁄t
->
libøry
, f⁄à, &
ödex
,

150 &
po°s¸ùt_«me
, &
uid
, &
°ªam
, 
ch
);

152 i‡(!
∑th
)

155 
i
 = 0; i < 
f⁄t
->
n_Á˚s
; i++) {

156 i‡(
f⁄t
->
Á˚s_uid
[
i
] =
uid
) {

157 
	`ass_msg
(
f⁄t
->
libøry
, 
MSGL_INFO
,

159  
i
;

163 i‡(
°ªam
.
func
) {

164 
FT_O≥n_Args
 
¨gs
;

165 
FT_Såóm
 
·°ªam
 = 
	`ˇŒoc
(1, (
FT_SåómRec
));

166 
ASS_F⁄tSåóm
 *
fs
 = 
	`ˇŒoc
(1, (ASS_FontStream));

168 *
fs
 = 
°ªam
;

169 
·°ªam
->
size
 = 
°ªam
.
	`func
(°ªam.
¥iv
, 
NULL
, 0, 0);

170 
·°ªam
->
ªad
 = 
ªad_°ªam_f⁄t
;

171 
·°ªam
->
˛o£
 = 
˛o£_°ªam_f⁄t
;

172 
·°ªam
->
des¸ùt‹
.
poöãr
 = (*)
fs
;

174 
	`mem£t
(&
¨gs
, 0, (
FT_O≥n_Args
));

175 
¨gs
.
Êags
 = 
FT_OPEN_STREAM
;

176 
¨gs
.
°ªam
 = 
·°ªam
;

178 
îr‹
 = 
	`FT_O≥n_Fa˚
(
f⁄t
->
·libøry
, &
¨gs
, 
ödex
, &
Á˚
);

180 i‡(
îr‹
) {

181 
	`ass_msg
(
f⁄t
->
libøry
, 
MSGL_WARN
,

182 "Eº‹ o≥nög mem‹y f⁄t: '%s'", 
∑th
);

187 
îr‹
 = 
	`FT_New_Fa˚
(
f⁄t
->
·libøry
, 
∑th
, 
ödex
, &
Á˚
);

188 i‡(
îr‹
) {

189 
	`ass_msg
(
f⁄t
->
libøry
, 
MSGL_WARN
,

190 "Eº‹ o≥nög f⁄t: '%s', %d", 
∑th
, 
ödex
);

194 i‡(
po°s¸ùt_«me
 && 
ödex
 < 0 && 
Á˚
->
num_Á˚s
 > 0) {

198 
i
 = 0; i < 
Á˚
->
num_Á˚s
; i++) {

199 
	`FT_D⁄e_Fa˚
(
Á˚
);

200 
îr‹
 = 
	`FT_New_Fa˚
(
f⁄t
->
·libøry
, 
∑th
, 
i
, &
Á˚
);

201 i‡(
îr‹
) {

202 
	`ass_msg
(
f⁄t
->
libøry
, 
MSGL_WARN
,

203 "Eº‹ o≥nög f⁄t: '%s', %d", 
∑th
, 
i
);

207 c⁄° *
Á˚_p¢ame
 = 
	`FT_Gë_Po°s¸ùt_Name
(
Á˚
);

208 i‡(
Á˚_p¢ame
 !
NULL
 &&

209 
	`°rcmp
(
Á˚_p¢ame
, 
po°s¸ùt_«me
) == 0)

215 
	`ch¨m≠_magic
(
f⁄t
->
libøry
, 
Á˚
);

216 
	`buggy_f⁄t_w‹k¨ound
(
Á˚
);

218 
f⁄t
->
Á˚s
[f⁄t->
n_Á˚s
] = 
Á˚
;

219 
f⁄t
->
Á˚s_uid
[f⁄t->
n_Á˚s
++] = 
uid
;

220 
	`ass_Á˚_£t_size
(
Á˚
, 
f⁄t
->
size
);

221  
f⁄t
->
n_Á˚s
 - 1;

222 
	}
}

227 
ASS_F⁄t
 *
	$ass_f⁄t_√w
(
Cache
 *
f⁄t_ˇche
, 
ASS_Libøry
 *
libøry
,

228 
FT_Libøry
 
·libøry
, 
ASS_F⁄tSñe˘‹
 *
f⁄t£l
,

229 
ASS_F⁄tDesc
 *
desc
)

231 
ASS_F⁄t
 *
f⁄t
;

232 i‡(
	`ass_ˇche_gë
(
f⁄t_ˇche
, 
desc
, &
f⁄t
)) {

233 i‡(
f⁄t
->
desc
.
Ámûy
)

234  
f⁄t
;

235 
	`ass_ˇche_dec_ªf
(
f⁄t
);

236  
NULL
;

238 i‡(!
f⁄t
)

239  
NULL
;

241 
f⁄t
->
libøry
 =Üibrary;

242 
f⁄t
->
·libøry
 = ftlibrary;

243 
f⁄t
->
sh≠î_¥iv
 = 
NULL
;

244 
f⁄t
->
n_Á˚s
 = 0;

245 
ASS_F⁄tDesc
 *
√w_desc
 = 
	`ass_ˇche_key
(
f⁄t
);

246 
f⁄t
->
desc
.
Ámûy
 = 
√w_desc
->family;

247 
f⁄t
->
desc
.
bﬁd
 = desc->bold;

248 
f⁄t
->
desc
.
ôÆic
 = desc->italic;

249 
f⁄t
->
desc
.
vîtiˇl
 = desc->vertical;

251 
f⁄t
->
sˇÀ_x
 = f⁄t->
sˇÀ_y
 = 1.;

252 
f⁄t
->
v
.
x
 = f⁄t->v.
y
 = 0;

253 
f⁄t
->
size
 = 0.;

255 
îr‹
 = 
	`add_Á˚
(
f⁄t£l
, 
f⁄t
, 0);

256 i‡(
îr‹
 == -1) {

257 
f⁄t
->
desc
.
Ámûy
 = 
NULL
;

258 
	`ass_ˇche_commô
(
f⁄t
, 1);

259 
	`ass_ˇche_dec_ªf
(
f⁄t
);

260  
NULL
;

262 
	`ass_ˇche_commô
(
f⁄t
, 1);

263  
f⁄t
;

264 
	}
}

269 
	$ass_f⁄t_£t_å™sf‹m
(
ASS_F⁄t
 *
f⁄t
, 
sˇÀ_x
,

270 
sˇÀ_y
, 
FT_Ve˘‹
 *
v
)

272 
f⁄t
->
sˇÀ_x
 = scale_x;

273 
f⁄t
->
sˇÀ_y
 = scale_y;

274 i‡(
v
) {

275 
f⁄t
->
v
.
x
 = v->x;

276 
f⁄t
->
v
.
y
 = v->y;

278 
	}
}

280 
	$ass_Á˚_£t_size
(
FT_Fa˚
 
Á˚
, 
size
)

282 
TT_H‹iHódî
 *
h‹i
 = 
	`FT_Gë_S‚t_TabÀ
(
Á˚
, 
·_s‚t_hhó
);

283 
TT_OS2
 *
os2
 = 
	`FT_Gë_S‚t_TabÀ
(
Á˚
, 
·_s‚t_os2
);

284 
msˇÀ
 = 1.;

285 
FT_Size_Reque°Rec
 
rq
;

286 
FT_Size_Mërics
 *
m
 = &
Á˚
->
size
->
mërics
;

289 i‡(
os2
) {

290 
·_height
 = 0;

291 i‡(
h‹i
)

292 
·_height
 = 
h‹i
->
As˚ndî
 - h‹i->
Des˚ndî
;

293 i‡(!
·_height
)

294 
·_height
 = 
os2
->
sTypoAs˚ndî
 - os2->
sTypoDes˚ndî
;

296 
os2_height
 = ()
os2
->
usWöAs˚¡
 + ()os2->
usWöDes˚¡
;

297 i‡(
·_height
 && 
os2_height
)

298 
msˇÀ
 = (Ë
·_height
 / 
os2_height
;

300 
	`mem£t
(&
rq
, 0, (rq));

301 
rq
.
ty≥
 = 
FT_SIZE_REQUEST_TYPE_REAL_DIM
;

302 
rq
.
width
 = 0;

303 
rq
.
height
 = 
	`doubÀ_to_d6
(
size
 * 
msˇÀ
);

304 
rq
.
h‹iResﬁuti⁄
 =Ñq.
vîtResﬁuti⁄
 = 0;

305 
	`FT_Reque°_Size
(
Á˚
, &
rq
);

306 
m
->
as˚ndî
 /
msˇÀ
;

307 
m
->
des˚ndî
 /
msˇÀ
;

308 
m
->
height
 /
msˇÀ
;

309 
	}
}

314 
	$ass_f⁄t_£t_size
(
ASS_F⁄t
 *
f⁄t
, 
size
)

316 
i
;

317 i‡(
f⁄t
->
size
 != size) {

318 
f⁄t
->
size
 = size;

319 
i
 = 0; i < 
f⁄t
->
n_Á˚s
; ++i)

320 
	`ass_Á˚_£t_size
(
f⁄t
->
Á˚s
[
i
], 
size
);

322 
	}
}

329 
	$ass_f⁄t_gë_asc_desc
(
ASS_F⁄t
 *
f⁄t
, 
uöt32_t
 
ch
, *
asc
,

330 *
desc
)

332 
i
;

333 
i
 = 0; i < 
f⁄t
->
n_Á˚s
; ++i) {

334 
FT_Fa˚
 
Á˚
 = 
f⁄t
->
Á˚s
[
i
];

335 
TT_OS2
 *
os2
 = 
	`FT_Gë_S‚t_TabÀ
(
Á˚
, 
·_s‚t_os2
);

336 i‡(
	`FT_Gë_Ch¨_Index
(
Á˚
, 
	`ass_f⁄t_ödex_magic
(Á˚, 
ch
))) {

337 
y_sˇÀ
 = 
Á˚
->
size
->
mërics
.y_scale;

338 i‡(
os2
) {

339 *
asc
 = 
	`FT_MulFix
(()
os2
->
usWöAs˚¡
, 
y_sˇÀ
);

340 *
desc
 = 
	`FT_MulFix
(()
os2
->
usWöDes˚¡
, 
y_sˇÀ
);

342 *
asc
 = 
	`FT_MulFix
(
Á˚
->
as˚ndî
, 
y_sˇÀ
);

343 *
desc
 = 
	`FT_MulFix
(-
Á˚
->
des˚ndî
, 
y_sˇÀ
);

349 *
asc
 = *
desc
 = 0;

350 
	}
}

352 
	$add_löe
(
FT_Ouéöe
 *
ﬁ
, 
bór
, 
adv™˚
, 
dú
, 
pos
, 
size
) {

353 
FT_Ve˘‹
 
poöts
[4] = {

354 {.
x
 = 
bór
, .
y
 = 
pos
 + 
size
},

355 {.
x
 = 
adv™˚
, .
y
 = 
pos
 + 
size
},

356 {.
x
 = 
adv™˚
, .
y
 = 
pos
 - 
size
},

357 {.
x
 = 
bór
, .
y
 = 
pos
 - 
size
},

360 i‡(
dú
 =
FT_ORIENTATION_TRUETYPE
) {

361 
i
;

362 
i
 = 0; i < 4; i++) {

363 
ﬁ
->
poöts
[ﬁ->
n_poöts
] =Öoöts[
i
];

364 
ﬁ
->
ègs
[ﬁ->
n_poöts
++] = 1;

367 
i
;

368 
i
 = 3; i >= 0; i--) {

369 
ﬁ
->
poöts
[ﬁ->
n_poöts
] =Öoöts[
i
];

370 
ﬁ
->
ègs
[ﬁ->
n_poöts
++] = 1;

374 
ﬁ
->
c⁄tours
[ﬁ->
n_c⁄tours
++] = ol->
n_poöts
 - 1;

375 
	}
}

384 
	$ass_°rike_ouéöe_glyph
(
FT_Fa˚
 
Á˚
, 
ASS_F⁄t
 *
f⁄t
,

385 
FT_Glyph
 
glyph
, 
undî
, 
through
)

387 
TT_OS2
 *
os2
 = 
	`FT_Gë_S‚t_TabÀ
(
Á˚
, 
·_s‚t_os2
);

388 
TT_Po°s¸ùt
 *
ps
 = 
	`FT_Gë_S‚t_TabÀ
(
Á˚
, 
·_s‚t_po°
);

389 
FT_Ouéöe
 *
ﬁ
 = &((
FT_OuéöeGlyph
Ë
glyph
)->
ouéöe
;

390 
adv™˚
, 
y_sˇÀ
, 
i
, 
dú
;

392 i‡(!
undî
 && !
through
)

396 
i
 = (
undî
 ? 4 : 0Ë+ (
through
 ? 4 : 0);

397 i‡(
ﬁ
->
n_poöts
 > 
SHRT_MAX
 - 
i
)

399 i‡(!
	`ASS_REALLOC_ARRAY
(
ﬁ
->
poöts
, ol->
n_poöts
 + 
i
))

401 i‡(!
	`ASS_REALLOC_ARRAY
(
ﬁ
->
ègs
, ol->
n_poöts
 + 
i
))

403 
i
 = !!
undî
 + !!
through
;

404 i‡(
ﬁ
->
n_c⁄tours
 > 
SHRT_MAX
 - 
i
)

406 i‡(!
	`ASS_REALLOC_ARRAY
(
ﬁ
->
c⁄tours
, ol->
n_c⁄tours
 + 
i
))

409 
adv™˚
 = 
	`d16_to_d6
(
glyph
->adv™˚.
x
);

410 
y_sˇÀ
 = 
Á˚
->
size
->
mërics
.y_scale;

413 
dú
 = 
	`FT_Ouéöe_Gë_Orõ¡©i⁄
(
ﬁ
);

416 i‡(
undî
 && 
ps
) {

417 
pos
 = 
	`FT_MulFix
(
ps
->
undîlöePosôi⁄
, 
y_sˇÀ
);

418 
size
 = 
	`FT_MulFix
(
ps
->
undîlöeThick√ss
, 
y_sˇÀ
 / 2);

420 i‡(
pos
 > 0 || 
size
 <= 0)

423 
	`add_löe
(
ﬁ
, 0, 
adv™˚
, 
dú
, 
pos
, 
size
);

426 i‡(
through
 && 
os2
) {

427 
pos
 = 
	`FT_MulFix
(
os2
->
ySåikeoutPosôi⁄
, 
y_sˇÀ
);

428 
size
 = 
	`FT_MulFix
(
os2
->
ySåikeoutSize
, 
y_sˇÀ
 / 2);

430 i‡(
pos
 < 0 || 
size
 <= 0)

433 
	`add_löe
(
ﬁ
, 0, 
adv™˚
, 
dú
, 
pos
, 
size
);

437 
	}
}

442 
	$ass_glyph_embﬁdí
(
FT_GlyphSlŸ
 
¶Ÿ
)

444 
°r
;

446 i‡(
¶Ÿ
->
f‹m©
 !
FT_GLYPH_FORMAT_OUTLINE
)

449 
°r
 = 
	`FT_MulFix
(
¶Ÿ
->
Á˚
->
unôs_≥r_EM
,

450 
¶Ÿ
->
Á˚
->
size
->
mërics
.
y_sˇÀ
) / 64;

452 
	`FT_Ouéöe_Embﬁdí
(&
¶Ÿ
->
ouéöe
, 
°r
);

453 
	}
}

460 
	$ass_f⁄t_gë_ödex
(
ASS_F⁄tSñe˘‹
 *
f⁄t£l
, 
ASS_F⁄t
 *
f⁄t
,

461 
uöt32_t
 
symbﬁ
, *
Á˚_ödex
, *
glyph_ödex
)

463 
ödex
 = 0;

464 
i
;

465 
FT_Fa˚
 
Á˚
 = 0;

467 *
glyph_ödex
 = 0;

469 i‡(
symbﬁ
 < 0x20) {

470 *
Á˚_ödex
 = 0;

474 i‡(
symbﬁ
 == 0xa0)

475 
symbﬁ
 = ' ';

476 i‡(
f⁄t
->
n_Á˚s
 == 0) {

477 *
Á˚_ödex
 = 0;

482 i‡(*
Á˚_ödex
 < 
f⁄t
->
n_Á˚s
) {

483 
Á˚
 = 
f⁄t
->
Á˚s
[*
Á˚_ödex
];

484 
ödex
 = 
	`FT_Gë_Ch¨_Index
(
Á˚
, 
	`ass_f⁄t_ödex_magic
(Á˚, 
symbﬁ
));

488 
i
 = 0; i < 
f⁄t
->
n_Á˚s
 && 
ödex
 == 0; ++i) {

489 
Á˚
 = 
f⁄t
->
Á˚s
[
i
];

490 
ödex
 = 
	`FT_Gë_Ch¨_Index
(
Á˚
, 
	`ass_f⁄t_ödex_magic
(Á˚, 
symbﬁ
));

491 i‡(
ödex
)

492 *
Á˚_ödex
 = 
i
;

495 i‡(
ödex
 == 0) {

496 
Á˚_idx
;

497 
	`ass_msg
(
f⁄t
->
libøry
, 
MSGL_INFO
,

499 "f⁄àf‹ (%s, %d, %d)", 
symbﬁ
, 
f⁄t
->
desc
.
Ámûy
,

500 
f⁄t
->
desc
.
bﬁd
, f⁄t->desc.
ôÆic
);

501 
Á˚_idx
 = *
Á˚_ödex
 = 
	`add_Á˚
(
f⁄t£l
, 
f⁄t
, 
symbﬁ
);

502 i‡(
Á˚_idx
 >= 0) {

503 
Á˚
 = 
f⁄t
->
Á˚s
[
Á˚_idx
];

504 
ödex
 = 
	`FT_Gë_Ch¨_Index
(
Á˚
, 
	`ass_f⁄t_ödex_magic
(Á˚, 
symbﬁ
));

505 i‡(
ödex
 =0 && 
Á˚
->
num_ch¨m≠s
 > 0) {

506 
i
;

507 
	`ass_msg
(
f⁄t
->
libøry
, 
MSGL_WARN
,

508 "Glyph 0x%XÇŸ found, brokí f⁄t? TryögáŒ ch¨m≠s", 
symbﬁ
);

509 
i
 = 0; i < 
Á˚
->
num_ch¨m≠s
; i++) {

510 
	`FT_Së_Ch¨m≠
(
Á˚
, fa˚->
ch¨m≠s
[
i
]);

511 i‡((
ödex
 = 
	`FT_Gë_Ch¨_Index
(
Á˚
, 
	`ass_f⁄t_ödex_magic
(Á˚, 
symbﬁ
))) != 0) ;

514 i‡(
ödex
 == 0) {

515 
	`ass_msg
(
f⁄t
->
libøry
, 
MSGL_ERR
,

517 
symbﬁ
, 
f⁄t
->
desc
.
Ámûy
, f⁄t->desc.
bﬁd
,

518 
f⁄t
->
desc
.
ôÆic
);

524 *
Á˚_ödex
 = 
	`FFMAX
(*face_index, 0);

525 *
glyph_ödex
 = 
ödex
;

528 
	}
}

534 
FT_Glyph
 
	$ass_f⁄t_gë_glyph
(
ASS_F⁄t
 *
f⁄t
, 
uöt32_t
 
ch
, 
Á˚_ödex
,

535 
ödex
, 
ASS_Hötög
 
hötög
, 
deco
)

537 
îr‹
;

538 
FT_Glyph
 
glyph
;

539 
FT_Fa˚
 
Á˚
 = 
f⁄t
->
Á˚s
[
Á˚_ödex
];

540 
Êags
 = 0;

541 
vîtiˇl
 = 
f⁄t
->
desc
.vertical;

543 
Êags
 = 
FT_LOAD_NO_BITMAP
 | 
FT_LOAD_IGNORE_GLOBAL_ADVANCE_WIDTH


544 | 
FT_LOAD_IGNORE_TRANSFORM
;

545 
hötög
) {

546 
ASS_HINTING_NONE
:

547 
Êags
 |
FT_LOAD_NO_HINTING
;

549 
ASS_HINTING_LIGHT
:

550 
Êags
 |
FT_LOAD_FORCE_AUTOHINT
 | 
FT_LOAD_TARGET_LIGHT
;

552 
ASS_HINTING_NORMAL
:

553 
Êags
 |
FT_LOAD_FORCE_AUTOHINT
;

555 
ASS_HINTING_NATIVE
:

559 
îr‹
 = 
	`FT_Lﬂd_Glyph
(
Á˚
, 
ödex
, 
Êags
);

560 i‡(
îr‹
) {

561 
	`ass_msg
(
f⁄t
->
libøry
, 
MSGL_WARN
, "ErrorÜoading glyph, index %d",

562 
ödex
);

565 i‡(!(
Á˚
->
°yÀ_Êags
 & 
FT_STYLE_FLAG_ITALIC
) &&

566 (
f⁄t
->
desc
.
ôÆic
 > 55)) {

567 
	`FT_GlyphSlŸ_Oblique
(
Á˚
->
glyph
);

570 i‡(!(
Á˚
->
°yÀ_Êags
 & 
FT_STYLE_FLAG_BOLD
) &&

571 (
f⁄t
->
desc
.
bﬁd
 > 400)) {

572 
	`ass_glyph_embﬁdí
(
Á˚
->
glyph
);

574 
îr‹
 = 
	`FT_Gë_Glyph
(
Á˚
->
glyph
, &glyph);

575 i‡(
îr‹
) {

576 
	`ass_msg
(
f⁄t
->
libøry
, 
MSGL_WARN
, "ErrorÜoading glyph, index %d",

577 
ödex
);

582 i‡(
vîtiˇl
 && 
ch
 >
VERTICAL_LOWER_BOUND
) {

583 
FT_M©rix
 
m
 = { 0, 
	`doubÀ_to_d16
(-1.0), double_to_d16(1.0), 0 };

584 
TT_OS2
 *
os2
 = 
	`FT_Gë_S‚t_TabÀ
(
Á˚
, 
·_s‚t_os2
);

585 
desc
 = 0;

587 i‡(
os2
)

588 
desc
 = 
	`FT_MulFix
(
os2
->
sTypoDes˚ndî
, 
Á˚
->
size
->
mërics
.
y_sˇÀ
);

590 
	`FT_Ouéöe_Tøn¶©e
(&((
FT_OuéöeGlyph
Ë
glyph
)->
ouéöe
, 0, -
desc
);

591 
	`FT_Ouéöe_Tønsf‹m
(&((
FT_OuéöeGlyph
Ë
glyph
)->
ouéöe
, &
m
);

592 
	`FT_Ouéöe_Tøn¶©e
(&((
FT_OuéöeGlyph
Ë
glyph
)->
ouéöe
,

593 
Á˚
->
glyph
->
mërics
.
vîtAdv™˚
, 
desc
);

594 
glyph
->
adv™˚
.
x
 = 
Á˚
->glyph->
löórVîtAdv™˚
;

597 
	`ass_°rike_ouéöe_glyph
(
Á˚
, 
f⁄t
, 
glyph
, 
deco
 & 
DECO_UNDERLINE
,

598 
deco
 & 
DECO_STRIKETHROUGH
);

601 
FT_M©rix
 
sˇÀ
 = { 
	`doubÀ_to_d16
(
f⁄t
->
sˇÀ_x
), 0, 0,

602 
	`doubÀ_to_d16
(
f⁄t
->
sˇÀ_y
) };

603 
FT_Ouéöe
 *
oué
 = &((
FT_OuéöeGlyph
Ë
glyph
)->
ouéöe
;

604 
	`FT_Ouéöe_Tønsf‹m
(
oué
, &
sˇÀ
);

605 
	`FT_Ouéöe_Tøn¶©e
(
oué
, 
f⁄t
->
v
.
x
, f⁄t->v.
y
);

606 
glyph
->
adv™˚
.
x
 *
f⁄t
->
sˇÀ_x
;

608  
glyph
;

609 
	}
}

614 
	$ass_f⁄t_˛ór
(
ASS_F⁄t
 *
f⁄t
)

616 
i
;

617 i‡(
f⁄t
->
sh≠î_¥iv
)

618 
	`ass_sh≠î_f⁄t_d©a_‰ì
(
f⁄t
->
sh≠î_¥iv
);

619 
i
 = 0; i < 
f⁄t
->
n_Á˚s
; ++i) {

620 i‡(
f⁄t
->
Á˚s
[
i
])

621 
	`FT_D⁄e_Fa˚
(
f⁄t
->
Á˚s
[
i
]);

623 
	`‰ì
(
f⁄t
->
desc
.
Ámûy
);

624 
	}
}

	@libass/ass_font.h

19 #i‚de‡
LIBASS_FONT_H


20 
	#LIBASS_FONT_H


	)

22 
	~<°döt.h
>

23 
	~<·2buûd.h
>

24 #ö˛udê
FT_GLYPH_H


25 #ö˛udê
FT_OUTLINE_H


27 
ass_f⁄t
 
	tASS_F⁄t
;

28 
ass_f⁄t_desc
 
	tASS_F⁄tDesc
;

30 
	~"ass.h
"

31 
	~"ass_ty≥s.h
"

32 
	~"ass_f⁄t£À˘.h
"

33 
	~"ass_ˇche.h
"

35 
	#VERTICAL_LOWER_BOUND
 0x02f1

	)

37 
	#ASS_FONT_MAX_FACES
 10

	)

38 
	#DECO_UNDERLINE
 1

	)

39 
	#DECO_STRIKETHROUGH
 2

	)

41 
	sass_f⁄t_desc
 {

42 *
	mÁmûy
;

43 
	mbﬁd
;

44 
	môÆic
;

45 
	mvîtiˇl
;

48 
	sass_f⁄t
 {

49 
ASS_F⁄tDesc
 
	mdesc
;

50 
ASS_Libøry
 *
	mlibøry
;

51 
FT_Libøry
 
	m·libøry
;

52 
	mÁ˚s_uid
[
ASS_FONT_MAX_FACES
];

53 
FT_Fa˚
 
	mÁ˚s
[
ASS_FONT_MAX_FACES
];

54 
ASS_Sh≠îF⁄tD©a
 *
	msh≠î_¥iv
;

55 
	mn_Á˚s
;

56 
	msˇÀ_x
, 
	msˇÀ_y
;

57 
FT_Ve˘‹
 
	mv
;

58 
	msize
;

61 
ch¨m≠_magic
(
ASS_Libøry
 *
libøry
, 
FT_Fa˚
 
Á˚
);

62 
ASS_F⁄t
 *
ass_f⁄t_√w
(
Cache
 *
f⁄t_ˇche
, 
ASS_Libøry
 *
libøry
,

63 
FT_Libøry
 
·libøry
, 
ASS_F⁄tSñe˘‹
 *
f⁄t£l
,

64 
ASS_F⁄tDesc
 *
desc
);

65 
ass_f⁄t_£t_å™sf‹m
(
ASS_F⁄t
 *
f⁄t
, 
sˇÀ_x
,

66 
sˇÀ_y
, 
FT_Ve˘‹
 *
v
);

67 
ass_Á˚_£t_size
(
FT_Fa˚
 
Á˚
, 
size
);

68 
ass_f⁄t_£t_size
(
ASS_F⁄t
 *
f⁄t
, 
size
);

69 
ass_f⁄t_gë_asc_desc
(
ASS_F⁄t
 *
f⁄t
, 
uöt32_t
 
ch
, *
asc
,

70 *
desc
);

71 
ass_f⁄t_gë_ödex
(
ASS_F⁄tSñe˘‹
 *
f⁄t£l
, 
ASS_F⁄t
 *
f⁄t
,

72 
uöt32_t
 
symbﬁ
, *
Á˚_ödex
, *
glyph_ödex
);

73 
uöt32_t
 
ass_f⁄t_ödex_magic
(
FT_Fa˚
 
Á˚
, uöt32_à
symbﬁ
);

74 
FT_Glyph
 
ass_f⁄t_gë_glyph
(
ASS_F⁄t
 *
f⁄t
,

75 
uöt32_t
 
ch
, 
Á˚_ödex
, 
ödex
,

76 
ASS_Hötög
 
hötög
, 
deco
);

77 
ass_f⁄t_˛ór
(
ASS_F⁄t
 *
f⁄t
);

	@libass/ass_fontconfig.c

19 
	~"c⁄fig.h
"

20 
	~"ass_com∑t.h
"

22 
	~<°dio.h
>

23 
	~<°dlib.h
>

24 
	~<sys/ty≥s.h
>

26 
	~<f⁄tc⁄fig/f⁄tc⁄fig.h
>

27 
	~<f⁄tc⁄fig/fc‰ìty≥.h
>

29 
	~"ass_f⁄tc⁄fig.h
"

30 
	~"ass_f⁄t£À˘.h
"

31 
	~"ass_utûs.h
"

33 
	#MAX_NAME
 100

	)

35 
	sfc_¥iv©e
 {

36 
FcC⁄fig
 *
	mc⁄fig
;

37 
FcF⁄tSë
 *
	mÁŒbacks
;

38 
FcCh¨Së
 *
	mÁŒback_ch¨s
;

39 } 
	tProvidîPriv©e
;

41 
boﬁ
 
	$check_po°s¸ùt
(*
¥iv
)

43 
FcP©ã∫
 *
∑t
 = (FcP©ã∫ *)
¥iv
;

44 *
f‹m©
;

46 
FcResu…
 
ªsu…
 =

47 
	`FcP©ã∫GëSåög
(
∑t
, 
FC_FONTFORMAT
, 0, (
FcCh¨8
 **)&
f‹m©
);

48 i‡(
ªsu…
 !
FcResu…M©ch
)

49  
Ál£
;

51  !
	`°rcmp
(
f‹m©
, "Type 1") || !strcmp(format, "Type 42") ||

52 !
	`°rcmp
(
f‹m©
, "CID Type 1") || !strcmp(format, "CFF");

53 
	}
}

55 
boﬁ
 
	$check_glyph
(*
¥iv
, 
uöt32_t
 
code
)

57 
FcP©ã∫
 *
∑t
 = (FcP©ã∫ *)
¥iv
;

58 
FcCh¨Së
 *
ch¨£t
;

60 i‡(!
∑t
)

61  
åue
;

63 i‡(
code
 == 0)

64  
åue
;

66 
FcResu…
 
ªsu…
 = 
	`FcP©ã∫GëCh¨Së
(
∑t
, 
FC_CHARSET
, 0, &
ch¨£t
);

67 i‡(
ªsu…
 !
FcResu…M©ch
)

68  
Ál£
;

69 i‡(
	`FcCh¨SëHasCh¨
(
ch¨£t
, 
code
Ë=
FcTrue
)

70  
åue
;

71  
Ál£
;

72 
	}
}

74 
	$de°roy
(*
¥iv
)

76 
ProvidîPriv©e
 *
fc
 = (ProvidîPriv©ê*)
¥iv
;

78 i‡(
fc
->
ÁŒback_ch¨s
)

79 
	`FcCh¨SëDe°roy
(
fc
->
ÁŒback_ch¨s
);

80 i‡(
fc
->
ÁŒbacks
)

81 
	`FcF⁄tSëDe°roy
(
fc
->
ÁŒbacks
);

82 
	`FcC⁄figDe°roy
(
fc
->
c⁄fig
);

83 
	`‰ì
(
fc
);

84 
	}
}

86 
	$sˇn_f⁄ts
(
FcC⁄fig
 *
c⁄fig
, 
ASS_F⁄tProvidî
 *
¥ovidî
)

88 
i
;

89 
FcF⁄tSë
 *
f⁄ts
;

90 
ASS_F⁄tProvidîMëaD©a
 
mëa
;

93 
f⁄ts
 = 
	`FcC⁄figGëF⁄ts
(
c⁄fig
, 
FcSëSy°em
);

96 
i
 = 0; i < 
f⁄ts
->
nf⁄t
; i++) {

97 
FcP©ã∫
 *
∑t
 = 
f⁄ts
->f⁄ts[
i
];

98 
FcBoﬁ
 
ouéöe
;

99 
ödex
, 
weight
;

100 *
∑th
;

101 *
fuŒ«mes
[
MAX_NAME
];

102 *
Ámûõs
[
MAX_NAME
];

105 
FcResu…
 
ªsu…
 = 
	`FcP©ã∫GëBoﬁ
(
∑t
, 
FC_OUTLINE
, 0, &
ouéöe
);

106 i‡(
ªsu…
 !
FcResu…M©ch
 || 
ouéöe
 !
FcTrue
)

110 
ªsu…
 = 
	`FcP©ã∫GëI¡egî
(
∑t
, 
FC_SLANT
, 0, &
mëa
.
¶™t
);

111 
ªsu…
 |
	`FcP©ã∫GëI¡egî
(
∑t
, 
FC_WIDTH
, 0, &
mëa
.
width
);

112 
ªsu…
 |
	`FcP©ã∫GëI¡egî
(
∑t
, 
FC_WEIGHT
, 0, &
weight
);

113 
ªsu…
 |
	`FcP©ã∫GëI¡egî
(
∑t
, 
FC_INDEX
, 0, &
ödex
);

114 i‡(
ªsu…
 !
FcResu…M©ch
)

120 i‡(
weight
 <
FC_WEIGHT_LIGHT
)

121 
mëa
.
weight
 = 
FONT_WEIGHT_LIGHT
;

122 i‡(
weight
 <
FC_WEIGHT_MEDIUM
)

123 
mëa
.
weight
 = 
FONT_WEIGHT_MEDIUM
;

125 
mëa
.
weight
 = 
FONT_WEIGHT_BOLD
;

128 
ªsu…
 = 
	`FcP©ã∫GëSåög
(
∑t
, 
FC_FILE
, 0, (
FcCh¨8
 **)&
∑th
);

129 i‡(
ªsu…
 !
FcResu…M©ch
)

133 
mëa
.
n_Ámûy
 = 0;

134 
	`FcP©ã∫GëSåög
(
∑t
, 
FC_FAMILY
, 
mëa
.
n_Ámûy
,

135 (
FcCh¨8
 **)&
Ámûõs
[
mëa
.
n_Ámûy
]Ë=
FcResu…M©ch


136 && 
mëa
.
n_Ámûy
 < 
MAX_NAME
)

137 
mëa
.
n_Ámûy
++;

138 
mëa
.
Ámûõs
 = families;

141 
mëa
.
n_fuŒ«me
 = 0;

142 
	`FcP©ã∫GëSåög
(
∑t
, 
FC_FULLNAME
, 
mëa
.
n_fuŒ«me
,

143 (
FcCh¨8
 **)&
fuŒ«mes
[
mëa
.
n_fuŒ«me
]Ë=
FcResu…M©ch


144 && 
mëa
.
n_fuŒ«me
 < 
MAX_NAME
)

145 
mëa
.
n_fuŒ«me
++;

146 
mëa
.
fuŒ«mes
 = fullnames;

149 
ªsu…
 = 
	`FcP©ã∫GëSåög
(
∑t
, 
FC_POSTSCRIPT_NAME
, 0,

150 (
FcCh¨8
 **)&
mëa
.
po°s¸ùt_«me
);

151 i‡(
ªsu…
 !
FcResu…M©ch
)

152 
mëa
.
po°s¸ùt_«me
 = 
NULL
;

154 
	`ass_f⁄t_¥ovidî_add_f⁄t
(
¥ovidî
, &
mëa
, 
∑th
, 
ödex
, (*)
∑t
);

156 
	}
}

158 
	$ˇche_ÁŒbacks
(
ProvidîPriv©e
 *
fc
)

160 
FcResu…
 
ªsu…
;

162 i‡(
fc
->
ÁŒbacks
)

166 
FcP©ã∫
 *
∑t
 = 
	`FcP©ã∫Cª©e
();

167 
	`FcP©ã∫AddSåög
(
∑t
, 
FC_FAMILY
, (
FcCh¨8
 *)"sans-serif");

168 
	`FcP©ã∫AddBoﬁ
(
∑t
, 
FC_OUTLINE
, 
FcTrue
);

169 
	`FcC⁄figSub°ôuã
 (
fc
->
c⁄fig
, 
∑t
, 
FcM©chP©ã∫
);

170 
	`FcDeÁu…Sub°ôuã
 (
∑t
);

174 
	`FcP©ã∫Dñ
(
∑t
, 
FC_LANG
);

178 
fc
->
ÁŒbacks
 = 
	`FcF⁄tS‹t
(fc->
c⁄fig
, 
∑t
, 
FcTrue
, &fc->
ÁŒback_ch¨s
,

179 &
ªsu…
);

182 i‡(
ªsu…
 !
FcResu…M©ch
)

183 
fc
->
ÁŒbacks
 = 
	`FcF⁄tSëCª©e
();

185 
	`FcP©ã∫De°roy
(
∑t
);

186 
	}
}

188 *
	$gë_ÁŒback
(*
¥iv
, c⁄° *
Ámûy
, 
uöt32_t
 
codïoöt
)

190 
ProvidîPriv©e
 *
fc
 = (ProvidîPriv©ê*)
¥iv
;

191 
FcResu…
 
ªsu…
;

193 
	`ˇche_ÁŒbacks
(
fc
);

195 i‡(!
fc
->
ÁŒbacks
 || fc->ÁŒbacks->
nf⁄t
 == 0)

196  
NULL
;

198 i‡(
codïoöt
 == 0) {

199 *
Ámûy
 = 
NULL
;

200 
ªsu…
 = 
	`FcP©ã∫GëSåög
(
fc
->
ÁŒbacks
->
f⁄ts
[0], 
FC_FAMILY
, 0,

201 (
FcCh¨8
 **)&
Ámûy
);

202 i‡(
ªsu…
 =
FcResu…M©ch
) {

203  
	`°rdup
(
Ámûy
);

205  
NULL
;

212 i‡(
	`FcCh¨SëHasCh¨
(
fc
->
ÁŒback_ch¨s
, 
codïoöt
Ë=
FcFÆ£
)

213  
NULL
;

215 
j
 = 0; j < 
fc
->
ÁŒbacks
->
nf⁄t
; j++) {

216 
FcP©ã∫
 *
∑âîn
 = 
fc
->
ÁŒbacks
->
f⁄ts
[
j
];

218 
FcCh¨Së
 *
ch¨£t
;

219 
ªsu…
 = 
	`FcP©ã∫GëCh¨Së
(
∑âîn
, 
FC_CHARSET
, 0, &
ch¨£t
);

221 i‡(
ªsu…
 =
FcResu…M©ch
 && 
	`FcCh¨SëHasCh¨
(
ch¨£t
,

222 
codïoöt
)) {

223 *
Ámûy
 = 
NULL
;

224 
ªsu…
 = 
	`FcP©ã∫GëSåög
(
∑âîn
, 
FC_FAMILY
, 0,

225 (
FcCh¨8
 **)&
Ámûy
);

226 i‡(
ªsu…
 =
FcResu…M©ch
) {

227  
	`°rdup
(
Ámûy
);

229  
NULL
;

235  
NULL
;

236 
	}
}

238 
	$gë_sub°ôuti⁄s
(*
¥iv
, c⁄° *
«me
,

239 
ASS_F⁄tProvidîMëaD©a
 *
mëa
)

241 
ProvidîPriv©e
 *
fc
 = (ProvidîPriv©ê*)
¥iv
;

243 
FcP©ã∫
 *
∑t
 = 
	`FcP©ã∫Cª©e
();

244 i‡(!
∑t
)

247 
	`FcP©ã∫AddSåög
(
∑t
, 
FC_FAMILY
, (
FcCh¨8
 *)
«me
);

248 
	`FcP©ã∫AddSåög
(
∑t
, 
FC_FAMILY
, (
FcCh¨8
 *)"__libass_delimiter");

249 
	`FcP©ã∫AddBoﬁ
(
∑t
, 
FC_OUTLINE
, 
FcTrue
);

250 i‡(!
	`FcC⁄figSub°ôuã
(
fc
->
c⁄fig
, 
∑t
, 
FcM©chP©ã∫
))

251 
˛ónup
;

254 
mëa
->
n_fuŒ«me
 = 0;

255 
mëa
->
fuŒ«mes
 = 
	`ˇŒoc
(
MAX_NAME
, (*));

256 i‡(!
mëa
->
fuŒ«mes
)

257 
˛ónup
;

259 *
Æüs
 = 
NULL
;

260 
	`FcP©ã∫GëSåög
(
∑t
, 
FC_FAMILY
, 
mëa
->
n_fuŒ«me
,

261 (
FcCh¨8
 **)&
Æüs
Ë=
FcResu…M©ch


262 && 
mëa
->
n_fuŒ«me
 < 
MAX_NAME


263 && 
	`°rcmp
(
Æüs
, "__libass_delimiter") != 0) {

264 
Æüs
 = 
	`°rdup
(alias);

265 i‡(!
Æüs
)

266 
˛ónup
;

267 
mëa
->
fuŒ«mes
[mëa->
n_fuŒ«me
] = 
Æüs
;

268 
mëa
->
n_fuŒ«me
++;

271 
˛ónup
:

272 
	`FcP©ã∫De°roy
(
∑t
);

273 
	}
}

275 
ASS_F⁄tProvidîFuncs
 
	gf⁄tc⁄fig_ˇŒbacks
 = {

276 .
check_po°s¸ùt
 = check_postscript,

277 .
	gcheck_glyph
 = 
check_glyph
,

278 .
	gde°roy_¥ovidî
 = 
de°roy
,

279 .
	ggë_sub°ôuti⁄s
 = 
gë_sub°ôuti⁄s
,

280 .
	ggë_ÁŒback
 = 
gë_ÁŒback
,

283 
ASS_F⁄tProvidî
 *

284 
	$ass_f⁄tc⁄fig_add_¥ovidî
(
ASS_Libøry
 *
lib
, 
ASS_F⁄tSñe˘‹
 *
£À˘‹
,

285 c⁄° *
c⁄fig
)

287 
rc
;

288 
ProvidîPriv©e
 *
fc
 = 
NULL
;

289 
ASS_F⁄tProvidî
 *
¥ovidî
 = 
NULL
;

291 
fc
 = 
	`ˇŒoc
(1, (
ProvidîPriv©e
));

292 i‡(
fc
 =
NULL
)

293  
NULL
;

296 
fc
->
c⁄fig
 = 
	`FcC⁄figCª©e
();

297 
rc
 = 
	`FcC⁄figP¨£AndLﬂd
(
fc
->
c⁄fig
, (*Ëc⁄fig, 
FcTrue
);

298 i‡(!
rc
) {

299 
	`ass_msg
(
lib
, 
MSGL_WARN
, "No usable fontconfig configuration "

301 
	`FcC⁄figDe°roy
(
fc
->
c⁄fig
);

302 
fc
->
c⁄fig
 = 
	`FcInôLﬂdC⁄fig
();

304 i‡(
fc
->
c⁄fig
)

305 
rc
 = 
	`FcC⁄figBuûdF⁄ts
(
fc
->
c⁄fig
);

307 i‡(!
rc
 || !
fc
->
c⁄fig
) {

308 
	`ass_msg
(
lib
, 
MSGL_FATAL
,

310 
	`FcC⁄figDe°roy
(
fc
->
c⁄fig
);

311 
	`‰ì
(
fc
);

312  
NULL
;

316 
¥ovidî
 = 
	`ass_f⁄t_¥ovidî_√w
(
£À˘‹
, &
f⁄tc⁄fig_ˇŒbacks
, 
fc
);

319 
	`sˇn_f⁄ts
(
fc
->
c⁄fig
, 
¥ovidî
);

321  
¥ovidî
;

322 
	}
}

	@libass/ass_fontconfig.h

19 
	~"ass_ty≥s.h
"

20 
	~"ass_f⁄t£À˘.h
"

22 #i‚de‡
ASS_FONTCONFIG_H


23 
	#ASS_FONTCONFIG_H


	)

25 #ifde‡
CONFIG_FONTCONFIG


27 
ASS_F⁄tProvidî
 *

28 
ass_f⁄tc⁄fig_add_¥ovidî
(
ASS_Libøry
 *
lib
, 
ASS_F⁄tSñe˘‹
 *
£À˘‹
,

29 c⁄° *
c⁄fig
);

	@libass/ass_fontselect.c

20 
	~"c⁄fig.h
"

21 
	~"ass_com∑t.h
"

23 
	~<°dlib.h
>

24 
	~<°dio.h
>

25 
	~<limôs.h
>

26 
	~<as£π.h
>

27 
	~<°rög.h
>

28 
	~<sys/ty≥s.h
>

29 
	~<sys/°©.h
>

30 
	~<öây≥s.h
>

31 
	~<limôs.h
>

32 
	~<·2buûd.h
>

33 
	~<sys/ty≥s.h
>

34 
	~<dúít.h
>

35 #ö˛udê
FT_FREETYPE_H


36 #ö˛udê
FT_SFNT_NAMES_H


37 #ö˛udê
FT_TRUETYPE_IDS_H


38 #ö˛udê
FT_TYPE1_TABLES_H


40 
	~"ass_utûs.h
"

41 
	~"ass.h
"

42 
	~"ass_libøry.h
"

43 
	~"ass_f⁄t£À˘.h
"

44 
	~"ass_f⁄tc⁄fig.h
"

45 
	~"ass_c‹ëext.h
"

46 
	~"ass_dúe˘wrôe.h
"

47 
	~"ass_f⁄t.h
"

48 
	~"ass_°rög.h
"

50 
	#ABS
(
x
Ë((xË< 0 ? -(xË: (x))

	)

51 
	#MAX_FULLNAME
 100

	)

55 
	sf⁄t_öfo
 {

56 
	muid
;

58 **
	mÁmûõs
;

59 **
	mfuŒ«mes
;

60 
	mn_Ámûy
;

61 
	mn_fuŒ«me
;

63 
	m¶™t
;

64 
	mweight
;

65 
	mwidth
;

68 *
	m∑th
;

69 
	mödex
;

71 *
	mpo°s¸ùt_«me
;

75 
ASS_F⁄tProvidî
 *
	m¥ovidî
;

78 *
	m¥iv
;

81 
	sf⁄t_£À˘‹
 {

83 
	muid
;

86 *
	mÁmûy_deÁu…
;

87 *
	m∑th_deÁu…
;

88 
	mödex_deÁu…
;

91 
	mn_f⁄t
;

92 
	mÆloc_f⁄t
;

93 
ASS_F⁄tInfo
 *
	mf⁄t_öfos
;

95 
ASS_F⁄tProvidî
 *
	mdeÁu…_¥ovidî
;

96 
ASS_F⁄tProvidî
 *
	membedded_¥ovidî
;

99 
	sf⁄t_¥ovidî
 {

100 
ASS_F⁄tSñe˘‹
 *
	m∑ª¡
;

101 
ASS_F⁄tProvidîFuncs
 
	mfuncs
;

102 *
	m¥iv
;

105 
f⁄t_d©a_·
 
	tF⁄tD©aFT
;

106 
	sf⁄t_d©a_·
 {

107 
ASS_Libøry
 *
	mlib
;

108 
FT_Fa˚
 
	mÁ˚
;

109 
	midx
;

112 
boﬁ
 
	$check_po°s¸ùt_·
(*
d©a
)

114 
F⁄tD©aFT
 *
fd
 = (F⁄tD©aFT *)
d©a
;

115 
PS_F⁄tInfoRec
 
po°s¸ùt_öfo
;

116  !
	`FT_Gë_PS_F⁄t_Info
(
fd
->
Á˚
, &
po°s¸ùt_öfo
);

117 
	}
}

119 
boﬁ
 
	$check_glyph_·
(*
d©a
, 
uöt32_t
 
codïoöt
)

121 
F⁄tD©aFT
 *
fd
 = (F⁄tD©aFT *)
d©a
;

123 i‡(!
codïoöt
)

124  
åue
;

126  !!
	`FT_Gë_Ch¨_Index
(
fd
->
Á˚
, 
codïoöt
);

127 
	}
}

129 
	$de°roy_f⁄t_·
(*
d©a
)

131 
F⁄tD©aFT
 *
fd
 = (F⁄tD©aFT *)
d©a
;

133 
	`FT_D⁄e_Fa˚
(
fd
->
Á˚
);

134 
	`‰ì
(
fd
);

135 
	}
}

137 
size_t


138 
	$gë_d©a_embedded
(*
d©a
, *
buf
, 
size_t
 
off£t
, size_à
Àn
)

140 
F⁄tD©aFT
 *
·
 = (F⁄tD©aFT *)
d©a
;

141 
ASS_F⁄td©a
 *
fd
 = 
·
->
lib
->
f⁄td©a
;

142 
i
 = 
·
->
idx
;

144 i‡(
buf
 =
NULL
)

145  
fd
[
i
].
size
;

147 i‡(
off£t
 >
fd
[
i
].
size
)

150 i‡(
Àn
 > 
fd
[
i
].
size
 - 
off£t
)

151 
Àn
 = 
fd
[
i
].
size
 - 
off£t
;

153 
	`mem˝y
(
buf
, 
fd
[
i
].
d©a
 + 
off£t
, 
Àn
);

154  
Àn
;

155 
	}
}

157 
ASS_F⁄tProvidîFuncs
 
	g·_funcs
 = {

158 .
gë_d©a
 = 
gë_d©a_embedded
,

159 .
	gcheck_po°s¸ùt
 = 
check_po°s¸ùt_·
,

160 .
	gcheck_glyph
 = 
check_glyph_·
,

161 .
	gde°roy_f⁄t
 = 
de°roy_f⁄t_·
,

164 
	$lﬂd_f⁄ts_‰om_dú
(
ASS_Libøry
 *
libøry
, c⁄° *
dú
)

166 
DIR
 *
d
 = 
	`›ídú
(
dú
);

167 i‡(!
d
)

170 
dúít
 *
íåy
 = 
	`ªaddú
(
d
);

171 i‡(!
íåy
)

173 i‡(
íåy
->
d_«me
[0] == '.')

175 
fuŒ«me
[4096];

176 
	`¢¥ötf
(
fuŒ«me
, (fuŒ«me), "%s/%s", 
dú
, 
íåy
->
d_«me
);

177 
size_t
 
bufsize
 = 0;

178 
	`ass_msg
(
libøry
, 
MSGL_INFO
, "Lﬂdög f⁄àfûê'%s'", 
fuŒ«me
);

179 *
d©a
 = 
	`ªad_fûe
(
libøry
, 
fuŒ«me
, &
bufsize
);

180 i‡(
d©a
) {

181 
	`ass_add_f⁄t
(
libøry
, 
íåy
->
d_«me
, 
d©a
, 
bufsize
);

182 
	`‰ì
(
d©a
);

185 
	`˛o£dú
(
d
);

186 
	}
}

195 
ASS_F⁄tProvidî
 *

196 
	$ass_f⁄t_¥ovidî_√w
(
ASS_F⁄tSñe˘‹
 *
£À˘‹
, 
ASS_F⁄tProvidîFuncs
 *
funcs
,

197 *
d©a
)

199 
ASS_F⁄tProvidî
 *
¥ovidî
 = 
	`ˇŒoc
(1, (ASS_FontProvider));

200 i‡(
¥ovidî
 =
NULL
)

201  
NULL
;

203 
¥ovidî
->
∑ª¡
 = 
£À˘‹
;

204 
¥ovidî
->
funcs
 = *funcs;

205 
¥ovidî
->
¥iv
 = 
d©a
;

207  
¥ovidî
;

208 
	}
}

216 
	$ass_f⁄t_¥ovidî_‰ì_f⁄töfo
(
ASS_F⁄tInfo
 *
öfo
)

218 
j
;

220 i‡(
öfo
->
fuŒ«mes
) {

221 
j
 = 0; j < 
öfo
->
n_fuŒ«me
; j++)

222 
	`‰ì
(
öfo
->
fuŒ«mes
[
j
]);

223 
	`‰ì
(
öfo
->
fuŒ«mes
);

226 i‡(
öfo
->
Ámûõs
) {

227 
j
 = 0; j < 
öfo
->
n_Ámûy
; j++)

228 
	`‰ì
(
öfo
->
Ámûõs
[
j
]);

229 
	`‰ì
(
öfo
->
Ámûõs
);

232 i‡(
öfo
->
∑th
)

233 
	`‰ì
(
öfo
->
∑th
);

235 i‡(
öfo
->
po°s¸ùt_«me
)

236 
	`‰ì
(
öfo
->
po°s¸ùt_«me
);

238 
	}
}

249 
boﬁ


250 
	$ass_f⁄t_¥ovidî_add_f⁄t
(
ASS_F⁄tProvidî
 *
¥ovidî
,

251 
ASS_F⁄tProvidîMëaD©a
 *
mëa
, c⁄° *
∑th
,

252 
ödex
, *
d©a
)

254 
i
;

255 
weight
, 
¶™t
, 
width
;

256 
ASS_F⁄tSñe˘‹
 *
£À˘‹
 = 
¥ovidî
->
∑ª¡
;

257 
ASS_F⁄tInfo
 *
öfo
;

260 
j
;

261 
	`¥ötf
("new font:\n");

262 
	`¥ötf
(" families: ");

263 
j
 = 0; j < 
mëa
->
n_Ámûy
; j++)

264 
	`¥ötf
("'%s' ", 
mëa
->
Ámûõs
[
j
]);

265 
	`¥ötf
("\n");

266 
	`¥ötf
(" fullnames: ");

267 
j
 = 0; j < 
mëa
->
n_fuŒ«me
; j++)

268 
	`¥ötf
("'%s' ", 
mëa
->
fuŒ«mes
[
j
]);

269 
	`¥ötf
("\n");

270 
	`¥ötf
(" sœ¡: %d\n", 
mëa
->
¶™t
);

271 
	`¥ötf
(" weight: %d\n", 
mëa
->
weight
);

272 
	`¥ötf
(" width: %d\n", 
mëa
->
width
);

273 
	`¥ötf
("Ö©h: %s\n", 
∑th
);

274 
	`¥ötf
(" index: %d\n", 
ödex
);

277 
weight
 = 
mëa
->weight;

278 
¶™t
 = 
mëa
->slant;

279 
width
 = 
mëa
->width;

282 i‡(
weight
 < 100 || weight > 900)

283 
weight
 = 400;

284 i‡(
¶™t
 < 0 || slant > 110)

285 
¶™t
 = 0;

286 i‡(
width
 < 50 || width > 200)

287 
width
 = 100;

290 i‡(
£À˘‹
->
n_f⁄t
 >£À˘‹->
Æloc_f⁄t
) {

291 
£À˘‹
->
Æloc_f⁄t
 = 
	`FFMAX
(1, 2 * selector->alloc_font);

292 
£À˘‹
->
f⁄t_öfos
 = 
	`ªÆloc
(selector->font_infos,

293 
£À˘‹
->
Æloc_f⁄t
 * (
ASS_F⁄tInfo
));

297 
öfo
 = 
£À˘‹
->
f⁄t_öfos
 + sñe˘‹->
n_f⁄t
;

298 
	`mem£t
(
öfo
, 0, (
ASS_F⁄tInfo
));

301 
öfo
->
uid
 = 
£À˘‹
->uid++;

303 
öfo
->
¶™t
 = slant;

304 
öfo
->
weight
 = weight;

305 
öfo
->
width
 = width;

306 
öfo
->
n_fuŒ«me
 = 
mëa
->n_fullname;

307 
öfo
->
n_Ámûy
 = 
mëa
->n_family;

309 
öfo
->
Ámûõs
 = 
	`ˇŒoc
(
mëa
->
n_Ámûy
, (*));

310 i‡(
öfo
->
Ámûõs
 =
NULL
)

311 
îr‹
;

313 i‡(
mëa
->
n_fuŒ«me
) {

314 
öfo
->
fuŒ«mes
 = 
	`ˇŒoc
(
mëa
->
n_fuŒ«me
, (*));

315 i‡(
öfo
->
fuŒ«mes
 =
NULL
)

316 
îr‹
;

319 
i
 = 0; i < 
öfo
->
n_Ámûy
; i++) {

320 
öfo
->
Ámûõs
[
i
] = 
	`°rdup
(
mëa
->families[i]);

321 i‡(
öfo
->
Ámûõs
[
i
] =
NULL
)

322 
îr‹
;

325 
i
 = 0; i < 
öfo
->
n_fuŒ«me
; i++) {

326 
öfo
->
fuŒ«mes
[
i
] = 
	`°rdup
(
mëa
->fullnames[i]);

327 i‡(
öfo
->
fuŒ«mes
[
i
] =
NULL
)

328 
îr‹
;

331 i‡(
mëa
->
po°s¸ùt_«me
) {

332 
öfo
->
po°s¸ùt_«me
 = 
	`°rdup
(
mëa
->postscript_name);

333 i‡(
öfo
->
po°s¸ùt_«me
 =
NULL
)

334 
îr‹
;

337 i‡(
∑th
) {

338 
öfo
->
∑th
 = 
	`°rdup
(path);

339 i‡(
öfo
->
∑th
 =
NULL
)

340 
îr‹
;

343 
öfo
->
ödex
 = index;

344 
öfo
->
¥iv
 = 
d©a
;

345 
öfo
->
¥ovidî
 =Örovider;

347 
£À˘‹
->
n_f⁄t
++;

348  
åue
;

350 
îr‹
:

351 
	`ass_f⁄t_¥ovidî_‰ì_f⁄töfo
(
öfo
);

353 i‡(
¥ovidî
->
funcs
.
de°roy_f⁄t
)

354 
¥ovidî
->
funcs
.
	`de°roy_f⁄t
(
d©a
);

356  
Ál£
;

357 
	}
}

364 
	$ass_f⁄t£À˘_˛ónup
(
ASS_F⁄tSñe˘‹
 *
£À˘‹
)

366 
i
, 
w
;

368 
i
 = 0, 
w
 = 0; i < 
£À˘‹
->
n_f⁄t
; i++) {

369 
ASS_F⁄tInfo
 *
öfo
 = 
£À˘‹
->
f⁄t_öfos
 + 
i
;

372 i‡(
öfo
->
¥ovidî
 !
NULL
) {

374 i‡(
w
 !
i
)

375 
	`mem˝y
(
£À˘‹
->
f⁄t_öfos
 + 
w
, sñe˘‹->f⁄t_öfo†+ 
i
,

376 (
ASS_F⁄tInfo
));

377 
w
++;

382 
£À˘‹
->
n_f⁄t
 = 
w
;

383 
	}
}

385 
	$ass_f⁄t_¥ovidî_‰ì
(
ASS_F⁄tProvidî
 *
¥ovidî
)

387 
i
;

388 
ASS_F⁄tSñe˘‹
 *
£À˘‹
 = 
¥ovidî
->
∑ª¡
;

391 
i
 = 0; i < 
£À˘‹
->
n_f⁄t
; i++) {

392 
ASS_F⁄tInfo
 *
öfo
 = 
£À˘‹
->
f⁄t_öfos
 + 
i
;

394 i‡(
öfo
->
¥ovidî
 ==Örovider) {

395 
	`ass_f⁄t_¥ovidî_‰ì_f⁄töfo
(
öfo
);

397 i‡(
öfo
->
¥ovidî
->
funcs
.
de°roy_f⁄t
)

398 
öfo
->
¥ovidî
->
funcs
.
	`de°roy_f⁄t
(öfo->
¥iv
);

400 
öfo
->
¥ovidî
 = 
NULL
;

406 
	`ass_f⁄t£À˘_˛ónup
(
£À˘‹
);

409 i‡(
¥ovidî
->
funcs
.
de°roy_¥ovidî
)

410 
¥ovidî
->
funcs
.
	`de°roy_¥ovidî
’rovidî->
¥iv
);

412 
	`‰ì
(
¥ovidî
);

413 
	}
}

415 
boﬁ
 
	$check_po°s¸ùt
(
ASS_F⁄tInfo
 *
fi
)

417 
ASS_F⁄tProvidî
 *
¥ovidî
 = 
fi
->provider;

418 
	`as£π
(
¥ovidî
 &&Örovidî->
funcs
.
check_po°s¸ùt
);

420  
¥ovidî
->
funcs
.
	`check_po°s¸ùt
(
fi
->
¥iv
);

421 
	}
}

426 
boﬁ
 
	$m©ches_Ámûy_«me
(
ASS_F⁄tInfo
 *
f
, c⁄° *
Ámûy
)

428 
i
 = 0; i < 
f
->
n_Ámûy
; i++) {

429 i‡(
	`ass_°rˇ£cmp
(
f
->
Ámûõs
[
i
], 
Ámûy
) == 0)

430  
åue
;

432  
Ál£
;

433 
	}
}

439 
boﬁ
 
	$m©ches_fuŒ_‹_po°s¸ùt_«me
(
ASS_F⁄tInfo
 *
f
,

440 c⁄° *
fuŒ«me
)

442 
boﬁ
 
m©ches_fuŒ«me
 = 
Ál£
;

443 
boﬁ
 
m©ches_po°s¸ùt_«me
 = 
Ál£
;

445 
i
 = 0; i < 
f
->
n_fuŒ«me
; i++) {

446 i‡(
	`ass_°rˇ£cmp
(
f
->
fuŒ«mes
[
i
], 
fuŒ«me
) == 0) {

447 
m©ches_fuŒ«me
 = 
åue
;

452 i‡(
f
->
po°s¸ùt_«me
 !
NULL
 &&

453 
	`ass_°rˇ£cmp
(
f
->
po°s¸ùt_«me
, 
fuŒ«me
) == 0)

454 
m©ches_po°s¸ùt_«me
 = 
åue
;

456 i‡(
m©ches_fuŒ«me
 =
m©ches_po°s¸ùt_«me
)

457  
m©ches_fuŒ«me
;

459 i‡(
	`check_po°s¸ùt
(
f
))

460  
m©ches_po°s¸ùt_«me
;

462  
m©ches_fuŒ«me
;

463 
	}
}

473 
	$f⁄t_©åibuãs_simû¨ôy
(
ASS_F⁄tInfo
 *
a
, ASS_F⁄tInfÿ*
ªq
)

475 
simû¨ôy
 = 0;

476 
simû¨ôy
 +
	`ABS
(
a
->
weight
 - 
ªq
->weight);

477 
simû¨ôy
 +
	`ABS
(
a
->
¶™t
 - 
ªq
->slant);

478 
simû¨ôy
 +
	`ABS
(
a
->
width
 - 
ªq
->width);

480  
simû¨ôy
;

481 
	}
}

485 
	$f⁄t_öfo_dump
(
ASS_F⁄tInfo
 *
f⁄t_öfos
, 
size_t
 
Àn
)

487 
i
, 
j
;

490 
i
 = 0; i < 
Àn
; i++) {

491 
	`¥ötf
("f⁄à%d\n", 
i
);

492 
	`¥ötf
(" families: ");

493 
j
 = 0; j < 
f⁄t_öfos
[
i
].
n_Ámûy
; j++)

494 
	`¥ötf
("'%s' ", 
f⁄t_öfos
[
i
].
Ámûõs
[
j
]);

495 
	`¥ötf
(" fullnames: ");

496 
j
 = 0; j < 
f⁄t_öfos
[
i
].
n_fuŒ«me
; j++)

497 
	`¥ötf
("'%s' ", 
f⁄t_öfos
[
i
].
fuŒ«mes
[
j
]);

498 
	`¥ötf
("\n");

499 
	`¥ötf
(" sœ¡: %d\n", 
f⁄t_öfos
[
i
].
¶™t
);

500 
	`¥ötf
(" weight: %d\n", 
f⁄t_öfos
[
i
].
weight
);

501 
	`¥ötf
(" width: %d\n", 
f⁄t_öfos
[
i
].
width
);

502 
	`¥ötf
("Ö©h: %s\n", 
f⁄t_öfos
[
i
].
∑th
);

503 
	`¥ötf
(" index: %d\n", 
f⁄t_öfos
[
i
].
ödex
);

504 
	`¥ötf
(" sc‹e: %d\n", 
f⁄t_öfos
[
i
].
sc‹e
);

507 
	}
}

510 
boﬁ
 
	$check_glyph
(
ASS_F⁄tInfo
 *
fi
, 
uöt32_t
 
code
)

512 
ASS_F⁄tProvidî
 *
¥ovidî
 = 
fi
->provider;

513 
	`as£π
(
¥ovidî
 &&Örovidî->
funcs
.
check_glyph
);

515  
¥ovidî
->
funcs
.
	`check_glyph
(
fi
->
¥iv
, 
code
);

516 
	}
}

519 
	$föd_f⁄t
(
ASS_F⁄tSñe˘‹
 *
¥iv
, 
ASS_Libøry
 *
libøry
,

520 
ASS_F⁄tProvidîMëaD©a
 
mëa
, 
bﬁd
, 
ôÆic
,

521 *
ödex
, **
po°s¸ùt_«me
, *
uid
, 
ASS_F⁄tSåóm
 *
°ªam
,

522 
uöt32_t
 
code
, 
boﬁ
 *
«me_m©ch
)

524 
ASS_F⁄tInfo
 
ªq
 = {0};

525 
ASS_F⁄tInfo
 *
£À˘ed
 = 
NULL
;

528 i‡(!
¥iv
->
n_f⁄t
)

529  
NULL
;

532 
ªq
.
¶™t
 = 
ôÆic
;

533 
ªq
.
weight
 = 
bﬁd
;

534 
ªq
.
width
 = 100;

537 
sc‹e_mö
 = 
UINT_MAX
;

538 
i
 = 0; i < 
mëa
.
n_fuŒ«me
; i++) {

539 c⁄° *
fuŒ«me
 = 
mëa
.
fuŒ«mes
[
i
];

541 
x
 = 0; x < 
¥iv
->
n_f⁄t
; x++) {

542 
ASS_F⁄tInfo
 *
f⁄t
 = &
¥iv
->
f⁄t_öfos
[
x
];

543 
sc‹e
 = 
UINT_MAX
;

545 i‡(
	`m©ches_Ámûy_«me
(
f⁄t
, 
fuŒ«me
)) {

548 
sc‹e
 = 
	`f⁄t_©åibuãs_simû¨ôy
(
f⁄t
, &
ªq
);

549 *
«me_m©ch
 = 
åue
;

550 } i‡(
	`m©ches_fuŒ_‹_po°s¸ùt_«me
(
f⁄t
, 
fuŒ«me
)) {

554 
sc‹e
 = 0;

555 *
«me_m©ch
 = 
åue
;

559 i‡(
sc‹e
 < 
sc‹e_mö
) {

569 i‡(!
	`check_glyph
(
f⁄t
, 
code
))

572 
sc‹e_mö
 = 
sc‹e
;

573 
£À˘ed
 = 
f⁄t
;

578 i‡(
sc‹e
 == 0)

584 i‡(
£À˘ed
 !
NULL
)

589 *
ªsu…
 = 
NULL
;

590 i‡(
£À˘ed
) {

591 
ASS_F⁄tProvidî
 *
¥ovidî
 = 
£À˘ed
->provider;

594 *
po°s¸ùt_«me
 = 
£À˘ed
->postscript_name;

595 *
uid
 = 
£À˘ed
->uid;

598 i‡(
¥ovidî
->
funcs
.
gë_f⁄t_ödex
) {

599 *
ödex
 = 
¥ovidî
->
funcs
.
	`gë_f⁄t_ödex
(
£À˘ed
->
¥iv
);

601 *
ödex
 = 
£À˘ed
->index;

604 i‡(
£À˘ed
->
∑th
 =
NULL
) {

605 
°ªam
->
func
 = 
¥ovidî
->
funcs
.
gë_d©a
;

606 
°ªam
->
¥iv
 = 
£À˘ed
->priv;

610 i‡(
£À˘ed
->
po°s¸ùt_«me
)

611 
ªsu…
 = 
£À˘ed
->
po°s¸ùt_«me
;

613 
ªsu…
 = 
£À˘ed
->
Ámûõs
[0];

615 
ªsu…
 = 
£À˘ed
->
∑th
;

619  
ªsu…
;

620 
	}
}

622 *
	$£À˘_f⁄t
(
ASS_F⁄tSñe˘‹
 *
¥iv
, 
ASS_Libøry
 *
libøry
,

623 c⁄° *
Ámûy
, 
bﬁd
, 
ôÆic
,

624 *
ödex
, **
po°s¸ùt_«me
, *
uid
,

625 
ASS_F⁄tSåóm
 *
°ªam
, 
uöt32_t
 
code
)

627 
ASS_F⁄tProvidî
 *
deÁu…_¥ovidî
 = 
¥iv
->default_provider;

628 
ASS_F⁄tProvidîMëaD©a
 
mëa
 = {0};

629 *
ªsu…
 = 
NULL
;

630 
boﬁ
 
«me_m©ch
 = 
Ál£
;

632 i‡(
Ámûy
 =
NULL
)

633  
NULL
;

635 
ASS_F⁄tProvidîMëaD©a
 
deÁu…_mëa
 = {

636 .
n_fuŒ«me
 = 1,

637 .
fuŒ«mes
 = (**)&
Ámûy
,

641 i‡(
deÁu…_¥ovidî
 && deÁu…_¥ovidî->
funcs
.
gë_sub°ôuti⁄s
) {

642 
deÁu…_¥ovidî
->
funcs
.
	`gë_sub°ôuti⁄s
(deÁu…_¥ovidî->
¥iv
,

643 
Ámûy
, &
mëa
);

646 i‡(!
mëa
.
n_fuŒ«me
) {

647 
mëa
 = 
deÁu…_mëa
;

650 
ªsu…
 = 
	`föd_f⁄t
(
¥iv
, 
libøry
, 
mëa
, 
bﬁd
, 
ôÆic
, 
ödex
,

651 
po°s¸ùt_«me
, 
uid
, 
°ªam
, 
code
, &
«me_m©ch
);

656 i‡(
ªsu…
 =
NULL
 && 
«me_m©ch
 =
Ál£
 && 
deÁu…_¥ovidî
 &&

657 
deÁu…_¥ovidî
->
funcs
.
m©ch_f⁄ts
) {

660 
i
 = 0; i < 
mëa
.
n_fuŒ«me
; i++) {

661 
deÁu…_¥ovidî
->
funcs
.
	`m©ch_f⁄ts
(
libøry
, default_provider,

662 
mëa
.
fuŒ«mes
[
i
]);

664 
ªsu…
 = 
	`föd_f⁄t
(
¥iv
, 
libøry
, 
mëa
, 
bﬁd
, 
ôÆic
, 
ödex
,

665 
po°s¸ùt_«me
, 
uid
, 
°ªam
, 
code
, &
«me_m©ch
);

669 i‡(
mëa
.
fuŒ«mes
 !
deÁu…_mëa
.fullnames) {

670 
i
 = 0; i < 
mëa
.
n_fuŒ«me
; i++)

671 
	`‰ì
(
mëa
.
fuŒ«mes
[
i
]);

672 
	`‰ì
(
mëa
.
fuŒ«mes
);

675  
ªsu…
;

676 
	}
}

690 *
	$ass_f⁄t_£À˘
(
ASS_F⁄tSñe˘‹
 *
¥iv
, 
ASS_Libøry
 *
libøry
,

691 
ASS_F⁄t
 *
f⁄t
, *
ödex
, **
po°s¸ùt_«me
,

692 *
uid
, 
ASS_F⁄tSåóm
 *
d©a
, 
uöt32_t
 
code
)

694 *
ªs
 = 0;

695 c⁄° *
Ámûy
 = 
f⁄t
->
desc
.family;

696 
bﬁd
 = 
f⁄t
->
desc
.bold;

697 
ôÆic
 = 
f⁄t
->
desc
.italic;

698 
ASS_F⁄tProvidî
 *
deÁu…_¥ovidî
 = 
¥iv
->default_provider;

700 i‡(
Ámûy
 && *family)

701 
ªs
 = 
	`£À˘_f⁄t
(
¥iv
, 
libøry
, 
Ámûy
, 
bﬁd
, 
ôÆic
, 
ödex
,

702 
po°s¸ùt_«me
, 
uid
, 
d©a
, 
code
);

704 i‡(!
ªs
 && 
¥iv
->
Ámûy_deÁu…
) {

705 
ªs
 = 
	`£À˘_f⁄t
(
¥iv
, 
libøry
,Öriv->
Ámûy_deÁu…
, 
bﬁd
,

706 
ôÆic
, 
ödex
, 
po°s¸ùt_«me
, 
uid
, 
d©a
, 
code
);

707 i‡(
ªs
)

708 
	`ass_msg
(
libøry
, 
MSGL_WARN
, "fontselect: Using default "

710 
Ámûy
, 
bﬁd
, 
ôÆic
, 
ªs
, *
ödex
,

711 *
po°s¸ùt_«me
 ? *postscript_name : "(none)");

714 i‡(!
ªs
 && 
deÁu…_¥ovidî
 && deÁu…_¥ovidî->
funcs
.
gë_ÁŒback
) {

715 c⁄° *
£¨ch_Ámûy
 = 
Ámûy
;

716 i‡(!
£¨ch_Ámûy
 || !*search_family)

717 
£¨ch_Ámûy
 = "Arial";

718 *
ÁŒback_Ámûy
 = 
deÁu…_¥ovidî
->
funcs
.
	`gë_ÁŒback
(

719 
deÁu…_¥ovidî
->
¥iv
, 
£¨ch_Ámûy
, 
code
);

721 i‡(
ÁŒback_Ámûy
) {

722 
ªs
 = 
	`£À˘_f⁄t
(
¥iv
, 
libøry
, 
ÁŒback_Ámûy
, 
bﬁd
, 
ôÆic
,

723 
ödex
, 
po°s¸ùt_«me
, 
uid
, 
d©a
, 
code
);

724 
	`‰ì
(
ÁŒback_Ámûy
);

728 i‡(!
ªs
 && 
¥iv
->
∑th_deÁu…
) {

729 
ªs
 = 
¥iv
->
∑th_deÁu…
;

730 *
ödex
 = 
¥iv
->
ödex_deÁu…
;

731 
	`ass_msg
(
libøry
, 
MSGL_WARN
, "fontselect: Using default font: "

732 "(%s, %d, %dË-> %s, %d, %s", 
Ámûy
, 
bﬁd
, 
ôÆic
,

733 
¥iv
->
∑th_deÁu…
, *
ödex
,

734 *
po°s¸ùt_«me
 ? *postscript_name : "(none)");

737 i‡(
ªs
)

738 
	`ass_msg
(
libøry
, 
MSGL_INFO
,

739 "f⁄t£À˘: (%s, %d, %dË-> %s, %d, %s", 
Ámûy
, 
bﬁd
,

740 
ôÆic
, 
ªs
, *
ödex
, *
po°s¸ùt_«me
 ? *postscript_name : "(none)");

742  
ªs
;

743 
	}
}

754 
boﬁ


755 
	$gë_f⁄t_öfo
(
FT_Libøry
 
lib
, 
FT_Fa˚
 
Á˚
, 
ASS_F⁄tProvidîMëaD©a
 *
öfo
)

757 
i
;

758 
num_fuŒ«me
 = 0;

759 
num_Ámûy
 = 0;

760 
num_«mes
 = 
	`FT_Gë_S‚t_Name_Cou¡
(
Á˚
);

761 
¶™t
, 
weight
;

762 *
fuŒ«mes
[
MAX_FULLNAME
];

763 *
Ámûõs
[
MAX_FULLNAME
];

766 i‡(!(
Á˚
->
Á˚_Êags
 & 
FT_FACE_FLAG_SCALABLE
))

767  
Ál£
;

769 
i
 = 0; i < 
num_«mes
; i++) {

770 
FT_S‚tName
 
«me
;

772 i‡(
	`FT_Gë_S‚t_Name
(
Á˚
, 
i
, &
«me
))

775 i‡(
«me
.
∂©f‹m_id
 =
TT_PLATFORM_MICROSOFT
 &&

776 (
«me
.
«me_id
 =
TT_NAME_ID_FULL_NAME
 ||

777 
«me
.
«me_id
 =
TT_NAME_ID_FONT_FAMILY
)) {

778 
buf
[1024];

779 
	`ass_utf16be_to_utf8
(
buf
, (buf), (
uöt8_t
 *)
«me
.
°rög
,

780 
«me
.
°rög_Àn
);

782 i‡(
«me
.
«me_id
 =
TT_NAME_ID_FULL_NAME
) {

783 
fuŒ«mes
[
num_fuŒ«me
] = 
	`°rdup
(
buf
);

784 i‡(
fuŒ«mes
[
num_fuŒ«me
] =
NULL
)

785 
îr‹
;

786 
num_fuŒ«me
++;

789 i‡(
«me
.
«me_id
 =
TT_NAME_ID_FONT_FAMILY
) {

790 
Ámûõs
[
num_Ámûy
] = 
	`°rdup
(
buf
);

791 i‡(
Ámûõs
[
num_Ámûy
] =
NULL
)

792 
îr‹
;

793 
num_Ámûy
++;

800 i‡(
num_Ámûy
 =0 && 
Á˚
->
Ámûy_«me
) {

801 
Ámûõs
[0] = 
	`°rdup
(
Á˚
->
Ámûy_«me
);

802 i‡(
Ámûõs
[0] =
NULL
)

803 
îr‹
;

804 
num_Ámûy
++;

808 i‡(
num_Ámûy
 == 0)

809 
îr‹
;

812 
¶™t
 = 110 * !!(
Á˚
->
°yÀ_Êags
 & 
FT_STYLE_FLAG_ITALIC
);

813 
weight
 = 300 * !!(
Á˚
->
°yÀ_Êags
 & 
FT_STYLE_FLAG_BOLD
) + 400;

816 
öfo
->
¶™t
 = slant;

817 
öfo
->
weight
 = weight;

818 
öfo
->
width
 = 100;

820 
öfo
->
po°s¸ùt_«me
 = (*)
	`FT_Gë_Po°s¸ùt_Name
(
Á˚
);

822 
öfo
->
Ámûõs
 = 
	`ˇŒoc
((*), 
num_Ámûy
);

823 i‡(
öfo
->
Ámûõs
 =
NULL
)

824 
îr‹
;

825 
	`mem˝y
(
öfo
->
Ámûõs
, &Ámûõs, (*Ë* 
num_Ámûy
);

826 
öfo
->
n_Ámûy
 = 
num_Ámûy
;

828 i‡(
num_fuŒ«me
) {

829 
öfo
->
fuŒ«mes
 = 
	`ˇŒoc
((*), 
num_fuŒ«me
);

830 i‡(
öfo
->
fuŒ«mes
 =
NULL
)

831 
îr‹
;

832 
	`mem˝y
(
öfo
->
fuŒ«mes
, &fuŒ«mes, (*Ë* 
num_fuŒ«me
);

833 
öfo
->
n_fuŒ«me
 = 
num_fuŒ«me
;

836  
åue
;

838 
îr‹
:

839 
i
 = 0; i < 
num_Ámûy
; i++)

840 
	`‰ì
(
Ámûõs
[
i
]);

842 
i
 = 0; i < 
num_fuŒ«me
; i++)

843 
	`‰ì
(
fuŒ«mes
[
i
]);

845 
	`‰ì
(
öfo
->
Ámûõs
);

846 
	`‰ì
(
öfo
->
fuŒ«mes
);

848  
Ál£
;

849 
	}
}

856 
	$‰ì_f⁄t_öfo
(
ASS_F⁄tProvidîMëaD©a
 *
mëa
)

858 
i
;

860 
i
 = 0; i < 
mëa
->
n_Ámûy
; i++)

861 
	`‰ì
(
mëa
->
Ámûõs
[
i
]);

863 
i
 = 0; i < 
mëa
->
n_fuŒ«me
; i++)

864 
	`‰ì
(
mëa
->
fuŒ«mes
[
i
]);

866 
	`‰ì
(
mëa
->
Ámûõs
);

867 
	`‰ì
(
mëa
->
fuŒ«mes
);

868 
	}
}

879 
	$¥o˚ss_f⁄td©a
(
ASS_F⁄tProvidî
 *
¥iv
, 
ASS_Libøry
 *
libøry
,

880 
FT_Libøry
 
·libøry
, 
idx
)

882 
rc
;

883 c⁄° *
«me
 = 
libøry
->
f⁄td©a
[
idx
].name;

884 c⁄° *
d©a
 = 
libøry
->
f⁄td©a
[
idx
].data;

885 
d©a_size
 = 
libøry
->
f⁄td©a
[
idx
].
size
;

887 
FT_Fa˚
 
Á˚
;

888 
Á˚_ödex
, 
num_Á˚s
 = 1;

890 
Á˚_ödex
 = 0; fa˚_ödex < 
num_Á˚s
; ++face_index) {

891 
ASS_F⁄tProvidîMëaD©a
 
öfo
;

892 
F⁄tD©aFT
 *
·
;

894 
rc
 = 
	`FT_New_Mem‹y_Fa˚
(
·libøry
, (*Ë
d©a
,

895 
d©a_size
, 
Á˚_ödex
, &
Á˚
);

896 i‡(
rc
) {

897 
	`ass_msg
(
libøry
, 
MSGL_WARN
, "Error opening memory font '%s'",

898 
«me
);

902 
num_Á˚s
 = 
Á˚
->num_faces;

904 
	`ch¨m≠_magic
(
libøry
, 
Á˚
);

906 
	`mem£t
(&
öfo
, 0, (
ASS_F⁄tProvidîMëaD©a
));

907 i‡(!
	`gë_f⁄t_öfo
(
·libøry
, 
Á˚
, &
öfo
)) {

908 
	`ass_msg
(
libøry
, 
MSGL_WARN
,

909 "Eº‹ gëtög mëad©®f‹Émbedded f⁄à'%s'", 
«me
);

910 
	`FT_D⁄e_Fa˚
(
Á˚
);

914 
·
 = 
	`ˇŒoc
(1, (
F⁄tD©aFT
));

916 i‡(
·
 =
NULL
) {

917 
	`‰ì_f⁄t_öfo
(&
öfo
);

918 
	`FT_D⁄e_Fa˚
(
Á˚
);

922 
·
->
lib
 = 
libøry
;

923 
·
->
Á˚
 = face;

924 
·
->
idx
 = idx;

926 i‡(!
	`ass_f⁄t_¥ovidî_add_f⁄t
(
¥iv
, &
öfo
, 
NULL
, 
Á˚_ödex
, 
·
)) {

927 
	`ass_msg
(
libøry
, 
MSGL_WARN
, "FailedÅoáddÉmbedded font '%s'",

928 
«me
);

931 
	`‰ì_f⁄t_öfo
(&
öfo
);

933 
	}
}

943 
ASS_F⁄tProvidî
 *

944 
	$ass_embedded_f⁄ts_add_¥ovidî
(
ASS_Libøry
 *
lib
, 
ASS_F⁄tSñe˘‹
 *
£À˘‹
,

945 
FT_Libøry
 
·lib
)

947 
i
;

948 
ASS_F⁄tProvidî
 *
¥iv
 = 
	`ass_f⁄t_¥ovidî_√w
(
£À˘‹
, &
·_funcs
, 
NULL
);

949 i‡(
¥iv
 =
NULL
)

950  
NULL
;

952 i‡(
lib
->
f⁄ts_dú
 &&Üib->fonts_dir[0]) {

953 
	`lﬂd_f⁄ts_‰om_dú
(
lib
,Üib->
f⁄ts_dú
);

956 
i
 = 0; i < 
lib
->
num_f⁄td©a
; ++i)

957 
	`¥o˚ss_f⁄td©a
(
¥iv
, 
lib
, 
·lib
, 
i
);

959  
¥iv
;

960 
	}
}

962 
	sf⁄t_c⁄°ru˘‹s
 {

963 
ASS_DeÁu…F⁄tProvidî
 
	mid
;

964 
	mASS_F⁄tProvidî
 *(*
	mc⁄°ru˘‹
)(
	mASS_Libøry
 *, 
	mASS_F⁄tSñe˘‹
 *,

966 c⁄° *
	m«me
;

969 
f⁄t_c⁄°ru˘‹s
 
	gf⁄t_c⁄°ru˘‹s
[] = {

970 #ifde‡
CONFIG_CORETEXT


971 { 
ASS_FONTPROVIDER_CORETEXT
, &
ass_c‹ëext_add_¥ovidî
, "coretext"},

973 #ifde‡
CONFIG_DIRECTWRITE


974 { 
ASS_FONTPROVIDER_DIRECTWRITE
, &
ass_dúe˘wrôe_add_¥ovidî
, "directwrite"},

976 #ifde‡
CONFIG_FONTCONFIG


977 { 
ASS_FONTPROVIDER_FONTCONFIG
, &
ass_f⁄tc⁄fig_add_¥ovidî
, "fontconfig"},

979 { 
ASS_FONTPROVIDER_NONE
, 
NULL
, NULL },

990 
ASS_F⁄tSñe˘‹
 *

991 
	$ass_f⁄t£À˘_öô
(
ASS_Libøry
 *
libøry
,

992 
FT_Libøry
 
·libøry
, c⁄° *
Ámûy
,

993 c⁄° *
∑th
, c⁄° *
c⁄fig
,

994 
ASS_DeÁu…F⁄tProvidî
 
dÂ
)

996 
ASS_F⁄tSñe˘‹
 *
¥iv
 = 
	`ˇŒoc
(1, (ASS_FontSelector));

997 i‡(
¥iv
 =
NULL
)

998  
NULL
;

1000 
¥iv
->
uid
 = 1;

1001 
¥iv
->
Ámûy_deÁu…
 = 
Ámûy
 ? 
	`°rdup
(ÁmûyË: 
NULL
;

1002 
¥iv
->
∑th_deÁu…
 = 
∑th
 ? 
	`°rdup
’©hË: 
NULL
;

1003 
¥iv
->
ödex_deÁu…
 = 0;

1005 
¥iv
->
embedded_¥ovidî
 = 
	`ass_embedded_f⁄ts_add_¥ovidî
(
libøry
,Öriv,

1006 
·libøry
);

1008 i‡(
¥iv
->
embedded_¥ovidî
 =
NULL
) {

1009 
	`ass_msg
(
libøry
, 
MSGL_WARN
, "failedÅo createÉmbedded fontÖrovider");

1012 i‡(
dÂ
 >
ASS_FONTPROVIDER_AUTODETECT
) {

1013 
i
 = 0; 
f⁄t_c⁄°ru˘‹s
[i].
c⁄°ru˘‹
; i++ )

1014 i‡(
dÂ
 =
f⁄t_c⁄°ru˘‹s
[
i
].
id
 ||

1015 
dÂ
 =
ASS_FONTPROVIDER_AUTODETECT
) {

1016 
¥iv
->
deÁu…_¥ovidî
 =

1017 
f⁄t_c⁄°ru˘‹s
[
i
].
	`c⁄°ru˘‹
(
libøry
, 
¥iv
, 
c⁄fig
);

1018 i‡(
¥iv
->
deÁu…_¥ovidî
) {

1019 
	`ass_msg
(
libøry
, 
MSGL_INFO
, "Using fontÖrovider %s",

1020 
f⁄t_c⁄°ru˘‹s
[
i
].
«me
);

1025 i‡(!
¥iv
->
deÁu…_¥ovidî
)

1026 
	`ass_msg
(
libøry
, 
MSGL_WARN
, "can't find selected fontÖrovider");

1030  
¥iv
;

1031 
	}
}

1033 
	$ass_gë_avaûabÀ_f⁄t_¥ovidîs
(
ASS_Libøry
 *
¥iv
,

1034 
ASS_DeÁu…F⁄tProvidî
 **
¥ovidîs
,

1035 
size_t
 *
size
)

1037 
size_t
 
off£t
 = 2;

1039 *
size
 = 
off£t
;

1040 
i
 = 0; 
f⁄t_c⁄°ru˘‹s
[i].
c⁄°ru˘‹
; i++)

1041 (*
size
)++;

1043 *
¥ovidîs
 = 
	`ˇŒoc
(*
size
, (
ASS_DeÁu…F⁄tProvidî
));

1045 i‡(*
¥ovidîs
 =
NULL
) {

1046 *
size
 = (
size_t
)-1;

1050 (*
¥ovidîs
)[0] = 
ASS_FONTPROVIDER_NONE
;

1051 (*
¥ovidîs
)[1] = 
ASS_FONTPROVIDER_AUTODETECT
;

1053 
i
 = 
off£t
; i < *
size
; i++)

1054 (*
¥ovidîs
)[
i
] = 
f⁄t_c⁄°ru˘‹s
[i-
off£t
].
id
;

1055 
	}
}

1061 
	$ass_f⁄t£À˘_‰ì
(
ASS_F⁄tSñe˘‹
 *
¥iv
)

1063 i‡(
¥iv
->
deÁu…_¥ovidî
)

1064 
	`ass_f⁄t_¥ovidî_‰ì
(
¥iv
->
deÁu…_¥ovidî
);

1065 i‡(
¥iv
->
embedded_¥ovidî
)

1066 
	`ass_f⁄t_¥ovidî_‰ì
(
¥iv
->
embedded_¥ovidî
);

1068 
	`‰ì
(
¥iv
->
f⁄t_öfos
);

1069 
	`‰ì
(
¥iv
->
∑th_deÁu…
);

1070 
	`‰ì
(
¥iv
->
Ámûy_deÁu…
);

1072 
	`‰ì
(
¥iv
);

1073 
	}
}

1075 
	$ass_m≠_f⁄t
(c⁄° 
ASS_F⁄tM≠pög
 *
m≠
, 
Àn
, c⁄° *
«me
,

1076 
ASS_F⁄tProvidîMëaD©a
 *
mëa
)

1078 
i
 = 0; i < 
Àn
; i++) {

1079 i‡(
	`ass_°rˇ£cmp
(
m≠
[
i
].
‰om
, 
«me
) == 0) {

1080 
mëa
->
fuŒ«mes
 = 
	`ˇŒoc
(1, (*));

1081 i‡(
mëa
->
fuŒ«mes
) {

1082 
mëa
->
fuŒ«mes
[0] = 
	`°rdup
(
m≠
[
i
].
to
);

1083 i‡(
mëa
->
fuŒ«mes
[0])

1084 
mëa
->
n_fuŒ«me
 = 1;

1089 
	}
}

	@libass/ass_fontselect.h

19 #i‚de‡
LIBASS_FONTSELECT_H


20 
	#LIBASS_FONTSELECT_H


	)

22 
	~<°dboﬁ.h
>

23 
	~<°döt.h
>

24 
	~<·2buûd.h
>

25 #ö˛udê
FT_FREETYPE_H


27 
ass_sh≠î_f⁄t_d©a
 
	tASS_Sh≠îF⁄tD©a
;

28 
f⁄t_£À˘‹
 
	tASS_F⁄tSñe˘‹
;

29 
f⁄t_öfo
 
	tASS_F⁄tInfo
;

31 
	~"ass_ty≥s.h
"

32 
	~"ass.h
"

33 
	~"ass_f⁄t.h
"

35 
f⁄t_¥ovidî
 
	tASS_F⁄tProvidî
;

38 
ass_f⁄t_¥ovidî_mëa_d©a
 
	tASS_F⁄tProvidîMëaD©a
;

53 
	$size_t
 (*
	tGëD©aFunc
)(*
	tf⁄t_¥iv
, *
	td©a
,

54 
	tsize_t
 
	toff£t
, size_à
	tÀn
);

62 
	$boﬁ
 (*
	tCheckPo°s¸ùtFunc
)(*
	tf⁄t_¥iv
);

71 
	$boﬁ
 (*
	tCheckGlyphFunc
)(*
	tf⁄t_¥iv
, 
	tuöt32_t
 
	tcodïoöt
);

81 (*
	tGëF⁄tIndex
)(*
	tf⁄t_¥iv
);

88 (*
	tDe°royF⁄tFunc
)(*
	tf⁄t_¥iv
);

95 (*
	tDe°royProvidîFunc
)(*
	t¥iv
);

108 (*
	tM©chF⁄tsFunc
)(
	tASS_Libøry
 *
	tlib
,

109 
	tASS_F⁄tProvidî
 *
	t¥ovidî
,

110 *
	t«me
);

129 (*
	tSub°ôuãF⁄tFunc
)(*
	t¥iv
, c⁄° *
	t«me
,

130 
	tASS_F⁄tProvidîMëaD©a
 *
	tmëa
);

150 *(*
	tGëFÆlbackFunc
)(*
	t¥iv
,

151 c⁄° *
	tÁmûy
,

152 
	tuöt32_t
 
	tcodïoöt
);

154 
	sf⁄t_¥ovidî_funcs
 {

155 
GëD©aFunc
 
gë_d©a
;

156 
CheckPo°s¸ùtFunc
 
check_po°s¸ùt
;

157 
CheckGlyphFunc
 
check_glyph
;

158 
De°royF⁄tFunc
 
de°roy_f⁄t
;

159 
De°royProvidîFunc
 
de°roy_¥ovidî
;

160 
M©chF⁄tsFunc
 
m©ch_f⁄ts
;

161 
Sub°ôuãF⁄tFunc
 
gë_sub°ôuti⁄s
;

162 
GëFÆlbackFunc
 
gë_ÁŒback
;

163 
GëF⁄tIndex
 
gë_f⁄t_ödex
;

164 } 
	tASS_F⁄tProvidîFuncs
;

170 
	sass_f⁄t_¥ovidî_mëa_d©a
 {

174 **
Ámûõs
;

180 **
fuŒ«mes
;

185 *
po°s¸ùt_«me
;

187 
n_Ámûy
;

188 
n_fuŒ«me
;

190 
¶™t
;

191 
weight
;

193 
width
;

197 
ass_f⁄t_°ªam
 
	tASS_F⁄tSåóm
;

199 
	sass_f⁄t_°ªam
 {

201 
	`size_t
 (*
func
)(*
f⁄t_¥iv
, *
d©a
,

202 
size_t
 
off£t
, size_à
Àn
);

203 *
¥iv
;

207 
ass_f⁄t_m≠pög
 
	tASS_F⁄tM≠pög
;

209 
	sass_f⁄t_m≠pög
 {

210 c⁄° *
‰om
;

211 c⁄° *
to
;

224 
	`ass_m≠_f⁄t
(c⁄° 
ASS_F⁄tM≠pög
 *
m≠
, 
Àn
, c⁄° *
«me
,

225 
ASS_F⁄tProvidîMëaD©a
 *
mëa
);

227 
ASS_F⁄tSñe˘‹
 *

228 
	`ass_f⁄t£À˘_öô
(
ASS_Libøry
 *
libøry
,

229 
FT_Libøry
 
·libøry
, c⁄° *
Ámûy
,

230 c⁄° *
∑th
, c⁄° *
c⁄fig
,

231 
ASS_DeÁu…F⁄tProvidî
 
dÂ
);

232 *
	`ass_f⁄t_£À˘
(
ASS_F⁄tSñe˘‹
 *
¥iv
, 
ASS_Libøry
 *
libøry
,

233 
ASS_F⁄t
 *
f⁄t
, *
ödex
, **
po°s¸ùt_«me
,

234 *
uid
, 
ASS_F⁄tSåóm
 *
d©a
, 
uöt32_t
 
code
);

235 
	`ass_f⁄t£À˘_‰ì
(
ASS_F⁄tSñe˘‹
 *
¥iv
);

238 
ASS_F⁄tProvidî
 *
	`ass_f⁄t_¥ovidî_√w
(
ASS_F⁄tSñe˘‹
 *
£À˘‹
,

239 
ASS_F⁄tProvidîFuncs
 *
funcs
, *
d©a
);

249 
ASS_F⁄tProvidî
 *

250 
	`ass_¸óã_f⁄t_¥ovidî
(
ASS_Rídîî
 *
¥iv
, 
ASS_F⁄tProvidîFuncs
 *
funcs
,

251 *
d©a
);

264 
boﬁ


265 
	`ass_f⁄t_¥ovidî_add_f⁄t
(
ASS_F⁄tProvidî
 *
¥ovidî
,

266 
ASS_F⁄tProvidîMëaD©a
 *
mëa
, c⁄° *
∑th
,

267 
ödex
, *
d©a
);

274 
	`ass_f⁄t_¥ovidî_‰ì
(
ASS_F⁄tProvidî
 *
¥ovidî
);

	@libass/ass_func_template.h

21 
	$DECORATE
(
fûl_sﬁid_tûe16
)(
uöt8_t
 *
buf
, 
±rdiff_t
 
°ride
, 
£t
);

22 
	$DECORATE
(
fûl_sﬁid_tûe32
)(
uöt8_t
 *
buf
, 
±rdiff_t
 
°ride
, 
£t
);

23 
	$DECORATE
(
fûl_hÆÂœ√_tûe16
)(
uöt8_t
 *
buf
, 
±rdiff_t
 
°ride
,

24 
öt32_t
 
a
, i¡32_à
b
, 
öt64_t
 
c
, i¡32_à
sˇÀ
);

25 
	$DECORATE
(
fûl_hÆÂœ√_tûe32
)(
uöt8_t
 *
buf
, 
±rdiff_t
 
°ride
,

26 
öt32_t
 
a
, i¡32_à
b
, 
öt64_t
 
c
, i¡32_à
sˇÀ
);

27 
	$DECORATE
(
fûl_gíîic_tûe16
)(
uöt8_t
 *
buf
, 
±rdiff_t
 
°ride
,

28 c⁄° 
£gmít
 *
löe
, 
size_t
 
n_löes
,

29 
wödög
);

30 
	$DECORATE
(
fûl_gíîic_tûe32
)(
uöt8_t
 *
buf
, 
±rdiff_t
 
°ride
,

31 c⁄° 
£gmít
 *
löe
, 
size_t
 
n_löes
,

32 
wödög
);

34 
	$DECORATE
(
add_bôm≠s
)(
uöt8_t
 *
d°
, 
öçå_t
 
d°_°ride
,

35 
uöt8_t
 *
§c
, 
öçå_t
 
§c_°ride
,

36 
öçå_t
 
height
, i¡±r_à
width
);

37 
	$DECORATE
(
sub_bôm≠s
)(
uöt8_t
 *
d°
, 
öçå_t
 
d°_°ride
,

38 
uöt8_t
 *
§c
, 
öçå_t
 
§c_°ride
,

39 
öçå_t
 
height
, i¡±r_à
width
);

40 
	$DECORATE
(
mul_bôm≠s
)(
uöt8_t
 *
d°
, 
öçå_t
 
d°_°ride
,

41 
uöt8_t
 *
§c1
, 
öçå_t
 
§c1_°ride
,

42 
uöt8_t
 *
§c2
, 
öçå_t
 
§c2_°ride
,

43 
öçå_t
 
width
, i¡±r_à
height
);

45 
	$DECORATE
(
be_blur
)(
uöt8_t
 *
buf
, 
öçå_t
 
w
, i¡±r_à
h
,

46 
öçå_t
 
°ride
, 
uöt16_t
 *
tmp
);

48 
	$DECORATE
(
°rùe_u≈ack
)(
öt16_t
 *
d°
, c⁄° 
uöt8_t
 *
§c
, 
±rdiff_t
 
§c_°ride
,

49 
uöçå_t
 
width
, uöçå_à
height
);

50 
	$DECORATE
(
°rùe_∑ck
)(
uöt8_t
 *
d°
, 
±rdiff_t
 
d°_°ride
, c⁄° 
öt16_t
 *
§c
,

51 
uöçå_t
 
width
, uöçå_à
height
);

52 
	$DECORATE
(
shrök_h‹z
)(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

53 
uöçå_t
 
§c_width
, uöçå_à
§c_height
);

54 
	$DECORATE
(
shrök_vît
)(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

55 
uöçå_t
 
§c_width
, uöçå_à
§c_height
);

56 
	$DECORATE
(
ex∑nd_h‹z
)(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

57 
uöçå_t
 
§c_width
, uöçå_à
§c_height
);

58 
	$DECORATE
(
ex∑nd_vît
)(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

59 
uöçå_t
 
§c_width
, uöçå_à
§c_height
);

60 
	$DECORATE
(
¥e_blur1_h‹z
)(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

61 
uöçå_t
 
§c_width
, uöçå_à
§c_height
);

62 
	$DECORATE
(
¥e_blur1_vît
)(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

63 
uöçå_t
 
§c_width
, uöçå_à
§c_height
);

64 
	$DECORATE
(
¥e_blur2_h‹z
)(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

65 
uöçå_t
 
§c_width
, uöçå_à
§c_height
);

66 
	$DECORATE
(
¥e_blur2_vît
)(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

67 
uöçå_t
 
§c_width
, uöçå_à
§c_height
);

68 
	$DECORATE
(
¥e_blur3_h‹z
)(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

69 
uöçå_t
 
§c_width
, uöçå_à
§c_height
);

70 
	$DECORATE
(
¥e_blur3_vît
)(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

71 
uöçå_t
 
§c_width
, uöçå_à
§c_height
);

72 
	$DECORATE
(
blur1234_h‹z
)(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

73 
uöçå_t
 
§c_width
, uöçå_à
§c_height
,

74 c⁄° 
öt16_t
 *
∑øm
);

75 
	$DECORATE
(
blur1234_vît
)(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

76 
uöçå_t
 
§c_width
, uöçå_à
§c_height
,

77 c⁄° 
öt16_t
 *
∑øm
);

78 
	$DECORATE
(
blur1235_h‹z
)(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

79 
uöçå_t
 
§c_width
, uöçå_à
§c_height
,

80 c⁄° 
öt16_t
 *
∑øm
);

81 
	$DECORATE
(
blur1235_vît
)(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

82 
uöçå_t
 
§c_width
, uöçå_à
§c_height
,

83 c⁄° 
öt16_t
 *
∑øm
);

84 
	$DECORATE
(
blur1246_h‹z
)(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

85 
uöçå_t
 
§c_width
, uöçå_à
§c_height
,

86 c⁄° 
öt16_t
 *
∑øm
);

87 
	$DECORATE
(
blur1246_vît
)(
öt16_t
 *
d°
, c⁄° i¡16_à*
§c
,

88 
uöçå_t
 
§c_width
, uöçå_à
§c_height
,

89 c⁄° 
öt16_t
 *
∑øm
);

92 c⁄° 
Bôm≠Engöe
 
	`DECORATE
(
bôm≠_ígöe
) = {

93 .
Æign_‹dî
 = 
ALIGN
,

95 #i‡
CONFIG_LARGE_TILES


96 .
tûe_‹dî
 = 5,

97 .
fûl_sﬁid
 = 
	`DECORATE
(
fûl_sﬁid_tûe32
),

98 .
fûl_hÆÂœ√
 = 
	`DECORATE
(
fûl_hÆÂœ√_tûe32
),

99 .
fûl_gíîic
 = 
	`DECORATE
(
fûl_gíîic_tûe32
),

101 .
tûe_‹dî
 = 4,

102 .
fûl_sﬁid
 = 
	`DECORATE
(
fûl_sﬁid_tûe16
),

103 .
fûl_hÆÂœ√
 = 
	`DECORATE
(
fûl_hÆÂœ√_tûe16
),

104 .
fûl_gíîic
 = 
	`DECORATE
(
fûl_gíîic_tûe16
),

107 .
add_bôm≠s
 = 
	`DECORATE
(add_bitmaps),

108 #ifde‡
__x86_64__


109 .
sub_bôm≠s
 = 
	`DECORATE
(sub_bitmaps),

110 .
mul_bôm≠s
 = 
	`DECORATE
(mul_bitmaps),

112 .
sub_bôm≠s
 = 
ass_sub_bôm≠s_c
,

113 .
mul_bôm≠s
 = 
ass_mul_bôm≠s_c
,

116 #ifde‡
__x86_64__


117 .
be_blur
 = 
	`DECORATE
(be_blur),

119 .
be_blur
 = 
ass_be_blur_c
,

122 .
°rùe_u≈ack
 = 
	`DECORATE
(stripe_unpack),

123 .
°rùe_∑ck
 = 
	`DECORATE
(stripe_pack),

124 .
shrök_h‹z
 = 
	`DECORATE
(shrink_horz),

125 .
shrök_vît
 = 
	`DECORATE
(shrink_vert),

126 .
ex∑nd_h‹z
 = 
	`DECORATE
(expand_horz),

127 .
ex∑nd_vît
 = 
	`DECORATE
(expand_vert),

128 .
¥e_blur_h‹z
 = { 
	`DECORATE
(
¥e_blur1_h‹z
), DECORATE(
¥e_blur2_h‹z
), DECORATE(
¥e_blur3_h‹z
) },

129 .
¥e_blur_vît
 = { 
	`DECORATE
(
¥e_blur1_vît
), DECORATE(
¥e_blur2_vît
), DECORATE(
¥e_blur3_vît
) },

130 .
maö_blur_h‹z
 = { 
	`DECORATE
(
blur1234_h‹z
), DECORATE(
blur1235_h‹z
), DECORATE(
blur1246_h‹z
) },

131 .
maö_blur_vît
 = { 
	`DECORATE
(
blur1234_vît
), DECORATE(
blur1235_vît
), DECORATE(
blur1246_vît
) },

132 
	}
};

	@libass/ass_library.c

19 
	~"c⁄fig.h
"

20 
	~"ass_com∑t.h
"

22 
	~<öây≥s.h
>

23 
	~<°dio.h
>

24 
	~<°dlib.h
>

25 
	~<°rög.h
>

26 
	~<°d¨g.h
>

28 
	~"ass.h
"

29 
	~"ass_libøry.h
"

30 
	~"ass_utûs.h
"

31 
	~"ass_°rög.h
"

33 
	$ass_msg_h™dÀr
(
Àvñ
, c⁄° *
fmt
, 
va_li°
 
va
, *
d©a
)

35 i‡(
Àvñ
 > 
MSGL_INFO
)

37 
	`Ârötf
(
°dîr
, "[ass] ");

38 
	`vÂrötf
(
°dîr
, 
fmt
, 
va
);

39 
	`Ârötf
(
°dîr
, "\n");

40 
	}
}

42 
ASS_Libøry
 *
	$ass_libøry_öô
()

44 
ASS_Libøry
* 
lib
 = 
	`ˇŒoc
(1, (*lib));

45 i‡(
lib
)

46 
lib
->
msg_ˇŒback
 = 
ass_msg_h™dÀr
;

47  
lib
;

48 
	}
}

50 
	$ass_libøry_d⁄e
(
ASS_Libøry
 *
¥iv
)

52 i‡(
¥iv
) {

53 
	`ass_£t_f⁄ts_dú
(
¥iv
, 
NULL
);

54 
	`ass_£t_°yÀ_ovîrides
(
¥iv
, 
NULL
);

55 
	`ass_˛ór_f⁄ts
(
¥iv
);

56 
	`‰ì
(
¥iv
);

58 
	}
}

60 
	$ass_£t_f⁄ts_dú
(
ASS_Libøry
 *
¥iv
, c⁄° *
f⁄ts_dú
)

62 
	`‰ì
(
¥iv
->
f⁄ts_dú
);

64 
¥iv
->
f⁄ts_dú
 = f⁄ts_dú ? 
	`°rdup
(fonts_dir) : 0;

65 
	}
}

67 
	$ass_£t_exåa˘_f⁄ts
(
ASS_Libøry
 *
¥iv
, 
exåa˘
)

69 
¥iv
->
exåa˘_f⁄ts
 = !!
exåa˘
;

70 
	}
}

72 
	$ass_£t_°yÀ_ovîrides
(
ASS_Libøry
 *
¥iv
, **
li°
)

74 **
p
;

75 **
q
;

76 
˙t
;

78 i‡(
¥iv
->
°yÀ_ovîrides
) {

79 
p
 = 
¥iv
->
°yÀ_ovîrides
; *p; ++p)

80 
	`‰ì
(*
p
);

82 
	`‰ì
(
¥iv
->
°yÀ_ovîrides
);

83 
¥iv
->
°yÀ_ovîrides
 = 
NULL
;

85 i‡(!
li°
)

88 
p
 = 
li°
, 
˙t
 = 0; *p; ++p, ++cnt) {

91 
¥iv
->
°yÀ_ovîrides
 = 
	`ˇŒoc
(
˙t
 + 1, (*));

92 i‡(!
¥iv
->
°yÀ_ovîrides
)

94 
p
 = 
li°
, 
q
 = 
¥iv
->
°yÀ_ovîrides
; *p; ++p, ++q)

95 *
q
 = 
	`°rdup
(*
p
);

96 
	}
}

98 
	$grow_¨øy
(**
¨øy
, 
√Àm
, 
size_t
 
ñsize
)

100 i‡(!(
√Àm
 & 31)) {

101 *
±r
 = 
	`ªÆloc
(*
¨øy
, (
√Àm
 + 32Ë* 
ñsize
);

102 i‡(!
±r
)

104 *
¨øy
 = 
±r
;

107 
	}
}

109 
	$ass_add_f⁄t
(
ASS_Libøry
 *
¥iv
, *
«me
, *
d©a
, 
size
)

111 
idx
 = 
¥iv
->
num_f⁄td©a
;

112 i‡(!
«me
 || !
d©a
 || !
size
)

114 i‡(!
	`grow_¨øy
((**Ë&
¥iv
->
f⁄td©a
,Öriv->
num_f⁄td©a
,

115 (*
¥iv
->
f⁄td©a
)))

118 
¥iv
->
f⁄td©a
[
idx
].
«me
 = 
	`°rdup
(name);

119 
¥iv
->
f⁄td©a
[
idx
].
d©a
 = 
	`mÆloc
(
size
);

121 i‡(!
¥iv
->
f⁄td©a
[
idx
].
«me
 || !¥iv->f⁄td©a[idx].
d©a
)

122 
îr‹
;

124 
	`mem˝y
(
¥iv
->
f⁄td©a
[
idx
].
d©a
, d©a, 
size
);

126 
¥iv
->
f⁄td©a
[
idx
].
size
 = size;

128 
¥iv
->
num_f⁄td©a
++;

131 
îr‹
:

132 
	`‰ì
(
¥iv
->
f⁄td©a
[
idx
].
«me
);

133 
	`‰ì
(
¥iv
->
f⁄td©a
[
idx
].
d©a
);

134 
	}
}

136 
	$ass_˛ór_f⁄ts
(
ASS_Libøry
 *
¥iv
)

138 
i
;

139 
i
 = 0; i < 
¥iv
->
num_f⁄td©a
; ++i) {

140 
	`‰ì
(
¥iv
->
f⁄td©a
[
i
].
«me
);

141 
	`‰ì
(
¥iv
->
f⁄td©a
[
i
].
d©a
);

143 
	`‰ì
(
¥iv
->
f⁄td©a
);

144 
¥iv
->
f⁄td©a
 = 
NULL
;

145 
¥iv
->
num_f⁄td©a
 = 0;

146 
	}
}

156 
ass_£t_mesßge_cb
(
ASS_Libøry
 *
¥iv
,

157 (*
msg_cb
)(, c⁄° *, 
va_li°
, *),

158 *
d©a
)

160 i‡(
msg_cb
) {

161 
¥iv
->
msg_ˇŒback
 = 
msg_cb
;

162 
¥iv
->
msg_ˇŒback_d©a
 = 
d©a
;

164 
	}
}

	@libass/ass_library.h

19 #i‚de‡
LIBASS_LIBRARY_H


20 
	#LIBASS_LIBRARY_H


	)

22 
	~<°d¨g.h
>

25 *
	m«me
;

26 *
	md©a
;

27 
	msize
;

28 } 
	tASS_F⁄td©a
;

30 
	sass_libøry
 {

31 *
	mf⁄ts_dú
;

32 
	mexåa˘_f⁄ts
;

33 **
	m°yÀ_ovîrides
;

35 
ASS_F⁄td©a
 *
	mf⁄td©a
;

36 
	mnum_f⁄td©a
;

37 (*
	mmsg_ˇŒback
)(, c⁄° *, 
	mva_li°
, *);

38 *
	mmsg_ˇŒback_d©a
;

41 *
ªad_fûe
(
ass_libøry
 *
libøry
, *
‚ame
, 
size_t
 *
bufsize
);

	@libass/ass_outline.c

19 
	~"c⁄fig.h
"

20 
	~"ass_com∑t.h
"

22 
	~"ass_utûs.h
"

23 
	~"ass_ouéöe.h
"

27 
boﬁ
 
	$ouéöe_Æloc
(
ASS_Ouéöe
 *
ouéöe
, 
size_t
 
n_poöts
, size_à
n_£gmíts
)

29 
ouéöe
->
poöts
 = 
	`mÆloc
((
ASS_Ve˘‹
Ë* 
n_poöts
);

30 
ouéöe
->
£gmíts
 = 
	`mÆloc
(
n_£gmíts
);

31 i‡(!
ouéöe
->
poöts
 || !ouéöe->
£gmíts
) {

32 
	`ouéöe_‰ì
(
ouéöe
);

33  
Ál£
;

36 
ouéöe
->
max_poöts
 = 
n_poöts
;

37 
ouéöe
->
max_£gmíts
 = 
n_£gmíts
;

38  
åue
;

39 
	}
}

41 
	$ouéöe_˛ór
(
ASS_Ouéöe
 *
ouéöe
)

43 
ouéöe
->
poöts
 = 
NULL
;

44 
ouéöe
->
£gmíts
 = 
NULL
;

46 
ouéöe
->
n_poöts
 = ouéöe->
max_poöts
 = 0;

47 
ouéöe
->
n_£gmíts
 = ouéöe->
max_£gmíts
 = 0;

48 
	}
}

50 
boﬁ
 
	$ouéöe_c⁄vît
(
ASS_Ouéöe
 *
ouéöe
, c⁄° 
FT_Ouéöe
 *
sour˚
)

52 i‡(!
sour˚
 || !sour˚->
n_poöts
) {

53 
	`ouéöe_˛ór
(
ouéöe
);

54  
åue
;

57 i‡(!
	`ouéöe_Æloc
(
ouéöe
, 2 * 
sour˚
->
n_poöts
, source->n_points))

58  
Ál£
;

60 
	eSètus
 {

61 
S_ON
, 
S_Q
, 
S_C1
, 
S_C2


64 
ouéöe
->
n_poöts
 = ouéöe->
n_£gmíts
 = 0;

65 
size_t
 
i
 = 0, 
j
 = 0; i < 
sour˚
->
n_c⁄tours
; i++) {

66 
ASS_Ve˘‹
 
±
;

67 
boﬁ
 
skù_œ°
 = 
Ál£
;

68 
Sètus
 
°
;

70 
œ°
 = 
sour˚
->
c⁄tours
[
i
];

71 i‡(
j
 > 
œ°
 ||Üa° >
sour˚
->
n_poöts
)

72 
Áû
;

75 i‡(
œ°
 - 
j
 < 2) {

76 
j
 = 
œ°
 + 1;

80 
	`FT_CURVE_TAG
(
sour˚
->
ègs
[
j
])) {

81 
FT_CURVE_TAG_ON
:

82 
°
 = 
S_ON
;

85 
FT_CURVE_TAG_CONIC
:

86 
±
.
x
 = 
sour˚
->
poöts
[
œ°
].x;

87 
±
.
y
 = -
sour˚
->
poöts
[
œ°
].y;

88 
	`FT_CURVE_TAG
(
sour˚
->
ègs
[
œ°
])) {

89 
FT_CURVE_TAG_ON
:

90 
skù_œ°
 = 
åue
;

93 
FT_CURVE_TAG_CONIC
:

94 
±
.
x
 = (±.x + 
sour˚
->
poöts
[
j
].x) >> 1;

95 
±
.
y
 = (±.y - 
sour˚
->
poöts
[
j
].y) >> 1;

99 
Áû
;

101 
ouéöe
->
poöts
[ouéöe->
n_poöts
++] = 
±
;

102 
°
 = 
S_Q
;

106 
Áû
;

108 
±
.
x
 = 
sour˚
->
poöts
[
j
].x;

109 
±
.
y
 = -
sour˚
->
poöts
[
j
].y;

110 
ouéöe
->
poöts
[ouéöe->
n_poöts
++] = 
±
;

112 
j
++; j <
œ°
; j++) {

113 
	`FT_CURVE_TAG
(
sour˚
->
ègs
[
j
])) {

114 
FT_CURVE_TAG_ON
:

115 
°
) {

116 
S_ON
:

117 
ouéöe
->
£gmíts
[ouéöe->
n_£gmíts
++] = 
OUTLINE_LINE_SEGMENT
;

120 
S_Q
:

121 
ouéöe
->
£gmíts
[ouéöe->
n_£gmíts
++] = 
OUTLINE_QUADRATIC_SPLINE
;

124 
S_C2
:

125 
ouéöe
->
£gmíts
[ouéöe->
n_£gmíts
++] = 
OUTLINE_CUBIC_SPLINE
;

129 
Áû
;

131 
°
 = 
S_ON
;

134 
FT_CURVE_TAG_CONIC
:

135 
°
) {

136 
S_ON
:

137 
°
 = 
S_Q
;

140 
S_Q
:

141 
ouéöe
->
£gmíts
[ouéöe->
n_£gmíts
++] = 
OUTLINE_QUADRATIC_SPLINE
;

142 
±
.
x
 = (±.x + 
sour˚
->
poöts
[
j
].x) >> 1;

143 
±
.
y
 = (±.y - 
sour˚
->
poöts
[
j
].y) >> 1;

144 
ouéöe
->
poöts
[ouéöe->
n_poöts
++] = 
±
;

148 
Áû
;

152 
FT_CURVE_TAG_CUBIC
:

153 
°
) {

154 
S_ON
:

155 
°
 = 
S_C1
;

158 
S_C1
:

159 
°
 = 
S_C2
;

163 
Áû
;

168 
Áû
;

170 
±
.
x
 = 
sour˚
->
poöts
[
j
].x;

171 
±
.
y
 = -
sour˚
->
poöts
[
j
].y;

172 
ouéöe
->
poöts
[ouéöe->
n_poöts
++] = 
±
;

175 
°
) {

176 
S_ON
:

177 i‡(
skù_œ°
) {

178 
ouéöe
->
n_poöts
--;

181 
ouéöe
->
£gmíts
[ouéöe->
n_£gmíts
++] = 
OUTLINE_LINE_SEGMENT
;

184 
S_Q
:

185 
ouéöe
->
£gmíts
[ouéöe->
n_£gmíts
++] = 
OUTLINE_QUADRATIC_SPLINE
;

188 
S_C2
:

189 
ouéöe
->
£gmíts
[ouéöe->
n_£gmíts
++] = 
OUTLINE_CUBIC_SPLINE
;

193 
Áû
;

195 
ouéöe
->
£gmíts
[ouéöe->
n_£gmíts
 - 1] |
OUTLINE_CONTOUR_END
;

197  
åue
;

199 
Áû
:

200 
	`ouéöe_‰ì
(
ouéöe
);

201  
Ál£
;

202 
	}
}

204 
boﬁ
 
	$ouéöe_c›y
(
ASS_Ouéöe
 *
ouéöe
, c⁄° ASS_Ouéöê*
sour˚
)

206 i‡(!
sour˚
 || !sour˚->
n_poöts
) {

207 
	`ouéöe_˛ór
(
ouéöe
);

208  
åue
;

211 i‡(!
	`ouéöe_Æloc
(
ouéöe
, 
sour˚
->
n_poöts
, sour˚->
n_£gmíts
))

212  
Ál£
;

214 
	`mem˝y
(
ouéöe
->
poöts
, 
sour˚
->poöts, (
ASS_Ve˘‹
Ë* sour˚->
n_poöts
);

215 
	`mem˝y
(
ouéöe
->
£gmíts
, 
sour˚
->£gmíts, sour˚->
n_£gmíts
);

216 
ouéöe
->
n_poöts
 = 
sour˚
->n_points;

217 
ouéöe
->
n_£gmíts
 = 
sour˚
->n_segments;

218  
åue
;

219 
	}
}

221 
	$ouéöe_‰ì
(
ASS_Ouéöe
 *
ouéöe
)

223 i‡(!
ouéöe
)

226 
	`‰ì
(
ouéöe
->
poöts
);

227 
	`‰ì
(
ouéöe
->
£gmíts
);

229 
	`ouéöe_˛ór
(
ouéöe
);

230 
	}
}

237 
boﬁ
 
	$ouéöe_add_poöt
(
ASS_Ouéöe
 *
ouéöe
, 
ASS_Ve˘‹
 
±
, 
£gmít
)

239 i‡(
ouéöe
->
n_poöts
 >ouéöe->
max_poöts
) {

240 
size_t
 
√w_size
 = 2 * 
ouéöe
->
max_poöts
;

241 i‡(!
	`ASS_REALLOC_ARRAY
(
ouéöe
->
poöts
, 
√w_size
))

242  
Ál£
;

243 
ouéöe
->
max_poöts
 = 
√w_size
;

245 
ouéöe
->
poöts
[ouéöe->
n_poöts
] = 
±
;

246 
ouéöe
->
n_poöts
++;

248  !
£gmít
 || 
	`ouéöe_add_£gmít
(
ouéöe
, segment);

249 
	}
}

254 
boﬁ
 
	$ouéöe_add_£gmít
(
ASS_Ouéöe
 *
ouéöe
, 
£gmít
)

256 i‡(
ouéöe
->
n_£gmíts
 >ouéöe->
max_£gmíts
) {

257 
size_t
 
√w_size
 = 2 * 
ouéöe
->
max_£gmíts
;

258 i‡(!
	`ASS_REALLOC_ARRAY
(
ouéöe
->
£gmíts
, 
√w_size
))

259  
Ál£
;

260 
ouéöe
->
max_£gmíts
 = 
√w_size
;

262 
ouéöe
->
£gmíts
[ouéöe->
n_£gmíts
] = 
£gmít
;

263 
ouéöe
->
n_£gmíts
++;

264  
åue
;

265 
	}
}

270 
boﬁ
 
	$ouéöe_˛o£_c⁄tour
(
ASS_Ouéöe
 *
ouéöe
)

272 
	`as£π
(
ouéöe
->
n_£gmíts
);

273 
	`as£π
(!(
ouéöe
->
£gmíts
[ouéöe->
n_£gmíts
 - 1] & ~
OUTLINE_COUNT_MASK
));

274 
ouéöe
->
£gmíts
[ouéöe->
n_£gmíts
 - 1] |
OUTLINE_CONTOUR_END
;

275  
åue
;

276 
	}
}

279 
	$ouéöe_å™¶©e
(c⁄° 
ASS_Ouéöe
 *
ouéöe
, 
öt32_t
 
dx
, i¡32_à
dy
)

281 
size_t
 
i
 = 0; i < 
ouéöe
->
n_poöts
; i++) {

282 
ouéöe
->
poöts
[
i
].
x
 +
dx
;

283 
ouéöe
->
poöts
[
i
].
y
 +
dy
;

285 
	}
}

287 
	$ouéöe_adju°
(c⁄° 
ASS_Ouéöe
 *
ouéöe
, 
sˇÀ_x
, 
öt32_t
 
dx
, i¡32_à
dy
)

289 
öt32_t
 
mul
 = 
	`Ãöt
(
sˇÀ_x
 * 0x10000);

290 i‡(
mul
 == 0x10000) {

291 
	`ouéöe_å™¶©e
(
ouéöe
, 
dx
, 
dy
);

294 
size_t
 
i
 = 0; i < 
ouéöe
->
n_poöts
; i++) {

295 
öt32_t
 
x
 = (
öt64_t
Ë
ouéöe
->
poöts
[
i
].x * 
mul
 >> 16;

296 
ouéöe
->
poöts
[
i
].
x
 = x + 
dx
;

297 
ouéöe
->
poöts
[
i
].
y
 +
dy
;

299 
	}
}

301 
	$ouéöe_gë_cbox
(c⁄° 
ASS_Ouéöe
 *
ouéöe
, 
ASS_Re˘
 *
cbox
)

303 i‡(!
ouéöe
->
n_poöts
) {

304 
cbox
->
x_mö
 = cbox->
x_max
 = 0;

305 
cbox
->
y_mö
 = cbox->
y_max
 = 0;

308 
cbox
->
x_mö
 = cbox->
x_max
 = 
ouéöe
->
poöts
[0].
x
;

309 
cbox
->
y_mö
 = cbox->
y_max
 = 
ouéöe
->
poöts
[0].
y
;

310 
size_t
 
i
 = 1; i < 
ouéöe
->
n_poöts
; i++) {

311 
cbox
->
x_mö
 = 
	`FFMIN
(cbox->x_mö, 
ouéöe
->
poöts
[
i
].
x
);

312 
cbox
->
x_max
 = 
	`FFMAX
(cbox->x_max, 
ouéöe
->
poöts
[
i
].
x
);

313 
cbox
->
y_mö
 = 
	`FFMIN
(cbox->y_mö, 
ouéöe
->
poöts
[
i
].
y
);

314 
cbox
->
y_max
 = 
	`FFMAX
(cbox->y_max, 
ouéöe
->
poöts
[
i
].
y
);

316 
	}
}

370 
ASS_DVe˘‹
 
	mv
;

371 
	mÀn
;

372 } 
	tN‹mÆ
;

375 
ASS_Ouéöe
 *
	mªsu…
[2];

376 
size_t
 
	mc⁄tour_fú°
[2];

377 
	mxb‹d
, 
	myb‹d
;

378 
	mxsˇÀ
, 
	mysˇÀ
;

379 
	mïs
;

382 
boﬁ
 
	mc⁄tour_°¨t
;

384 
	mfú°_skù
, 
	mœ°_skù
;

386 
ASS_DVe˘‹
 
	mfú°_n‹mÆ
, 
	mœ°_n‹mÆ
;

388 
ASS_Ve˘‹
 
	mfú°_poöt
;

391 
	mmîge_cos
;

393 
	m•lô_cos
;

395 
	mmö_Àn
;

397 
	mîr_q
;

399 
	mîr_c
;

401 
	mîr_a
;

402 } 
	tSåokîSèã
;

407 
ölöe
 
	$vec_dŸ
(
ASS_DVe˘‹
 
vec1
, ASS_DVe˘‹ 
vec2
)

409  
vec1
.
x
 * 
vec2
.x + vec1.
y
 * vec2.y;

410 
	}
}

415 
ölöe
 
	$vec_¸s
(
ASS_DVe˘‹
 
vec1
, ASS_DVe˘‹ 
vec2
)

417  
vec1
.
x
 * 
vec2
.
y
 - vec1.y * vec2.x;

418 
	}
}

423 
ölöe
 
	$vec_Àn
(
ASS_DVe˘‹
 
vec
)

425  
	`sqπ
(
vec
.
x
 * vec.x + vec.
y
 * vec.y);

426 
	}
}

438 
boﬁ
 
	$emô_poöt
(
SåokîSèã
 *
°r
, 
ASS_Ve˘‹
 
±
,

439 
ASS_DVe˘‹
 
offs
, 
£gmít
, 
dú
)

441 
öt32_t
 
dx
 = (öt32_tË(
°r
->
xb‹d
 * 
offs
.
x
);

442 
öt32_t
 
dy
 = (öt32_tË(
°r
->
yb‹d
 * 
offs
.
y
);

444 i‡(
dú
 & 1) {

445 
ASS_Ve˘‹
 
ªs
 = { 
±
.
x
 + 
dx
,Öt.
y
 + 
dy
 };

446 i‡(!
	`ouéöe_add_poöt
(
°r
->
ªsu…
[0], 
ªs
, 
£gmít
))

447  
Ál£
;

449 i‡(
dú
 & 2) {

450 
ASS_Ve˘‹
 
ªs
 = { 
±
.
x
 - 
dx
,Öt.
y
 - 
dy
 };

451 i‡(!
	`ouéöe_add_poöt
(
°r
->
ªsu…
[1], 
ªs
, 
£gmít
))

452  
Ál£
;

454  
åue
;

455 
	}
}

464 
	$fix_fú°_poöt
(
SåokîSèã
 *
°r
, 
ASS_Ve˘‹
 
±
,

465 
ASS_DVe˘‹
 
offs
, 
dú
)

467 
öt32_t
 
dx
 = (öt32_tË(
°r
->
xb‹d
 * 
offs
.
x
);

468 
öt32_t
 
dy
 = (öt32_tË(
°r
->
yb‹d
 * 
offs
.
y
);

470 i‡(
dú
 & 1) {

471 
ASS_Ve˘‹
 
ªs
 = { 
±
.
x
 + 
dx
,Öt.
y
 + 
dy
 };

472 
ASS_Ouéöe
 *
ﬁ
 = 
°r
->
ªsu…
[0];

473 
ﬁ
->
poöts
[
°r
->
c⁄tour_fú°
[0]] = 
ªs
;

475 i‡(
dú
 & 2) {

476 
ASS_Ve˘‹
 
ªs
 = { 
±
.
x
 - 
dx
,Öt.
y
 - 
dy
 };

477 
ASS_Ouéöe
 *
ﬁ
 = 
°r
->
ªsu…
[1];

478 
ﬁ
->
poöts
[
°r
->
c⁄tour_fú°
[1]] = 
ªs
;

480 
	}
}

493 
boﬁ
 
	$¥o˚ss_¨c
(
SåokîSèã
 *
°r
, 
ASS_Ve˘‹
 
±
,

494 
ASS_DVe˘‹
 
n‹mÆ0
, ASS_DVe˘‹ 
n‹mÆ1
,

495 c⁄° *
mul
, 
Àvñ
, 
dú
)

497 
ASS_DVe˘‹
 
˚¡î
;

498 
˚¡î
.
x
 = (
n‹mÆ0
.x + 
n‹mÆ1
.xË* 
mul
[
Àvñ
];

499 
˚¡î
.
y
 = (
n‹mÆ0
.y + 
n‹mÆ1
.yË* 
mul
[
Àvñ
];

500 i‡(
Àvñ
)

501  
	`¥o˚ss_¨c
(
°r
, 
±
, 
n‹mÆ0
, 
˚¡î
, 
mul
, 
Àvñ
 - 1, 
dú
) &&

502 
	`¥o˚ss_¨c
(
°r
, 
±
, 
˚¡î
, 
n‹mÆ1
, 
mul
, 
Àvñ
 - 1, 
dú
);

503  
	`emô_poöt
(
°r
, 
±
, 
n‹mÆ0
, 
OUTLINE_QUADRATIC_SPLINE
, 
dú
) &&

504 
	`emô_poöt
(
°r
, 
±
, 
˚¡î
, 0, 
dú
);

505 
	}
}

517 
boﬁ
 
	$døw_¨c
(
SåokîSèã
 *
°r
, 
ASS_Ve˘‹
 
±
,

518 
ASS_DVe˘‹
 
n‹mÆ0
, ASS_DVe˘‹ 
n‹mÆ1
, 
c
, 
dú
)

520 c⁄° 
max_subdiv
 = 15;

521 
mul
[
max_subdiv
 + 1];

523 
ASS_DVe˘‹
 
˚¡î
;

524 
boﬁ
 
smÆl_™gÀ
 = 
åue
;

525 i‡(
c
 < 0) {

526 
mul
 = 
dú
 & 2 ? -
	`sqπ
(0.5) : sqrt(0.5);

527 
mul
 /
	`sqπ
(1 - 
c
);

528 
˚¡î
.
x
 = (
n‹mÆ1
.
y
 - 
n‹mÆ0
.yË* 
mul
;

529 
˚¡î
.
y
 = (
n‹mÆ0
.
x
 - 
n‹mÆ1
.xË* 
mul
;

530 
c
 = 
	`sqπ
(
	`FFMAX
(0, 0.5 + 0.5 * c));

531 
smÆl_™gÀ
 = 
Ál£
;

534 
pos
 = 
max_subdiv
;

535 
c
 < 
°r
->
•lô_cos
 && 
pos
) {

536 
mul
[
pos
] = 
	`sqπ
(0.5Ë/ sqπ(1 + 
c
);

537 
c
 = (1 + cË* 
mul
[
pos
];

538 
pos
--;

540 
mul
[
pos
] = 1 / (1 + 
c
);

541  
smÆl_™gÀ
 ?

542 
	`¥o˚ss_¨c
(
°r
, 
±
, 
n‹mÆ0
, 
n‹mÆ1
, 
mul
 + 
pos
, 
max_subdiv
 -Öos, 
dú
) :

543 
	`¥o˚ss_¨c
(
°r
, 
±
, 
n‹mÆ0
, 
˚¡î
, 
mul
 + 
pos
, 
max_subdiv
 -Öos, 
dú
) &&

544 
	`¥o˚ss_¨c
(
°r
, 
±
, 
˚¡î
, 
n‹mÆ1
, 
mul
 + 
pos
, 
max_subdiv
 -Öos, 
dú
);

545 
	}
}

554 
boﬁ
 
	$døw_cú˛e
(
SåokîSèã
 *
°r
, 
ASS_Ve˘‹
 
±
, 
dú
)

556 c⁄° 
max_subdiv
 = 15;

557 
mul
[
max_subdiv
 + 1], 
c
 = 0;

559 
pos
 = 
max_subdiv
;

560 
c
 < 
°r
->
•lô_cos
 && 
pos
) {

561 
mul
[
pos
] = 
	`sqπ
(0.5Ë/ sqπ(1 + 
c
);

562 
c
 = (1 + cË* 
mul
[
pos
];

563 
pos
--;

565 
mul
[
pos
] = 1 / (1 + 
c
);

567 
ASS_DVe˘‹
 
n‹mÆ
[4] = {

570  
	`¥o˚ss_¨c
(
°r
, 
±
, 
n‹mÆ
[0],Ç‹mÆ[1], 
mul
 + 
pos
, 
max_subdiv
 -Öos, 
dú
) &&

571 
	`¥o˚ss_¨c
(
°r
, 
±
, 
n‹mÆ
[1],Ç‹mÆ[2], 
mul
 + 
pos
, 
max_subdiv
 -Öos, 
dú
) &&

572 
	`¥o˚ss_¨c
(
°r
, 
±
, 
n‹mÆ
[2],Ç‹mÆ[3], 
mul
 + 
pos
, 
max_subdiv
 -Öos, 
dú
) &&

573 
	`¥o˚ss_¨c
(
°r
, 
±
, 
n‹mÆ
[3],Ç‹mÆ[0], 
mul
 + 
pos
, 
max_subdiv
 -Öos, 
dú
);

574 
	}
}

584 
boﬁ
 
	$°¨t_£gmít
(
SåokîSèã
 *
°r
, 
ASS_Ve˘‹
 
±
,

585 
ASS_DVe˘‹
 
n‹mÆ
, 
dú
)

587 i‡(
°r
->
c⁄tour_°¨t
) {

588 
°r
->
c⁄tour_°¨t
 = 
Ál£
;

589 
°r
->
fú°_skù
 = så->
œ°_skù
 = 0;

590 
°r
->
fú°_n‹mÆ
 = så->
œ°_n‹mÆ
 = 
n‹mÆ
;

591 
°r
->
fú°_poöt
 = 
±
;

592  
åue
;

595 
ASS_DVe˘‹
 
¥ev
 = 
°r
->
œ°_n‹mÆ
;

596 
c
 = 
	`vec_dŸ
(
¥ev
, 
n‹mÆ
);

597 i‡(
c
 > 
°r
->
mîge_cos
) {

598 
mul
 = 1 / (1 + 
c
);

599 
°r
->
œ°_n‹mÆ
.
x
 = (°r->œ°_n‹mÆ.x + 
n‹mÆ
.xË* 
mul
;

600 
°r
->
œ°_n‹mÆ
.
y
 = (°r->œ°_n‹mÆ.y + 
n‹mÆ
.yË* 
mul
;

601  
åue
;

603 
°r
->
œ°_n‹mÆ
 = 
n‹mÆ
;

606 
s
 = 
	`vec_¸s
(
¥ev
, 
n‹mÆ
);

607 
skù_dú
 = 
s
 < 0 ? 1 : 2;

608 i‡(
dú
 & 
skù_dú
) {

609 i‡(!
	`emô_poöt
(
°r
, 
±
, 
¥ev
, 
OUTLINE_LINE_SEGMENT
, ~°r->
œ°_skù
 & 
skù_dú
))

610  
Ál£
;

611 
ASS_DVe˘‹
 
zîo_n‹mÆ
 = {0, 0};

612 i‡(!
	`emô_poöt
(
°r
, 
±
, 
zîo_n‹mÆ
, 
OUTLINE_LINE_SEGMENT
, 
skù_dú
))

613  
Ál£
;

615 
°r
->
œ°_skù
 = 
skù_dú
;

617 
dú
 &~
skù_dú
;

618  !
dú
 || 
	`døw_¨c
(
°r
, 
±
, 
¥ev
, 
n‹mÆ
, 
c
, dir);

619 
	}
}

624 
boﬁ
 
	$emô_fú°_poöt
(
SåokîSèã
 *
°r
, 
ASS_Ve˘‹
 
±
, 
£gmít
, 
dú
)

626 
°r
->
œ°_skù
 &~
dú
;

627  
	`emô_poöt
(
°r
, 
±
, så->
œ°_n‹mÆ
, 
£gmít
, 
dú
);

628 
	}
}

638 
boﬁ
 
	$¥ï¨e_skù
(
SåokîSèã
 *
°r
, 
ASS_Ve˘‹
 
±
, 
dú
, 
boﬁ
 
fú°
)

640 i‡(
fú°
)

641 
°r
->
fú°_skù
 |
dú
;

642 i‡(!
	`emô_poöt
(
°r
, 
±
, så->
œ°_n‹mÆ
, 
OUTLINE_LINE_SEGMENT
, ~°r->
œ°_skù
 & 
dú
))

643  
Ál£
;

644 
°r
->
œ°_skù
 |
dú
;

645  
åue
;

646 
	}
}

656 
boﬁ
 
	$add_löe
(
SåokîSèã
 *
°r
, 
ASS_Ve˘‹
 
±0
, ASS_Ve˘‹ 
±1
, 
dú
)

658 
öt32_t
 
dx
 = 
±1
.
x
 - 
±0
.x;

659 
öt32_t
 
dy
 = 
±1
.
y
 - 
±0
.y;

660 i‡(
dx
 > -
°r
->
ïs
 && dx < så->ï†&& 
dy
 > -str->eps && dy < str->eps)

661  
åue
;

663 
ASS_DVe˘‹
 
dîiv
 = { 
dy
 * 
°r
->
ysˇÀ
, -
dx
 * så->
xsˇÀ
 };

664 
sˇÀ
 = 1 / 
	`vec_Àn
(
dîiv
);

665 
ASS_DVe˘‹
 
n‹mÆ
 = { 
dîiv
.
x
 * 
sˇÀ
, dîiv.
y
 * scale };

666 i‡(!
	`°¨t_£gmít
(
°r
, 
±0
, 
n‹mÆ
, 
dú
))

667  
Ál£
;

668 i‡(!
	`emô_fú°_poöt
(
°r
, 
±0
, 
OUTLINE_LINE_SEGMENT
, 
dú
))

669  
Ál£
;

670 
°r
->
œ°_n‹mÆ
 = 
n‹mÆ
;

671  
åue
;

672 
	}
}

684 
boﬁ
 
	$e°im©e_quadøtic_îr‹
(
SåokîSèã
 *
°r
, 
c
, 
s
,

685 c⁄° 
N‹mÆ
 *
n‹mÆ
, 
ASS_DVe˘‹
 *
ªsu…
)

688 i‡(!((3 + 
c
Ë* (3 + cË< 
°r
->
îr_q
 * (1 + c)))

689  
Ál£
;

691 
mul
 = 1 / (1 + 
c
);

692 
l0
 = 2 * 
n‹mÆ
[0].
Àn
, 
l1
 = 2 *Çormal[1].len;

693 
dŸ0
 = 
l0
 + 
n‹mÆ
[1].
Àn
 * 
c
, 
¸s0
 = (l0 * 
mul
 -Ç‹mÆ[1].ÀnË* 
s
;

694 
dŸ1
 = 
l1
 + 
n‹mÆ
[0].
Àn
 * 
c
, 
¸s1
 = (l1 * 
mul
 -Ç‹mÆ[0].ÀnË* 
s
;

696 i‡(!(
	`Ábs
(
¸s0
Ë< 
°r
->
îr_a
 * 
dŸ0
 && fabs(
¸s1
Ë< så->îr_®* 
dŸ1
))

697  
Ál£
;

699 
ªsu…
->
x
 = (
n‹mÆ
[0].
v
.x +Ç‹mÆ[1].v.xË* 
mul
;

700 
ªsu…
->
y
 = (
n‹mÆ
[0].
v
.y +Ç‹mÆ[1].v.yË* 
mul
;

701  
åue
;

702 
	}
}

714 
boﬁ
 
	$¥o˚ss_quadøtic
(
SåokîSèã
 *
°r
, c⁄° 
ASS_Ve˘‹
 *
±
,

715 c⁄° 
ASS_DVe˘‹
 *
dîiv
, c⁄° 
N‹mÆ
 *
n‹mÆ
,

716 
dú
, 
boﬁ
 
fú°
)

718 
c
 = 
	`vec_dŸ
(
n‹mÆ
[0].
v
,Çormal[1].v);

719 
s
 = 
	`vec_¸s
(
n‹mÆ
[0].
v
,Çormal[1].v);

720 
check_dú
 = 
dú
, 
skù_dú
 = 
s
 < 0 ? 1 : 2;

721 i‡(
dú
 & 
skù_dú
) {

722 
abs_s
 = 
	`Ábs
(
s
);

723 
f0
 = 
n‹mÆ
[0].
Àn
 * 
c
 +Çormal[1].len;

724 
f1
 = 
n‹mÆ
[1].
Àn
 * 
c
 +Çormal[0].len;

725 
g0
 = 
n‹mÆ
[0].
Àn
 * 
abs_s
;

726 
g1
 = 
n‹mÆ
[1].
Àn
 * 
abs_s
;

728 i‡(
f0
 < 
abs_s
 && 
f1
 <ábs_s) {

729 
d2
 = (
f0
 * 
n‹mÆ
[1].
Àn
 + 
f1
 *Çormal[0].len) / 2;

730 i‡(
d2
 < 
g0
 && d2 < 
g1
) {

731 i‡(!
	`¥ï¨e_skù
(
°r
, 
±
[0], 
skù_dú
, 
fú°
))

732  
Ál£
;

733 i‡(
f0
 < 0 || 
f1
 < 0) {

734 
ASS_DVe˘‹
 
zîo_n‹mÆ
 = {0, 0};

735 i‡(!
	`emô_poöt
(
°r
, 
±
[0], 
zîo_n‹mÆ
, 
OUTLINE_LINE_SEGMENT
, 
skù_dú
) ||

736 !
	`emô_poöt
(
°r
, 
±
[2], 
zîo_n‹mÆ
, 
OUTLINE_LINE_SEGMENT
, 
skù_dú
))

737  
Ál£
;

739 
mul
 = 
f0
 / 
abs_s
;

740 
ASS_DVe˘‹
 
offs
 = { 
n‹mÆ
[0].
v
.
x
 * 
mul
,Ç‹mÆ[0].v.
y
 * mul };

741 i‡(!
	`emô_poöt
(
°r
, 
±
[0], 
offs
, 
OUTLINE_LINE_SEGMENT
, 
skù_dú
))

742  
Ál£
;

744 
dú
 &~
skù_dú
;

745 i‡(!
dú
) {

746 
°r
->
œ°_n‹mÆ
 = 
n‹mÆ
[1].
v
;

747  
åue
;

750 
check_dú
 ^
skù_dú
;

751 } i‡(
c
 + 
g0
 < 1 && c + 
g1
 < 1)

752 
check_dú
 ^
skù_dú
;

755 
ASS_DVe˘‹
 
ªsu…
;

756 i‡(
check_dú
 && 
	`e°im©e_quadøtic_îr‹
(
°r
, 
c
, 
s
, 
n‹mÆ
, &
ªsu…
)) {

757 i‡(!
	`emô_fú°_poöt
(
°r
, 
±
[0], 
OUTLINE_QUADRATIC_SPLINE
, 
check_dú
))

758  
Ál£
;

759 i‡(!
	`emô_poöt
(
°r
, 
±
[1], 
ªsu…
, 0, 
check_dú
))

760  
Ál£
;

761 
dú
 &~
check_dú
;

762 i‡(!
dú
) {

763 
°r
->
œ°_n‹mÆ
 = 
n‹mÆ
[1].
v
;

764  
åue
;

768 
ASS_Ve˘‹
 
√xt
[5];

769 
√xt
[1].
x
 = 
±
[0].x +Öt[1].x;

770 
√xt
[1].
y
 = 
±
[0].y +Öt[1].y;

771 
√xt
[3].
x
 = 
±
[1].x +Öt[2].x;

772 
√xt
[3].
y
 = 
±
[1].y +Öt[2].y;

773 
√xt
[2].
x
 = (next[1].x +Çext[3].x + 2) >> 2;

774 
√xt
[2].
y
 = (next[1].y +Çext[3].y + 2) >> 2;

775 
√xt
[1].
x
 >>= 1;

776 
√xt
[1].
y
 >>= 1;

777 
√xt
[3].
x
 >>= 1;

778 
√xt
[3].
y
 >>= 1;

779 
√xt
[0] = 
±
[0];

780 
√xt
[4] = 
±
[2];

782 
ASS_DVe˘‹
 
√xt_dîiv
[3];

783 
√xt_dîiv
[0].
x
 = 
dîiv
[0].x / 2;

784 
√xt_dîiv
[0].
y
 = 
dîiv
[0].y / 2;

785 
√xt_dîiv
[2].
x
 = 
dîiv
[1].x / 2;

786 
√xt_dîiv
[2].
y
 = 
dîiv
[1].y / 2;

787 
√xt_dîiv
[1].
x
 = (next_deriv[0].x +Çext_deriv[2].x) / 2;

788 
√xt_dîiv
[1].
y
 = (next_deriv[0].y +Çext_deriv[2].y) / 2;

790 
Àn
 = 
	`vec_Àn
(
√xt_dîiv
[1]);

791 i‡(
Àn
 < 
°r
->
mö_Àn
) {

792 i‡(!
	`emô_fú°_poöt
(
°r
, 
√xt
[0], 
OUTLINE_LINE_SEGMENT
, 
dú
))

793  
Ál£
;

794 i‡(!
	`°¨t_£gmít
(
°r
, 
√xt
[2], 
n‹mÆ
[1].
v
, 
dú
))

795  
Ál£
;

796 
°r
->
œ°_skù
 &~
dú
;

797  
	`emô_poöt
(
°r
, 
√xt
[2], 
n‹mÆ
[1].
v
, 
OUTLINE_LINE_SEGMENT
, 
dú
);

800 
sˇÀ
 = 1 / 
Àn
;

801 
N‹mÆ
 
√xt_n‹mÆ
[3] = {

802 { 
n‹mÆ
[0].
v
,Ç‹mÆ[0].
Àn
 / 2 },

803 { { 
√xt_dîiv
[1].
x
 * 
sˇÀ
,Çext_dîiv[1].
y
 * sˇÀ }, 
Àn
 },

804 { 
n‹mÆ
[1].
v
,Ç‹mÆ[1].
Àn
 / 2 }

806  
	`¥o˚ss_quadøtic
(
°r
, 
√xt
 + 0, 
√xt_dîiv
 + 0, 
√xt_n‹mÆ
 + 0, 
dú
, 
fú°
) &&

807 
	`¥o˚ss_quadøtic
(
°r
, 
√xt
 + 2, 
√xt_dîiv
 + 1, 
√xt_n‹mÆ
 + 1, 
dú
, 
Ál£
);

808 
	}
}

817 
boﬁ
 
	$add_quadøtic
(
SåokîSèã
 *
°r
, c⁄° 
ASS_Ve˘‹
 *
±
, 
dú
)

819 
öt32_t
 
dx0
 = 
±
[1].
x
 -Öt[0].x;

820 
öt32_t
 
dy0
 = 
±
[1].
y
 -Öt[0].y;

821 i‡(
dx0
 > -
°r
->
ïs
 && dx0 < så->ï†&& 
dy0
 > -str->eps && dy0 < str->eps)

822  
	`add_löe
(
°r
, 
±
[0],Öt[2], 
dú
);

824 
öt32_t
 
dx1
 = 
±
[2].
x
 -Öt[1].x;

825 
öt32_t
 
dy1
 = 
±
[2].
y
 -Öt[1].y;

826 i‡(
dx1
 > -
°r
->
ïs
 && dx1 < så->ï†&& 
dy1
 > -str->eps && dy1 < str->eps)

827  
	`add_löe
(
°r
, 
±
[0],Öt[2], 
dú
);

829 
ASS_DVe˘‹
 
dîiv
[2] = {

830 { 
dy0
 * 
°r
->
ysˇÀ
, -
dx0
 * så->
xsˇÀ
 },

831 { 
dy1
 * 
°r
->
ysˇÀ
, -
dx1
 * så->
xsˇÀ
 }

833 
Àn0
 = 
	`vec_Àn
(
dîiv
[0]), 
sˇÀ0
 = 1 /Üen0;

834 
Àn1
 = 
	`vec_Àn
(
dîiv
[1]), 
sˇÀ1
 = 1 /Üen1;

835 
N‹mÆ
 
n‹mÆ
[2] = {

836 { { 
dîiv
[0].
x
 * 
sˇÀ0
, dîiv[0].
y
 * sˇÀ0 }, 
Àn0
 },

837 { { 
dîiv
[1].
x
 * 
sˇÀ1
, dîiv[1].
y
 * sˇÀ1 }, 
Àn1
 }

840 
boﬁ
 
fú°
 = 
°r
->
c⁄tour_°¨t
;

841  
	`°¨t_£gmít
(
°r
, 
±
[0], 
n‹mÆ
[0].
v
, 
dú
) &&

842 
	`¥o˚ss_quadøtic
(
°r
, 
±
, 
dîiv
, 
n‹mÆ
, 
dú
, 
fú°
);

843 
	}
}

847 
	mFLAG_INTERSECTION
 = 1,

848 
	mFLAG_ZERO_0
 = 2,

849 
	mFLAG_ZERO_1
 = 4,

850 
	mFLAG_CLIP_0
 = 8,

851 
	mFLAG_CLIP_1
 = 16,

852 
	mFLAG_DIR_2
 = 32,

854 
	mFLAG_COUNT
 = 6,

856 
	mMASK_INTERSECTION
 = 
FLAG_INTERSECTION
 << 
FLAG_COUNT
,

857 
	mMASK_ZERO_0
 = 
FLAG_ZERO_0
 << 
FLAG_COUNT
,

858 
	mMASK_ZERO_1
 = 
FLAG_ZERO_1
 << 
FLAG_COUNT
,

859 
	mMASK_CLIP_0
 = 
FLAG_CLIP_0
 << 
FLAG_COUNT
,

860 
	mMASK_CLIP_1
 = 
FLAG_CLIP_1
 << 
FLAG_COUNT
,

874 
	$e°im©e_cubic_îr‹
(
SåokîSèã
 *
°r
, 
c
, 
s
,

875 c⁄° *
dc
, c⁄° *
ds
,

876 c⁄° 
N‹mÆ
 *
n‹mÆ
, 
ASS_DVe˘‹
 *
ªsu…
,

877 
check_Êags
, 
dú
)

879 
t
 = (
ds
[0] + ds[1]Ë/ (
dc
[0] + dc[1]), 
c1
 = 1 + 
c
, 
ss
 = 
s
 * s;

880 
ts
 = 
t
 * 
s
, 
â
 =Å *Å, 
âc
 =Åà* 
c1
, 
âcc
 =Åtc * c1;

882 c⁄° 
w
 = 0.4;

883 
f0
[] = {

884 10 * 
w
 * (
c
 - 1Ë+ 9 * w * 
â
 * c,

885 2 * (
c
 - 1Ë+ 3 * 
â
 + 2 * 
ts
,

886 2 * (
c
 - 1Ë+ 3 * 
â
 - 2 * 
ts
,

888 
f1
[] = {

889 18 * 
w
 * (
ss
 - 
âc
 * 
c
),

890 2 * 
ss
 - 6 * 
âc
 - 2 * 
ts
 * (
c
 + 4),

891 2 * 
ss
 - 6 * 
âc
 + 2 * 
ts
 * (
c
 + 4),

893 
f2
[] = {

894 9 * 
w
 * (
âcc
 - 
ss
Ë* 
c
,

895 3 * 
ss
 + 3 * 
âcc
 + 6 * 
ts
 * 
c1
,

896 3 * 
ss
 + 3 * 
âcc
 - 6 * 
ts
 * 
c1
,

899 
Ø
 = 0, 
ab
 = 0;

900 
ch
 = 
	`sqπ
(
c1
 / 2);

901 
öv_ro0
 = 1.5 * 
ch
 * (ch + 1);

902 
i
 = 0; i < 3; i++) {

903 
a
 = 2 * 
f2
[
i
] + 
f1
[i] * 
öv_ro0
;

904 
b
 = 
f2
[
i
] - 
f0
[i] * 
öv_ro0
 * inv_ro0;

905 
Ø
 +
a
 *á; 
ab
 +®* 
b
;

907 
ro
 = 
ab
 / (
Ø
 * 
öv_ro0
 + 1e-9);

909 
îr2
 = 0;

910 
i
 = 0; i < 3; i++) {

911 
îr
 = 
f0
[
i
] + 
ro
 * (
f1
[i] +Ñÿ* 
f2
[i]);

912 
îr2
 +
îr
 *Érr;

914 i‡(!(
îr2
 < 
°r
->
îr_c
))

917 
r
 = 
ro
 * 
c1
 - 1;

918 
ro0
 = 
t
 * 
r
 - 
ro
 * 
s
;

919 
ro1
 = 
t
 * 
r
 + 
ro
 * 
s
;

921 
check_dú
 = 
check_Êags
 & 
FLAG_DIR_2
 ? 2 : 1;

922 i‡(
dú
 & 
check_dú
) {

923 
ã°_s
 = 
s
, 
ã°0
 = 
ro0
, 
ã°1
 = 
ro1
;

924 i‡(
check_Êags
 & 
FLAG_DIR_2
) {

925 
ã°_s
 = -test_s;

926 
ã°0
 = -test0;

927 
ã°1
 = -test1;

929 
Êags
 = 0;

930 i‡(2 * 
ã°_s
 * 
r
 < 
dc
[0] + dc[1]Ë
Êags
 |
FLAG_INTERSECTION
;

931 i‡(
n‹mÆ
[0].
Àn
 - 
ã°0
 < 0Ë
Êags
 |
FLAG_ZERO_0
;

932 i‡(
n‹mÆ
[1].
Àn
 + 
ã°1
 < 0Ë
Êags
 |
FLAG_ZERO_1
;

933 i‡(
n‹mÆ
[0].
Àn
 + 
dc
[0] + 
ã°_s
 - 
ã°1
 * 
c
 < 0Ë
Êags
 |
FLAG_CLIP_0
;

934 i‡(
n‹mÆ
[1].
Àn
 + 
dc
[1] + 
ã°_s
 + 
ã°0
 * 
c
 < 0Ë
Êags
 |
FLAG_CLIP_1
;

935 i‡((
Êags
 ^ 
check_Êags
Ë& (check_Êag†>> 
FLAG_COUNT
)) {

936 
dú
 &~
check_dú
;

937 i‡(!
dú
)

942 
d0c
 = 2 * 
dc
[0], 
d0s
 = 2 * 
ds
[0];

943 
d1c
 = 2 * 
dc
[1], 
d1s
 = 2 * 
ds
[1];

944 
dŸ0
 = 
d0c
 + 3 * 
n‹mÆ
[0].
Àn
, 
¸s0
 = 
d0s
 + 3 * 
ro0
 *Çormal[0].len;

945 
dŸ1
 = 
d1c
 + 3 * 
n‹mÆ
[1].
Àn
, 
¸s1
 = 
d1s
 + 3 * 
ro1
 *Çormal[1].len;

947 i‡(!(
	`Ábs
(
¸s0
Ë< 
°r
->
îr_a
 * 
dŸ0
 && fabs(
¸s1
Ë< så->îr_®* 
dŸ1
))

950 
˛0
 = 
c
 * 
n‹mÆ
[0].
Àn
, 
¶0
 = +
s
 *Çormal[0].len;

951 
˛1
 = 
c
 * 
n‹mÆ
[1].
Àn
, 
¶1
 = -
s
 *Çormal[1].len;

952 
dŸ0
 = 
d0c
 - 
ro0
 * 
d0s
 + 
˛0
 + 
ro1
 * 
¶0
 + 
˛1
 / 3;

953 
dŸ1
 = 
d1c
 - 
ro1
 * 
d1s
 + 
˛1
 + 
ro0
 * 
¶1
 + 
˛0
 / 3;

954 
¸s0
 = 
d0s
 + 
ro0
 * 
d0c
 - 
¶0
 + 
ro1
 * 
˛0
 - 
¶1
 / 3;

955 
¸s1
 = 
d1s
 + 
ro1
 * 
d1c
 - 
¶1
 + 
ro0
 * 
˛1
 - 
¶0
 / 3;

957 i‡(!(
	`Ábs
(
¸s0
Ë< 
°r
->
îr_a
 * 
dŸ0
 && fabs(
¸s1
Ë< så->îr_®* 
dŸ1
))

960 
ªsu…
[0].
x
 = 
n‹mÆ
[0].
v
.x +Ç‹mÆ[0].v.
y
 * 
ro0
;

961 
ªsu…
[0].
y
 = 
n‹mÆ
[0].
v
.y -Ç‹mÆ[0].v.
x
 * 
ro0
;

962 
ªsu…
[1].
x
 = 
n‹mÆ
[1].
v
.x +Ç‹mÆ[1].v.
y
 * 
ro1
;

963 
ªsu…
[1].
y
 = 
n‹mÆ
[1].
v
.y -Ç‹mÆ[1].v.
x
 * 
ro1
;

964  
dú
;

965 
	}
}

977 
boﬁ
 
	$¥o˚ss_cubic
(
SåokîSèã
 *
°r
, c⁄° 
ASS_Ve˘‹
 *
±
,

978 c⁄° 
ASS_DVe˘‹
 *
dîiv
, c⁄° 
N‹mÆ
 *
n‹mÆ
,

979 
dú
, 
boﬁ
 
fú°
)

981 
c
 = 
	`vec_dŸ
(
n‹mÆ
[0].
v
,Çormal[1].v);

982 
s
 = 
	`vec_¸s
(
n‹mÆ
[0].
v
,Çormal[1].v);

983 
dc
[] = { 
	`vec_dŸ
(
n‹mÆ
[0].
v
, 
dîiv
[1]), vec_dot(normal[1].v, deriv[1]) };

984 
ds
[] = { 
	`vec_¸s
(
n‹mÆ
[0].
v
, 
dîiv
[1]), vec_crs(normal[1].v, deriv[1]) };

985 
f0
 = 
n‹mÆ
[0].
Àn
 * 
c
 +Ç‹mÆ[1].À¿+ 
dc
[1];

986 
f1
 = 
n‹mÆ
[1].
Àn
 * 
c
 +Ç‹mÆ[0].À¿+ 
dc
[0];

987 
g0
 = 
n‹mÆ
[0].
Àn
 * 
s
 - 
ds
[1];

988 
g1
 = 
n‹mÆ
[1].
Àn
 * 
s
 + 
ds
[0];

990 
abs_s
 = 
s
;

991 
check_dú
 = 
dú
, 
skù_dú
 = 2;

992 
Êags
 = 
FLAG_INTERSECTION
 | 
FLAG_DIR_2
;

993 i‡(
s
 < 0) {

994 
abs_s
 = -
s
;

995 
skù_dú
 = 1;

996 
Êags
 = 0;

997 
g0
 = -g0;

998 
g1
 = -g1;

1001 i‡(!(
dc
[0] + dc[1] > 0))

1002 
check_dú
 = 0;

1003 i‡(
dú
 & 
skù_dú
) {

1004 i‡(
f0
 < 
abs_s
 && 
f1
 <ábs_s) {

1005 
d2
 = (
f0
 + 
dc
[1]Ë* 
n‹mÆ
[1].
Àn
 + (
f1
 + dc[0]) *Çormal[0].len;

1006 
d2
 = (d2 + 
	`vec_dŸ
(
dîiv
[1], deriv[1])) / 2;

1007 i‡(
d2
 < 
g0
 && d2 < 
g1
) {

1008 
q
 = 
	`sqπ
(
d2
 / (2 - d2));

1009 
h0
 = (
f0
 * 
q
 + 
g0
Ë* 
n‹mÆ
[1].
Àn
;

1010 
h1
 = (
f1
 * 
q
 + 
g1
Ë* 
n‹mÆ
[0].
Àn
;

1011 
q
 *(4.0 / 3Ë* 
d2
;

1012 i‡(
h0
 > 
q
 && 
h1
 > q) {

1013 i‡(!
	`¥ï¨e_skù
(
°r
, 
±
[0], 
skù_dú
, 
fú°
))

1014  
Ál£
;

1015 i‡(
f0
 < 0 || 
f1
 < 0) {

1016 
ASS_DVe˘‹
 
zîo_n‹mÆ
 = {0, 0};

1017 i‡(!
	`emô_poöt
(
°r
, 
±
[0], 
zîo_n‹mÆ
, 
OUTLINE_LINE_SEGMENT
, 
skù_dú
) ||

1018 !
	`emô_poöt
(
°r
, 
±
[3], 
zîo_n‹mÆ
, 
OUTLINE_LINE_SEGMENT
, 
skù_dú
))

1019  
Ál£
;

1021 
mul
 = 
f0
 / 
abs_s
;

1022 
ASS_DVe˘‹
 
offs
 = { 
n‹mÆ
[0].
v
.
x
 * 
mul
,Ç‹mÆ[0].v.
y
 * mul };

1023 i‡(!
	`emô_poöt
(
°r
, 
±
[0], 
offs
, 
OUTLINE_LINE_SEGMENT
, 
skù_dú
))

1024  
Ál£
;

1026 
dú
 &~
skù_dú
;

1027 i‡(!
dú
) {

1028 
°r
->
œ°_n‹mÆ
 = 
n‹mÆ
[1].
v
;

1029  
åue
;

1033 
check_dú
 ^
skù_dú
;

1035 i‡(
ds
[0] < 0)

1036 
Êags
 ^
MASK_INTERSECTION
;

1037 i‡(
ds
[1] < 0)

1038 
Êags
 ^
MASK_INTERSECTION
 | 
FLAG_INTERSECTION
;

1039 
boﬁ
 
∑øŒñ
 = 
Êags
 & 
MASK_INTERSECTION
;

1040 
bad√ss
 = 
∑øŒñ
 ? 0 : 1;

1041 i‡(
c
 + 
g0
 < 1) {

1042 i‡(
∑øŒñ
) {

1043 
Êags
 ^
MASK_ZERO_0
 | 
FLAG_ZERO_0
;

1044 i‡(
c
 < 0)

1045 
Êags
 ^
MASK_CLIP_0
;

1046 i‡(
f0
 > 
abs_s
)

1047 
Êags
 ^
FLAG_ZERO_0
 | 
FLAG_CLIP_0
;

1049 
bad√ss
++;

1051 
Êags
 ^
MASK_INTERSECTION
 | 
FLAG_INTERSECTION
;

1052 i‡(!
∑øŒñ
) {

1053 
Êags
 ^
MASK_ZERO_0
;

1054 i‡(
c
 > 0)

1055 
Êags
 ^
MASK_CLIP_0
;

1058 i‡(
c
 + 
g1
 < 1) {

1059 i‡(
∑øŒñ
) {

1060 
Êags
 ^
MASK_ZERO_1
 | 
FLAG_ZERO_1
;

1061 i‡(
c
 < 0)

1062 
Êags
 ^
MASK_CLIP_1
;

1063 i‡(
f1
 > 
abs_s
)

1064 
Êags
 ^
FLAG_ZERO_1
 | 
FLAG_CLIP_1
;

1066 
bad√ss
++;

1068 
Êags
 ^
MASK_INTERSECTION
;

1069 i‡(!
∑øŒñ
) {

1070 
Êags
 ^
MASK_ZERO_1
;

1071 i‡(
c
 > 0)

1072 
Êags
 ^
MASK_CLIP_1
;

1075 i‡(
bad√ss
 > 2)

1076 
check_dú
 ^
skù_dú
;

1080 
ASS_DVe˘‹
 
ªsu…
[2];

1081 i‡(
check_dú
)

1082 
check_dú
 = 
	`e°im©e_cubic_îr‹
(
°r
, 
c
, 
s
, 
dc
, 
ds
,

1083 
n‹mÆ
, 
ªsu…
, 
Êags
, 
check_dú
);

1084 i‡(
check_dú
) {

1085 i‡(!
	`emô_fú°_poöt
(
°r
, 
±
[0], 
OUTLINE_CUBIC_SPLINE
, 
check_dú
))

1086  
Ál£
;

1087 i‡(!
	`emô_poöt
(
°r
, 
±
[1], 
ªsu…
[0], 0, 
check_dú
) ||

1088 !
	`emô_poöt
(
°r
, 
±
[2], 
ªsu…
[1], 0, 
check_dú
))

1089  
Ál£
;

1090 
dú
 &~
check_dú
;

1091 i‡(!
dú
) {

1092 
°r
->
œ°_n‹mÆ
 = 
n‹mÆ
[1].
v
;

1093  
åue
;

1097 
ASS_Ve˘‹
 
√xt
[7], 
˚¡î
;

1098 
√xt
[1].
x
 = 
±
[0].x +Öt[1].x;

1099 
√xt
[1].
y
 = 
±
[0].y +Öt[1].y;

1100 
˚¡î
.
x
 = 
±
[1].x +Öt[2].x + 2;

1101 
˚¡î
.
y
 = 
±
[1].y +Öt[2].y + 2;

1102 
√xt
[5].
x
 = 
±
[2].x +Öt[3].x;

1103 
√xt
[5].
y
 = 
±
[2].y +Öt[3].y;

1104 
√xt
[2].
x
 =Çext[1].x + 
˚¡î
.x;

1105 
√xt
[2].
y
 =Çext[1].y + 
˚¡î
.y;

1106 
√xt
[4].
x
 = 
˚¡î
.x +Çext[5].x;

1107 
√xt
[4].
y
 = 
˚¡î
.y +Çext[5].y;

1108 
√xt
[3].
x
 = (next[2].x +Çext[4].x - 1) >> 3;

1109 
√xt
[3].
y
 = (next[2].y +Çext[4].y - 1) >> 3;

1110 
√xt
[2].
x
 >>= 2;

1111 
√xt
[2].
y
 >>= 2;

1112 
√xt
[4].
x
 >>= 2;

1113 
√xt
[4].
y
 >>= 2;

1114 
√xt
[1].
x
 >>= 1;

1115 
√xt
[1].
y
 >>= 1;

1116 
√xt
[5].
x
 >>= 1;

1117 
√xt
[5].
y
 >>= 1;

1118 
√xt
[0] = 
±
[0];

1119 
√xt
[6] = 
±
[3];

1121 
ASS_DVe˘‹
 
√xt_dîiv
[5], 
˚¡î_dîiv
;

1122 
√xt_dîiv
[0].
x
 = 
dîiv
[0].x / 2;

1123 
√xt_dîiv
[0].
y
 = 
dîiv
[0].y / 2;

1124 
˚¡î_dîiv
.
x
 = 
dîiv
[1].x / 2;

1125 
˚¡î_dîiv
.
y
 = 
dîiv
[1].y / 2;

1126 
√xt_dîiv
[4].
x
 = 
dîiv
[2].x / 2;

1127 
√xt_dîiv
[4].
y
 = 
dîiv
[2].y / 2;

1128 
√xt_dîiv
[1].
x
 = (√xt_dîiv[0].x + 
˚¡î_dîiv
.x) / 2;

1129 
√xt_dîiv
[1].
y
 = (√xt_dîiv[0].y + 
˚¡î_dîiv
.y) / 2;

1130 
√xt_dîiv
[3].
x
 = (
˚¡î_dîiv
.x +Çext_deriv[4].x) / 2;

1131 
√xt_dîiv
[3].
y
 = (
˚¡î_dîiv
.y +Çext_deriv[4].y) / 2;

1132 
√xt_dîiv
[2].
x
 = (next_deriv[1].x +Çext_deriv[3].x) / 2;

1133 
√xt_dîiv
[2].
y
 = (next_deriv[1].y +Çext_deriv[3].y) / 2;

1135 
Àn
 = 
	`vec_Àn
(
√xt_dîiv
[2]);

1136 i‡(
Àn
 < 
°r
->
mö_Àn
) {

1137 
N‹mÆ
 
√xt_n‹mÆ
[4];

1138 
√xt_n‹mÆ
[0].
v
 = 
n‹mÆ
[0].v;

1139 
√xt_n‹mÆ
[0].
Àn
 = 
n‹mÆ
[0].len / 2;

1140 
√xt_n‹mÆ
[3].
v
 = 
n‹mÆ
[1].v;

1141 
√xt_n‹mÆ
[3].
Àn
 = 
n‹mÆ
[1].len / 2;

1143 
√xt_dîiv
[1].
x
 +=Çext_deriv[2].x;

1144 
√xt_dîiv
[1].
y
 +=Çext_deriv[2].y;

1145 
√xt_dîiv
[3].
x
 +=Çext_deriv[2].x;

1146 
√xt_dîiv
[3].
y
 +=Çext_deriv[2].y;

1147 
√xt_dîiv
[2].
x
 =Çext_dîiv[2].
y
 = 0;

1149 
Àn1
 = 
	`vec_Àn
(
√xt_dîiv
[1]);

1150 i‡(
Àn1
 < 
°r
->
mö_Àn
) {

1151 
√xt_n‹mÆ
[1] = 
n‹mÆ
[0];

1153 
sˇÀ
 = 1 / 
Àn1
;

1154 
√xt_n‹mÆ
[1].
v
.
x
 = 
√xt_dîiv
[1].x * 
sˇÀ
;

1155 
√xt_n‹mÆ
[1].
v
.
y
 = 
√xt_dîiv
[1].y * 
sˇÀ
;

1156 
√xt_n‹mÆ
[1].
Àn
 = 
Àn1
;

1159 
Àn2
 = 
	`vec_Àn
(
√xt_dîiv
[3]);

1160 i‡(
Àn2
 < 
°r
->
mö_Àn
) {

1161 
√xt_n‹mÆ
[2] = 
n‹mÆ
[1];

1163 
sˇÀ
 = 1 / 
Àn2
;

1164 
√xt_n‹mÆ
[2].
v
.
x
 = 
√xt_dîiv
[3].x * 
sˇÀ
;

1165 
√xt_n‹mÆ
[2].
v
.
y
 = 
√xt_dîiv
[3].y * 
sˇÀ
;

1166 
√xt_n‹mÆ
[2].
Àn
 = 
Àn2
;

1169 i‡(
Àn1
 < 
°r
->
mö_Àn
) {

1170 i‡(!
	`emô_fú°_poöt
(
°r
, 
√xt
[0], 
OUTLINE_LINE_SEGMENT
, 
dú
))

1171  
Ál£
;

1173 i‡(!
	`¥o˚ss_cubic
(
°r
, 
√xt
 + 0, 
√xt_dîiv
 + 0, 
√xt_n‹mÆ
 + 0, 
dú
, 
fú°
))

1174  
Ál£
;

1176 i‡(!
	`°¨t_£gmít
(
°r
, 
√xt
[2], 
√xt_n‹mÆ
[2].
v
, 
dú
))

1177  
Ál£
;

1178 i‡(
Àn2
 < 
°r
->
mö_Àn
) {

1179 i‡(!
	`emô_fú°_poöt
(
°r
, 
√xt
[3], 
OUTLINE_LINE_SEGMENT
, 
dú
))

1180  
Ál£
;

1182 i‡(!
	`¥o˚ss_cubic
(
°r
, 
√xt
 + 3, 
√xt_dîiv
 + 2, 
√xt_n‹mÆ
 + 2, 
dú
, 
Ál£
))

1183  
Ál£
;

1185  
åue
;

1188 
sˇÀ
 = 1 / 
Àn
;

1189 
N‹mÆ
 
√xt_n‹mÆ
[3] = {

1190 { 
n‹mÆ
[0].
v
,Ç‹mÆ[0].
Àn
 / 2 },

1191 { { 
√xt_dîiv
[2].
x
 * 
sˇÀ
,Çext_dîiv[2].
y
 * sˇÀ }, 
Àn
 },

1192 { 
n‹mÆ
[1].
v
,Ç‹mÆ[1].
Àn
 / 2 }

1194  
	`¥o˚ss_cubic
(
°r
, 
√xt
 + 0, 
√xt_dîiv
 + 0, 
√xt_n‹mÆ
 + 0, 
dú
, 
fú°
) &&

1195 
	`¥o˚ss_cubic
(
°r
, 
√xt
 + 3, 
√xt_dîiv
 + 2, 
√xt_n‹mÆ
 + 1, 
dú
, 
Ál£
);

1196 
	}
}

1205 
boﬁ
 
	$add_cubic
(
SåokîSèã
 *
°r
, c⁄° 
ASS_Ve˘‹
 *
±
, 
dú
)

1207 
Êags
 = 9;

1209 
öt32_t
 
dx0
 = 
±
[1].
x
 -Öt[0].x;

1210 
öt32_t
 
dy0
 = 
±
[1].
y
 -Öt[0].y;

1211 i‡(
dx0
 > -
°r
->
ïs
 && dx0 < så->ï†&& 
dy0
 > -str->eps && dy0 < str->eps) {

1212 
dx0
 = 
±
[2].
x
 -Öt[0].x;

1213 
dy0
 = 
±
[2].
y
 -Öt[0].y;

1214 i‡(
dx0
 > -
°r
->
ïs
 && dx0 < så->ï†&& 
dy0
 > -str->eps && dy0 < str->eps)

1215  
	`add_löe
(
°r
, 
±
[0],Öt[3], 
dú
);

1216 
Êags
 ^= 1;

1219 
öt32_t
 
dx2
 = 
±
[3].
x
 -Öt[2].x;

1220 
öt32_t
 
dy2
 = 
±
[3].
y
 -Öt[2].y;

1221 i‡(
dx2
 > -
°r
->
ïs
 && dx2 < så->ï†&& 
dy2
 > -str->eps && dy2 < str->eps) {

1222 
dx2
 = 
±
[3].
x
 -Öt[1].x;

1223 
dy2
 = 
±
[3].
y
 -Öt[1].y;

1224 i‡(
dx2
 > -
°r
->
ïs
 && dx2 < så->ï†&& 
dy2
 > -str->eps && dy2 < str->eps)

1225  
	`add_löe
(
°r
, 
±
[0],Öt[3], 
dú
);

1226 
Êags
 ^= 4;

1229 i‡(
Êags
 == 12)

1230  
	`add_löe
(
°r
, 
±
[0],Öt[3], 
dú
);

1232 
öt32_t
 
dx1
 = 
±
[
Êags
 >> 2].
x
 -Öt[flags & 3].x;

1233 
öt32_t
 
dy1
 = 
±
[
Êags
 >> 2].
y
 -Öt[flags & 3].y;

1235 
ASS_DVe˘‹
 
dîiv
[3] = {

1236 { 
dy0
 * 
°r
->
ysˇÀ
, -
dx0
 * så->
xsˇÀ
 },

1237 { 
dy1
 * 
°r
->
ysˇÀ
, -
dx1
 * så->
xsˇÀ
 },

1238 { 
dy2
 * 
°r
->
ysˇÀ
, -
dx2
 * så->
xsˇÀ
 }

1240 
Àn0
 = 
	`vec_Àn
(
dîiv
[0]), 
sˇÀ0
 = 1 /Üen0;

1241 
Àn2
 = 
	`vec_Àn
(
dîiv
[2]), 
sˇÀ2
 = 1 /Üen2;

1242 
N‹mÆ
 
n‹mÆ
[2] = {

1243 { { 
dîiv
[0].
x
 * 
sˇÀ0
, dîiv[0].
y
 * sˇÀ0 }, 
Àn0
 },

1244 { { 
dîiv
[2].
x
 * 
sˇÀ2
, dîiv[2].
y
 * sˇÀ2 }, 
Àn2
 }

1247 
boﬁ
 
fú°
 = 
°r
->
c⁄tour_°¨t
;

1248  
	`°¨t_£gmít
(
°r
, 
±
[0], 
n‹mÆ
[0].
v
, 
dú
) &&

1249 
	`¥o˚ss_cubic
(
°r
, 
±
, 
dîiv
, 
n‹mÆ
, 
dú
, 
fú°
);

1250 
	}
}

1260 
boﬁ
 
	$˛o£_c⁄tour
(
SåokîSèã
 *
°r
, 
ASS_Ve˘‹
 
œ°_poöt
, 
dú
)

1262 i‡(
°r
->
c⁄tour_°¨t
) {

1263 i‡((
dú
 & 3) == 3)

1264 
dú
 = 1;

1265 i‡(!
	`døw_cú˛e
(
°r
, 
œ°_poöt
, 
dú
))

1266  
Ál£
;

1268 i‡(!
	`add_löe
(
°r
, 
œ°_poöt
, så->
fú°_poöt
, 
dú
))

1269  
Ál£
;

1270 i‡(!
	`°¨t_£gmít
(
°r
, så->
fú°_poöt
, så->
fú°_n‹mÆ
, 
dú
))

1271  
Ál£
;

1272 i‡(!
	`emô_poöt
(
°r
, så->
fú°_poöt
, så->
fú°_n‹mÆ
, 
OUTLINE_LINE_SEGMENT
,

1273 ~
°r
->
œ°_skù
 & 
dú
 & så->
fú°_skù
))

1274  
Ál£
;

1275 i‡(
°r
->
œ°_n‹mÆ
.
x
 !°r->
fú°_n‹mÆ
.x ||

1276 
°r
->
œ°_n‹mÆ
.
y
 !°r->
fú°_n‹mÆ
.y)

1277 
	`fix_fú°_poöt
(
°r
, så->
fú°_poöt
, så->
œ°_n‹mÆ
,

1278 ~
°r
->
œ°_skù
 & 
dú
 & ~°r->
fú°_skù
);

1279 
°r
->
c⁄tour_°¨t
 = 
åue
;

1281 i‡((
dú
 & 1Ë&& !
	`ouéöe_˛o£_c⁄tour
(
°r
->
ªsu…
[0]))

1282  
Ál£
;

1283 i‡((
dú
 & 2Ë&& !
	`ouéöe_˛o£_c⁄tour
(
°r
->
ªsu…
[1]))

1284  
Ál£
;

1285 
°r
->
c⁄tour_fú°
[0] = så->
ªsu…
[0]->
n_poöts
;

1286 
°r
->
c⁄tour_fú°
[1] = så->
ªsu…
[1]->
n_poöts
;

1287  
åue
;

1288 
	}
}

1301 
boﬁ
 
	$ouéöe_°roke
(
ASS_Ouéöe
 *
ªsu…
, ASS_Ouéöê*
ªsu…1
,

1302 c⁄° 
ASS_Ouéöe
 *
∑th
, 
xb‹d
, 
yb‹d
, 
ïs
)

1304 c⁄° 
dú
 = 3;

1305 
ød
 = 
	`FFMAX
(
xb‹d
, 
yb‹d
);

1306 
	`as£π
(
ød
 >
ïs
);

1308 
ªsu…
->
n_poöts
 =Ñesu…->
n_£gmíts
 = 0;

1309 
ªsu…1
->
n_poöts
 =Ñesu…1->
n_£gmíts
 = 0;

1311 
SåokîSèã
 
°r
;

1312 
°r
.
ªsu…
[0] =Ñesult;

1313 
°r
.
ªsu…
[1] = 
ªsu…1
;

1314 
°r
.
c⁄tour_fú°
[0] = 0;

1315 
°r
.
c⁄tour_fú°
[1] = 0;

1316 
°r
.
xb‹d
 = xbord;

1317 
°r
.
yb‹d
 = ybord;

1318 
°r
.
xsˇÀ
 = 1.0 / 
	`FFMAX
(
ïs
, 
xb‹d
);

1319 
°r
.
ysˇÀ
 = 1.0 / 
	`FFMAX
(
ïs
, 
yb‹d
);

1320 
°r
.
ïs
 =Éps;

1322 
°r
.
c⁄tour_°¨t
 = 
åue
;

1323 
ªl_îr
 = (Ë
ïs
 / 
ød
;

1324 
°r
.
mîge_cos
 = 1 - 
ªl_îr
;

1325 
e
 = 
	`sqπ
(2 * 
ªl_îr
);

1326 
°r
.
•lô_cos
 = 1 + 8 * 
ªl_îr
 - 4 * (1 +Ññ_îrË* 
e
;

1327 
°r
.
mö_Àn
 = 
ªl_îr
 / 4;

1328 
°r
.
îr_q
 = 8 * (1 + 
ªl_îr
) * (1 +Ñel_err);

1329 
°r
.
îr_c
 = 390 * 
ªl_îr
 *Ñel_err;

1330 
°r
.
îr_a
 = 
e
;

1332 
size_t
 
i
 = 0; i < 
∑th
->
n_poöts
; i++) {

1333 i‡(
∑th
->
poöts
[
i
].
x
 < 
OUTLINE_MIN
 ||Ö©h->poöts[i].x > 
OUTLINE_MAX
)

1334  
Ál£
;

1335 i‡(
∑th
->
poöts
[
i
].
y
 < 
OUTLINE_MIN
 ||Ö©h->poöts[i].y > 
OUTLINE_MAX
)

1336  
Ál£
;

1339 
ASS_Ve˘‹
 *
°¨t
 = 
∑th
->
poöts
, *
cur
 = start;

1340 
size_t
 
i
 = 0; i < 
∑th
->
n_£gmíts
; i++) {

1341 
n
 = 
∑th
->
£gmíts
[
i
] & 
OUTLINE_COUNT_MASK
;

1342 
cur
 +
n
;

1344 
ASS_Ve˘‹
 *
íd
 = 
cur
, 
p
[4];

1345 i‡(
∑th
->
£gmíts
[
i
] & 
OUTLINE_CONTOUR_END
) {

1346 
íd
 = 
°¨t
;

1347 
°¨t
 = 
cur
;

1350 
n
) {

1351 
OUTLINE_LINE_SEGMENT
:

1352 i‡(!
	`add_löe
(&
°r
, 
cur
[-1], *
íd
, 
dú
))

1353  
Ál£
;

1356 
OUTLINE_QUADRATIC_SPLINE
:

1357 
p
[0] = 
cur
[-2];

1358 
p
[1] = 
cur
[-1];

1359 
p
[2] = *
íd
;

1360 i‡(!
	`add_quadøtic
(&
°r
, 
p
, 
dú
))

1361  
Ál£
;

1364 
OUTLINE_CUBIC_SPLINE
:

1365 
p
[0] = 
cur
[-3];

1366 
p
[1] = 
cur
[-2];

1367 
p
[2] = 
cur
[-1];

1368 
p
[3] = *
íd
;

1369 i‡(!
	`add_cubic
(&
°r
, 
p
, 
dú
))

1370  
Ál£
;

1374  
Ál£
;

1377 i‡(
°¨t
 =
cur
 && !
	`˛o£_c⁄tour
(&
°r
, *
íd
, 
dú
))

1378  
Ál£
;

1380 
	`as£π
(
°¨t
 =
cur
 && cu∏=
∑th
->
poöts
 +Ö©h->
n_poöts
);

1381  
åue
;

1382 
	}
}

	@libass/ass_outline.h

19 #i‚de‡
LIBASS_OUTLINE_H


20 
	#LIBASS_OUTLINE_H


	)

22 
	~<·2buûd.h
>

23 #ö˛udê
FT_OUTLINE_H


24 
	~<°dboﬁ.h
>

25 
	~<°döt.h
>

27 
	~"ass_utûs.h
"

31 
öt32_t
 
	mx
, 
	my
;

32 } 
	tASS_Ve˘‹
;

35 
	mx
, 
	my
;

36 } 
	tASS_DVe˘‹
;

39 
öt32_t
 
	mx_mö
, 
	my_mö
, 
	mx_max
, 
	my_max
;

40 } 
	tASS_Re˘
;

43 
	mx_mö
, 
	my_mö
, 
	mx_max
, 
	my_max
;

44 } 
	tASS_DRe˘
;

46 
ölöe
 
	$ª˘™gÀ_ª£t
(
ASS_Re˘
 *
ª˘
)

48 
ª˘
->
x_mö
 =Ñe˘->
y_mö
 = 
INT32_MAX
;

49 
ª˘
->
x_max
 =Ñe˘->
y_max
 = 
INT32_MIN
;

50 
	}
}

52 
ölöe
 
	$ª˘™gÀ_upd©e
(
ASS_Re˘
 *
ª˘
,

53 
öt32_t
 
x_mö
, i¡32_à
y_mö
, i¡32_à
x_max
, i¡32_à
y_max
)

55 
ª˘
->
x_mö
 = 
	`FFMIN
(rect->x_min, x_min);

56 
ª˘
->
y_mö
 = 
	`FFMIN
(rect->y_min, y_min);

57 
ª˘
->
x_max
 = 
	`FFMAX
(rect->x_max, x_max);

58 
ª˘
->
y_max
 = 
	`FFMAX
(rect->y_max, y_max);

59 
	}
}

72 
	mOUTLINE_LINE_SEGMENT
 = 1,

73 
	mOUTLINE_QUADRATIC_SPLINE
 = 2,

74 
	mOUTLINE_CUBIC_SPLINE
 = 3,

75 
	mOUTLINE_COUNT_MASK
 = 3,

76 
	mOUTLINE_CONTOUR_END
 = 4

80 
size_t
 
	mn_poöts
, 
	mmax_poöts
;

81 
size_t
 
	mn_£gmíts
, 
	mmax_£gmíts
;

82 
ASS_Ve˘‹
 *
	mpoöts
;

83 *
	m£gmíts
;

84 } 
	tASS_Ouéöe
;

86 
	#OUTLINE_MIN
 (-((
öt32_t
Ë1 << 28))

	)

87 
	#OUTLINE_MAX
 (((
öt32_t
Ë1 << 28Ë- 1)

	)

89 
boﬁ
 
ouéöe_Æloc
(
ASS_Ouéöe
 *
ouéöe
, 
size_t
 
n_poöts
, size_à
n_£gmíts
);

90 
boﬁ
 
ouéöe_c⁄vît
(
ASS_Ouéöe
 *
ouéöe
, c⁄° 
FT_Ouéöe
 *
sour˚
);

91 
boﬁ
 
ouéöe_c›y
(
ASS_Ouéöe
 *
ouéöe
, c⁄° ASS_Ouéöê*
sour˚
);

92 
ouéöe_‰ì
(
ASS_Ouéöe
 *
ouéöe
);

94 
boﬁ
 
ouéöe_add_poöt
(
ASS_Ouéöe
 *
ouéöe
, 
ASS_Ve˘‹
 
±
, 
£gmít
);

95 
boﬁ
 
ouéöe_add_£gmít
(
ASS_Ouéöe
 *
ouéöe
, 
£gmít
);

96 
boﬁ
 
ouéöe_˛o£_c⁄tour
(
ASS_Ouéöe
 *
ouéöe
);

98 
ouéöe_å™¶©e
(c⁄° 
ASS_Ouéöe
 *
ouéöe
, 
öt32_t
 
dx
, i¡32_à
dy
);

99 
ouéöe_adju°
(c⁄° 
ASS_Ouéöe
 *
ouéöe
, 
sˇÀ_x
, 
öt32_t
 
dx
, i¡32_à
dy
);

100 
ouéöe_gë_cbox
(c⁄° 
ASS_Ouéöe
 *
ouéöe
, 
ASS_Re˘
 *
cbox
);

102 
boﬁ
 
ouéöe_°roke
(
ASS_Ouéöe
 *
ªsu…
, ASS_Ouéöê*
ªsu…1
,

103 c⁄° 
ASS_Ouéöe
 *
∑th
, 
xb‹d
, 
yb‹d
, 
ïs
);

	@libass/ass_parse.c

19 
	~"c⁄fig.h
"

20 
	~"ass_com∑t.h
"

22 
	~<°dio.h
>

23 
	~<°dlib.h
>

24 
	~<°rög.h
>

25 
	~<m©h.h
>

27 
	~"ass_ªndî.h
"

28 
	~"ass_∑r£.h
"

30 
	#MAX_VALID_NARGS
 7

	)

31 
	#MAX_BE
 127

	)

32 
	#NBSP
 0xa0

33 

	)

34 
	s¨g
 {

35 *
	m°¨t
, *
	míd
;

38 
ölöe
 
	$¨gtoi
(
¨g
árg)

40 
vÆue
;

41 
	`my°πoi
(&
¨g
.
°¨t
, &
vÆue
);

42  
vÆue
;

43 
	}
}

45 
ölöe
 
	$¨gtﬁl
(
¨g
árg)

47 
vÆue
;

48 
	`my°πﬁl
(&
¨g
.
°¨t
, &
vÆue
);

49  
vÆue
;

50 
	}
}

52 
ölöe
 
	$¨gtod
(
¨g
árg)

54 
vÆue
;

55 
	`my°πod
(&
¨g
.
°¨t
, &
vÆue
);

56  
vÆue
;

57 
	}
}

59 
ölöe
 
	$push_¨g
(
¨g
 *
¨gs
, *
«rgs
, *
°¨t
, *
íd
)

61 i‡(*
«rgs
 <
MAX_VALID_NARGS
) {

62 
	`rskù_•a˚s
(&
íd
, 
°¨t
);

63 i‡(
íd
 > 
°¨t
) {

64 
¨gs
[*
«rgs
] = (
¨g
Ë{
°¨t
, 
íd
};

65 ++*
«rgs
;

68 
	}
}

74 
ölöe
 
	$my°rcmp
(**
p
, c⁄° *
ßm∂e
)

76 
Àn
 = 
	`°æí
(
ßm∂e
);

77 i‡(
	`°∫cmp
(*
p
, 
ßm∂e
, 
Àn
) == 0) {

78 (*
p
Ë+
Àn
;

82 
	}
}

84 
	$ísuª_f⁄t_size
(
ASS_Rídîî
 *
¥iv
, 
size
)

86 i‡(
size
 < 1)

87 
size
 = 1;

88 i‡(
size
 > 
¥iv
->
height
 * 2)

89 
size
 = 
¥iv
->
height
 * 2;

91  
size
;

92 
	}
}

94 
	$ch™ge_f⁄t_size
(
ASS_Rídîî
 *
ªndî_¥iv
, 
sz
)

96 
ªndî_¥iv
->
°©e
.
f⁄t_size
 = 
sz
;

97 
	}
}

102 
	$upd©e_f⁄t
(
ASS_Rídîî
 *
ªndî_¥iv
)

104 
vÆ
;

105 
ASS_F⁄tDesc
 
desc
;

107 i‡(
ªndî_¥iv
->
°©e
.
Ámûy
[0] == '@') {

108 
desc
.
vîtiˇl
 = 1;

109 
desc
.
Ámûy
 = 
	`°rdup
(
ªndî_¥iv
->
°©e
.family + 1);

111 
desc
.
vîtiˇl
 = 0;

112 
desc
.
Ámûy
 = 
	`°rdup
(
ªndî_¥iv
->
°©e
.family);

115 
vÆ
 = 
ªndî_¥iv
->
°©e
.
bﬁd
;

117 i‡(
vÆ
 == 1 || val == -1)

118 
vÆ
 = 700;

119 i‡(
vÆ
 <= 0)

120 
vÆ
 = 400;

121 
desc
.
bﬁd
 = 
vÆ
;

123 
vÆ
 = 
ªndî_¥iv
->
°©e
.
ôÆic
;

124 i‡(
vÆ
 == 1)

125 
vÆ
 = 100;

126 i‡(
vÆ
 <= 0)

127 
vÆ
 = 0;

128 
desc
.
ôÆic
 = 
vÆ
;

130 
	`ass_ˇche_dec_ªf
(
ªndî_¥iv
->
°©e
.
f⁄t
);

131 
ªndî_¥iv
->
°©e
.
f⁄t
 =

132 
	`ass_f⁄t_√w
(
ªndî_¥iv
->
ˇche
.
f⁄t_ˇche
,Ñídî_¥iv->
libøry
,

133 
ªndî_¥iv
->
·libøry
,Ñídî_¥iv->
f⁄t£À˘
,

134 &
desc
);

136 i‡(
ªndî_¥iv
->
°©e
.
f⁄t
)

137 
	`ch™ge_f⁄t_size
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
f⁄t_size
);

138 
	}
}

144 
	$ch™ge_cﬁ‹
(
uöt32_t
 *
v¨
, uöt32_à
√w
, 
pwr
)

146 (*
v¨
Ë((
uöt32_t
Ë(
	`_r
(*v¨Ë* (1 - 
pwr
Ë+ _r(
√w
) *Öwr) << 24) |

147 ((
uöt32_t
Ë(
	`_g
(*
v¨
Ë* (1 - 
pwr
Ë+ _g(
√w
) *Öwr) << 16) |

148 ((
uöt32_t
Ë(
	`_b
(*
v¨
Ë* (1 - 
pwr
Ë+ _b(
√w
Ë*ÖwrË<< 8Ë| 
	`_a
(*var);

149 
	}
}

152 
ölöe
 
	$ch™ge_Æpha
(
uöt32_t
 *
v¨
, 
öt32_t
 
√w
, 
pwr
)

154 *
v¨
 = (*v¨ & 0xFFFFFF00Ë| (
uöt8_t
Ë(
	`_a
(*v¨Ë* (1 - 
pwr
Ë+ 
√w
 *Öwr);

155 
	}
}

164 
ölöe
 
uöt32_t
 
	$mu…_Æpha
(
uöt32_t
 
a
, uöt32_à
b
)

166  0xFF - (0xFF - 
a
Ë* (0xFF - 
b
) / 0xFF;

167 
	}
}

174 
	$öãΩﬁ©e_Æpha
(
now
, 
t1
, 
t2
, 
t3
,

175 
t4
, 
a1
, 
a2
, 
a3
)

177 
a
;

178 
cf
;

180 i‡(
now
 < 
t1
) {

181 
a
 = 
a1
;

182 } i‡(
now
 < 
t2
) {

183 
cf
 = ((Ë(
now
 - 
t1
)Ë/ (
t2
 -Å1);

184 
a
 = 
a1
 * (1 - 
cf
Ë+ 
a2
 * cf;

185 } i‡(
now
 < 
t3
) {

186 
a
 = 
a2
;

187 } i‡(
now
 < 
t4
) {

188 
cf
 = ((Ë(
now
 - 
t3
)Ë/ (
t4
 -Å3);

189 
a
 = 
a2
 * (1 - 
cf
Ë+ 
a3
 * cf;

191 
a
 = 
a3
;

194  
a
;

195 
	}
}

201 
	$∑r£_ve˘‹_˛ù
(
ASS_Rídîî
 *
ªndî_¥iv
,

202 
¨g
 *
¨gs
, 
«rgs
)

204 
sˇÀ
 = 1;

205 
ASS_Døwög
 *
døwög
 = 
ªndî_¥iv
->
°©e
.
˛ù_døwög
;

207 i‡(
«rgs
 != 1 &&Çargs != 2)

209 i‡(
«rgs
 == 2)

210 
sˇÀ
 = 
	`¨gtoi
(
¨gs
[0]);

211 
¨g
 
ãxt
 = 
¨gs
[
«rgs
 - 1];

213 
	`ass_døwög_‰ì
(
døwög
);

214 
ªndî_¥iv
->
°©e
.
˛ù_døwög
 = 
	`ass_døwög_√w
‘ídî_¥iv->
libøry
);

215 
døwög
 = 
ªndî_¥iv
->
°©e
.
˛ù_døwög
;

216 i‡(
døwög
) {

217 
døwög
->
sˇÀ
 = scale;

218 
døwög
->
sˇÀ_x
 = 
ªndî_¥iv
->
f⁄t_sˇÀ_x
 *Ñídî_¥iv->
f⁄t_sˇÀ
;

219 
døwög
->
sˇÀ_y
 = 
ªndî_¥iv
->
f⁄t_sˇÀ
;

220 
	`ass_døwög_£t_ãxt
(
døwög
, 
ãxt
.
°¨t
,Åext.
íd
 -Åext.start);

224 
	}
}

233 *
	$∑r£_ègs
(
ASS_Rídîî
 *
ªndî_¥iv
, *
p
, *
íd
, 
pwr
,

234 
boﬁ
 
√°ed
)

236 *
q
; 
p
 < 
íd
;Ö = q) {

237 *
p
 !'\\' &&Ö !
íd
)

238 ++
p
;

239 i‡(*
p
 != '\\')

241 ++
p
;

242 i‡(
p
 !
íd
)

243 
	`skù_•a˚s
(&
p
);

245 
q
 = 
p
;

246 *
q
 !'(' && *q !'\\' && q !
íd
)

247 ++
q
;

248 i‡(
q
 =
p
)

251 *
«me_íd
 = 
q
;

254 
¨g
 
¨gs
[
MAX_VALID_NARGS
 + 1];

255 
«rgs
 = 0;

256 
i
 = 0; i <
MAX_VALID_NARGS
; ++i)

257 
¨gs
[
i
].
°¨t
 =árgs[i].
íd
 = "";

261 i‡(*
q
 == '(') {

262 ++
q
;

264 i‡(
q
 !
íd
)

265 
	`skù_•a˚s
(&
q
);

272 *
r
 = 
q
;

273 *
r
 !',' && *∏!'\\' && *∏!')' &&Ñ !
íd
)

274 ++
r
;

276 i‡(*
r
 == ',') {

277 
	`push_¨g
(
¨gs
, &
«rgs
, 
q
, 
r
);

278 
q
 = 
r
 + 1;

282 *
r
 !')' &&Ñ !
íd
)

283 ++
r
;

284 
	`push_¨g
(
¨gs
, &
«rgs
, 
q
, 
r
);

285 
q
 = 
r
;

287 i‡(
q
 !
íd
)

288 ++
q
;

294 
	#èg
(
«me
Ë(
	`my°rcmp
(&
p
, («me)Ë&& (
	`push_¨g
(
¨gs
, &
«rgs
,Ö, 
«me_íd
), 1))

	)

295 
	#com∂ex_èg
(
«me
Ë
	`my°rcmp
(&
p
, («me))

	)

298 i‡(
	`èg
("xbord")) {

299 
vÆ
;

300 i‡(
«rgs
) {

301 
vÆ
 = 
	`¨gtod
(*
¨gs
);

302 
vÆ
 = 
ªndî_¥iv
->
°©e
.
b‹dî_x
 * (1 - 
pwr
) + val *Öwr;

303 
vÆ
 = (val < 0) ? 0 : val;

305 
vÆ
 = 
ªndî_¥iv
->
°©e
.
°yÀ
->
Ouéöe
;

306 
ªndî_¥iv
->
°©e
.
b‹dî_x
 = 
vÆ
;

307 } i‡(
	`èg
("ybord")) {

308 
vÆ
;

309 i‡(
«rgs
) {

310 
vÆ
 = 
	`¨gtod
(*
¨gs
);

311 
vÆ
 = 
ªndî_¥iv
->
°©e
.
b‹dî_y
 * (1 - 
pwr
) + val *Öwr;

312 
vÆ
 = (val < 0) ? 0 : val;

314 
vÆ
 = 
ªndî_¥iv
->
°©e
.
°yÀ
->
Ouéöe
;

315 
ªndî_¥iv
->
°©e
.
b‹dî_y
 = 
vÆ
;

316 } i‡(
	`èg
("xshad")) {

317 
vÆ
;

318 i‡(
«rgs
) {

319 
vÆ
 = 
	`¨gtod
(*
¨gs
);

320 
vÆ
 = 
ªndî_¥iv
->
°©e
.
shadow_x
 * (1 - 
pwr
) + val *Öwr;

322 
vÆ
 = 
ªndî_¥iv
->
°©e
.
°yÀ
->
Shadow
;

323 
ªndî_¥iv
->
°©e
.
shadow_x
 = 
vÆ
;

324 } i‡(
	`èg
("yshad")) {

325 
vÆ
;

326 i‡(
«rgs
) {

327 
vÆ
 = 
	`¨gtod
(*
¨gs
);

328 
vÆ
 = 
ªndî_¥iv
->
°©e
.
shadow_y
 * (1 - 
pwr
) + val *Öwr;

330 
vÆ
 = 
ªndî_¥iv
->
°©e
.
°yÀ
->
Shadow
;

331 
ªndî_¥iv
->
°©e
.
shadow_y
 = 
vÆ
;

332 } i‡(
	`èg
("fax")) {

333 
vÆ
;

334 i‡(
«rgs
) {

335 
vÆ
 = 
	`¨gtod
(*
¨gs
);

336 
ªndî_¥iv
->
°©e
.
Áx
 =

337 
vÆ
 * 
pwr
 + 
ªndî_¥iv
->
°©e
.
Áx
 * (1 -Öwr);

339 
ªndî_¥iv
->
°©e
.
Áx
 = 0.;

340 } i‡(
	`èg
("fay")) {

341 
vÆ
;

342 i‡(
«rgs
) {

343 
vÆ
 = 
	`¨gtod
(*
¨gs
);

344 
ªndî_¥iv
->
°©e
.
Áy
 =

345 
vÆ
 * 
pwr
 + 
ªndî_¥iv
->
°©e
.
Áy
 * (1 -Öwr);

347 
ªndî_¥iv
->
°©e
.
Áy
 = 0.;

348 } i‡(
	`com∂ex_èg
("iclip")) {

349 i‡(
«rgs
 == 4) {

350 
x0
, 
y0
, 
x1
, 
y1
;

351 
x0
 = 
	`¨gtoi
(
¨gs
[0]);

352 
y0
 = 
	`¨gtoi
(
¨gs
[1]);

353 
x1
 = 
	`¨gtoi
(
¨gs
[2]);

354 
y1
 = 
	`¨gtoi
(
¨gs
[3]);

355 
ªndî_¥iv
->
°©e
.
˛ù_x0
 =

356 
ªndî_¥iv
->
°©e
.
˛ù_x0
 * (1 - 
pwr
Ë+ 
x0
 *Öwr;

357 
ªndî_¥iv
->
°©e
.
˛ù_x1
 =

358 
ªndî_¥iv
->
°©e
.
˛ù_x1
 * (1 - 
pwr
Ë+ 
x1
 *Öwr;

359 
ªndî_¥iv
->
°©e
.
˛ù_y0
 =

360 
ªndî_¥iv
->
°©e
.
˛ù_y0
 * (1 - 
pwr
Ë+ 
y0
 *Öwr;

361 
ªndî_¥iv
->
°©e
.
˛ù_y1
 =

362 
ªndî_¥iv
->
°©e
.
˛ù_y1
 * (1 - 
pwr
Ë+ 
y1
 *Öwr;

363 
ªndî_¥iv
->
°©e
.
˛ù_mode
 = 1;

364 } i‡(!
ªndî_¥iv
->
°©e
.
˛ù_døwög
) {

365 i‡(
	`∑r£_ve˘‹_˛ù
(
ªndî_¥iv
, 
¨gs
, 
«rgs
))

366 
ªndî_¥iv
->
°©e
.
˛ù_døwög_mode
 = 1;

368 } i‡(
	`èg
("blur")) {

369 
vÆ
;

370 i‡(
«rgs
) {

371 
vÆ
 = 
	`¨gtod
(*
¨gs
);

372 
vÆ
 = 
ªndî_¥iv
->
°©e
.
blur
 * (1 - 
pwr
) + val *Öwr;

373 
vÆ
 = (val < 0) ? 0 : val;

374 
vÆ
 = (vÆ > 
BLUR_MAX_RADIUS
) ? BLUR_MAX_RADIUS : val;

375 
ªndî_¥iv
->
°©e
.
blur
 = 
vÆ
;

377 
ªndî_¥iv
->
°©e
.
blur
 = 0.0;

379 } i‡(
	`èg
("fscx")) {

380 
vÆ
;

381 i‡(
«rgs
) {

382 
vÆ
 = 
	`¨gtod
(*
¨gs
) / 100;

383 
vÆ
 = 
ªndî_¥iv
->
°©e
.
sˇÀ_x
 * (1 - 
pwr
) + val *Öwr;

384 
vÆ
 = (val < 0) ? 0 : val;

386 
vÆ
 = 
ªndî_¥iv
->
°©e
.
°yÀ
->
SˇÀX
;

387 
ªndî_¥iv
->
°©e
.
sˇÀ_x
 = 
vÆ
;

388 } i‡(
	`èg
("fscy")) {

389 
vÆ
;

390 i‡(
«rgs
) {

391 
vÆ
 = 
	`¨gtod
(*
¨gs
) / 100;

392 
vÆ
 = 
ªndî_¥iv
->
°©e
.
sˇÀ_y
 * (1 - 
pwr
) + val *Öwr;

393 
vÆ
 = (val < 0) ? 0 : val;

395 
vÆ
 = 
ªndî_¥iv
->
°©e
.
°yÀ
->
SˇÀY
;

396 
ªndî_¥iv
->
°©e
.
sˇÀ_y
 = 
vÆ
;

397 } i‡(
	`èg
("fsc")) {

398 
ªndî_¥iv
->
°©e
.
sˇÀ_x
 =Ñídî_¥iv->°©e.
°yÀ
->
SˇÀX
;

399 
ªndî_¥iv
->
°©e
.
sˇÀ_y
 =Ñídî_¥iv->°©e.
°yÀ
->
SˇÀY
;

400 } i‡(
	`èg
("fsp")) {

401 
vÆ
;

402 i‡(
«rgs
) {

403 
vÆ
 = 
	`¨gtod
(*
¨gs
);

404 
ªndî_¥iv
->
°©e
.
h•acög
 =

405 
ªndî_¥iv
->
°©e
.
h•acög
 * (1 - 
pwr
Ë+ 
vÆ
 *Öwr;

407 
ªndî_¥iv
->
°©e
.
h•acög
 =Ñídî_¥iv->°©e.
°yÀ
->
S∑cög
;

408 } i‡(
	`èg
("fs")) {

409 
vÆ
 = 0;

410 i‡(
«rgs
) {

411 
vÆ
 = 
	`¨gtod
(*
¨gs
);

412 i‡(*
¨gs
->
°¨t
 == '+' || *args->start == '-')

413 
vÆ
 = 
ªndî_¥iv
->
°©e
.
f⁄t_size
 * (1 + 
pwr
 * val / 10);

415 
vÆ
 = 
ªndî_¥iv
->
°©e
.
f⁄t_size
 * (1 - 
pwr
) + val *Öwr;

417 i‡(
vÆ
 <= 0)

418 
vÆ
 = 
ªndî_¥iv
->
°©e
.
°yÀ
->
F⁄tSize
;

419 i‡(
ªndî_¥iv
->
°©e
.
f⁄t
)

420 
	`ch™ge_f⁄t_size
(
ªndî_¥iv
, 
vÆ
);

421 } i‡(
	`èg
("bord")) {

422 
vÆ
, 
xvÆ
, 
yvÆ
;

423 i‡(
«rgs
) {

424 
vÆ
 = 
	`¨gtod
(*
¨gs
);

425 
xvÆ
 = 
ªndî_¥iv
->
°©e
.
b‹dî_x
 * (1 - 
pwr
Ë+ 
vÆ
 *Öwr;

426 
yvÆ
 = 
ªndî_¥iv
->
°©e
.
b‹dî_y
 * (1 - 
pwr
Ë+ 
vÆ
 *Öwr;

427 
xvÆ
 = (xval < 0) ? 0 : xval;

428 
yvÆ
 = (yval < 0) ? 0 : yval;

430 
xvÆ
 = 
yvÆ
 = 
ªndî_¥iv
->
°©e
.
°yÀ
->
Ouéöe
;

431 
ªndî_¥iv
->
°©e
.
b‹dî_x
 = 
xvÆ
;

432 
ªndî_¥iv
->
°©e
.
b‹dî_y
 = 
yvÆ
;

433 } i‡(
	`com∂ex_èg
("move")) {

434 
x1
, 
x2
, 
y1
, 
y2
;

435 
t1
, 
t2
, 
dñè_t
, 
t
;

436 
x
, 
y
;

437 
k
;

438 i‡(
«rgs
 == 4 ||Çargs == 6) {

439 
x1
 = 
	`¨gtod
(
¨gs
[0]);

440 
y1
 = 
	`¨gtod
(
¨gs
[1]);

441 
x2
 = 
	`¨gtod
(
¨gs
[2]);

442 
y2
 = 
	`¨gtod
(
¨gs
[3]);

443 
t1
 = 
t2
 = 0;

444 i‡(
«rgs
 == 6) {

445 
t1
 = 
	`¨gtﬁl
(
¨gs
[4]);

446 
t2
 = 
	`¨gtﬁl
(
¨gs
[5]);

447 i‡(
t1
 > 
t2
) {

448 
tmp
 = 
t2
;

449 
t2
 = 
t1
;

450 
t1
 = 
tmp
;

455 i‡(
t1
 <0 && 
t2
 <= 0) {

456 
t1
 = 0;

457 
t2
 = 
ªndî_¥iv
->
°©e
.
evít
->
Duøti⁄
;

459 
dñè_t
 = 
t2
 - 
t1
;

460 
t
 = 
ªndî_¥iv
->
time
 -Ñídî_¥iv->
°©e
.
evít
->
Sèπ
;

461 i‡(
t
 <
t1
)

462 
k
 = 0.;

463 i‡(
t
 >
t2
)

464 
k
 = 1.;

466 
k
 = ((Ë(
t
 - 
t1
)Ë/ 
dñè_t
;

467 
x
 = 
k
 * (
x2
 - 
x1
) + x1;

468 
y
 = 
k
 * (
y2
 - 
y1
) + y1;

469 i‡(
ªndî_¥iv
->
°©e
.
evt_ty≥
 !
EVENT_POSITIONED
) {

470 
ªndî_¥iv
->
°©e
.
pos_x
 = 
x
;

471 
ªndî_¥iv
->
°©e
.
pos_y
 = 
y
;

472 
ªndî_¥iv
->
°©e
.
dëe˘_cﬁlisi⁄s
 = 0;

473 
ªndî_¥iv
->
°©e
.
evt_ty≥
 = 
EVENT_POSITIONED
;

475 } i‡(
	`èg
("frx")) {

476 
vÆ
;

477 i‡(
«rgs
) {

478 
vÆ
 = 
	`¨gtod
(*
¨gs
);

479 
vÆ
 *
M_PI
 / 180;

480 
ªndî_¥iv
->
°©e
.
‰x
 =

481 
vÆ
 * 
pwr
 + 
ªndî_¥iv
->
°©e
.
‰x
 * (1 -Öwr);

483 
ªndî_¥iv
->
°©e
.
‰x
 = 0.;

484 } i‡(
	`èg
("fry")) {

485 
vÆ
;

486 i‡(
«rgs
) {

487 
vÆ
 = 
	`¨gtod
(*
¨gs
);

488 
vÆ
 *
M_PI
 / 180;

489 
ªndî_¥iv
->
°©e
.
‰y
 =

490 
vÆ
 * 
pwr
 + 
ªndî_¥iv
->
°©e
.
‰y
 * (1 -Öwr);

492 
ªndî_¥iv
->
°©e
.
‰y
 = 0.;

493 } i‡(
	`èg
("frz") ||Åag("fr")) {

494 
vÆ
;

495 i‡(
«rgs
) {

496 
vÆ
 = 
	`¨gtod
(*
¨gs
);

497 
vÆ
 *
M_PI
 / 180;

498 
ªndî_¥iv
->
°©e
.
‰z
 =

499 
vÆ
 * 
pwr
 + 
ªndî_¥iv
->
°©e
.
‰z
 * (1 -Öwr);

501 
ªndî_¥iv
->
°©e
.
‰z
 =

502 
M_PI
 * 
ªndî_¥iv
->
°©e
.
°yÀ
->
AngÀ
 / 180.;

503 } i‡(
	`èg
("fn")) {

504 *
Ámûy
;

505 *
°¨t
 = 
¨gs
->start;

506 i‡(
«rgs
 && 
	`°∫cmp
(
°¨t
, "0", 
¨gs
->
íd
 - start)) {

507 
	`skù_•a˚s
(&
°¨t
);

508 
Ámûy
 = 
	`°∫dup
(
°¨t
, 
¨gs
->
íd
 - start);

510 
Ámûy
 = 
	`°rdup
(
ªndî_¥iv
->
°©e
.
°yÀ
->
F⁄tName
);

511 
	`‰ì
(
ªndî_¥iv
->
°©e
.
Ámûy
);

512 
ªndî_¥iv
->
°©e
.
Ámûy
 = family;

513 
	`upd©e_f⁄t
(
ªndî_¥iv
);

514 } i‡(
	`èg
("alpha")) {

515 
i
;

516 i‡(
«rgs
) {

517 
öt32_t
 
a
 = 
	`∑r£_Æpha_èg
(
¨gs
->
°¨t
);

518 
i
 = 0; i < 4; ++i)

519 
	`ch™ge_Æpha
(&
ªndî_¥iv
->
°©e
.
c
[
i
], 
a
, 
pwr
);

521 
	`ch™ge_Æpha
(&
ªndî_¥iv
->
°©e
.
c
[0],

522 
	`_a
(
ªndî_¥iv
->
°©e
.
°yÀ
->
Prim¨yCﬁour
), 1);

523 
	`ch™ge_Æpha
(&
ªndî_¥iv
->
°©e
.
c
[1],

524 
	`_a
(
ªndî_¥iv
->
°©e
.
°yÀ
->
Sec⁄d¨yCﬁour
), 1);

525 
	`ch™ge_Æpha
(&
ªndî_¥iv
->
°©e
.
c
[2],

526 
	`_a
(
ªndî_¥iv
->
°©e
.
°yÀ
->
OuéöeCﬁour
), 1);

527 
	`ch™ge_Æpha
(&
ªndî_¥iv
->
°©e
.
c
[3],

528 
	`_a
(
ªndî_¥iv
->
°©e
.
°yÀ
->
BackCﬁour
), 1);

531 } i‡(
	`èg
("an")) {

532 
vÆ
 = 
	`¨gtoi
(*
¨gs
);

533 i‡((
ªndî_¥iv
->
°©e
.
∑r£d_ègs
 & 
PARSED_A
) == 0) {

534 i‡(
vÆ
 >= 1 && val <= 9)

535 
ªndî_¥iv
->
°©e
.
Æignmít
 = 
	`num∑d2Æign
(
vÆ
);

537 
ªndî_¥iv
->
°©e
.
Æignmít
 =

538 
ªndî_¥iv
->
°©e
.
°yÀ
->
Alignmít
;

539 
ªndî_¥iv
->
°©e
.
∑r£d_ègs
 |
PARSED_A
;

541 } i‡(
	`èg
("a")) {

542 
vÆ
 = 
	`¨gtoi
(*
¨gs
);

543 i‡((
ªndî_¥iv
->
°©e
.
∑r£d_ègs
 & 
PARSED_A
) == 0) {

544 i‡(
vÆ
 >= 1 && val <= 11)

547 
ªndî_¥iv
->
°©e
.
Æignmít
 = ((
vÆ
 & 3) == 0) ? 5 : val;

549 
ªndî_¥iv
->
°©e
.
Æignmít
 =

550 
ªndî_¥iv
->
°©e
.
°yÀ
->
Alignmít
;

551 
ªndî_¥iv
->
°©e
.
∑r£d_ègs
 |
PARSED_A
;

553 } i‡(
	`com∂ex_èg
("pos")) {

554 
v1
, 
v2
;

555 i‡(
«rgs
 == 2) {

556 
v1
 = 
	`¨gtod
(
¨gs
[0]);

557 
v2
 = 
	`¨gtod
(
¨gs
[1]);

560 i‡(
ªndî_¥iv
->
°©e
.
evt_ty≥
 =
EVENT_POSITIONED
) {

561 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_V
, "Subtitle hasáÇew \\pos "

564 
ªndî_¥iv
->
°©e
.
evt_ty≥
 = 
EVENT_POSITIONED
;

565 
ªndî_¥iv
->
°©e
.
dëe˘_cﬁlisi⁄s
 = 0;

566 
ªndî_¥iv
->
°©e
.
pos_x
 = 
v1
;

567 
ªndî_¥iv
->
°©e
.
pos_y
 = 
v2
;

569 } i‡(
	`com∂ex_èg
("fade") || complex_tag("fad")) {

570 
a1
, 
a2
, 
a3
;

571 
t1
, 
t2
, 
t3
, 
t4
;

572 i‡(
«rgs
 == 2) {

574 
a1
 = 0xFF;

575 
a2
 = 0;

576 
a3
 = 0xFF;

577 
t1
 = -1;

578 
t2
 = 
	`¨gtﬁl
(
¨gs
[0]);

579 
t3
 = 
	`¨gtﬁl
(
¨gs
[1]);

580 
t4
 = -1;

581 } i‡(
«rgs
 == 7) {

583 
a1
 = 
	`¨gtoi
(
¨gs
[0]);

584 
a2
 = 
	`¨gtoi
(
¨gs
[1]);

585 
a3
 = 
	`¨gtoi
(
¨gs
[2]);

586 
t1
 = 
	`¨gtﬁl
(
¨gs
[3]);

587 
t2
 = 
	`¨gtﬁl
(
¨gs
[4]);

588 
t3
 = 
	`¨gtﬁl
(
¨gs
[5]);

589 
t4
 = 
	`¨gtﬁl
(
¨gs
[6]);

592 i‡(
t1
 =-1 && 
t4
 == -1) {

593 
t1
 = 0;

594 
t4
 = 
ªndî_¥iv
->
°©e
.
evít
->
Duøti⁄
;

595 
t3
 = 
t4
 -Å3;

597 i‡((
ªndî_¥iv
->
°©e
.
∑r£d_ègs
 & 
PARSED_FADE
) == 0) {

598 
ªndî_¥iv
->
°©e
.
Áde
 =

599 
	`öãΩﬁ©e_Æpha
(
ªndî_¥iv
->
time
 -

600 
ªndî_¥iv
->
°©e
.
evít
->
Sèπ
, 
t1
, 
t2
,

601 
t3
, 
t4
, 
a1
, 
a2
, 
a3
);

602 
ªndî_¥iv
->
°©e
.
∑r£d_ègs
 |
PARSED_FADE
;

604 } i‡(
	`com∂ex_èg
("org")) {

605 
v1
, 
v2
;

606 i‡(
«rgs
 == 2) {

607 
v1
 = 
	`¨gtod
(
¨gs
[0]);

608 
v2
 = 
	`¨gtod
(
¨gs
[1]);

611 i‡(!
ªndî_¥iv
->
°©e
.
have_‹igö
) {

612 
ªndî_¥iv
->
°©e
.
‹g_x
 = 
v1
;

613 
ªndî_¥iv
->
°©e
.
‹g_y
 = 
v2
;

614 
ªndî_¥iv
->
°©e
.
have_‹igö
 = 1;

615 
ªndî_¥iv
->
°©e
.
dëe˘_cﬁlisi⁄s
 = 0;

617 } i‡(
	`com∂ex_èg
("t")) {

618 
ac˚l
;

619 
˙t
 = 
«rgs
 - 1;

620 
t1
, 
t2
, 
t
, 
dñè_t
;

621 
k
;

622 i‡(
˙t
 == 3) {

623 
t1
 = 
	`¨gtﬁl
(
¨gs
[0]);

624 
t2
 = 
	`¨gtﬁl
(
¨gs
[1]);

625 
ac˚l
 = 
	`¨gtod
(
¨gs
[2]);

626 } i‡(
˙t
 == 2) {

627 
t1
 = 
	`¨gtﬁl
(
¨gs
[0]);

628 
t2
 = 
	`¨gtﬁl
(
¨gs
[1]);

629 
ac˚l
 = 1.;

630 } i‡(
˙t
 == 1) {

631 
t1
 = 0;

632 
t2
 = 0;

633 
ac˚l
 = 
	`¨gtod
(
¨gs
[0]);

635 
t1
 = 0;

636 
t2
 = 0;

637 
ac˚l
 = 1.;

639 
ªndî_¥iv
->
°©e
.
dëe˘_cﬁlisi⁄s
 = 0;

640 i‡(
t2
 == 0)

641 
t2
 = 
ªndî_¥iv
->
°©e
.
evít
->
Duøti⁄
;

642 
dñè_t
 = 
t2
 - 
t1
;

643 
t
 = 
ªndî_¥iv
->
time
 -Ñídî_¥iv->
°©e
.
evít
->
Sèπ
;

644 i‡(
t
 <
t1
)

645 
k
 = 0.;

646 i‡(
t
 >
t2
)

647 
k
 = 1.;

649 
	`as£π
(
dñè_t
 != 0.);

650 
k
 = 
	`pow
(((Ë(
t
 - 
t1
)Ë/ 
dñè_t
, 
ac˚l
);

652 i‡(
√°ed
)

653 
pwr
 = 
k
;

654 i‡(
˙t
 < 0 || cnt > 3)

656 
p
 = 
¨gs
[
˙t
].
°¨t
;

657 i‡(
¨gs
[
˙t
].
íd
 <Énd) {

658 
p
 = 
	`∑r£_ègs
(
ªndî_¥iv
,Ö, 
¨gs
[
˙t
].
íd
, 
k
, 
åue
);

660 
	`as£π
(
q
 =
íd
);

665 
pwr
 = 
k
;

666 
√°ed
 = 
åue
;

667 
q
 = 
p
;

669 } i‡(
	`com∂ex_èg
("clip")) {

670 i‡(
«rgs
 == 4) {

671 
x0
, 
y0
, 
x1
, 
y1
;

672 
x0
 = 
	`¨gtoi
(
¨gs
[0]);

673 
y0
 = 
	`¨gtoi
(
¨gs
[1]);

674 
x1
 = 
	`¨gtoi
(
¨gs
[2]);

675 
y1
 = 
	`¨gtoi
(
¨gs
[3]);

676 
ªndî_¥iv
->
°©e
.
˛ù_x0
 =

677 
ªndî_¥iv
->
°©e
.
˛ù_x0
 * (1 - 
pwr
Ë+ 
x0
 *Öwr;

678 
ªndî_¥iv
->
°©e
.
˛ù_x1
 =

679 
ªndî_¥iv
->
°©e
.
˛ù_x1
 * (1 - 
pwr
Ë+ 
x1
 *Öwr;

680 
ªndî_¥iv
->
°©e
.
˛ù_y0
 =

681 
ªndî_¥iv
->
°©e
.
˛ù_y0
 * (1 - 
pwr
Ë+ 
y0
 *Öwr;

682 
ªndî_¥iv
->
°©e
.
˛ù_y1
 =

683 
ªndî_¥iv
->
°©e
.
˛ù_y1
 * (1 - 
pwr
Ë+ 
y1
 *Öwr;

684 
ªndî_¥iv
->
°©e
.
˛ù_mode
 = 0;

685 } i‡(!
ªndî_¥iv
->
°©e
.
˛ù_døwög
) {

686 i‡(
	`∑r£_ve˘‹_˛ù
(
ªndî_¥iv
, 
¨gs
, 
«rgs
))

687 
ªndî_¥iv
->
°©e
.
˛ù_døwög_mode
 = 0;

689 } i‡(
	`èg
("c") ||Åag("1c")) {

690 i‡(
«rgs
) {

691 
uöt32_t
 
vÆ
 = 
	`∑r£_cﬁ‹_èg
(
¨gs
->
°¨t
);

692 
	`ch™ge_cﬁ‹
(&
ªndî_¥iv
->
°©e
.
c
[0], 
vÆ
, 
pwr
);

694 
	`ch™ge_cﬁ‹
(&
ªndî_¥iv
->
°©e
.
c
[0],

695 
ªndî_¥iv
->
°©e
.
°yÀ
->
Prim¨yCﬁour
, 1);

696 } i‡(
	`èg
("2c")) {

697 i‡(
«rgs
) {

698 
uöt32_t
 
vÆ
 = 
	`∑r£_cﬁ‹_èg
(
¨gs
->
°¨t
);

699 
	`ch™ge_cﬁ‹
(&
ªndî_¥iv
->
°©e
.
c
[1], 
vÆ
, 
pwr
);

701 
	`ch™ge_cﬁ‹
(&
ªndî_¥iv
->
°©e
.
c
[1],

702 
ªndî_¥iv
->
°©e
.
°yÀ
->
Sec⁄d¨yCﬁour
, 1);

703 } i‡(
	`èg
("3c")) {

704 i‡(
«rgs
) {

705 
uöt32_t
 
vÆ
 = 
	`∑r£_cﬁ‹_èg
(
¨gs
->
°¨t
);

706 
	`ch™ge_cﬁ‹
(&
ªndî_¥iv
->
°©e
.
c
[2], 
vÆ
, 
pwr
);

708 
	`ch™ge_cﬁ‹
(&
ªndî_¥iv
->
°©e
.
c
[2],

709 
ªndî_¥iv
->
°©e
.
°yÀ
->
OuéöeCﬁour
, 1);

710 } i‡(
	`èg
("4c")) {

711 i‡(
«rgs
) {

712 
uöt32_t
 
vÆ
 = 
	`∑r£_cﬁ‹_èg
(
¨gs
->
°¨t
);

713 
	`ch™ge_cﬁ‹
(&
ªndî_¥iv
->
°©e
.
c
[3], 
vÆ
, 
pwr
);

715 
	`ch™ge_cﬁ‹
(&
ªndî_¥iv
->
°©e
.
c
[3],

716 
ªndî_¥iv
->
°©e
.
°yÀ
->
BackCﬁour
, 1);

717 } i‡(
	`èg
("1a")) {

718 i‡(
«rgs
) {

719 
uöt32_t
 
vÆ
 = 
	`∑r£_Æpha_èg
(
¨gs
->
°¨t
);

720 
	`ch™ge_Æpha
(&
ªndî_¥iv
->
°©e
.
c
[0], 
vÆ
, 
pwr
);

722 
	`ch™ge_Æpha
(&
ªndî_¥iv
->
°©e
.
c
[0],

723 
	`_a
(
ªndî_¥iv
->
°©e
.
°yÀ
->
Prim¨yCﬁour
), 1);

724 } i‡(
	`èg
("2a")) {

725 i‡(
«rgs
) {

726 
uöt32_t
 
vÆ
 = 
	`∑r£_Æpha_èg
(
¨gs
->
°¨t
);

727 
	`ch™ge_Æpha
(&
ªndî_¥iv
->
°©e
.
c
[1], 
vÆ
, 
pwr
);

729 
	`ch™ge_Æpha
(&
ªndî_¥iv
->
°©e
.
c
[1],

730 
	`_a
(
ªndî_¥iv
->
°©e
.
°yÀ
->
Sec⁄d¨yCﬁour
), 1);

731 } i‡(
	`èg
("3a")) {

732 i‡(
«rgs
) {

733 
uöt32_t
 
vÆ
 = 
	`∑r£_Æpha_èg
(
¨gs
->
°¨t
);

734 
	`ch™ge_Æpha
(&
ªndî_¥iv
->
°©e
.
c
[2], 
vÆ
, 
pwr
);

736 
	`ch™ge_Æpha
(&
ªndî_¥iv
->
°©e
.
c
[2],

737 
	`_a
(
ªndî_¥iv
->
°©e
.
°yÀ
->
OuéöeCﬁour
), 1);

738 } i‡(
	`èg
("4a")) {

739 i‡(
«rgs
) {

740 
uöt32_t
 
vÆ
 = 
	`∑r£_Æpha_èg
(
¨gs
->
°¨t
);

741 
	`ch™ge_Æpha
(&
ªndî_¥iv
->
°©e
.
c
[3], 
vÆ
, 
pwr
);

743 
	`ch™ge_Æpha
(&
ªndî_¥iv
->
°©e
.
c
[3],

744 
	`_a
(
ªndî_¥iv
->
°©e
.
°yÀ
->
BackCﬁour
), 1);

745 } i‡(
	`èg
("r")) {

746 i‡(
«rgs
) {

747 
Àn
 = 
¨gs
->
íd
 -árgs->
°¨t
;

748 
	`ª£t_ªndî_c⁄ãxt
(
ªndî_¥iv
,

749 
	`lookup_°yÀ_°ri˘
(
ªndî_¥iv
->
åack
, 
¨gs
->
°¨t
, 
Àn
));

751 
	`ª£t_ªndî_c⁄ãxt
(
ªndî_¥iv
, 
NULL
);

752 } i‡(
	`èg
("be")) {

753 
dvÆ
;

754 i‡(
«rgs
) {

755 
vÆ
;

756 
dvÆ
 = 
	`¨gtod
(*
¨gs
);

758 
vÆ
 = (Ë(
ªndî_¥iv
->
°©e
.
be
 * (1 - 
pwr
Ë+ 
dvÆ
 *Öwr + 0.5);

760 
vÆ
 = (val < 0) ? 0 : val;

761 
vÆ
 = (vÆ > 
MAX_BE
) ? MAX_BE : val;

762 
ªndî_¥iv
->
°©e
.
be
 = 
vÆ
;

764 
ªndî_¥iv
->
°©e
.
be
 = 0;

765 } i‡(
	`èg
("b")) {

766 
vÆ
 = 
	`¨gtoi
(*
¨gs
);

767 i‡(!
«rgs
 || !(
vÆ
 == 0 || val == 1 || val >= 100))

768 
vÆ
 = 
ªndî_¥iv
->
°©e
.
°yÀ
->
Bﬁd
;

769 
ªndî_¥iv
->
°©e
.
bﬁd
 = 
vÆ
;

770 
	`upd©e_f⁄t
(
ªndî_¥iv
);

771 } i‡(
	`èg
("i")) {

772 
vÆ
 = 
	`¨gtoi
(*
¨gs
);

773 i‡(!
«rgs
 || !(
vÆ
 == 0 || val == 1))

774 
vÆ
 = 
ªndî_¥iv
->
°©e
.
°yÀ
->
Ièlic
;

775 
ªndî_¥iv
->
°©e
.
ôÆic
 = 
vÆ
;

776 
	`upd©e_f⁄t
(
ªndî_¥iv
);

777 } i‡(
	`èg
("kf") ||Åag("K")) {

778 
vÆ
 = 100;

779 i‡(
«rgs
)

780 
vÆ
 = 
	`¨gtod
(*
¨gs
);

781 
ªndî_¥iv
->
°©e
.
ef„˘_ty≥
 = 
EF_KARAOKE_KF
;

782 i‡(
ªndî_¥iv
->
°©e
.
ef„˘_timög
)

783 
ªndî_¥iv
->
°©e
.
ef„˘_skù_timög
 +=

784 
ªndî_¥iv
->
°©e
.
ef„˘_timög
;

785 
ªndî_¥iv
->
°©e
.
ef„˘_timög
 = 
vÆ
 * 10;

786 } i‡(
	`èg
("ko")) {

787 
vÆ
 = 100;

788 i‡(
«rgs
)

789 
vÆ
 = 
	`¨gtod
(*
¨gs
);

790 
ªndî_¥iv
->
°©e
.
ef„˘_ty≥
 = 
EF_KARAOKE_KO
;

791 i‡(
ªndî_¥iv
->
°©e
.
ef„˘_timög
)

792 
ªndî_¥iv
->
°©e
.
ef„˘_skù_timög
 +=

793 
ªndî_¥iv
->
°©e
.
ef„˘_timög
;

794 
ªndî_¥iv
->
°©e
.
ef„˘_timög
 = 
vÆ
 * 10;

795 } i‡(
	`èg
("k")) {

796 
vÆ
 = 100;

797 i‡(
«rgs
)

798 
vÆ
 = 
	`¨gtod
(*
¨gs
);

799 
ªndî_¥iv
->
°©e
.
ef„˘_ty≥
 = 
EF_KARAOKE
;

800 i‡(
ªndî_¥iv
->
°©e
.
ef„˘_timög
)

801 
ªndî_¥iv
->
°©e
.
ef„˘_skù_timög
 +=

802 
ªndî_¥iv
->
°©e
.
ef„˘_timög
;

803 
ªndî_¥iv
->
°©e
.
ef„˘_timög
 = 
vÆ
 * 10;

804 } i‡(
	`èg
("shad")) {

805 
vÆ
, 
xvÆ
, 
yvÆ
;

806 i‡(
«rgs
) {

807 
vÆ
 = 
	`¨gtod
(*
¨gs
);

808 
xvÆ
 = 
ªndî_¥iv
->
°©e
.
shadow_x
 * (1 - 
pwr
Ë+ 
vÆ
 *Öwr;

809 
yvÆ
 = 
ªndî_¥iv
->
°©e
.
shadow_y
 * (1 - 
pwr
Ë+ 
vÆ
 *Öwr;

811 
xvÆ
 = (xval < 0) ? 0 : xval;

812 
yvÆ
 = (yval < 0) ? 0 : yval;

814 
xvÆ
 = 
yvÆ
 = 
ªndî_¥iv
->
°©e
.
°yÀ
->
Shadow
;

815 
ªndî_¥iv
->
°©e
.
shadow_x
 = 
xvÆ
;

816 
ªndî_¥iv
->
°©e
.
shadow_y
 = 
yvÆ
;

817 } i‡(
	`èg
("s")) {

818 
vÆ
 = 
	`¨gtoi
(*
¨gs
);

819 i‡(!
«rgs
 || !(
vÆ
 == 0 || val == 1))

820 
vÆ
 = 
ªndî_¥iv
->
°©e
.
°yÀ
->
SåikeOut
;

821 i‡(
vÆ
)

822 
ªndî_¥iv
->
°©e
.
Êags
 |
DECO_STRIKETHROUGH
;

824 
ªndî_¥iv
->
°©e
.
Êags
 &~
DECO_STRIKETHROUGH
;

825 } i‡(
	`èg
("u")) {

826 
vÆ
 = 
	`¨gtoi
(*
¨gs
);

827 i‡(!
«rgs
 || !(
vÆ
 == 0 || val == 1))

828 
vÆ
 = 
ªndî_¥iv
->
°©e
.
°yÀ
->
Undîlöe
;

829 i‡(
vÆ
)

830 
ªndî_¥iv
->
°©e
.
Êags
 |
DECO_UNDERLINE
;

832 
ªndî_¥iv
->
°©e
.
Êags
 &~
DECO_UNDERLINE
;

833 } i‡(
	`èg
("pbo")) {

834 
vÆ
 = 
	`¨gtod
(*
¨gs
);

835 
ªndî_¥iv
->
°©e
.
pbo
 = 
vÆ
;

836 } i‡(
	`èg
("p")) {

837 
vÆ
 = 
	`¨gtoi
(*
¨gs
);

838 
vÆ
 = (val < 0) ? 0 : val;

839 
ªndî_¥iv
->
°©e
.
døwög_sˇÀ
 = 
vÆ
;

840 } i‡(
	`èg
("q")) {

841 
vÆ
 = 
	`¨gtoi
(*
¨gs
);

842 i‡(!
«rgs
 || !(
vÆ
 >= 0 && val <= 3))

843 
vÆ
 = 
ªndî_¥iv
->
åack
->
WøpStyÀ
;

844 
ªndî_¥iv
->
°©e
.
wøp_°yÀ
 = 
vÆ
;

845 } i‡(
	`èg
("fe")) {

846 
vÆ
;

847 i‡(
«rgs
)

848 
vÆ
 = 
	`¨gtoi
(*
¨gs
);

850 
vÆ
 = 
ªndî_¥iv
->
°©e
.
°yÀ
->
Encodög
;

851 
ªndî_¥iv
->
°©e
.
f⁄t_ícodög
 = 
vÆ
;

855  
p
;

856 
	}
}

858 
	$≠∂y_å™sôi⁄_ef„˘s
(
ASS_Rídîî
 *
ªndî_¥iv
, 
ASS_Evít
 *
evít
)

860 
v
[4];

861 
˙t
;

862 *
p
 = 
evít
->
Ef„˘
;

864 i‡(!
p
 || !*p)

867 
˙t
 = 0;

868 
˙t
 < 4 && (
p
 = 
	`°rchr
(p, ';'))) {

869 
v
[
˙t
++] = 
	`©oi
(++
p
);

872 i‡(
	`°∫cmp
(
evít
->
Ef„˘
, "Banner;", 7) == 0) {

873 
dñay
;

874 i‡(
˙t
 < 1) {

875 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_V
,

876 "Eº‹Ö¨sögÉf„˘: '%s'", 
evít
->
Ef„˘
);

879 i‡(
˙t
 >2 && 
v
[1] == 0)

880 
ªndî_¥iv
->
°©e
.
s¸ﬁl_dúe˘i⁄
 = 
SCROLL_RL
;

882 
ªndî_¥iv
->
°©e
.
s¸ﬁl_dúe˘i⁄
 = 
SCROLL_LR
;

884 
dñay
 = 
v
[0];

885 i‡(
dñay
 == 0)

886 
dñay
 = 1;

887 
ªndî_¥iv
->
°©e
.
s¸ﬁl_shi·
 =

888 (
ªndî_¥iv
->
time
 -Ñídî_¥iv->
°©e
.
evít
->
Sèπ
Ë/ 
dñay
;

889 
ªndî_¥iv
->
°©e
.
evt_ty≥
 = 
EVENT_HSCROLL
;

893 i‡(
	`°∫cmp
(
evít
->
Ef„˘
, "Scroll up;", 10) == 0) {

894 
ªndî_¥iv
->
°©e
.
s¸ﬁl_dúe˘i⁄
 = 
SCROLL_BT
;

895 } i‡(
	`°∫cmp
(
evít
->
Ef„˘
, "Scroll down;", 12) == 0) {

896 
ªndî_¥iv
->
°©e
.
s¸ﬁl_dúe˘i⁄
 = 
SCROLL_TB
;

898 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_DBG2
,

899 "Unknow¿å™sôi⁄Éf„˘: '%s'", 
evít
->
Ef„˘
);

904 
dñay
;

905 
y0
, 
y1
;

906 i‡(
˙t
 < 3) {

907 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_V
,

908 "Eº‹Ö¨sögÉf„˘: '%s'", 
evít
->
Ef„˘
);

911 
dñay
 = 
v
[2];

912 i‡(
dñay
 == 0)

913 
dñay
 = 1;

914 
ªndî_¥iv
->
°©e
.
s¸ﬁl_shi·
 =

915 (
ªndî_¥iv
->
time
 -Ñídî_¥iv->
°©e
.
evít
->
Sèπ
Ë/ 
dñay
;

916 i‡(
v
[0] < v[1]) {

917 
y0
 = 
v
[0];

918 
y1
 = 
v
[1];

920 
y0
 = 
v
[1];

921 
y1
 = 
v
[0];

923 i‡(
y1
 == 0)

924 
y1
 = 
ªndî_¥iv
->
åack
->
PœyResY
;

925 
ªndî_¥iv
->
°©e
.
˛ù_y0
 = 
y0
;

926 
ªndî_¥iv
->
°©e
.
˛ù_y1
 = 
y1
;

927 
ªndî_¥iv
->
°©e
.
evt_ty≥
 = 
EVENT_VSCROLL
;

928 
ªndî_¥iv
->
°©e
.
dëe˘_cﬁlisi⁄s
 = 0;

931 
	}
}

944 
	$¥o˚ss_k¨aoke_ef„˘s
(
ASS_Rídîî
 *
ªndî_¥iv
)

946 
GlyphInfo
 *
cur
, *
cur2
;

947 
GlyphInfo
 *
s1
, *
e1
;

948 
GlyphInfo
 *
s2
;

949 
i
;

950 
timög
;

951 
tm_°¨t
, 
tm_íd
;

952 
tm_cuºít
;

953 
dt
;

954 
x
;

955 
x_°¨t
, 
x_íd
;

957 
tm_cuºít
 = 
ªndî_¥iv
->
time
 -Ñídî_¥iv->
°©e
.
evít
->
Sèπ
;

958 
timög
 = 0;

959 
s1
 = 
s2
 = 0;

960 
i
 = 0; i <
ªndî_¥iv
->
ãxt_öfo
.
Àngth
; ++i) {

961 
cur
 = 
ªndî_¥iv
->
ãxt_öfo
.
glyphs
 + 
i
;

962 i‡((
i
 =
ªndî_¥iv
->
ãxt_öfo
.
Àngth
)

963 || (
cur
->
ef„˘_ty≥
 !
EF_NONE
)) {

964 
s1
 = 
s2
;

965 
s2
 = 
cur
;

966 i‡(
s1
) {

967 
e1
 = 
s2
 - 1;

968 
tm_°¨t
 = 
timög
 + 
s1
->
ef„˘_skù_timög
;

969 
tm_íd
 = 
tm_°¨t
 + 
s1
->
ef„˘_timög
;

970 
timög
 = 
tm_íd
;

971 
x_°¨t
 = 1000000;

972 
x_íd
 = -1000000;

973 
cur2
 = 
s1
; cur2 <
e1
; ++cur2) {

974 
x_°¨t
 = 
	`FFMIN
(x_°¨t, 
	`d6_to_öt
(
cur2
->
bbox
.
x_mö
 + cur2->
pos
.
x
));

975 
x_íd
 = 
	`FFMAX
(x_íd, 
	`d6_to_öt
(
cur2
->
bbox
.
x_max
 + cur2->
pos
.
x
));

978 
dt
 = (
tm_cuºít
 - 
tm_°¨t
);

979 i‡((
s1
->
ef„˘_ty≥
 =
EF_KARAOKE
)

980 || (
s1
->
ef„˘_ty≥
 =
EF_KARAOKE_KO
)) {

981 i‡(
dt
 >= 0)

982 
x
 = 
x_íd
 + 1;

984 
x
 = 
x_°¨t
;

985 } i‡(
s1
->
ef„˘_ty≥
 =
EF_KARAOKE_KF
) {

986 
dt
 /(
tm_íd
 - 
tm_°¨t
);

987 
x
 = 
x_°¨t
 + (
x_íd
 - x_°¨tË* 
dt
;

989 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_ERR
,

994 
cur2
 = 
s1
; cur2 <
e1
; ++cur2) {

995 
cur2
->
ef„˘_ty≥
 = 
s1
->effect_type;

996 
cur2
->
ef„˘_timög
 = 
x
 - 
	`d6_to_öt
(cur2->
pos
.x);

998 
s1
->
ef„˘
 = 1;

1002 
	}
}

1011 
	$gë_√xt_ch¨
(
ASS_Rídîî
 *
ªndî_¥iv
, **
°r
)

1013 *
p
 = *
°r
;

1014 
chr
;

1015 i‡(*
p
 == '\t') {

1016 ++
p
;

1017 *
°r
 = 
p
;

1020 i‡(*
p
 == '\\') {

1021 i‡((
p
[1] == 'N') || ((p[1] == 'n') &&

1022 (
ªndî_¥iv
->
°©e
.
wøp_°yÀ
 == 2))) {

1023 
p
 += 2;

1024 *
°r
 = 
p
;

1026 } i‡(
p
[1] == 'n') {

1027 
p
 += 2;

1028 *
°r
 = 
p
;

1030 } i‡(
p
[1] == 'h') {

1031 
p
 += 2;

1032 *
°r
 = 
p
;

1033  
NBSP
;

1034 } i‡(
p
[1] == '{') {

1035 
p
 += 2;

1036 *
°r
 = 
p
;

1038 } i‡(
p
[1] == '}') {

1039 
p
 += 2;

1040 *
°r
 = 
p
;

1044 
chr
 = 
	`ass_utf8_gë_ch¨
((**Ë&
p
);

1045 *
°r
 = 
p
;

1046  
chr
;

1047 
	}
}

1051 
	$evít_has_h¨d_ovîrides
(*
°r
)

1055 *
°r
) {

1056 i‡(
°r
[0] == '\\' && str[1] != '\0') {

1057 
°r
 += 2;

1058 } i‡(
°r
[0] == '{') {

1059 
°r
++;

1060 *
°r
 && *str != '}') {

1061 i‡(*
°r
 == '\\') {

1062 *
p
 = 
°r
 + 1;

1063 i‡(
	`my°rcmp
(&
p
, "pos") || mystrcmp(&p, "move") ||

1064 
	`my°rcmp
(&
p
, "clip") || mystrcmp(&p, "iclip") ||

1065 
	`my°rcmp
(&
p
, "org") || mystrcmp(&p, "pbo") ||

1066 
	`my°rcmp
(&
p
, "p"))

1069 
°r
++;

1072 
°r
++;

1076 
	}
}

	@libass/ass_parse.h

19 #i‚de‡
LIBASS_PARSE_H


20 
	#LIBASS_PARSE_H


	)

22 
	#BLUR_MAX_RADIUS
 100.0

	)

24 
	#_r
(
c
Ë((cË>> 24)

	)

25 
	#_g
(
c
Ë(((cË>> 16Ë& 0xFF)

	)

26 
	#_b
(
c
Ë(((cË>> 8Ë& 0xFF)

	)

27 
	#_a
(
c
Ë((cË& 0xFF)

	)

29 
upd©e_f⁄t
(
ASS_Rídîî
 *
ªndî_¥iv
);

30 
ísuª_f⁄t_size
(
ASS_Rídîî
 *
¥iv
, 
size
);

31 
≠∂y_å™sôi⁄_ef„˘s
(
ASS_Rídîî
 *
ªndî_¥iv
, 
ASS_Evít
 *
evít
);

32 
¥o˚ss_k¨aoke_ef„˘s
(
ASS_Rídîî
 *
ªndî_¥iv
);

33 
gë_√xt_ch¨
(
ASS_Rídîî
 *
ªndî_¥iv
, **
°r
);

34 *
∑r£_ègs
(
ASS_Rídîî
 *
ªndî_¥iv
, *
p
, *
íd
, 
pwr
,

35 
boﬁ
 
√°ed
);

36 
evít_has_h¨d_ovîrides
(*
°r
);

37 
ch™ge_Æpha
(
uöt32_t
 *
v¨
, 
öt32_t
 
√w
, 
pwr
);

38 
uöt32_t
 
mu…_Æpha
(uöt32_à
a
, uöt32_à
b
);

	@libass/ass_rasterizer.c

19 
	~"c⁄fig.h
"

20 
	~"ass_com∑t.h
"

22 
	~<as£π.h
>

23 #ifde‡
_MSC_VER


24 
	~<öåö.h
>

25 #¥agm®
öåösic
(
_BôSˇnRevî£
)

28 
	~"ass_utûs.h
"

29 
	~"ass_ouéöe.h
"

30 
	~"ass_ø°îizî.h
"

34 
ölöe
 
	$ûog2
(
uöt32_t
 
n
)

36 #ifde‡
__GNUC__


37  
	`__buûtö_˛z
(
n
) ^ 31;

38 #ñi‡
	`deföed
(
_MSC_VER
)

39 
ªs
;

40 
	`_BôSˇnRevî£
(&
ªs
, 
n
);

41  
ªs
;

43 
ªs
 = 0;

44 
‹d
 = 16; ord; ord /= 2)

45 i‡(
n
 >((
uöt32_t
Ë1 << 
‹d
)) {

46 
ªs
 +
‹d
;

47 
n
 >>
‹d
;

49  
ªs
;

51 
	}
}

54 
boﬁ
 
	$ø°îizî_öô
(
Ra°îizîD©a
 *
r°
, 
tûe_‹dî
, 
ouéöe_îr‹
)

56 
r°
->
ouéöe_îr‹
 = outline_error;

57 
r°
->
löebuf
[0] =Ñ°->löebuf[1] = 
NULL
;

58 
r°
->
size
[0] =Ñ°->
ˇ∑côy
[0] = 0;

59 
r°
->
size
[1] =Ñ°->
ˇ∑côy
[1] = 0;

60 
r°
->
n_fú°
 = 0;

62 
r°
->
tûe
 = 
	`ass_Æig√d_Æloc
(32, 1 << (2 * 
tûe_‹dî
), 
Ál£
);

63  
r°
->
tûe
;

64 
	}
}

72 
ölöe
 
boﬁ
 
	$check_ˇ∑côy
(
Ra°îizîD©a
 *
r°
, 
ödex
, 
size_t
 
dñè
)

74 
dñè
 +
r°
->
size
[
ödex
];

75 i‡(
r°
->
ˇ∑côy
[
ödex
] >
dñè
)

76  
åue
;

78 
size_t
 
ˇ∑côy
 = 
	`FFMAX
(2 * 
r°
->ˇ∑côy[
ödex
], 64);

79 
ˇ∑côy
 < 
dñè
)

80 
ˇ∑côy
 *= 2;

81 *
±r
 = 
	`ªÆloc
(
r°
->
löebuf
[
ödex
], (
£gmít
Ë* 
ˇ∑côy
);

82 i‡(!
±r
)

83  
Ál£
;

85 
r°
->
löebuf
[
ödex
] = (
£gmít
 *Ë
±r
;

86 
r°
->
ˇ∑côy
[
ödex
] = capacity;

87  
åue
;

88 
	}
}

90 
	$ø°îizî_d⁄e
(
Ra°îizîD©a
 *
r°
)

92 
	`‰ì
(
r°
->
löebuf
[0]);

93 
	`‰ì
(
r°
->
löebuf
[1]);

95 
	`ass_Æig√d_‰ì
(
r°
->
tûe
);

96 
	}
}

122 
ASS_Ve˘‹
 
	mr
;

123 
öt64_t
 
	mr2
, 
	mî
;

124 } 
	tOuéöeSegmít
;

126 
ölöe
 
	$£gmít_öô
(
OuéöeSegmít
 *
£g
,

127 
ASS_Ve˘‹
 
beg
, ASS_Ve˘‹ 
íd
,

128 
öt32_t
 
ouéöe_îr‹
)

130 
öt32_t
 
x
 = 
íd
.x - 
beg
.x;

131 
öt32_t
 
y
 = 
íd
.y - 
beg
.y;

132 
öt32_t
 
abs_x
 = 
x
 < 0 ? -x : x;

133 
öt32_t
 
abs_y
 = 
y
 < 0 ? -y : y;

135 
£g
->
r
.
x
 = x;

136 
£g
->
r
.
y
 = y;

137 
£g
->
r2
 = 
x
 * (
öt64_t
Ëx + 
y
 * (int64_t) y;

138 
£g
->
î
 = 
ouéöe_îr‹
 * (
öt64_t
Ë
	`FFMAX
(
abs_x
, 
abs_y
);

139 
	}
}

141 
ölöe
 
boﬁ
 
	$£gmít_subdivide
(c⁄° 
OuéöeSegmít
 *
£g
,

142 
ASS_Ve˘‹
 
beg
, ASS_Ve˘‹ 
±
)

144 
öt32_t
 
x
 = 
±
.x - 
beg
.x;

145 
öt32_t
 
y
 = 
±
.y - 
beg
.y;

146 
öt64_t
 
pdr
 = 
£g
->
r
.
x
 * (öt64_tËx + seg->r.
y
 * (int64_t) y;

147 
öt64_t
 
p¸
 = 
£g
->
r
.
x
 * (öt64_tË
y
 - seg->r.y * (int64_t) x;

148  
pdr
 < -
£g
->
î
 ||Öd∏> seg->
r2
 + seg->er ||

149 (
p¸
 < 0 ? -p¸ :Ö¸Ë> 
£g
->
î
;

150 
	}
}

155 
boﬁ
 
	$add_löe
(
Ra°îizîD©a
 *
r°
, 
ASS_Ve˘‹
 
±0
, ASS_Ve˘‹ 
±1
)

157 
öt32_t
 
x
 = 
±1
.x - 
±0
.x;

158 
öt32_t
 
y
 = 
±1
.y - 
±0
.y;

159 i‡(!
x
 && !
y
)

160  
åue
;

162 i‡(!
	`check_ˇ∑côy
(
r°
, 0, 1))

163  
Ál£
;

164 
£gmít
 *
löe
 = 
r°
->
löebuf
[0] +Ñ°->
size
[0];

165 
r°
->
size
[0]++;

167 
löe
->
Êags
 = 
SEGFLAG_EXACT_LEFT
 | 
SEGFLAG_EXACT_RIGHT
 |

168 
SEGFLAG_EXACT_TOP
 | 
SEGFLAG_EXACT_BOTTOM
;

169 i‡(
x
 < 0)

170 
löe
->
Êags
 ^
SEGFLAG_UL_DR
;

171 i‡(
y
 >= 0)

172 
löe
->
Êags
 ^
SEGFLAG_DN
 | 
SEGFLAG_UL_DR
;

174 
löe
->
x_mö
 = 
	`FFMIN
(
±0
.
x
, 
±1
.x);

175 
löe
->
x_max
 = 
	`FFMAX
(
±0
.
x
, 
±1
.x);

176 
löe
->
y_mö
 = 
	`FFMIN
(
±0
.
y
, 
±1
.y);

177 
löe
->
y_max
 = 
	`FFMAX
(
±0
.
y
, 
±1
.y);

179 
löe
->
a
 = 
y
;

180 
löe
->
b
 = -
x
;

181 
löe
->
c
 = 
y
 * (
öt64_t
Ë
±0
.
x
 - x * (int64_t)Öt0.y;

184 
öt32_t
 
abs_x
 = 
x
 < 0 ? -x : x;

185 
öt32_t
 
abs_y
 = 
y
 < 0 ? -y : y;

186 
uöt32_t
 
max_ab
 = (
abs_x
 > 
abs_y
 ?ábs_x :ábs_y);

187 
shi·
 = 30 - 
	`ûog2
(
max_ab
);

188 
max_ab
 <<
shi·
 + 1;

189 
löe
->
a
 *1 << 
shi·
;

190 
löe
->
b
 *1 << 
shi·
;

191 
löe
->
c
 *1 << 
shi·
;

192 
löe
->
sˇÀ
 = (
uöt64_t
Ë0x53333333 * (
uöt32_t
Ë(
max_ab
 * (uint64_t) max_ab >> 32) >> 32;

193 
löe
->
sˇÀ
 +0x8810624D - (0xBBC6A7EF * (
uöt64_t
Ë
max_ab
 >> 32);

195  
åue
;

196 
	}
}

202 
boﬁ
 
	$add_quadøtic
(
Ra°îizîD©a
 *
r°
, c⁄° 
ASS_Ve˘‹
 *
±
)

204 
OuéöeSegmít
 
£g
;

205 
	`£gmít_öô
(&
£g
, 
±
[0],Öt[2], 
r°
->
ouéöe_îr‹
);

206 i‡(!
	`£gmít_subdivide
(&
£g
, 
±
[0],Öt[1]))

207  
	`add_löe
(
r°
, 
±
[0],Öt[2]);

209 
ASS_Ve˘‹
 
√xt
[5];

210 
√xt
[1].
x
 = 
±
[0].x +Öt[1].x;

211 
√xt
[1].
y
 = 
±
[0].y +Öt[1].y;

212 
√xt
[3].
x
 = 
±
[1].x +Öt[2].x;

213 
√xt
[3].
y
 = 
±
[1].y +Öt[2].y;

214 
√xt
[2].
x
 = (next[1].x +Çext[3].x + 2) >> 2;

215 
√xt
[2].
y
 = (next[1].y +Çext[3].y + 2) >> 2;

216 
√xt
[1].
x
 >>= 1;

217 
√xt
[1].
y
 >>= 1;

218 
√xt
[3].
x
 >>= 1;

219 
√xt
[3].
y
 >>= 1;

220 
√xt
[0] = 
±
[0];

221 
√xt
[4] = 
±
[2];

222  
	`add_quadøtic
(
r°
, 
√xt
) &&ádd_quadratic(rst,Çext + 2);

223 
	}
}

229 
boﬁ
 
	$add_cubic
(
Ra°îizîD©a
 *
r°
, c⁄° 
ASS_Ve˘‹
 *
±
)

231 
OuéöeSegmít
 
£g
;

232 
	`£gmít_öô
(&
£g
, 
±
[0],Öt[3], 
r°
->
ouéöe_îr‹
);

233 i‡(!
	`£gmít_subdivide
(&
£g
, 
±
[0],Öt[1]) && !segment_subdivide(&seg,Öt[0],Öt[2]))

234  
	`add_löe
(
r°
, 
±
[0],Öt[3]);

236 
ASS_Ve˘‹
 
√xt
[7], 
˚¡î
;

237 
√xt
[1].
x
 = 
±
[0].x +Öt[1].x;

238 
√xt
[1].
y
 = 
±
[0].y +Öt[1].y;

239 
˚¡î
.
x
 = 
±
[1].x +Öt[2].x + 2;

240 
˚¡î
.
y
 = 
±
[1].y +Öt[2].y + 2;

241 
√xt
[5].
x
 = 
±
[2].x +Öt[3].x;

242 
√xt
[5].
y
 = 
±
[2].y +Öt[3].y;

243 
√xt
[2].
x
 =Çext[1].x + 
˚¡î
.x;

244 
√xt
[2].
y
 =Çext[1].y + 
˚¡î
.y;

245 
√xt
[4].
x
 = 
˚¡î
.x +Çext[5].x;

246 
√xt
[4].
y
 = 
˚¡î
.y +Çext[5].y;

247 
√xt
[3].
x
 = (next[2].x +Çext[4].x - 1) >> 3;

248 
√xt
[3].
y
 = (next[2].y +Çext[4].y - 1) >> 3;

249 
√xt
[2].
x
 >>= 2;

250 
√xt
[2].
y
 >>= 2;

251 
√xt
[4].
x
 >>= 2;

252 
√xt
[4].
y
 >>= 2;

253 
√xt
[1].
x
 >>= 1;

254 
√xt
[1].
y
 >>= 1;

255 
√xt
[5].
x
 >>= 1;

256 
√xt
[5].
y
 >>= 1;

257 
√xt
[0] = 
±
[0];

258 
√xt
[6] = 
±
[3];

259  
	`add_cubic
(
r°
, 
√xt
) &&ádd_cubic(rst,Çext + 3);

260 
	}
}

263 
boﬁ
 
	$ø°îizî_£t_ouéöe
(
Ra°îizîD©a
 *
r°
,

264 c⁄° 
ASS_Ouéöe
 *
∑th
, 
boﬁ
 
exåa
)

266 i‡(!
exåa
) {

267 
	`ª˘™gÀ_ª£t
(&
r°
->
bbox
);

268 
r°
->
n_fú°
 = 0;

270 
r°
->
size
[0] =Ñ°->
n_fú°
;

272 
size_t
 
i
 = 0; i < 
∑th
->
n_poöts
; i++) {

273 i‡(
∑th
->
poöts
[
i
].
x
 < 
OUTLINE_MIN
 ||Ö©h->poöts[i].x > 
OUTLINE_MAX
)

274  
Ál£
;

275 i‡(
∑th
->
poöts
[
i
].
y
 < 
OUTLINE_MIN
 ||Ö©h->poöts[i].y > 
OUTLINE_MAX
)

276  
Ál£
;

279 
ASS_Ve˘‹
 *
°¨t
 = 
∑th
->
poöts
, *
cur
 = start;

280 
size_t
 
i
 = 0; i < 
∑th
->
n_£gmíts
; i++) {

281 
n
 = 
∑th
->
£gmíts
[
i
] & 
OUTLINE_COUNT_MASK
;

282 
cur
 +
n
;

284 
ASS_Ve˘‹
 *
íd
 = 
cur
, 
p
[4];

285 i‡(
∑th
->
£gmíts
[
i
] & 
OUTLINE_CONTOUR_END
) {

286 
íd
 = 
°¨t
;

287 
°¨t
 = 
cur
;

290 
n
) {

291 
OUTLINE_LINE_SEGMENT
:

292 i‡(!
	`add_löe
(
r°
, 
cur
[-1], *
íd
))

293  
Ál£
;

296 
OUTLINE_QUADRATIC_SPLINE
:

297 
p
[0] = 
cur
[-2];

298 
p
[1] = 
cur
[-1];

299 
p
[2] = *
íd
;

300 i‡(!
	`add_quadøtic
(
r°
, 
p
))

301  
Ál£
;

304 
OUTLINE_CUBIC_SPLINE
:

305 
p
[0] = 
cur
[-3];

306 
p
[1] = 
cur
[-2];

307 
p
[2] = 
cur
[-1];

308 
p
[3] = *
íd
;

309 i‡(!
	`add_cubic
(
r°
, 
p
))

310  
Ál£
;

314  
Ál£
;

317 
	`as£π
(
°¨t
 =
cur
 && cu∏=
∑th
->
poöts
 +Ö©h->
n_poöts
);

319 
size_t
 
k
 = 
r°
->
n_fú°
; k <Ñ°->
size
[0]; k++) {

320 
£gmít
 *
löe
 = &
r°
->
löebuf
[0][
k
];

321 
	`ª˘™gÀ_upd©e
(&
r°
->
bbox
,

322 
löe
->
x_mö
,Üöe->
y_mö
,

323 
löe
->
x_max
,Üöe->
y_max
);

325 i‡(!
exåa
)

326 
r°
->
n_fú°
 =Ñ°->
size
[0];

327  
åue
;

328 
	}
}

331 
	$£gmít_move_x
(
£gmít
 *
löe
, 
öt32_t
 
x
)

333 
löe
->
x_mö
 -
x
;

334 
löe
->
x_max
 -
x
;

335 
löe
->
x_mö
 = 
	`FFMAX
(line->x_min, 0);

336 
löe
->
c
 -löe->
a
 * (
öt64_t
Ë
x
;

338 c⁄° 
ã°
 = 
SEGFLAG_EXACT_LEFT
 | 
SEGFLAG_UL_DR
;

339 i‡(!
löe
->
x_mö
 && (löe->
Êags
 & 
ã°
) ==Åest)

340 
löe
->
Êags
 &~
SEGFLAG_EXACT_TOP
;

341 
	}
}

343 
	$£gmít_move_y
(
£gmít
 *
löe
, 
öt32_t
 
y
)

345 
löe
->
y_mö
 -
y
;

346 
löe
->
y_max
 -
y
;

347 
löe
->
y_mö
 = 
	`FFMAX
(line->y_min, 0);

348 
löe
->
c
 -löe->
b
 * (
öt64_t
Ë
y
;

350 c⁄° 
ã°
 = 
SEGFLAG_EXACT_TOP
 | 
SEGFLAG_UL_DR
;

351 i‡(!
löe
->
y_mö
 && (löe->
Êags
 & 
ã°
) ==Åest)

352 
löe
->
Êags
 &~
SEGFLAG_EXACT_LEFT
;

353 
	}
}

355 
	$£gmít_•lô_h‹z
(
£gmít
 *
löe
, £gmíà*
√xt
, 
öt32_t
 
x
)

357 
	`as£π
(
x
 > 
löe
->
x_mö
 && x <Üöe->
x_max
);

359 *
√xt
 = *
löe
;

360 
√xt
->
c
 -
löe
->
a
 * (
öt64_t
Ë
x
;

361 
√xt
->
x_mö
 = 0;

362 
√xt
->
x_max
 -
x
;

363 
löe
->
x_max
 = 
x
;

365 
löe
->
Êags
 &~
SEGFLAG_EXACT_TOP
;

366 
√xt
->
Êags
 &~
SEGFLAG_EXACT_BOTTOM
;

367 i‡(
löe
->
Êags
 & 
SEGFLAG_UL_DR
) {

368 
öt32_t
 
tmp
 = 
löe
->
Êags
;

369 
löe
->
Êags
 = 
√xt
->flags;

370 
√xt
->
Êags
 = 
tmp
;

372 
löe
->
Êags
 |
SEGFLAG_EXACT_RIGHT
;

373 
√xt
->
Êags
 |
SEGFLAG_EXACT_LEFT
;

374 
	}
}

376 
	$£gmít_•lô_vît
(
£gmít
 *
löe
, £gmíà*
√xt
, 
öt32_t
 
y
)

378 
	`as£π
(
y
 > 
löe
->
y_mö
 && y <Üöe->
y_max
);

380 *
√xt
 = *
löe
;

381 
√xt
->
c
 -
löe
->
b
 * (
öt64_t
Ë
y
;

382 
√xt
->
y_mö
 = 0;

383 
√xt
->
y_max
 -
y
;

384 
löe
->
y_max
 = 
y
;

386 
löe
->
Êags
 &~
SEGFLAG_EXACT_LEFT
;

387 
√xt
->
Êags
 &~
SEGFLAG_EXACT_RIGHT
;

388 i‡(
löe
->
Êags
 & 
SEGFLAG_UL_DR
) {

389 
öt32_t
 
tmp
 = 
löe
->
Êags
;

390 
löe
->
Êags
 = 
√xt
->flags;

391 
√xt
->
Êags
 = 
tmp
;

393 
löe
->
Êags
 |
SEGFLAG_EXACT_BOTTOM
;

394 
√xt
->
Êags
 |
SEGFLAG_EXACT_TOP
;

395 
	}
}

397 
ölöe
 
	$£gmít_check_À·
(c⁄° 
£gmít
 *
löe
, 
öt32_t
 
x
)

399 i‡(
löe
->
Êags
 & 
SEGFLAG_EXACT_LEFT
)

400  
löe
->
x_mö
 >
x
;

401 
öt64_t
 
cc
 = 
löe
->
c
 -Üöe->
a
 * (öt64_tË
x
 -

402 
löe
->
b
 * (
öt64_t
Ë÷öe->
Êags
 & 
SEGFLAG_UL_DR
 ?Üöe->
y_mö
 :Üöe->
y_max
);

403 i‡(
löe
->
a
 < 0)

404 
cc
 = -cc;

405  
cc
 >= 0;

406 
	}
}

408 
ölöe
 
	$£gmít_check_right
(c⁄° 
£gmít
 *
löe
, 
öt32_t
 
x
)

410 i‡(
löe
->
Êags
 & 
SEGFLAG_EXACT_RIGHT
)

411  
löe
->
x_max
 <
x
;

412 
öt64_t
 
cc
 = 
löe
->
c
 -Üöe->
a
 * (öt64_tË
x
 -

413 
löe
->
b
 * (
öt64_t
Ë÷öe->
Êags
 & 
SEGFLAG_UL_DR
 ?Üöe->
y_max
 :Üöe->
y_mö
);

414 i‡(
löe
->
a
 > 0)

415 
cc
 = -cc;

416  
cc
 >= 0;

417 
	}
}

419 
ölöe
 
	$£gmít_check_t›
(c⁄° 
£gmít
 *
löe
, 
öt32_t
 
y
)

421 i‡(
löe
->
Êags
 & 
SEGFLAG_EXACT_TOP
)

422  
löe
->
y_mö
 >
y
;

423 
öt64_t
 
cc
 = 
löe
->
c
 -Üöe->
b
 * (öt64_tË
y
 -

424 
löe
->
a
 * (
öt64_t
Ë÷öe->
Êags
 & 
SEGFLAG_UL_DR
 ?Üöe->
x_mö
 :Üöe->
x_max
);

425 i‡(
löe
->
b
 < 0)

426 
cc
 = -cc;

427  
cc
 >= 0;

428 
	}
}

430 
ölöe
 
	$£gmít_check_bŸtom
(c⁄° 
£gmít
 *
löe
, 
öt32_t
 
y
)

432 i‡(
löe
->
Êags
 & 
SEGFLAG_EXACT_BOTTOM
)

433  
löe
->
y_max
 <
y
;

434 
öt64_t
 
cc
 = 
löe
->
c
 -Üöe->
b
 * (öt64_tË
y
 -

435 
löe
->
a
 * (
öt64_t
Ë÷öe->
Êags
 & 
SEGFLAG_UL_DR
 ?Üöe->
x_max
 :Üöe->
x_mö
);

436 i‡(
löe
->
b
 > 0)

437 
cc
 = -cc;

438  
cc
 >= 0;

439 
	}
}

450 
	$pﬁylöe_•lô_h‹z
(c⁄° 
£gmít
 *
§c
, c⁄° 
size_t
 
n_§c
[2],

451 
£gmít
 *
d°0
, 
size_t
 
n_d°0
[2],

452 
£gmít
 *
d°1
, 
size_t
 
n_d°1
[2],

453 
wödög
[2], 
öt32_t
 
x
)

455 c⁄° 
£gmít
 *
cmp
 = 
§c
 + 
n_§c
[0];

456 c⁄° 
£gmít
 *
íd
 = 
cmp
 + 
n_§c
[1];

457 
n_d°0
[0] =Ç_dst0[1] = 0;

458 
n_d°1
[0] =Ç_dst1[1] = 0;

459 ; 
§c
 !
íd
; src++) {

460 
group
 = 
§c
 < 
cmp
 ? 0 : 1;

462 
dñè
 = 0;

463 i‡(!
§c
->
y_mö
 && (§c->
Êags
 & 
SEGFLAG_EXACT_TOP
))

464 
dñè
 = 
§c
->
a
 < 0 ? 1 : -1;

465 i‡(
	`£gmít_check_right
(
§c
, 
x
)) {

466 
wödög
[
group
] +
dñè
;

467 i‡(
§c
->
x_mö
 >
x
)

469 *
d°0
 = *
§c
;

470 
d°0
->
x_max
 = 
	`FFMIN
(d°0->x_max, 
x
);

471 
n_d°0
[
group
]++;

472 
d°0
++;

475 i‡(
	`£gmít_check_À·
(
§c
, 
x
)) {

476 *
d°1
 = *
§c
;

477 
	`£gmít_move_x
(
d°1
, 
x
);

478 
n_d°1
[
group
]++;

479 
d°1
++;

482 i‡(
§c
->
Êags
 & 
SEGFLAG_UL_DR
)

483 
wödög
[
group
] +
dñè
;

484 *
d°0
 = *
§c
;

485 
	`£gmít_•lô_h‹z
(
d°0
, 
d°1
, 
x
);

486 
n_d°0
[
group
]++;

487 
d°0
++;

488 
n_d°1
[
group
]++;

489 
d°1
++;

491 
	}
}

496 
	$pﬁylöe_•lô_vît
(c⁄° 
£gmít
 *
§c
, c⁄° 
size_t
 
n_§c
[2],

497 
£gmít
 *
d°0
, 
size_t
 
n_d°0
[2],

498 
£gmít
 *
d°1
, 
size_t
 
n_d°1
[2],

499 
wödög
[2], 
öt32_t
 
y
)

501 c⁄° 
£gmít
 *
cmp
 = 
§c
 + 
n_§c
[0];

502 c⁄° 
£gmít
 *
íd
 = 
cmp
 + 
n_§c
[1];

503 
n_d°0
[0] =Ç_dst0[1] = 0;

504 
n_d°1
[0] =Ç_dst1[1] = 0;

505 ; 
§c
 !
íd
; src++) {

506 
group
 = 
§c
 < 
cmp
 ? 0 : 1;

508 
dñè
 = 0;

509 i‡(!
§c
->
x_mö
 && (§c->
Êags
 & 
SEGFLAG_EXACT_LEFT
))

510 
dñè
 = 
§c
->
b
 < 0 ? 1 : -1;

511 i‡(
	`£gmít_check_bŸtom
(
§c
, 
y
)) {

512 
wödög
[
group
] +
dñè
;

513 i‡(
§c
->
y_mö
 >
y
)

515 *
d°0
 = *
§c
;

516 
d°0
->
y_max
 = d°0->y_max < 
y
 ? dst0->y_max : y;

517 
n_d°0
[
group
]++;

518 
d°0
++;

521 i‡(
	`£gmít_check_t›
(
§c
, 
y
)) {

522 *
d°1
 = *
§c
;

523 
	`£gmít_move_y
(
d°1
, 
y
);

524 
n_d°1
[
group
]++;

525 
d°1
++;

528 i‡(
§c
->
Êags
 & 
SEGFLAG_UL_DR
)

529 
wödög
[
group
] +
dñè
;

530 *
d°0
 = *
§c
;

531 
	`£gmít_•lô_vît
(
d°0
, 
d°1
, 
y
);

532 
n_d°0
[
group
]++;

533 
d°0
++;

534 
n_d°1
[
group
]++;

535 
d°1
++;

537 
	}
}

540 
ölöe
 
	$ø°îizî_fûl_sﬁid
(c⁄° 
Bôm≠Engöe
 *
ígöe
,

541 
uöt8_t
 *
buf
, 
width
, 
height
, 
±rdiff_t
 
°ride
,

542 
£t
)

544 
	`as£π
(!(
width
 & ((1 << 
ígöe
->
tûe_‹dî
) - 1)));

545 
	`as£π
(!(
height
 & ((1 << 
ígöe
->
tûe_‹dî
) - 1)));

547 
±rdiff_t
 
°ï
 = 1 << 
ígöe
->
tûe_‹dî
;

548 
±rdiff_t
 
tûe_°ride
 = 
°ride
 * (1 << 
ígöe
->
tûe_‹dî
);

549 
width
 >>
ígöe
->
tûe_‹dî
;

550 
height
 >>
ígöe
->
tûe_‹dî
;

551 
y
 = 0; y < 
height
; y++) {

552 
x
 = 0; x < 
width
; x++)

553 
ígöe
->
	`fûl_sﬁid
(
buf
 + 
x
 * 
°ï
, 
°ride
, 
£t
);

554 
buf
 +
tûe_°ride
;

556 
	}
}

558 
ölöe
 
	$ø°îizî_fûl_hÆÂœ√
(c⁄° 
Bôm≠Engöe
 *
ígöe
,

559 
uöt8_t
 *
buf
, 
width
, 
height
, 
±rdiff_t
 
°ride
,

560 
öt32_t
 
a
, i¡32_à
b
, 
öt64_t
 
c
, i¡32_à
sˇÀ
)

562 
	`as£π
(!(
width
 & ((1 << 
ígöe
->
tûe_‹dî
) - 1)));

563 
	`as£π
(!(
height
 & ((1 << 
ígöe
->
tûe_‹dî
) - 1)));

564 i‡(
width
 =1 << 
ígöe
->
tûe_‹dî
 && 
height
 == 1 <<Éngine->tile_order) {

565 
ígöe
->
	`fûl_hÆÂœ√
(
buf
, 
°ride
, 
a
, 
b
, 
c
, 
sˇÀ
);

569 
uöt32_t
 
abs_a
 = 
a
 < 0 ? -a :á;

570 
uöt32_t
 
abs_b
 = 
b
 < 0 ? -b : b;

571 
öt64_t
 
size
 = (öt64_tË(
abs_a
 + 
abs_b
Ë<< (
ígöe
->
tûe_‹dî
 + 5);

572 
öt64_t
 
offs
 = ((öt64_tË
a
 + 
b
Ë* (1 << (
ígöe
->
tûe_‹dî
 + 5));

574 
±rdiff_t
 
°ï
 = 1 << 
ígöe
->
tûe_‹dî
;

575 
±rdiff_t
 
tûe_°ride
 = 
°ride
 * (1 << 
ígöe
->
tûe_‹dî
);

576 
width
 >>
ígöe
->
tûe_‹dî
;

577 
height
 >>
ígöe
->
tûe_‹dî
;

578 
y
 = 0; y < 
height
; y++) {

579 
x
 = 0; x < 
width
; x++) {

580 
öt64_t
 
cc
 = 
c
 - (
a
 * (öt64_tË
x
 + 
b
 * (öt64_tË
y
Ë* (1 << (
ígöe
->
tûe_‹dî
 + 6));

581 
öt64_t
 
offs_c
 = 
offs
 - 
cc
;

582 
öt64_t
 
abs_c
 = 
offs_c
 < 0 ? -offs_c : offs_c;

583 i‡(
abs_c
 < 
size
)

584 
ígöe
->
	`fûl_hÆÂœ√
(
buf
 + 
x
 * 
°ï
, 
°ride
, 
a
, 
b
, 
cc
, 
sˇÀ
);

586 
ígöe
->
	`fûl_sﬁid
(
buf
 + 
x
 * 
°ï
, 
°ride
,

587 ((
uöt32_t
Ë(
offs_c
 >> 32Ë^ 
sˇÀ
) & 0x80000000);

589 
buf
 +
tûe_°ride
;

591 
	}
}

594 
	mFLAG_SOLID
 = 1,

595 
	mFLAG_COMPLEX
 = 2,

596 
	mFLAG_REVERSE
 = 4,

597 
	mFLAG_GENERIC
 = 8,

600 
ölöe
 
	$gë_fûl_Êags
(
£gmít
 *
löe
, 
size_t
 
n_löes
, 
wödög
)

602 i‡(!
n_löes
)

603  
wödög
 ? 
FLAG_SOLID
 : 0;

604 i‡(
n_löes
 > 1)

605  
FLAG_COMPLEX
 | 
FLAG_GENERIC
;

607 c⁄° 
ã°
 = 
SEGFLAG_UL_DR
 | 
SEGFLAG_EXACT_LEFT
;

608 i‡(((
löe
->
Êags
 & 
ã°
Ë!ã°Ë=!÷öe->Êag†& 
SEGFLAG_DN
))

609 
wödög
++;

611 
wödög
) {

613  
FLAG_COMPLEX
 | 
FLAG_REVERSE
;

615  
FLAG_COMPLEX
;

617  
FLAG_SOLID
;

619 
	}
}

630 
boﬁ
 
	$ø°îizî_fûl_Àvñ
(c⁄° 
Bôm≠Engöe
 *
ígöe
, 
Ra°îizîD©a
 *
r°
,

631 
uöt8_t
 *
buf
, 
width
, 
height
, 
±rdiff_t
 
°ride
,

632 
ödex
, c⁄° 
size_t
 
n_löes
[2], c⁄° 
wödög
[2])

634 
	`as£π
(
width
 > 0 && 
height
 > 0);

635 
	`as£π
((Ë
ödex
 < 2u && 
n_löes
[0] +Ç_löes[1] <
r°
->
size
[index]);

636 
	`as£π
(!(
width
 & ((1 << 
ígöe
->
tûe_‹dî
) - 1)));

637 
	`as£π
(!(
height
 & ((1 << 
ígöe
->
tûe_‹dî
) - 1)));

639 
size_t
 
offs
 = 
r°
->
size
[
ödex
] - 
n_löes
[0] -Ç_lines[1];

640 
£gmít
 *
löe
 = 
r°
->
löebuf
[
ödex
] + 
offs
, *
löe1
 =Üöê+ 
n_löes
[0];

641 
Êags0
 = 
	`gë_fûl_Êags
(
löe
, 
n_löes
[0], 
wödög
[0]);

642 
Êags1
 = 
	`gë_fûl_Êags
(
löe1
, 
n_löes
[1], 
wödög
[1]);

643 
Êags
 = (
Êags0
 | 
Êags1
Ë^ 
FLAG_COMPLEX
;

644 i‡(
Êags
 & (
FLAG_SOLID
 | 
FLAG_COMPLEX
)) {

645 
	`ø°îizî_fûl_sﬁid
(
ígöe
, 
buf
, 
width
, 
height
, 
°ride
, 
Êags
 & 
FLAG_SOLID
);

646 
r°
->
size
[
ödex
] = 
offs
;

647  
åue
;

649 i‡(!(
Êags
 & 
FLAG_GENERIC
Ë&& ((
Êags0
 ^ 
Êags1
Ë& 
FLAG_COMPLEX
)) {

650 i‡(
Êags1
 & 
FLAG_COMPLEX
)

651 
löe
 = 
löe1
;

652 
	`ø°îizî_fûl_hÆÂœ√
(
ígöe
, 
buf
, 
width
, 
height
, 
°ride
,

653 
löe
->
a
,Üöe->
b
,Üöe->
c
,

654 
Êags
 & 
FLAG_REVERSE
 ? -
löe
->
sˇÀ
 :Üine->scale);

655 
r°
->
size
[
ödex
] = 
offs
;

656  
åue
;

658 i‡(
width
 =1 << 
ígöe
->
tûe_‹dî
 && 
height
 == 1 <<Éngine->tile_order) {

659 i‡(!(
Êags1
 & 
FLAG_COMPLEX
)) {

660 
ígöe
->
	`fûl_gíîic
(
buf
, 
°ride
, 
löe
, 
n_löes
[0], 
wödög
[0]);

661 
r°
->
size
[
ödex
] = 
offs
;

662  
åue
;

664 i‡(!(
Êags0
 & 
FLAG_COMPLEX
)) {

665 
ígöe
->
	`fûl_gíîic
(
buf
, 
°ride
, 
löe1
, 
n_löes
[1], 
wödög
[1]);

666 
r°
->
size
[
ödex
] = 
offs
;

667  
åue
;

669 i‡(
Êags0
 & 
FLAG_GENERIC
)

670 
ígöe
->
	`fûl_gíîic
(
buf
, 
°ride
, 
löe
, 
n_löes
[0], 
wödög
[0]);

672 
ígöe
->
	`fûl_hÆÂœ√
(
buf
, 
°ride
, 
löe
->
a
,Üöe->
b
,Üöe->
c
,

673 
Êags0
 & 
FLAG_REVERSE
 ? -
löe
->
sˇÀ
 :Üine->scale);

674 i‡(
Êags1
 & 
FLAG_GENERIC
)

675 
ígöe
->
	`fûl_gíîic
(
r°
->
tûe
, 
width
, 
löe1
, 
n_löes
[1], 
wödög
[1]);

677 
ígöe
->
	`fûl_hÆÂœ√
(
r°
->
tûe
, 
width
, 
löe1
->
a
,Üöe1->
b
,Üöe1->
c
,

678 
Êags1
 & 
FLAG_REVERSE
 ? -
löe1
->
sˇÀ
 :Üine1->scale);

680 
ígöe
->
	`add_bôm≠s
(
buf
, 
°ride
, 
r°
->
tûe
, 
width
, 
height
, width);

681 
r°
->
size
[
ödex
] = 
offs
;

682  
åue
;

685 
size_t
 
offs1
 = 
r°
->
size
[
ödex
 ^ 1];

686 i‡(!
	`check_ˇ∑côy
(
r°
, 
ödex
 ^ 1, 
n_löes
[0] +Ç_lines[1]))

687  
Ál£
;

688 
£gmít
 *
d°0
 = 
löe
;

689 
£gmít
 *
d°1
 = 
r°
->
löebuf
[
ödex
 ^ 1] + 
offs1
;

691 
uöt8_t
 *
buf1
 = 
buf
;

692 
width1
 = 
width
;

693 
height1
 = 
height
;

694 
size_t
 
n_√xt0
[2], 
n_√xt1
[2];

695 
wödög1
[2] = { 
wödög
[0], winding[1] };

696 i‡(
width
 > 
height
) {

697 
width
 = 1 << 
	`ûog2
(width - 1);

698 
width1
 -
width
;

699 
buf1
 +
width
;

700 
	`pﬁylöe_•lô_h‹z
(
löe
, 
n_löes
,

701 
d°0
, 
n_√xt0
, 
d°1
, 
n_√xt1
,

702 
wödög1
, (
öt32_t
Ë
width
 << 6);

704 
height
 = 1 << 
	`ûog2
(height - 1);

705 
height1
 -
height
;

706 
buf1
 +
height
 * 
°ride
;

707 
	`pﬁylöe_•lô_vît
(
löe
, 
n_löes
,

708 
d°0
, 
n_√xt0
, 
d°1
, 
n_√xt1
,

709 
wödög1
, (
öt32_t
Ë
height
 << 6);

711 
r°
->
size
[
ödex
 ^ 0] = 
offs
 + 
n_√xt0
[0] +Ç_next0[1];

712 
r°
->
size
[
ödex
 ^ 1] = 
offs1
 + 
n_√xt1
[0] +Ç_next1[1];

714 i‡(!
	`ø°îizî_fûl_Àvñ
(
ígöe
, 
r°
, 
buf
, 
width
, 
height
, 
°ride
, 
ödex
 ^ 0, 
n_√xt0
, 
wödög
))

715  
Ál£
;

716 
	`as£π
(
r°
->
size
[
ödex
 ^ 0] =
offs
);

717 i‡(!
	`ø°îizî_fûl_Àvñ
(
ígöe
, 
r°
, 
buf1
, 
width1
, 
height1
, 
°ride
, 
ödex
 ^ 1, 
n_√xt1
, 
wödög1
))

718  
Ál£
;

719 
	`as£π
(
r°
->
size
[
ödex
 ^ 1] =
offs1
);

720  
åue
;

721 
	}
}

723 
boﬁ
 
	$ø°îizî_fûl
(c⁄° 
Bôm≠Engöe
 *
ígöe
, 
Ra°îizîD©a
 *
r°
,

724 
uöt8_t
 *
buf
, 
x0
, 
y0
,

725 
width
, 
height
, 
±rdiff_t
 
°ride
)

727 
	`as£π
(
width
 > 0 && 
height
 > 0);

728 
	`as£π
(!(
width
 & ((1 << 
ígöe
->
tûe_‹dî
) - 1)));

729 
	`as£π
(!(
height
 & ((1 << 
ígöe
->
tûe_‹dî
) - 1)));

730 
x0
 *1 << 6; 
y0
 *= 1 << 6;

732 
£gmít
 *
löe
 = 
r°
->
löebuf
[0];

733 
£gmít
 *
íd
 = 
löe
 + 
r°
->
size
[0];

734 ; 
löe
 !
íd
;Üine++) {

735 
löe
->
x_mö
 -
x0
;

736 
löe
->
x_max
 -
x0
;

737 
löe
->
y_mö
 -
y0
;

738 
löe
->
y_max
 -
y0
;

739 
löe
->
c
 -löe->
a
 * (
öt64_t
Ë
x0
 +Üöe->
b
 * (öt64_tË
y0
;

741 
r°
->
bbox
.
x_mö
 -
x0
;

742 
r°
->
bbox
.
x_max
 -
x0
;

743 
r°
->
bbox
.
y_mö
 -
y0
;

744 
r°
->
bbox
.
y_max
 -
y0
;

746 i‡(!
	`check_ˇ∑côy
(
r°
, 1,Ñ°->
size
[0]))

747  
Ál£
;

749 
size_t
 
n_unu£d
[2];

750 
size_t
 
n_löes
[2] = { 
r°
->
n_fú°
,Ñ°->
size
[0] -Ñst->n_first };

751 
wödög
[2] = { 0, 0 };

753 
öt32_t
 
size_x
 = (öt32_tË
width
 << 6;

754 
öt32_t
 
size_y
 = (öt32_tË
height
 << 6;

755 i‡(
r°
->
bbox
.
x_max
 >
size_x
) {

756 
	`pﬁylöe_•lô_h‹z
(
r°
->
löebuf
[0], 
n_löes
,

757 
r°
->
löebuf
[0], 
n_löes
,

758 
r°
->
löebuf
[1], 
n_unu£d
,

759 
wödög
, 
size_x
);

760 
wödög
[0] = winding[1] = 0;

762 i‡(
r°
->
bbox
.
y_max
 >
size_y
) {

763 
	`pﬁylöe_•lô_vît
(
r°
->
löebuf
[0], 
n_löes
,

764 
r°
->
löebuf
[0], 
n_löes
,

765 
r°
->
löebuf
[1], 
n_unu£d
,

766 
wödög
, 
size_y
);

767 
wödög
[0] = winding[1] = 0;

769 i‡(
r°
->
bbox
.
x_mö
 <= 0) {

770 
	`pﬁylöe_•lô_h‹z
(
r°
->
löebuf
[0], 
n_löes
,

771 
r°
->
löebuf
[1], 
n_unu£d
,

772 
r°
->
löebuf
[0], 
n_löes
,

773 
wödög
, 0);

775 i‡(
r°
->
bbox
.
y_mö
 <= 0) {

776 
	`pﬁylöe_•lô_vît
(
r°
->
löebuf
[0], 
n_löes
,

777 
r°
->
löebuf
[1], 
n_unu£d
,

778 
r°
->
löebuf
[0], 
n_löes
,

779 
wödög
, 0);

781 
r°
->
size
[0] = 
n_löes
[0] +Ç_lines[1];

782 
r°
->
size
[1] = 0;

783  
	`ø°îizî_fûl_Àvñ
(
ígöe
, 
r°
,

784 
buf
, 
width
, 
height
, 
°ride
,

785 0, 
n_löes
, 
wödög
);

786 
	}
}

	@libass/ass_rasterizer.h

19 #i‚de‡
LIBASS_RASTERIZER_H


20 
	#LIBASS_RASTERIZER_H


	)

22 
	~<°ddef.h
>

23 
	~<°döt.h
>

24 
	~<°dboﬁ.h
>

26 
	~"ass_bôm≠.h
"

30 
	mSEGFLAG_DN
 = 1,

31 
	mSEGFLAG_UL_DR
 = 2,

32 
	mSEGFLAG_EXACT_LEFT
 = 4,

33 
	mSEGFLAG_EXACT_RIGHT
 = 8,

34 
	mSEGFLAG_EXACT_TOP
 = 16,

35 
	mSEGFLAG_EXACT_BOTTOM
 = 32,

39 
	s£gmít
 {

40 
öt64_t
 
	mc
;

41 
öt32_t
 
	ma
, 
	mb
, 
	msˇÀ
, 
	mÊags
;

42 
öt32_t
 
	mx_mö
, 
	mx_max
, 
	my_mö
, 
	my_max
;

46 
	mouéöe_îr‹
;

49 
ASS_Re˘
 
	mbbox
;

52 
£gmít
 *
	mlöebuf
[2];

53 
size_t
 
	msize
[2], 
	mˇ∑côy
[2];

54 
size_t
 
	mn_fú°
;

56 
uöt8_t
 *
	mtûe
;

57 } 
	tRa°îizîD©a
;

59 
boﬁ
 
ø°îizî_öô
(
Ra°îizîD©a
 *
r°
, 
tûe_‹dî
, 
ouéöe_îr‹
);

60 
ø°îizî_d⁄e
(
Ra°îizîD©a
 *
r°
);

68 
boﬁ
 
ø°îizî_£t_ouéöe
(
Ra°îizîD©a
 *
r°
,

69 c⁄° 
ASS_Ouéöe
 *
∑th
, 
boﬁ
 
exåa
);

79 
boﬁ
 
ø°îizî_fûl
(c⁄° 
Bôm≠Engöe
 *
ígöe
, 
Ra°îizîD©a
 *
r°
,

80 
uöt8_t
 *
buf
, 
x0
, 
y0
,

81 
width
, 
height
, 
±rdiff_t
 
°ride
);

	@libass/ass_rasterizer_c.c

19 
	~"c⁄fig.h
"

20 
	~"ass_com∑t.h
"

22 
	~"ass_utûs.h
"

23 
	~"ass_ø°îizî.h
"

24 
	~<as£π.h
>

28 
	$ass_fûl_sﬁid_tûe16_c
(
uöt8_t
 *
buf
, 
±rdiff_t
 
°ride
, 
£t
)

30 
uöt8_t
 
vÆue
 = 
£t
 ? 255 : 0;

31 
y
 = 0; y < 16; y++) {

32 
x
 = 0; x < 16; x++)

33 
buf
[
x
] = 
vÆue
;

34 
buf
 +
°ride
;

36 
	}
}

38 
	$ass_fûl_sﬁid_tûe32_c
(
uöt8_t
 *
buf
, 
±rdiff_t
 
°ride
, 
£t
)

40 
uöt8_t
 
vÆue
 = 
£t
 ? 255 : 0;

41 
y
 = 0; y < 32; y++) {

42 
x
 = 0; x < 32; x++)

43 
buf
[
x
] = 
vÆue
;

44 
buf
 +
°ride
;

46 
	}
}

71 
	$ass_fûl_hÆÂœ√_tûe16_c
(
uöt8_t
 *
buf
, 
±rdiff_t
 
°ride
,

72 
öt32_t
 
a
, i¡32_à
b
, 
öt64_t
 
c
, i¡32_à
sˇÀ
)

74 
öt16_t
 
Ø
 = (
a
 * (
öt64_t
Ë
sˇÀ
 + ((int64_t) 1 << 49)) >> 50;

75 
öt16_t
 
bb
 = (
b
 * (
öt64_t
Ë
sˇÀ
 + ((int64_t) 1 << 49)) >> 50;

76 
öt16_t
 
cc
 = ((
öt32_t
Ë(
c
 >> 11Ë* (
öt64_t
Ë
sˇÀ
 + ((int64_t) 1 << 44)) >> 45;

77 
cc
 +(1 << 9Ë- ((
Ø
 + 
bb
) >> 1);

79 
öt16_t
 
abs_a
 = 
Ø
 < 0 ? -aa :áa;

80 
öt16_t
 
abs_b
 = 
bb
 < 0 ? -bb : bb;

81 
öt16_t
 
dñè
 = (
	`FFMIN
(
abs_a
, 
abs_b
) + 2) >> 2;

83 
öt16_t
 
va1
[16], 
va2
[16];

84 
x
 = 0; x < 16; x++) {

85 
va1
[
x
] = 
Ø
 * x - 
dñè
;

86 
va2
[
x
] = 
Ø
 * x + 
dñè
;

89 c⁄° 
öt16_t
 
fuŒ
 = (1 << 10) - 1;

90 
y
 = 0; y < 16; y++) {

91 
x
 = 0; x < 16; x++) {

92 
öt16_t
 
c1
 = 
cc
 - 
va1
[
x
];

93 
öt16_t
 
c2
 = 
cc
 - 
va2
[
x
];

94 
c1
 = 
	`FFMINMAX
(c1, 0, 
fuŒ
);

95 
c2
 = 
	`FFMINMAX
(c2, 0, 
fuŒ
);

96 
buf
[
x
] = (
c1
 + 
c2
) >> 3;

98 
buf
 +
°ride
;

99 
cc
 -
bb
;

101 
	}
}

103 
	$ass_fûl_hÆÂœ√_tûe32_c
(
uöt8_t
 *
buf
, 
±rdiff_t
 
°ride
,

104 
öt32_t
 
a
, i¡32_à
b
, 
öt64_t
 
c
, i¡32_à
sˇÀ
)

106 
öt16_t
 
Ø
 = (
a
 * (
öt64_t
Ë
sˇÀ
 + ((int64_t) 1 << 50)) >> 51;

107 
öt16_t
 
bb
 = (
b
 * (
öt64_t
Ë
sˇÀ
 + ((int64_t) 1 << 50)) >> 51;

108 
öt16_t
 
cc
 = ((
öt32_t
Ë(
c
 >> 12Ë* (
öt64_t
Ë
sˇÀ
 + ((int64_t) 1 << 44)) >> 45;

109 
cc
 +(1 << 8Ë- ((
Ø
 + 
bb
) >> 1);

111 
öt16_t
 
abs_a
 = 
Ø
 < 0 ? -aa :áa;

112 
öt16_t
 
abs_b
 = 
bb
 < 0 ? -bb : bb;

113 
öt16_t
 
dñè
 = (
	`FFMIN
(
abs_a
, 
abs_b
) + 2) >> 2;

115 
öt16_t
 
va1
[32], 
va2
[32];

116 
x
 = 0; x < 32; x++) {

117 
va1
[
x
] = 
Ø
 * x - 
dñè
;

118 
va2
[
x
] = 
Ø
 * x + 
dñè
;

121 c⁄° 
öt16_t
 
fuŒ
 = (1 << 9) - 1;

122 
y
 = 0; y < 32; y++) {

123 
x
 = 0; x < 32; x++) {

124 
öt16_t
 
c1
 = 
cc
 - 
va1
[
x
];

125 
öt16_t
 
c2
 = 
cc
 - 
va2
[
x
];

126 
c1
 = 
	`FFMINMAX
(c1, 0, 
fuŒ
);

127 
c2
 = 
	`FFMINMAX
(c2, 0, 
fuŒ
);

128 
buf
[
x
] = (
c1
 + 
c2
) >> 2;

130 
buf
 +
°ride
;

131 
cc
 -
bb
;

133 
	}
}

146 
ölöe
 
	$upd©e_b‹dî_löe16
(
öt16_t
 
ªs
[16],

147 
öt16_t
 
abs_a
, c⁄° i¡16_à
va
[16],

148 
öt16_t
 
b
, i¡16_à
abs_b
,

149 
öt16_t
 
c
, 
up
, 
dn
)

151 
öt16_t
 
size
 = 
dn
 - 
up
;

152 
öt16_t
 
w
 = (1 << 10Ë+ (
size
 << 4Ë- 
abs_a
;

153 
w
 = 
	`FFMIN
(w, 1 << 10) << 3;

155 
öt16_t
 
dc_b
 = 
abs_b
 * (
öt32_t
Ë
size
 >> 6;

156 
öt16_t
 
dc
 = (
	`FFMIN
(
abs_a
, 
dc_b
) + 2) >> 2;

158 
öt16_t
 
ba£
 = (
öt32_t
Ë
b
 * (öt16_tË(
up
 + 
dn
) >> 7;

159 
öt16_t
 
offs1
 = 
size
 - ((
ba£
 + 
dc
Ë* (
öt32_t
Ë
w
 >> 16);

160 
öt16_t
 
offs2
 = 
size
 - ((
ba£
 - 
dc
Ë* (
öt32_t
Ë
w
 >> 16);

162 
size
 <<= 1;

163 
x
 = 0; x < 16; x++) {

164 
öt16_t
 
cw
 = (
c
 - 
va
[
x
]Ë* (
öt32_t
Ë
w
 >> 16;

165 
öt16_t
 
c1
 = 
cw
 + 
offs1
;

166 
öt16_t
 
c2
 = 
cw
 + 
offs2
;

167 
c1
 = 
	`FFMINMAX
(c1, 0, 
size
);

168 
c2
 = 
	`FFMINMAX
(c2, 0, 
size
);

169 
ªs
[
x
] +
c1
 + 
c2
;

171 
	}
}

173 
	$ass_fûl_gíîic_tûe16_c
(
uöt8_t
 *
buf
, 
±rdiff_t
 
°ride
,

174 c⁄° 
£gmít
 *
löe
, 
size_t
 
n_löes
,

175 
wödög
)

177 
öt16_t
 
ªs
[16][16], 
dñè
[18];

178 
y
 = 0; y < 16; y++)

179 
x
 = 0; x < 16; x++)

180 
ªs
[
y
][
x
] = 0;

181 
y
 = 0; y < 18; y++)

182 
dñè
[
y
] = 0;

184 c⁄° 
öt16_t
 
fuŒ
 = 1 << 10;

185 c⁄° 
£gmít
 *
íd
 = 
löe
 + 
n_löes
;

186 ; 
löe
 !
íd
; ++line) {

187 
	`as£π
(
löe
->
y_mö
 >= 0 &&Üine->y_min < 1 << 10);

188 
	`as£π
(
löe
->
y_max
 > 0 &&Üine->y_max <= 1 << 10);

189 
	`as£π
(
löe
->
y_mö
 <löe->
y_max
);

191 
öt16_t
 
up_dñè
 = 
löe
->
Êags
 & 
SEGFLAG_DN
 ? 4 : 0;

192 
öt16_t
 
dn_dñè
 = 
up_dñè
;

193 i‡(!
löe
->
x_mö
 && (löe->
Êags
 & 
SEGFLAG_EXACT_LEFT
)Ë
dn_dñè
 ^= 4;

194 i‡(
löe
->
Êags
 & 
SEGFLAG_UL_DR
) {

195 
öt16_t
 
tmp
 = 
up_dñè
;

196 
up_dñè
 = 
dn_dñè
;

197 
dn_dñè
 = 
tmp
;

200 
up
 = 
löe
->
y_mö
 >> 6, 
dn
 =Üöe->
y_max
 >> 6;

201 
öt16_t
 
up_pos
 = 
löe
->
y_mö
 & 63;

202 
öt16_t
 
up_dñè1
 = 
up_dñè
 * 
up_pos
;

203 
öt16_t
 
dn_pos
 = 
löe
->
y_max
 & 63;

204 
öt16_t
 
dn_dñè1
 = 
dn_dñè
 * 
dn_pos
;

205 
dñè
[
up
 + 1] -
up_dñè1
;

206 
dñè
[
up
] -(
up_dñè
 << 6Ë- 
up_dñè1
;

207 
dñè
[
dn
 + 1] +
dn_dñè1
;

208 
dñè
[
dn
] +(
dn_dñè
 << 6Ë- 
dn_dñè1
;

209 i‡(
löe
->
y_mö
 =löe->
y_max
)

212 
öt16_t
 
a
 = (
löe
->®* (
öt64_t
Ëlöe->
sˇÀ
 + ((int64_t) 1 << 49)) >> 50;

213 
öt16_t
 
b
 = (
löe
->b * (
öt64_t
Ëlöe->
sˇÀ
 + ((int64_t) 1 << 49)) >> 50;

214 
öt16_t
 
c
 = ((
öt32_t
Ë(
löe
->¯>> 11Ë* (
öt64_t
Ëlöe->
sˇÀ
 + ((int64_t) 1 << 44)) >> 45;

215 
c
 -(
a
 >> 1Ë+ 
b
 * 
up
;

217 
öt16_t
 
va
[16];

218 
x
 = 0; x < 16; x++)

219 
va
[
x
] = 
a
 * x;

220 
öt16_t
 
abs_a
 = 
a
 < 0 ? -a :á;

221 
öt16_t
 
abs_b
 = 
b
 < 0 ? -b : b;

222 
öt16_t
 
dc
 = (
	`FFMIN
(
abs_a
, 
abs_b
) + 2) >> 2;

223 
öt16_t
 
ba£
 = (1 << 9Ë- (
b
 >> 1);

224 
öt16_t
 
dc1
 = 
ba£
 + 
dc
;

225 
öt16_t
 
dc2
 = 
ba£
 - 
dc
;

227 i‡(
up_pos
) {

228 i‡(
dn
 =
up
) {

229 
	`upd©e_b‹dî_löe16
(
ªs
[
up
], 
abs_a
, 
va
, 
b
, 
abs_b
, 
c
, 
up_pos
, 
dn_pos
);

232 
	`upd©e_b‹dî_löe16
(
ªs
[
up
], 
abs_a
, 
va
, 
b
, 
abs_b
, 
c
, 
up_pos
, 64);

233 
up
++;

234 
c
 -
b
;

236 
y
 = 
up
; y < 
dn
; y++) {

237 
x
 = 0; x < 16; x++) {

238 
öt16_t
 
c1
 = 
c
 - 
va
[
x
] + 
dc1
;

239 
öt16_t
 
c2
 = 
c
 - 
va
[
x
] + 
dc2
;

240 
c1
 = 
	`FFMINMAX
(c1, 0, 
fuŒ
);

241 
c2
 = 
	`FFMINMAX
(c2, 0, 
fuŒ
);

242 
ªs
[
y
][
x
] +(
c1
 + 
c2
) >> 3;

244 
c
 -
b
;

246 i‡(
dn_pos
)

247 
	`upd©e_b‹dî_löe16
(
ªs
[
dn
], 
abs_a
, 
va
, 
b
, 
abs_b
, 
c
, 0, 
dn_pos
);

250 
öt16_t
 
cur
 = 256 * 
wödög
;

251 
y
 = 0; y < 16; y++) {

252 
cur
 +
dñè
[
y
];

253 
x
 = 0; x < 16; x++) {

254 
öt16_t
 
vÆ
 = 
ªs
[
y
][
x
] + 
cur
, 
√g_vÆ
 = -val;

255 
vÆ
 = (vÆ > 
√g_vÆ
 ? val :Çeg_val);

256 
buf
[
x
] = 
	`FFMIN
(
vÆ
, 255);

258 
buf
 +
°ride
;

260 
	}
}

263 
ölöe
 
	$upd©e_b‹dî_löe32
(
öt16_t
 
ªs
[32],

264 
öt16_t
 
abs_a
, c⁄° i¡16_à
va
[32],

265 
öt16_t
 
b
, i¡16_à
abs_b
,

266 
öt16_t
 
c
, 
up
, 
dn
)

268 
öt16_t
 
size
 = 
dn
 - 
up
;

269 
öt16_t
 
w
 = (1 << 9Ë+ (
size
 << 3Ë- 
abs_a
;

270 
w
 = 
	`FFMIN
(w, 1 << 9) << 5;

272 
öt16_t
 
dc_b
 = 
abs_b
 * (
öt32_t
Ë
size
 >> 6;

273 
öt16_t
 
dc
 = (
	`FFMIN
(
abs_a
, 
dc_b
) + 2) >> 2;

275 
öt16_t
 
ba£
 = (
öt32_t
Ë
b
 * (öt16_tË(
up
 + 
dn
) >> 7;

276 
öt16_t
 
offs1
 = 
size
 - ((
ba£
 + 
dc
Ë* (
öt32_t
Ë
w
 >> 16);

277 
öt16_t
 
offs2
 = 
size
 - ((
ba£
 - 
dc
Ë* (
öt32_t
Ë
w
 >> 16);

279 
size
 <<= 1;

280 
x
 = 0; x < 32; x++) {

281 
öt16_t
 
cw
 = (
c
 - 
va
[
x
]Ë* (
öt32_t
Ë
w
 >> 16;

282 
öt16_t
 
c1
 = 
cw
 + 
offs1
;

283 
öt16_t
 
c2
 = 
cw
 + 
offs2
;

284 
c1
 = 
	`FFMINMAX
(c1, 0, 
size
);

285 
c2
 = 
	`FFMINMAX
(c2, 0, 
size
);

286 
ªs
[
x
] +
c1
 + 
c2
;

288 
	}
}

290 
	$ass_fûl_gíîic_tûe32_c
(
uöt8_t
 *
buf
, 
±rdiff_t
 
°ride
,

291 c⁄° 
£gmít
 *
löe
, 
size_t
 
n_löes
,

292 
wödög
)

294 
öt16_t
 
ªs
[32][32], 
dñè
[34];

295 
y
 = 0; y < 32; y++)

296 
x
 = 0; x < 32; x++)

297 
ªs
[
y
][
x
] = 0;

298 
y
 = 0; y < 34; y++)

299 
dñè
[
y
] = 0;

301 c⁄° 
öt16_t
 
fuŒ
 = 1 << 9;

302 c⁄° 
£gmít
 *
íd
 = 
löe
 + 
n_löes
;

303 ; 
löe
 !
íd
; ++line) {

304 
	`as£π
(
löe
->
y_mö
 >= 0 &&Üine->y_min < 1 << 11);

305 
	`as£π
(
löe
->
y_max
 > 0 &&Üine->y_max <= 1 << 11);

306 
	`as£π
(
löe
->
y_mö
 <löe->
y_max
);

308 
öt16_t
 
up_dñè
 = 
löe
->
Êags
 & 
SEGFLAG_DN
 ? 4 : 0;

309 
öt16_t
 
dn_dñè
 = 
up_dñè
;

310 i‡(!
löe
->
x_mö
 && (löe->
Êags
 & 
SEGFLAG_EXACT_LEFT
)Ë
dn_dñè
 ^= 4;

311 i‡(
löe
->
Êags
 & 
SEGFLAG_UL_DR
) {

312 
öt16_t
 
tmp
 = 
up_dñè
;

313 
up_dñè
 = 
dn_dñè
;

314 
dn_dñè
 = 
tmp
;

317 
up
 = 
löe
->
y_mö
 >> 6, 
dn
 =Üöe->
y_max
 >> 6;

318 
öt16_t
 
up_pos
 = 
löe
->
y_mö
 & 63;

319 
öt16_t
 
up_dñè1
 = 
up_dñè
 * 
up_pos
;

320 
öt16_t
 
dn_pos
 = 
löe
->
y_max
 & 63;

321 
öt16_t
 
dn_dñè1
 = 
dn_dñè
 * 
dn_pos
;

322 
dñè
[
up
 + 1] -
up_dñè1
;

323 
dñè
[
up
] -(
up_dñè
 << 6Ë- 
up_dñè1
;

324 
dñè
[
dn
 + 1] +
dn_dñè1
;

325 
dñè
[
dn
] +(
dn_dñè
 << 6Ë- 
dn_dñè1
;

326 i‡(
löe
->
y_mö
 =löe->
y_max
)

329 
öt16_t
 
a
 = (
löe
->®* (
öt64_t
Ëlöe->
sˇÀ
 + ((int64_t) 1 << 50)) >> 51;

330 
öt16_t
 
b
 = (
löe
->b * (
öt64_t
Ëlöe->
sˇÀ
 + ((int64_t) 1 << 50)) >> 51;

331 
öt16_t
 
c
 = ((
öt32_t
Ë(
löe
->¯>> 12Ë* (
öt64_t
Ëlöe->
sˇÀ
 + ((int64_t) 1 << 44)) >> 45;

332 
c
 -(
a
 >> 1Ë+ 
b
 * 
up
;

334 
öt16_t
 
va
[32];

335 
x
 = 0; x < 32; x++)

336 
va
[
x
] = 
a
 * x;

337 
öt16_t
 
abs_a
 = 
a
 < 0 ? -a :á;

338 
öt16_t
 
abs_b
 = 
b
 < 0 ? -b : b;

339 
öt16_t
 
dc
 = (
	`FFMIN
(
abs_a
, 
abs_b
) + 2) >> 2;

340 
öt16_t
 
ba£
 = (1 << 8Ë- (
b
 >> 1);

341 
öt16_t
 
dc1
 = 
ba£
 + 
dc
;

342 
öt16_t
 
dc2
 = 
ba£
 - 
dc
;

344 i‡(
up_pos
) {

345 i‡(
dn
 =
up
) {

346 
	`upd©e_b‹dî_löe32
(
ªs
[
up
], 
abs_a
, 
va
, 
b
, 
abs_b
, 
c
, 
up_pos
, 
dn_pos
);

349 
	`upd©e_b‹dî_löe32
(
ªs
[
up
], 
abs_a
, 
va
, 
b
, 
abs_b
, 
c
, 
up_pos
, 64);

350 
up
++;

351 
c
 -
b
;

353 
y
 = 
up
; y < 
dn
; y++) {

354 
x
 = 0; x < 32; x++) {

355 
öt16_t
 
c1
 = 
c
 - 
va
[
x
] + 
dc1
;

356 
öt16_t
 
c2
 = 
c
 - 
va
[
x
] + 
dc2
;

357 
c1
 = 
	`FFMINMAX
(c1, 0, 
fuŒ
);

358 
c2
 = 
	`FFMINMAX
(c2, 0, 
fuŒ
);

359 
ªs
[
y
][
x
] +(
c1
 + 
c2
) >> 2;

361 
c
 -
b
;

363 i‡(
dn_pos
)

364 
	`upd©e_b‹dî_löe32
(
ªs
[
dn
], 
abs_a
, 
va
, 
b
, 
abs_b
, 
c
, 0, 
dn_pos
);

367 
öt16_t
 
cur
 = 256 * 
wödög
;

368 
y
 = 0; y < 32; y++) {

369 
cur
 +
dñè
[
y
];

370 
x
 = 0; x < 32; x++) {

371 
öt16_t
 
vÆ
 = 
ªs
[
y
][
x
] + 
cur
, 
√g_vÆ
 = -val;

372 
vÆ
 = (vÆ > 
√g_vÆ
 ? val :Çeg_val);

373 
buf
[
x
] = 
	`FFMIN
(
vÆ
, 255);

375 
buf
 +
°ride
;

377 
	}
}

	@libass/ass_render.c

19 
	~"c⁄fig.h
"

20 
	~"ass_com∑t.h
"

22 
	~<as£π.h
>

23 
	~<m©h.h
>

24 
	~<°rög.h
>

25 
	~<°dboﬁ.h
>

27 
	~"ass_ouéöe.h
"

28 
	~"ass_ªndî.h
"

29 
	~"ass_∑r£.h
"

30 
	~"ass_sh≠î.h
"

32 
	#MAX_GLYPHS_INITIAL
 1024

	)

33 
	#MAX_LINES_INITIAL
 64

	)

34 
	#MAX_BITMAPS_INITIAL
 16

	)

35 
	#MAX_SUB_BITMAPS_INITIAL
 64

	)

36 
	#SUBPIXEL_MASK
 63

	)

37 
	#SUBPIXEL_ACCURACY
 7

	)

40 
ASS_Rídîî
 *
	$ass_ªndîî_öô
(
ASS_Libøry
 *
libøry
)

42 
îr‹
;

43 
FT_Libøry
 
·
;

44 
ASS_Rídîî
 *
¥iv
 = 0;

45 
vmaj‹
, 
vmö‹
, 
v∑tch
;

47 
îr‹
 = 
	`FT_Inô_FªeTy≥
(&
·
);

48 i‡(
îr‹
) {

49 
	`ass_msg
(
libøry
, 
MSGL_FATAL
, "%s failed", "FT_Init_FreeType");

50 
ass_öô_exô
;

53 
	`FT_Libøry_Vîsi⁄
(
·
, &
vmaj‹
, &
vmö‹
, &
v∑tch
);

54 
	`ass_msg
(
libøry
, 
MSGL_V
, "Raster: FreeType %d.%d.%d",

55 
vmaj‹
, 
vmö‹
, 
v∑tch
);

57 
¥iv
 = 
	`ˇŒoc
(1, (
ASS_Rídîî
));

58 i‡(!
¥iv
) {

59 
	`FT_D⁄e_FªeTy≥
(
·
);

60 
ass_öô_exô
;

63 
¥iv
->
libøry
 =Üibrary;

64 
¥iv
->
·libøry
 = 
·
;

67 #i‡(
	`deföed
(
__i386__
Ë|| deföed(
__x86_64__
)Ë&& 
CONFIG_ASM


68 i‡(
	`has_avx2
())

69 
¥iv
->
ígöe
 = &
ass_bôm≠_ígöe_avx2
;

70 i‡(
	`has_s£2
())

71 
¥iv
->
ígöe
 = &
ass_bôm≠_ígöe_s£2
;

73 
¥iv
->
ígöe
 = &
ass_bôm≠_ígöe_c
;

75 
¥iv
->
ígöe
 = &
ass_bôm≠_ígöe_c
;

78 i‡(!
	`ø°îizî_öô
(&
¥iv
->
ø°îizî
,Öriv->
ígöe
->
tûe_‹dî
, 16)) {

79 
	`FT_D⁄e_FªeTy≥
(
·
);

80 
ass_öô_exô
;

83 
¥iv
->
ˇche
.
f⁄t_ˇche
 = 
	`ass_f⁄t_ˇche_¸óã
();

84 
¥iv
->
ˇche
.
bôm≠_ˇche
 = 
	`ass_bôm≠_ˇche_¸óã
();

85 
¥iv
->
ˇche
.
composôe_ˇche
 = 
	`ass_composôe_ˇche_¸óã
();

86 
¥iv
->
ˇche
.
ouéöe_ˇche
 = 
	`ass_ouéöe_ˇche_¸óã
();

87 
¥iv
->
ˇche
.
glyph_max
 = 
GLYPH_CACHE_MAX
;

88 
¥iv
->
ˇche
.
bôm≠_max_size
 = 
BITMAP_CACHE_MAX_SIZE
;

89 
¥iv
->
ˇche
.
composôe_max_size
 = 
COMPOSITE_CACHE_MAX_SIZE
;

91 
¥iv
->
ãxt_öfo
.
max_bôm≠s
 = 
MAX_BITMAPS_INITIAL
;

92 
¥iv
->
ãxt_öfo
.
max_glyphs
 = 
MAX_GLYPHS_INITIAL
;

93 
¥iv
->
ãxt_öfo
.
max_löes
 = 
MAX_LINES_INITIAL
;

94 
¥iv
->
ãxt_öfo
.
n_bôm≠s
 = 0;

95 
¥iv
->
ãxt_öfo
.
comböed_bôm≠s
 = 
	`ˇŒoc
(
MAX_BITMAPS_INITIAL
, (
ComböedBôm≠Info
));

96 
¥iv
->
ãxt_öfo
.
glyphs
 = 
	`ˇŒoc
(
MAX_GLYPHS_INITIAL
, (
GlyphInfo
));

97 
¥iv
->
ãxt_öfo
.
löes
 = 
	`ˇŒoc
(
MAX_LINES_INITIAL
, (
LöeInfo
));

99 
¥iv
->
£âögs
.
f⁄t_size_c€ff
 = 1.;

100 
¥iv
->
£âögs
.
£À˘ive_°yÀ_ovîrides
 = 
ASS_OVERRIDE_BIT_SELECTIVE_FONT_SCALE
;

102 
¥iv
->
sh≠î
 = 
	`ass_sh≠î_√w
(0);

103 
	`ass_sh≠î_öfo
(
libøry
);

104 #ifde‡
CONFIG_HARFBUZZ


105 
¥iv
->
£âögs
.
sh≠î
 = 
ASS_SHAPING_COMPLEX
;

107 
¥iv
->
£âögs
.
sh≠î
 = 
ASS_SHAPING_SIMPLE
;

110 
ass_öô_exô
:

111 i‡(
¥iv
)

112 
	`ass_msg
(
libøry
, 
MSGL_V
, "Initialized");

114 
	`ass_msg
(
libøry
, 
MSGL_ERR
, "Initialization failed");

116  
¥iv
;

117 
	}
}

119 
	$ass_ªndîî_d⁄e
(
ASS_Rídîî
 *
ªndî_¥iv
)

121 
	`ass_‰ame_uƒef
(
ªndî_¥iv
->
images_roŸ
);

122 
	`ass_‰ame_uƒef
(
ªndî_¥iv
->
¥ev_images_roŸ
);

124 
	`ass_ˇche_d⁄e
(
ªndî_¥iv
->
ˇche
.
composôe_ˇche
);

125 
	`ass_ˇche_d⁄e
(
ªndî_¥iv
->
ˇche
.
bôm≠_ˇche
);

126 
	`ass_ˇche_d⁄e
(
ªndî_¥iv
->
ˇche
.
ouéöe_ˇche
);

127 
	`ass_sh≠î_‰ì
(
ªndî_¥iv
->
sh≠î
);

128 
	`ass_ˇche_d⁄e
(
ªndî_¥iv
->
ˇche
.
f⁄t_ˇche
);

130 
	`ø°îizî_d⁄e
(&
ªndî_¥iv
->
ø°îizî
);

132 i‡(
ªndî_¥iv
->
f⁄t£À˘
)

133 
	`ass_f⁄t£À˘_‰ì
(
ªndî_¥iv
->
f⁄t£À˘
);

134 i‡(
ªndî_¥iv
->
·libøry
)

135 
	`FT_D⁄e_FªeTy≥
(
ªndî_¥iv
->
·libøry
);

136 
	`‰ì
(
ªndî_¥iv
->
eimg
);

137 
	`‰ì
(
ªndî_¥iv
->
ãxt_öfo
.
glyphs
);

138 
	`‰ì
(
ªndî_¥iv
->
ãxt_öfo
.
löes
);

140 
	`‰ì
(
ªndî_¥iv
->
ãxt_öfo
.
comböed_bôm≠s
);

142 
	`‰ì
(
ªndî_¥iv
->
£âögs
.
deÁu…_f⁄t
);

143 
	`‰ì
(
ªndî_¥iv
->
£âögs
.
deÁu…_Ámûy
);

145 
	`‰ì
(
ªndî_¥iv
->
u£r_ovîride_°yÀ
.
F⁄tName
);

147 
	`‰ì
(
ªndî_¥iv
);

148 
	}
}

154 
ASS_Image
 *
	$my_døw_bôm≠
(*
bôm≠
, 
bôm≠_w
,

155 
bôm≠_h
, 
°ride
, 
d°_x
,

156 
d°_y
, 
uöt32_t
 
cﬁ‹
,

157 
ComposôeHashVÆue
 *
sour˚
)

159 
ASS_ImagePriv
 *
img
 = 
	`mÆloc
((ASS_ImagePriv));

160 i‡(!
img
) {

161 i‡(!
sour˚
)

162 
	`ass_Æig√d_‰ì
(
bôm≠
);

163  
NULL
;

166 
img
->
ªsu…
.
w
 = 
bôm≠_w
;

167 
img
->
ªsu…
.
h
 = 
bôm≠_h
;

168 
img
->
ªsu…
.
°ride
 = stride;

169 
img
->
ªsu…
.
bôm≠
 = bitmap;

170 
img
->
ªsu…
.
cﬁ‹
 = color;

171 
img
->
ªsu…
.
d°_x
 = dst_x;

172 
img
->
ªsu…
.
d°_y
 = dst_y;

174 
img
->
sour˚
 = source;

175 
	`ass_ˇche_öc_ªf
(
sour˚
);

176 
img
->
ªf_cou¡
 = 0;

178  &
img
->
ªsu…
;

179 
	}
}

184 
	$x2s¸_pos
(
ASS_Rídîî
 *
ªndî_¥iv
, 
x
)

186  
x
 * 
ªndî_¥iv
->
‹ig_width
 /Ñídî_¥iv->
f⁄t_sˇÀ_x
 /Ñídî_¥iv->
åack
->
PœyResX
 +

187 
ªndî_¥iv
->
£âögs
.
À·_m¨gö
;

188 
	}
}

189 
	$x2s¸
(
ASS_Rídîî
 *
ªndî_¥iv
, 
x
)

191 i‡(
ªndî_¥iv
->
°©e
.
ex∂icô
)

192  
	`x2s¸_pos
(
ªndî_¥iv
, 
x
);

193  
x
 * 
ªndî_¥iv
->
‹ig_width_no¸›
 /Ñídî_¥iv->
f⁄t_sˇÀ_x
 /

194 
ªndî_¥iv
->
åack
->
PœyResX
 +

195 
	`FFMAX
(
ªndî_¥iv
->
£âögs
.
À·_m¨gö
, 0);

196 
	}
}

197 
	$x2s¸_pos_sˇÀd
(
ASS_Rídîî
 *
ªndî_¥iv
, 
x
)

199  
x
 * 
ªndî_¥iv
->
‹ig_width
 /Ñídî_¥iv->
åack
->
PœyResX
 +

200 
ªndî_¥iv
->
£âögs
.
À·_m¨gö
;

201 
	}
}

202 
	$x2s¸_sˇÀd
(
ASS_Rídîî
 *
ªndî_¥iv
, 
x
)

204 i‡(
ªndî_¥iv
->
°©e
.
ex∂icô
)

205  
	`x2s¸_pos_sˇÀd
(
ªndî_¥iv
, 
x
);

206  
x
 * 
ªndî_¥iv
->
‹ig_width_no¸›
 /

207 
ªndî_¥iv
->
åack
->
PœyResX
 +

208 
	`FFMAX
(
ªndî_¥iv
->
£âögs
.
À·_m¨gö
, 0);

209 
	}
}

213 
	$y2s¸_pos
(
ASS_Rídîî
 *
ªndî_¥iv
, 
y
)

215  
y
 * 
ªndî_¥iv
->
‹ig_height
 /Ñídî_¥iv->
åack
->
PœyResY
 +

216 
ªndî_¥iv
->
£âögs
.
t›_m¨gö
;

217 
	}
}

218 
	$y2s¸
(
ASS_Rídîî
 *
ªndî_¥iv
, 
y
)

220 i‡(
ªndî_¥iv
->
°©e
.
ex∂icô
)

221  
	`y2s¸_pos
(
ªndî_¥iv
, 
y
);

222  
y
 * 
ªndî_¥iv
->
‹ig_height_no¸›
 /

223 
ªndî_¥iv
->
åack
->
PœyResY
 +

224 
	`FFMAX
(
ªndî_¥iv
->
£âögs
.
t›_m¨gö
, 0);

225 
	}
}

228 
	$y2s¸_t›
(
ASS_Rídîî
 *
ªndî_¥iv
, 
y
)

230 i‡(
ªndî_¥iv
->
°©e
.
ex∂icô
)

231  
	`y2s¸_pos
(
ªndî_¥iv
, 
y
);

232 i‡(
ªndî_¥iv
->
£âögs
.
u£_m¨gös
)

233  
y
 * 
ªndî_¥iv
->
‹ig_height_no¸›
 /

234 
ªndî_¥iv
->
åack
->
PœyResY
;

236  
y
 * 
ªndî_¥iv
->
‹ig_height_no¸›
 /

237 
ªndî_¥iv
->
åack
->
PœyResY
 +

238 
	`FFMAX
(
ªndî_¥iv
->
£âögs
.
t›_m¨gö
, 0);

239 
	}
}

241 
	$y2s¸_sub
(
ASS_Rídîî
 *
ªndî_¥iv
, 
y
)

243 i‡(
ªndî_¥iv
->
°©e
.
ex∂icô
)

244  
	`y2s¸_pos
(
ªndî_¥iv
, 
y
);

245 i‡(
ªndî_¥iv
->
£âögs
.
u£_m¨gös
)

246  
y
 * 
ªndî_¥iv
->
‹ig_height_no¸›
 /

247 
ªndî_¥iv
->
åack
->
PœyResY
 +

248 
	`FFMAX
(
ªndî_¥iv
->
£âögs
.
t›_m¨gö
, 0)

249 + 
	`FFMAX
(
ªndî_¥iv
->
£âögs
.
bŸtom_m¨gö
, 0);

251  
y
 * 
ªndî_¥iv
->
‹ig_height_no¸›
 /

252 
ªndî_¥iv
->
åack
->
PœyResY
 +

253 
	`FFMAX
(
ªndî_¥iv
->
£âögs
.
t›_m¨gö
, 0);

254 
	}
}

269 
ASS_Image
 **
	$ªndî_glyph_i
(
ASS_Rídîî
 *
ªndî_¥iv
,

270 
Bôm≠
 *
bm
, 
d°_x
, 
d°_y
,

271 
uöt32_t
 
cﬁ‹
, uöt32_à
cﬁ‹2
, 
brk
,

272 
ASS_Image
 **
èû
, 
ty≥
,

273 
ComposôeHashVÆue
 *
sour˚
)

275 
i
, 
j
, 
x0
, 
y0
, 
x1
, 
y1
, 
cx0
, 
cy0
, 
cx1
, 
cy1
, 
sx
, 
sy
, 
zx
, 
zy
;

276 
Re˘
 
r
[4];

277 
ASS_Image
 *
img
;

279 
d°_x
 +
bm
->
À·
;

280 
d°_y
 +
bm
->
t›
;

283 
zx
 = 
	`x2s¸_pos_sˇÀd
(
ªndî_¥iv
, 0);

284 
zy
 = 
	`y2s¸_pos
(
ªndî_¥iv
, 0);

285 
sx
 = 
	`x2s¸_pos_sˇÀd
(
ªndî_¥iv
,Ñídî_¥iv->
åack
->
PœyResX
);

286 
sy
 = 
	`y2s¸_pos
(
ªndî_¥iv
,Ñídî_¥iv->
åack
->
PœyResY
);

288 
x0
 = 0;

289 
y0
 = 0;

290 
x1
 = 
bm
->
w
;

291 
y1
 = 
bm
->
h
;

292 
cx0
 = 
ªndî_¥iv
->
°©e
.
˛ù_x0
 - 
d°_x
;

293 
cy0
 = 
ªndî_¥iv
->
°©e
.
˛ù_y0
 - 
d°_y
;

294 
cx1
 = 
ªndî_¥iv
->
°©e
.
˛ù_x1
 - 
d°_x
;

295 
cy1
 = 
ªndî_¥iv
->
°©e
.
˛ù_y1
 - 
d°_y
;

298 
i
 = 0;

299 
r
[
i
].
x0
 = x0;

300 
r
[
i
].
y0
 = y0;

301 
r
[
i
].
x1
 = (
cx0
 > x1) ? x1 : cx0;

302 
r
[
i
].
y1
 = y1;

303 i‡(
r
[
i
].
x1
 >Ñ[i].
x0
 &&Ñ[i].
y1
 >Ñ[i].
y0
) i++;

304 
r
[
i
].
x0
 = (
cx0
 < 0) ? x0 : cx0;

305 
r
[
i
].
y0
 = y0;

306 
r
[
i
].
x1
 = (
cx1
 > x1) ? x1 : cx1;

307 
r
[
i
].
y1
 = (
cy0
 > y1) ? y1 : cy0;

308 i‡(
r
[
i
].
x1
 >Ñ[i].
x0
 &&Ñ[i].
y1
 >Ñ[i].
y0
) i++;

309 
r
[
i
].
x0
 = (
cx0
 < 0) ? x0 : cx0;

310 
r
[
i
].
y0
 = (
cy1
 < 0) ? y0 : cy1;

311 
r
[
i
].
x1
 = (
cx1
 > x1) ? x1 : cx1;

312 
r
[
i
].
y1
 = y1;

313 i‡(
r
[
i
].
x1
 >Ñ[i].
x0
 &&Ñ[i].
y1
 >Ñ[i].
y0
) i++;

314 
r
[
i
].
x0
 = (
cx1
 < 0) ? x0 : cx1;

315 
r
[
i
].
y0
 = y0;

316 
r
[
i
].
x1
 = x1;

317 
r
[
i
].
y1
 = y1;

318 i‡(
r
[
i
].
x1
 >Ñ[i].
x0
 &&Ñ[i].
y1
 >Ñ[i].
y0
) i++;

321 
j
 = 0; j < 
i
; j++) {

322 
r
[
j
].
x0
 = (r[j].x0 + 
d°_x
 < 
zx
) ? zx - dst_x :Ñ[j].x0;

323 
r
[
j
].
y0
 = (r[j].y0 + 
d°_y
 < 
zy
) ? zy - dst_y :Ñ[j].y0;

324 
r
[
j
].
x1
 = (r[j].x1 + 
d°_x
 > 
sx
) ? sx - dst_x :Ñ[j].x1;

325 
r
[
j
].
y1
 = (r[j].y1 + 
d°_y
 > 
sy
) ? sy - dst_y :Ñ[j].y1;

329 
j
 = 0; j < 
i
; j++) {

330 
lbrk
 = 
brk
;

332 i‡(
r
[
j
].
x1
 <r[j].
x0
 ||Ñ[j].
y1
 <r[j].
y0
)

335 i‡(
lbrk
 > 
r
[
j
].
x0
) {

336 i‡(
lbrk
 > 
r
[
j
].
x1
)Übrk =Ñ[j].x1;

337 
img
 = 
	`my_døw_bôm≠
(
bm
->
buf„r
 + 
r
[
j
].
y0
 * bm->
°ride
 +Ñ[j].
x0
,

338 
lbrk
 - 
r
[
j
].
x0
,Ñ[j].
y1
 -Ñ[j].
y0
, 
bm
->
°ride
,

339 
d°_x
 + 
r
[
j
].
x0
, 
d°_y
 +Ñ[j].
y0
, 
cﬁ‹
, 
sour˚
);

340 i‡(!
img
) ;

341 
img
->
ty≥
 =Åype;

342 *
èû
 = 
img
;

343 
èû
 = &
img
->
√xt
;

345 i‡(
lbrk
 < 
r
[
j
].
x1
) {

346 i‡(
lbrk
 < 
r
[
j
].
x0
)Übrk =Ñ[j].x0;

347 
img
 = 
	`my_døw_bôm≠
(
bm
->
buf„r
 + 
r
[
j
].
y0
 * bm->
°ride
 + 
lbrk
,

348 
r
[
j
].
x1
 - 
lbrk
,Ñ[j].
y1
 -Ñ[j].
y0
, 
bm
->
°ride
,

349 
d°_x
 + 
lbrk
, 
d°_y
 + 
r
[
j
].
y0
, 
cﬁ‹2
, 
sour˚
);

350 i‡(!
img
) ;

351 
img
->
ty≥
 =Åype;

352 *
èû
 = 
img
;

353 
èû
 = &
img
->
√xt
;

357  
èû
;

358 
	}
}

372 
ASS_Image
 **

373 
	$ªndî_glyph
(
ASS_Rídîî
 *
ªndî_¥iv
, 
Bôm≠
 *
bm
, 
d°_x
, 
d°_y
,

374 
uöt32_t
 
cﬁ‹
, uöt32_à
cﬁ‹2
, 
brk
, 
ASS_Image
 **
èû
,

375 
ty≥
, 
ComposôeHashVÆue
 *
sour˚
)

378 i‡(
ªndî_¥iv
->
°©e
.
˛ù_mode
)

379  
	`ªndî_glyph_i
(
ªndî_¥iv
, 
bm
, 
d°_x
, 
d°_y
, 
cﬁ‹
, 
cﬁ‹2
,

380 
brk
, 
èû
, 
ty≥
, 
sour˚
);

385 
b_x0
, 
b_y0
, 
b_x1
, 
b_y1
;

386 
˛ù_x0
, 
˛ù_y0
, 
˛ù_x1
, 
˛ù_y1
;

387 
tmp
;

388 
ASS_Image
 *
img
;

390 
d°_x
 +
bm
->
À·
;

391 
d°_y
 +
bm
->
t›
;

392 
brk
 -
bm
->
À·
;

395 
˛ù_x0
 = 
	`FFMINMAX
(
ªndî_¥iv
->
°©e
.˛ù_x0, 0,Ñídî_¥iv->
width
);

396 
˛ù_y0
 = 
	`FFMINMAX
(
ªndî_¥iv
->
°©e
.˛ù_y0, 0,Ñídî_¥iv->
height
);

397 
˛ù_x1
 = 
	`FFMINMAX
(
ªndî_¥iv
->
°©e
.˛ù_x1, 0,Ñídî_¥iv->
width
);

398 
˛ù_y1
 = 
	`FFMINMAX
(
ªndî_¥iv
->
°©e
.˛ù_y1, 0,Ñídî_¥iv->
height
);

399 
b_x0
 = 0;

400 
b_y0
 = 0;

401 
b_x1
 = 
bm
->
w
;

402 
b_y1
 = 
bm
->
h
;

404 
tmp
 = 
d°_x
 - 
˛ù_x0
;

405 i‡(
tmp
 < 0)

406 
b_x0
 = -
tmp
;

407 
tmp
 = 
d°_y
 - 
˛ù_y0
;

408 i‡(
tmp
 < 0)

409 
b_y0
 = -
tmp
;

410 
tmp
 = 
˛ù_x1
 - 
d°_x
 - 
bm
->
w
;

411 i‡(
tmp
 < 0)

412 
b_x1
 = 
bm
->
w
 + 
tmp
;

413 
tmp
 = 
˛ù_y1
 - 
d°_y
 - 
bm
->
h
;

414 i‡(
tmp
 < 0)

415 
b_y1
 = 
bm
->
h
 + 
tmp
;

417 i‡((
b_y0
 >
b_y1
Ë|| (
b_x0
 >
b_x1
))

418  
èû
;

420 i‡(
brk
 > 
b_x0
) {

421 i‡(
brk
 > 
b_x1
)

422 
brk
 = 
b_x1
;

423 
img
 = 
	`my_døw_bôm≠
(
bm
->
buf„r
 + bm->
°ride
 * 
b_y0
 + 
b_x0
,

424 
brk
 - 
b_x0
, 
b_y1
 - 
b_y0
, 
bm
->
°ride
,

425 
d°_x
 + 
b_x0
, 
d°_y
 + 
b_y0
, 
cﬁ‹
, 
sour˚
);

426 i‡(!
img
Ë 
èû
;

427 
img
->
ty≥
 =Åype;

428 *
èû
 = 
img
;

429 
èû
 = &
img
->
√xt
;

431 i‡(
brk
 < 
b_x1
) {

432 i‡(
brk
 < 
b_x0
)

433 
brk
 = 
b_x0
;

434 
img
 = 
	`my_døw_bôm≠
(
bm
->
buf„r
 + bm->
°ride
 * 
b_y0
 + 
brk
,

435 
b_x1
 - 
brk
, 
b_y1
 - 
b_y0
, 
bm
->
°ride
,

436 
d°_x
 + 
brk
, 
d°_y
 + 
b_y0
, 
cﬁ‹2
, 
sour˚
);

437 i‡(!
img
Ë 
èû
;

438 
img
->
ty≥
 =Åype;

439 *
èû
 = 
img
;

440 
èû
 = &
img
->
√xt
;

442  
èû
;

443 
	}
}

446 
ölöe
 
size_t
 
	$bôm≠_size
(
Bôm≠
 *
bm
)

448  
bm
 ? (
Bôm≠
Ë+ bm->
°ride
 * bm->
h
 : 0;

449 
	}
}

456 
	$bÀnd_ve˘‹_˛ù
(
ASS_Rídîî
 *
ªndî_¥iv
,

457 
ASS_Image
 *
hód
)

459 
ASS_Døwög
 *
døwög
 = 
ªndî_¥iv
->
°©e
.
˛ù_døwög
;

460 i‡(!
døwög
)

464 
Bôm≠HashKey
 
key
;

465 
	`mem£t
(&
key
, 0, (key));

466 
key
.
ty≥
 = 
BITMAP_CLIP
;

467 
key
.
u
.
˛ù
.
ãxt
 = 
døwög
->text;

469 
Bôm≠HashVÆue
 *
vÆ
;

470 i‡(!
	`ass_ˇche_gë
(
ªndî_¥iv
->
ˇche
.
bôm≠_ˇche
, &
key
, &
vÆ
)) {

471 i‡(!
vÆ
)

473 
vÆ
->
bm
 = vÆ->
bm_o
 = 
NULL
;

476 
ASS_Ouéöe
 *
ouéöe
 = 
	`ass_døwög_∑r£
(
døwög
, 
åue
);

477 i‡(!
ouéöe
) {

478 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_WARN
,

480 
	`ass_ˇche_commô
(
vÆ
, (
Bôm≠HashKey
Ë+ (
Bôm≠HashVÆue
));

481 
	`ass_ˇche_dec_ªf
(
vÆ
);

486 i‡(
ªndî_¥iv
->
£âögs
.
À·_m¨gö
 != 0 ||

487 
ªndî_¥iv
->
£âögs
.
t›_m¨gö
 != 0) {

488 
ASS_Ve˘‹
 
å™s
 = {

489 .
x
 = 
	`öt_to_d6
(
ªndî_¥iv
->
£âögs
.
À·_m¨gö
),

490 .
y
 = 
	`öt_to_d6
(
ªndî_¥iv
->
£âögs
.
t›_m¨gö
),

492 
	`ouéöe_å™¶©e
(
ouéöe
, 
å™s
.
x
,Åøns.
y
);

495 
vÆ
->
bm
 = 
	`ouéöe_to_bôm≠
(
ªndî_¥iv
, 
ouéöe
, 
NULL
, 1);

496 
	`ass_ˇche_commô
(
vÆ
, 
	`bôm≠_size
(vÆ->
bm
) +

497 (
Bôm≠HashKey
Ë+ (
Bôm≠HashVÆue
));

500 
Bôm≠
 *
˛ù_bm
 = 
vÆ
->
bm
;

501 i‡(!
˛ù_bm
) {

502 
	`ass_ˇche_dec_ªf
(
vÆ
);

507 
ASS_Image
 *
cur
 = 
hód
; cur; cu∏cur->
√xt
) {

508 
À·
, 
t›
, 
right
, 
bŸtom
, 
w
, 
h
;

509 
ax
, 
ay
, 
aw
, 
ah
, 
as
;

510 
bx
, 
by
, 
bw
, 
bh
, 
bs
;

511 
Æe·
, 
©›
, 
bÀ·
, 
bt›
;

512 *
abuf„r
, *
bbuf„r
, *
nbuf„r
;

514 
abuf„r
 = 
cur
->
bôm≠
;

515 
bbuf„r
 = 
˛ù_bm
->
buf„r
;

516 
ax
 = 
cur
->
d°_x
;

517 
ay
 = 
cur
->
d°_y
;

518 
aw
 = 
cur
->
w
;

519 
ah
 = 
cur
->
h
;

520 
as
 = 
cur
->
°ride
;

521 
bx
 = 
˛ù_bm
->
À·
;

522 
by
 = 
˛ù_bm
->
t›
;

523 
bw
 = 
˛ù_bm
->
w
;

524 
bh
 = 
˛ù_bm
->
h
;

525 
bs
 = 
˛ù_bm
->
°ride
;

528 
À·
 = (
ax
 > 
bx
) ?áx : bx;

529 
t›
 = (
ay
 > 
by
) ?áy : by;

530 
right
 = ((
ax
 + 
aw
Ë< (
bx
 + 
bw
)) ? (ax +áw) : (bx + bw);

531 
bŸtom
 = ((
ay
 + 
ah
Ë< (
by
 + 
bh
)) ? (ay +áh) : (by + bh);

532 
Æe·
 = 
À·
 - 
ax
;

533 
©›
 = 
t›
 - 
ay
;

534 
w
 = 
right
 - 
À·
;

535 
h
 = 
bŸtom
 - 
t›
;

536 
bÀ·
 = 
À·
 - 
bx
;

537 
bt›
 = 
t›
 - 
by
;

539 i‡(
ªndî_¥iv
->
°©e
.
˛ù_døwög_mode
) {

541 i‡(
ax
 + 
aw
 < 
bx
 || 
ay
 + 
ah
 < 
by
 ||áx > bx + 
bw
 ||

542 
ay
 > 
by
 + 
bh
 || !
h
 || !
w
) {

547 
nbuf„r
 = 
	`ass_Æig√d_Æloc
(32, 
as
 * 
ah
, 
Ál£
);

548 i‡(!
nbuf„r
)

552 
	`mem˝y
(
nbuf„r
, 
abuf„r
, ((
ah
 - 1Ë* 
as
Ë+ 
aw
);

553 
ªndî_¥iv
->
ígöe
->
	`sub_bôm≠s
(
nbuf„r
 + 
©›
 * 
as
 + 
Æe·
,ás,

554 
bbuf„r
 + 
bt›
 * 
bs
 + 
bÀ·
, bs,

555 
h
, 
w
);

558 i‡(
ax
 + 
aw
 < 
bx
 || 
ay
 + 
ah
 < 
by
 ||áx > bx + 
bw
 ||

559 
ay
 > 
by
 + 
bh
 || !
h
 || !
w
) {

560 
cur
->
w
 = cur->
h
 = cur->
°ride
 = 0;

565 
Æign
 = (
w
 >= 16) ? 16 : ((w >= 8) ? 8 : 1);

566 
ns
 = 
	`ass_Æign
(
Æign
, 
w
);

567 
nbuf„r
 = 
	`ass_Æig√d_Æloc
(
Æign
, 
ns
 * 
h
, 
Ál£
);

568 i‡(!
nbuf„r
)

572 
ªndî_¥iv
->
ígöe
->
	`mul_bôm≠s
(
nbuf„r
, 
ns
,

573 
abuf„r
 + 
©›
 * 
as
 + 
Æe·
,ás,

574 
bbuf„r
 + 
bt›
 * 
bs
 + 
bÀ·
, bs,

575 
w
, 
h
);

576 
cur
->
d°_x
 +
Æe·
;

577 
cur
->
d°_y
 +
©›
;

578 
cur
->
w
 = w;

579 
cur
->
h
 = h;

580 
cur
->
°ride
 = 
ns
;

583 
cur
->
bôm≠
 = 
nbuf„r
;

584 
ASS_ImagePriv
 *
¥iv
 = (ASS_ImagePriv *Ë
cur
;

585 
	`ass_ˇche_dec_ªf
(
¥iv
->
sour˚
);

586 
¥iv
->
sour˚
 = 
NULL
;

589 
	`ass_ˇche_dec_ªf
(
vÆ
);

590 
	}
}

596 
ASS_Image
 *
	$ªndî_ãxt
(
ASS_Rídîî
 *
ªndî_¥iv
)

598 
ASS_Image
 *
hód
;

599 
ASS_Image
 **
èû
 = &
hód
;

600 
n_bôm≠s
 = 
ªndî_¥iv
->
ãxt_öfo
.n_bitmaps;

601 
ComböedBôm≠Info
 *
bôm≠s
 = 
ªndî_¥iv
->
ãxt_öfo
.
comböed_bôm≠s
;

603 
i
 = 0; i < 
n_bôm≠s
; i++) {

604 
ComböedBôm≠Info
 *
öfo
 = &
bôm≠s
[
i
];

605 i‡(!
öfo
->
bm_s
 || 
ªndî_¥iv
->
°©e
.
b‹dî_°yÀ
 == 4)

608 
èû
 =

609 
	`ªndî_glyph
(
ªndî_¥iv
, 
öfo
->
bm_s
, info->
x
, info->
y
, info->
c
[3], 0,

610 1000000, 
èû
, 
IMAGE_TYPE_SHADOW
, 
öfo
->
image
);

613 
i
 = 0; i < 
n_bôm≠s
; i++) {

614 
ComböedBôm≠Info
 *
öfo
 = &
bôm≠s
[
i
];

615 i‡(!
öfo
->
bm_o
)

618 i‡((
öfo
->
ef„˘_ty≥
 =
EF_KARAOKE_KO
)

619 && (
öfo
->
ef„˘_timög
 <öfo->
fú°_pos_x
)) {

622 
èû
 =

623 
	`ªndî_glyph
(
ªndî_¥iv
, 
öfo
->
bm_o
, info->
x
, info->
y
, info->
c
[2],

624 0, 1000000, 
èû
, 
IMAGE_TYPE_OUTLINE
, 
öfo
->
image
);

628 
i
 = 0; i < 
n_bôm≠s
; i++) {

629 
ComböedBôm≠Info
 *
öfo
 = &
bôm≠s
[
i
];

630 i‡(!
öfo
->
bm
)

633 i‡((
öfo
->
ef„˘_ty≥
 =
EF_KARAOKE
)

634 || (
öfo
->
ef„˘_ty≥
 =
EF_KARAOKE_KO
)) {

635 i‡(
öfo
->
ef„˘_timög
 > info->
fú°_pos_x
)

636 
èû
 =

637 
	`ªndî_glyph
(
ªndî_¥iv
, 
öfo
->
bm
, info->
x
, info->
y
,

638 
öfo
->
c
[0], 0, 1000000, 
èû
,

639 
IMAGE_TYPE_CHARACTER
, 
öfo
->
image
);

641 
èû
 =

642 
	`ªndî_glyph
(
ªndî_¥iv
, 
öfo
->
bm
, info->
x
, info->
y
,

643 
öfo
->
c
[1], 0, 1000000, 
èû
,

644 
IMAGE_TYPE_CHARACTER
, 
öfo
->
image
);

645 } i‡(
öfo
->
ef„˘_ty≥
 =
EF_KARAOKE_KF
) {

646 
èû
 =

647 
	`ªndî_glyph
(
ªndî_¥iv
, 
öfo
->
bm
, info->
x
, info->
y
, info->
c
[0],

648 
öfo
->
c
[1], info->
ef„˘_timög
, 
èû
,

649 
IMAGE_TYPE_CHARACTER
, 
öfo
->
image
);

651 
èû
 =

652 
	`ªndî_glyph
(
ªndî_¥iv
, 
öfo
->
bm
, info->
x
, info->
y
, info->
c
[0],

653 0, 1000000, 
èû
, 
IMAGE_TYPE_CHARACTER
, 
öfo
->
image
);

656 
i
 = 0; i < 
n_bôm≠s
; i++)

657 
	`ass_ˇche_dec_ªf
(
bôm≠s
[
i
].
image
);

659 *
èû
 = 0;

660 
	`bÀnd_ve˘‹_˛ù
(
ªndî_¥iv
, 
hód
);

662  
hód
;

663 
	}
}

665 
	$compuã_°rög_bbox
(
TextInfo
 *
ãxt
, 
ASS_DRe˘
 *
bbox
)

667 i‡(
ãxt
->
Àngth
 > 0) {

668 
bbox
->
x_mö
 = +32000;

669 
bbox
->
x_max
 = -32000;

670 
bbox
->
y_mö
 = 
	`d6_to_doubÀ
(
ãxt
->
glyphs
[0].
pos
.
y
Ë-Åext->
löes
[0].
asc
;

671 
bbox
->
y_max
 = bbox->
y_mö
 + 
ãxt
->
height
;

673 
i
 = 0; i < 
ãxt
->
Àngth
; i++) {

674 
GlyphInfo
 *
öfo
 = 
ãxt
->
glyphs
 + 
i
;

675 i‡(
öfo
->
skù
) ;

676 
s
 = 
	`d6_to_doubÀ
(
öfo
->
pos
.
x
);

677 
e
 = 
s
 + 
	`d6_to_doubÀ
(
öfo
->
˛u°î_adv™˚
.
x
);

678 
bbox
->
x_mö
 = 
	`FFMIN
(bbox->x_mö, 
s
);

679 
bbox
->
x_max
 = 
	`FFMAX
(bbox->x_max, 
e
);

682 
bbox
->
x_mö
 = bbox->
x_max
 = bbox->
y_mö
 = bbox->
y_max
 = 0;

683 
	}
}

685 
ASS_StyÀ
 *
	$h™dÀ_£À˘ive_°yÀ_ovîrides
(
ASS_Rídîî
 *
ªndî_¥iv
,

686 
ASS_StyÀ
 *
r°yÀ
)

689 
ASS_StyÀ
 *
s¸ùt
 = 
ªndî_¥iv
->
åack
->
°yÀs
 +

690 
ªndî_¥iv
->
°©e
.
evít
->
StyÀ
;

692 
ASS_StyÀ
 *
u£r
 = &
ªndî_¥iv
->
u£r_ovîride_°yÀ
;

693 
ASS_StyÀ
 *
√w
 = &
ªndî_¥iv
->
°©e
.
ovîride_°yÀ_ãmp_°‹age
;

694 
ex∂icô
 = 
ªndî_¥iv
->
°©e
.explicit;

695 
ªque°ed
 = 
ªndî_¥iv
->
£âögs
.
£À˘ive_°yÀ_ovîrides
;

696 
sˇÀ
;

698 
u£r
->
Name
 = "OverrideStyle";

701 i‡(!
r°yÀ
)

702 
r°yÀ
 = 
s¸ùt
;

707 *
√w
 = *
r°yÀ
;

709 
ªndî_¥iv
->
°©e
.
≠∂y_f⁄t_sˇÀ
 =

710 !
ex∂icô
 || !(
ªque°ed
 & 
ASS_OVERRIDE_BIT_SELECTIVE_FONT_SCALE
);

713 i‡(
ex∂icô
)

714 
ªque°ed
 = 0;

716 i‡(
ªque°ed
 & 
ASS_OVERRIDE_BIT_STYLE
)

717 
ªque°ed
 |
ASS_OVERRIDE_BIT_FONT_NAME
 |

718 
ASS_OVERRIDE_BIT_FONT_SIZE_FIELDS
 |

719 
ASS_OVERRIDE_BIT_COLORS
 |

720 
ASS_OVERRIDE_BIT_BORDER
 |

721 
ASS_OVERRIDE_BIT_ATTRIBUTES
;

724 i‡(
ªque°ed
 & 
ASS_OVERRIDE_FULL_STYLE
)

725 *
√w
 = *
u£r
;

730 
sˇÀ
 = 
ªndî_¥iv
->
åack
->
PœyResY
 / 288.0;

732 i‡(
ªque°ed
 & 
ASS_OVERRIDE_BIT_FONT_SIZE_FIELDS
) {

733 
√w
->
F⁄tSize
 = 
u£r
->F⁄tSizê* 
sˇÀ
;

734 
√w
->
S∑cög
 = 
u£r
->S∑cög * 
sˇÀ
;

735 
√w
->
SˇÀX
 = 
u£r
->ScaleX;

736 
√w
->
SˇÀY
 = 
u£r
->ScaleY;

739 i‡(
ªque°ed
 & 
ASS_OVERRIDE_BIT_FONT_NAME
) {

740 
√w
->
F⁄tName
 = 
u£r
->FontName;

741 
√w
->
åót_f⁄äame_as_∑âîn
 = 
u£r
->treat_fontname_as_pattern;

744 i‡(
ªque°ed
 & 
ASS_OVERRIDE_BIT_COLORS
) {

745 
√w
->
Prim¨yCﬁour
 = 
u£r
->PrimaryColour;

746 
√w
->
Sec⁄d¨yCﬁour
 = 
u£r
->SecondaryColour;

747 
√w
->
OuéöeCﬁour
 = 
u£r
->OutlineColour;

748 
√w
->
BackCﬁour
 = 
u£r
->BackColour;

751 i‡(
ªque°ed
 & 
ASS_OVERRIDE_BIT_ATTRIBUTES
) {

752 
√w
->
Bﬁd
 = 
u£r
->Bold;

753 
√w
->
Ièlic
 = 
u£r
->Italic;

754 
√w
->
Undîlöe
 = 
u£r
->Underline;

755 
√w
->
SåikeOut
 = 
u£r
->StrikeOut;

758 i‡(
ªque°ed
 & 
ASS_OVERRIDE_BIT_BORDER
) {

759 
√w
->
B‹dîStyÀ
 = 
u£r
->BorderStyle;

760 
√w
->
Ouéöe
 = 
u£r
->Ouéöê* 
sˇÀ
;

761 
√w
->
Shadow
 = 
u£r
->Shadow * 
sˇÀ
;

764 i‡(
ªque°ed
 & 
ASS_OVERRIDE_BIT_ALIGNMENT
)

765 
√w
->
Alignmít
 = 
u£r
->Alignment;

767 i‡(
ªque°ed
 & 
ASS_OVERRIDE_BIT_JUSTIFY
)

768 
√w
->
Ju°ify
 = 
u£r
->Justify;

770 i‡(
ªque°ed
 & 
ASS_OVERRIDE_BIT_MARGINS
) {

771 
√w
->
M¨göL
 = 
u£r
->MarginL;

772 
√w
->
M¨göR
 = 
u£r
->MarginR;

773 
√w
->
M¨göV
 = 
u£r
->MarginV;

776 i‡(!
√w
->
F⁄tName
)

777 
√w
->
F⁄tName
 = 
r°yÀ
->FontName;

779 
ªndî_¥iv
->
°©e
.
°yÀ
 = 
√w
;

780 
ªndî_¥iv
->
°©e
.
ovîrides
 = 
ªque°ed
;

782  
√w
;

783 
	}
}

785 
	$öô_f⁄t_sˇÀ
(
ASS_Rídîî
 *
ªndî_¥iv
)

787 
ASS_Sëtögs
 *
£âögs_¥iv
 = &
ªndî_¥iv
->
£âögs
;

789 
ªndî_¥iv
->
f⁄t_sˇÀ
 = ((Ëªndî_¥iv->
‹ig_height
) /

790 
ªndî_¥iv
->
åack
->
PœyResY
;

791 i‡(
£âögs_¥iv
->
°‹age_height
)

792 
ªndî_¥iv
->
blur_sˇÀ
 = ((Ëªndî_¥iv->
‹ig_height
) /

793 
£âögs_¥iv
->
°‹age_height
;

795 
ªndî_¥iv
->
blur_sˇÀ
 = 1.;

796 i‡(
ªndî_¥iv
->
åack
->
SˇÀdB‹dîAndShadow
)

797 
ªndî_¥iv
->
b‹dî_sˇÀ
 =

798 ((Ë
ªndî_¥iv
->
‹ig_height
) /

799 
ªndî_¥iv
->
åack
->
PœyResY
;

801 
ªndî_¥iv
->
b‹dî_sˇÀ
 =Ñídî_¥iv->
blur_sˇÀ
;

802 i‡(!
£âögs_¥iv
->
°‹age_height
)

803 
ªndî_¥iv
->
blur_sˇÀ
 =Ñídî_¥iv->
b‹dî_sˇÀ
;

805 i‡(
ªndî_¥iv
->
°©e
.
≠∂y_f⁄t_sˇÀ
) {

806 
ªndî_¥iv
->
f⁄t_sˇÀ
 *
£âögs_¥iv
->
f⁄t_size_c€ff
;

807 
ªndî_¥iv
->
b‹dî_sˇÀ
 *
£âögs_¥iv
->
f⁄t_size_c€ff
;

808 
ªndî_¥iv
->
blur_sˇÀ
 *
£âögs_¥iv
->
f⁄t_size_c€ff
;

810 
	}
}

816 
	$ª£t_ªndî_c⁄ãxt
(
ASS_Rídîî
 *
ªndî_¥iv
, 
ASS_StyÀ
 *
°yÀ
)

818 
°yÀ
 = 
	`h™dÀ_£À˘ive_°yÀ_ovîrides
(
ªndî_¥iv
, style);

820 
	`öô_f⁄t_sˇÀ
(
ªndî_¥iv
);

822 
ªndî_¥iv
->
°©e
.
c
[0] = 
°yÀ
->
Prim¨yCﬁour
;

823 
ªndî_¥iv
->
°©e
.
c
[1] = 
°yÀ
->
Sec⁄d¨yCﬁour
;

824 
ªndî_¥iv
->
°©e
.
c
[2] = 
°yÀ
->
OuéöeCﬁour
;

825 
ªndî_¥iv
->
°©e
.
c
[3] = 
°yÀ
->
BackCﬁour
;

826 
ªndî_¥iv
->
°©e
.
Êags
 =

827 (
°yÀ
->
Undîlöe
 ? 
DECO_UNDERLINE
 : 0) |

828 (
°yÀ
->
SåikeOut
 ? 
DECO_STRIKETHROUGH
 : 0);

829 
ªndî_¥iv
->
°©e
.
f⁄t_size
 = 
°yÀ
->
F⁄tSize
;

831 
	`‰ì
(
ªndî_¥iv
->
°©e
.
Ámûy
);

832 
ªndî_¥iv
->
°©e
.
Ámûy
 = 
NULL
;

833 
ªndî_¥iv
->
°©e
.
Ámûy
 = 
	`°rdup
(
°yÀ
->
F⁄tName
);

834 
ªndî_¥iv
->
°©e
.
åót_Ámûy_as_∑âîn
 =

835 
°yÀ
->
åót_f⁄äame_as_∑âîn
;

836 
ªndî_¥iv
->
°©e
.
bﬁd
 = 
°yÀ
->
Bﬁd
;

837 
ªndî_¥iv
->
°©e
.
ôÆic
 = 
°yÀ
->
Ièlic
;

838 
	`upd©e_f⁄t
(
ªndî_¥iv
);

840 
ªndî_¥iv
->
°©e
.
b‹dî_°yÀ
 = 
°yÀ
->
B‹dîStyÀ
;

841 
ªndî_¥iv
->
°©e
.
b‹dî_x
 = 
°yÀ
->
Ouéöe
;

842 
ªndî_¥iv
->
°©e
.
b‹dî_y
 = 
°yÀ
->
Ouéöe
;

843 
ªndî_¥iv
->
°©e
.
sˇÀ_x
 = 
°yÀ
->
SˇÀX
;

844 
ªndî_¥iv
->
°©e
.
sˇÀ_y
 = 
°yÀ
->
SˇÀY
;

845 
ªndî_¥iv
->
°©e
.
h•acög
 = 
°yÀ
->
S∑cög
;

846 
ªndî_¥iv
->
°©e
.
be
 = 0;

847 
ªndî_¥iv
->
°©e
.
blur
 = 
°yÀ
->
Blur
;

848 
ªndî_¥iv
->
°©e
.
shadow_x
 = 
°yÀ
->
Shadow
;

849 
ªndî_¥iv
->
°©e
.
shadow_y
 = 
°yÀ
->
Shadow
;

850 
ªndî_¥iv
->
°©e
.
‰x
 =Ñídî_¥iv->°©e.
‰y
 = 0.;

851 
ªndî_¥iv
->
°©e
.
‰z
 = 
M_PI
 * 
°yÀ
->
AngÀ
 / 180.;

852 
ªndî_¥iv
->
°©e
.
Áx
 =Ñídî_¥iv->°©e.
Áy
 = 0.;

853 
ªndî_¥iv
->
°©e
.
f⁄t_ícodög
 = 
°yÀ
->
Encodög
;

854 
	}
}

860 
	$öô_ªndî_c⁄ãxt
(
ASS_Rídîî
 *
ªndî_¥iv
, 
ASS_Evít
 *
evít
)

862 
ªndî_¥iv
->
°©e
.
evít
 =Évent;

863 
ªndî_¥iv
->
°©e
.
∑r£d_ègs
 = 0;

864 
ªndî_¥iv
->
°©e
.
evt_ty≥
 = 
EVENT_NORMAL
;

866 
ªndî_¥iv
->
°©e
.
wøp_°yÀ
 =Ñídî_¥iv->
åack
->
WøpStyÀ
;

868 
ªndî_¥iv
->
°©e
.
pos_x
 = 0;

869 
ªndî_¥iv
->
°©e
.
pos_y
 = 0;

870 
ªndî_¥iv
->
°©e
.
‹g_x
 = 0;

871 
ªndî_¥iv
->
°©e
.
‹g_y
 = 0;

872 
ªndî_¥iv
->
°©e
.
have_‹igö
 = 0;

873 
ªndî_¥iv
->
°©e
.
˛ù_x0
 = 0;

874 
ªndî_¥iv
->
°©e
.
˛ù_y0
 = 0;

875 
ªndî_¥iv
->
°©e
.
˛ù_x1
 =Ñídî_¥iv->
åack
->
PœyResX
;

876 
ªndî_¥iv
->
°©e
.
˛ù_y1
 =Ñídî_¥iv->
åack
->
PœyResY
;

877 
ªndî_¥iv
->
°©e
.
˛ù_mode
 = 0;

878 
ªndî_¥iv
->
°©e
.
dëe˘_cﬁlisi⁄s
 = 1;

879 
ªndî_¥iv
->
°©e
.
Áde
 = 0;

880 
ªndî_¥iv
->
°©e
.
døwög_sˇÀ
 = 0;

881 
ªndî_¥iv
->
°©e
.
pbo
 = 0;

882 
ªndî_¥iv
->
°©e
.
ef„˘_ty≥
 = 
EF_NONE
;

883 
ªndî_¥iv
->
°©e
.
ef„˘_timög
 = 0;

884 
ªndî_¥iv
->
°©e
.
ef„˘_skù_timög
 = 0;

886 
	`≠∂y_å™sôi⁄_ef„˘s
(
ªndî_¥iv
, 
evít
);

887 
ªndî_¥iv
->
°©e
.
ex∂icô
 =Ñídî_¥iv->°©e.
evt_ty≥
 !
EVENT_NORMAL
 ||

888 
	`evít_has_h¨d_ovîrides
(
evít
->
Text
);

890 
	`ª£t_ªndî_c⁄ãxt
(
ªndî_¥iv
, 
NULL
);

891 
ªndî_¥iv
->
°©e
.
Æignmít
 =Ñídî_¥iv->°©e.
°yÀ
->
Alignmít
;

892 
ªndî_¥iv
->
°©e
.
ju°ify
 =Ñídî_¥iv->°©e.
°yÀ
->
Ju°ify
;

893 
	}
}

895 
	$‰ì_ªndî_c⁄ãxt
(
ASS_Rídîî
 *
ªndî_¥iv
)

897 
	`ass_ˇche_dec_ªf
(
ªndî_¥iv
->
°©e
.
f⁄t
);

898 
	`‰ì
(
ªndî_¥iv
->
°©e
.
Ámûy
);

899 
	`ass_døwög_‰ì
(
ªndî_¥iv
->
°©e
.
˛ù_døwög
);

901 
ªndî_¥iv
->
°©e
.
f⁄t
 = 
NULL
;

902 
ªndî_¥iv
->
°©e
.
Ámûy
 = 
NULL
;

903 
ªndî_¥iv
->
°©e
.
˛ù_døwög
 = 
NULL
;

905 
TextInfo
 *
ãxt_öfo
 = &
ªndî_¥iv
->text_info;

906 
n
 = 0;Ç < 
ãxt_öfo
->
Àngth
;Ç++)

907 
	`ass_døwög_‰ì
(
ãxt_öfo
->
glyphs
[
n
].
døwög
);

908 
ãxt_öfo
->
Àngth
 = 0;

909 
	}
}

915 
	$døw_›aque_box
(
ASS_Rídîî
 *
ªndî_¥iv
, 
GlyphInfo
 *
öfo
,

916 
asc
, 
desc
, 
ASS_Ouéöe
 *
ﬁ
,

917 
ASS_Ve˘‹
 
adv™˚
, 
sx
, 
sy
)

919 
adv
 = 
adv™˚
.
x
;

920 
sˇÀ_y
 = 
öfo
->
‹ig_sˇÀ_y
;

921 
sˇÀ_x
 = 
öfo
->
‹ig_sˇÀ_x
;

924 
sx
 = 
	`FFMAX
(64, sx);

925 
sy
 = 
	`FFMAX
(64, sy);

929 
adv
 +
	`doubÀ_to_d6
(
öfo
->
h•acög
 * 
ªndî_¥iv
->
f⁄t_sˇÀ
 * 
sˇÀ_x
);

930 
adv
 *
sˇÀ_x
;

931 
sx
 *
sˇÀ_x
;

932 
sy
 *
sˇÀ_y
;

933 
desc
 *
sˇÀ_y
;

934 
desc
 +
asc
 * (
sˇÀ_y
 - 1.0);

936 
ASS_Ve˘‹
 
poöts
[4] = {

937 { .
x
 = -
sx
, .
y
 = -
asc
 - 
sy
 },

938 { .
x
 = 
adv
 + 
sx
, .
y
 = -
asc
 - 
sy
 },

939 { .
x
 = 
adv
 + 
sx
, .
y
 = 
desc
 + 
sy
 },

940 { .
x
 = -
sx
, .
y
 = 
desc
 + 
sy
 },

943 c⁄° 
£gmíts
[4] = {

944 
OUTLINE_LINE_SEGMENT
,

945 
OUTLINE_LINE_SEGMENT
,

946 
OUTLINE_LINE_SEGMENT
,

947 
OUTLINE_LINE_SEGMENT
 | 
OUTLINE_CONTOUR_END


950 
ﬁ
->
n_poöts
 = ol->
n_£gmíts
 = 0;

951 i‡(!
	`ouéöe_Æloc
(
ﬁ
, 4, 4))

953 
i
 = 0; i < 4; i++) {

954 
ﬁ
->
poöts
[ﬁ->
n_poöts
++] =Öoöts[
i
];

955 
ﬁ
->
£gmíts
[ﬁ->
n_£gmíts
++] = segmíts[
i
];

957 
	}
}

963 
	$fûl_glyph_hash
(
ASS_Rídîî
 *
¥iv
, 
OuéöeHashKey
 *
ouéöe_key
,

964 
GlyphInfo
 *
öfo
)

966 i‡(
öfo
->
døwög
) {

967 
DøwögHashKey
 *
key
 = &
ouéöe_key
->
u
.
døwög
;

968 
ouéöe_key
->
ty≥
 = 
OUTLINE_DRAWING
;

969 
key
->
sˇÀ_x
 = 
	`doubÀ_to_d16
(
öfo
->scale_x);

970 
key
->
sˇÀ_y
 = 
	`doubÀ_to_d16
(
öfo
->scale_y);

971 
key
->
ouéöe
.
x
 = 
	`doubÀ_to_d6
(
öfo
->
b‹dî_x
 * 
¥iv
->
b‹dî_sˇÀ
);

972 
key
->
ouéöe
.
y
 = 
	`doubÀ_to_d6
(
öfo
->
b‹dî_y
 * 
¥iv
->
b‹dî_sˇÀ
);

973 
key
->
b‹dî_°yÀ
 = 
öfo
->border_style;

976 
key
->
h•acög
 =

977 
öfo
->
b‹dî_°yÀ
 =3 ? 
	`doubÀ_to_d16
(öfo->
h•acög
) : 0;

978 
key
->
hash
 = 
öfo
->
døwög
->hash;

979 
key
->
ãxt
 = 
öfo
->
døwög
->text;

980 
key
->
pbo
 = 
öfo
->
døwög
->pbo;

981 
key
->
sˇÀ
 = 
öfo
->
døwög
->scale;

983 
GlyphHashKey
 *
key
 = &
ouéöe_key
->
u
.
glyph
;

984 
ouéöe_key
->
ty≥
 = 
OUTLINE_GLYPH
;

985 
key
->
f⁄t
 = 
öfo
->font;

986 
key
->
size
 = 
öfo
->
f⁄t_size
;

987 
key
->
Á˚_ödex
 = 
öfo
->face_index;

988 
key
->
glyph_ödex
 = 
öfo
->glyph_index;

989 
key
->
bﬁd
 = 
öfo
->bold;

990 
key
->
ôÆic
 = 
öfo
->italic;

991 
key
->
sˇÀ_x
 = 
	`doubÀ_to_d16
(
öfo
->scale_x);

992 
key
->
sˇÀ_y
 = 
	`doubÀ_to_d16
(
öfo
->scale_y);

993 
key
->
ouéöe
.
x
 = 
	`doubÀ_to_d6
(
öfo
->
b‹dî_x
 * 
¥iv
->
b‹dî_sˇÀ
);

994 
key
->
ouéöe
.
y
 = 
	`doubÀ_to_d6
(
öfo
->
b‹dî_y
 * 
¥iv
->
b‹dî_sˇÀ
);

995 
key
->
Êags
 = 
öfo
->flags;

996 
key
->
b‹dî_°yÀ
 = 
öfo
->border_style;

997 
key
->
h•acög
 =

998 
öfo
->
b‹dî_°yÀ
 =3 ? 
	`doubÀ_to_d16
(öfo->
h•acög
) : 0;

1000 
	}
}

1005 
	$fûl_composôe_hash
(
ComposôeHashKey
 *
hk
, 
ComböedBôm≠Info
 *
öfo
)

1007 
hk
->
fûãr
 = 
öfo
->filter;

1008 
hk
->
bôm≠_cou¡
 = 
öfo
->bitmap_count;

1009 
hk
->
bôm≠s
 = 
öfo
->bitmaps;

1010 
	}
}

1021 
	$gë_ouéöe_glyph
(
ASS_Rídîî
 *
¥iv
, 
GlyphInfo
 *
öfo
)

1023 
	`mem£t
(&
öfo
->
hash_key
, 0, (info->hash_key));

1025 
OuéöeHashKey
 
key
;

1026 
OuéöeHashVÆue
 *
vÆ
;

1027 
	`fûl_glyph_hash
(
¥iv
, &
key
, 
öfo
);

1028 i‡(!
	`ass_ˇche_gë
(
¥iv
->
ˇche
.
ouéöe_ˇche
, &
key
, &
vÆ
)) {

1029 i‡(!
vÆ
)

1031 
	`mem£t
(
vÆ
, 0, (*val));

1033 i‡(
öfo
->
døwög
) {

1034 
ASS_Døwög
 *
døwög
 = 
öfo
->drawing;

1035 
	`ass_døwög_hash
(
døwög
);

1036 if(!
	`ass_døwög_∑r£
(
døwög
, 
Ál£
) ||

1037 !
	`ouéöe_c›y
(&
vÆ
->
ouéöe
, &
døwög
->outline)) {

1038 
	`ass_ˇche_commô
(
vÆ
, 1);

1039 
	`ass_ˇche_dec_ªf
(
vÆ
);

1042 
vÆ
->
adv™˚
.
x
 = 
døwög
->advance.x;

1043 
vÆ
->
adv™˚
.
y
 = 
døwög
->advance.y;

1044 
vÆ
->
asc
 = 
døwög
->asc;

1045 
vÆ
->
desc
 = 
døwög
->desc;

1047 
	`ass_Á˚_£t_size
(
öfo
->
f⁄t
->
Á˚s
[öfo->
Á˚_ödex
],

1048 
öfo
->
f⁄t_size
);

1049 
	`ass_f⁄t_£t_å™sf‹m
(
öfo
->
f⁄t
, info->
sˇÀ_x
,

1050 
öfo
->
sˇÀ_y
, 
NULL
);

1051 
FT_Glyph
 
glyph
 =

1052 
	`ass_f⁄t_gë_glyph
(
öfo
->
f⁄t
,

1053 
öfo
->
symbﬁ
, info->
Á˚_ödex
, info->
glyph_ödex
,

1054 
¥iv
->
£âögs
.
hötög
, 
öfo
->
Êags
);

1055 i‡(
glyph
 !
NULL
) {

1056 
FT_Ouéöe
 *
§c
 = &((
FT_OuéöeGlyph
Ë
glyph
)->
ouéöe
;

1057 i‡(!
	`ouéöe_c⁄vît
(&
vÆ
->
ouéöe
, 
§c
)) {

1058 
	`ass_ˇche_commô
(
vÆ
, 1);

1059 
	`ass_ˇche_dec_ªf
(
vÆ
);

1062 i‡(
¥iv
->
£âögs
.
sh≠î
 =
ASS_SHAPING_SIMPLE
) {

1063 
vÆ
->
adv™˚
.
x
 = 
	`d16_to_d6
(
glyph
->advance.x);

1064 
vÆ
->
adv™˚
.
y
 = 
	`d16_to_d6
(
glyph
->advance.y);

1066 
	`FT_D⁄e_Glyph
(
glyph
);

1067 
	`ass_f⁄t_gë_asc_desc
(
öfo
->
f⁄t
, info->
symbﬁ
,

1068 &
vÆ
->
asc
, &vÆ->
desc
);

1069 
vÆ
->
asc
 *
öfo
->
sˇÀ_y
;

1070 
vÆ
->
desc
 *
öfo
->
sˇÀ_y
;

1073 
vÆ
->
vÆid
 = 
åue
;

1075 
	`ouéöe_gë_cbox
(&
vÆ
->
ouéöe
, &vÆ->
bbox_sˇÀd
);

1077 i‡(
öfo
->
b‹dî_°yÀ
 == 3) {

1078 
ASS_Ve˘‹
 
adv™˚
;

1079 i‡(
¥iv
->
£âögs
.
sh≠î
 =
ASS_SHAPING_SIMPLE
 || 
öfo
->
døwög
)

1080 
adv™˚
 = 
vÆ
->advance;

1082 
adv™˚
 = 
öfo
->advance;

1084 
	`døw_›aque_box
(
¥iv
, 
öfo
, 
vÆ
->
asc
, vÆ->
desc
, &vÆ->
b‹dî
[0], 
adv™˚
,

1085 
	`doubÀ_to_d6
(
öfo
->
b‹dî_x
 * 
¥iv
->
b‹dî_sˇÀ
),

1086 
	`doubÀ_to_d6
(
öfo
->
b‹dî_y
 * 
¥iv
->
b‹dî_sˇÀ
));

1088 } i‡(
vÆ
->
ouéöe
.
n_poöts
 && (
öfo
->
b‹dî_x
 > 0 || info->
b‹dî_y
 > 0)

1089 && 
	`doubÀ_to_d6
(
öfo
->
sˇÀ_x
Ë&& doubÀ_to_d6(öfo->
sˇÀ_y
)) {

1090 c⁄° 
ïs
 = 16;

1091 
xb‹d
 = 
	`doubÀ_to_d6
(
öfo
->
b‹dî_x
 * 
¥iv
->
b‹dî_sˇÀ
);

1092 
yb‹d
 = 
	`doubÀ_to_d6
(
öfo
->
b‹dî_y
 * 
¥iv
->
b‹dî_sˇÀ
);

1093 if(
xb‹d
 >
ïs
 || 
yb‹d
 >=Éps) {

1094 
	`ouéöe_Æloc
(&
vÆ
->
b‹dî
[0], 2 * vÆ->
ouéöe
.
n_poöts
, 2 * vÆ->ouéöe.
n_£gmíts
);

1095 
	`ouéöe_Æloc
(&
vÆ
->
b‹dî
[1], 2 * vÆ->
ouéöe
.
n_poöts
, 2 * vÆ->ouéöe.
n_£gmíts
);

1096 i‡(!
vÆ
->
b‹dî
[0].
max_poöts
 || !val->border[1].max_points ||

1097 !
	`ouéöe_°roke
(&
vÆ
->
b‹dî
[0], &val->border[1],

1098 &
vÆ
->
ouéöe
, 
xb‹d
, 
yb‹d
, 
ïs
)) {

1099 
	`ass_msg
(
¥iv
->
libøry
, 
MSGL_WARN
, "Cannot stoke outline");

1100 
	`ouéöe_‰ì
(&
vÆ
->
b‹dî
[0]);

1101 
	`ouéöe_‰ì
(&
vÆ
->
b‹dî
[1]);

1106 
	`ass_ˇche_commô
(
vÆ
, 1);

1107 } i‡(!
vÆ
->
vÆid
) {

1108 
	`ass_ˇche_dec_ªf
(
vÆ
);

1112 
öfo
->
hash_key
.
u
.
ouéöe
.ouéöê
vÆ
;

1113 
öfo
->
ouéöe
 = &
vÆ
->outline;

1114 
öfo
->
b‹dî
[0] = &
vÆ
->border[0];

1115 
öfo
->
b‹dî
[1] = &
vÆ
->border[1];

1116 
öfo
->
bbox
 = 
vÆ
->
bbox_sˇÀd
;

1117 i‡(
öfo
->
døwög
 || 
¥iv
->
£âögs
.
sh≠î
 =
ASS_SHAPING_SIMPLE
) {

1118 
öfo
->
˛u°î_adv™˚
.
x
 = info->
adv™˚
.x = 
vÆ
->advance.x;

1119 
öfo
->
˛u°î_adv™˚
.
y
 = info->
adv™˚
.y = 
vÆ
->advance.y;

1121 
öfo
->
asc
 = 
vÆ
->asc;

1122 
öfo
->
desc
 = 
vÆ
->desc;

1123 
	}
}

1129 
	$ˇlc_å™sf‹m_m©rix
(
ASS_Ve˘‹
 
shi·
,

1130 
‰x
, 
‰y
, 
‰z
,

1131 
Áx
, 
Áy
, 
sˇÀ
,

1132 
yshi·
, 
m
[3][3])

1134 
sx
 = -
	`sö
(
‰x
), 
cx
 = 
	`cos
(frx);

1135 
sy
 = 
	`sö
(
‰y
), 
cy
 = 
	`cos
(fry);

1136 
sz
 = -
	`sö
(
‰z
), 
cz
 = 
	`cos
(frz);

1138 
x1
[3] = { 1, 
Áx
, 
shi·
.
x
 + fax * 
yshi·
 };

1139 
y1
[3] = { 
Áy
, 1, 
shi·
.
y
 };

1141 
x2
[3], 
y2
[3];

1142 
i
 = 0; i < 3; i++) {

1143 
x2
[
i
] = 
x1
[i] * 
cz
 - 
y1
[i] * 
sz
;

1144 
y2
[
i
] = 
x1
[i] * 
sz
 + 
y1
[i] * 
cz
;

1147 
y3
[3], 
z3
[3];

1148 
i
 = 0; i < 3; i++) {

1149 
y3
[
i
] = 
y2
[i] * 
cx
;

1150 
z3
[
i
] = 
y2
[i] * 
sx
;

1153 
x4
[3], 
z4
[3];

1154 
i
 = 0; i < 3; i++) {

1155 
x4
[
i
] = 
x2
[i] * 
cy
 - 
z3
[i] * 
sy
;

1156 
z4
[
i
] = 
x2
[i] * 
sy
 + 
z3
[i] * 
cy
;

1159 
di°
 = 20000 * 
sˇÀ
;

1160 
i
 = 0; i < 3; i++) {

1161 
m
[0][
i
] = 
x4
[i] * 
di°
;

1162 
m
[1][
i
] = 
y3
[i] * 
di°
;

1163 
m
[2][
i
] = 
z4
[i];

1165 
m
[2][2] +
di°
;

1166 
	}
}

1179 
	$å™sf‹m_3d
(
ASS_Ve˘‹
 
shi·
, 
ASS_Ouéöe
 *
ouéöe
, 
n_ouéöes
,

1180 
‰x
, 
‰y
, 
‰z
, 
Áx
, 
Áy
,

1181 
sˇÀ
, 
yshi·
)

1183 i‡(
‰x
 =0 && 
‰y
 =0 && 
‰z
 =0 && 
Áx
 =0 && 
Áy
 == 0)

1186 
m
[3][3];

1187 
	`ˇlc_å™sf‹m_m©rix
(
shi·
, 
‰x
, 
‰y
, 
‰z
, 
Áx
, 
Áy
, 
sˇÀ
, 
yshi·
, 
m
);

1189 
i
 = 0; i < 
n_ouéöes
; i++) {

1190 
ASS_Ve˘‹
 *
p
 = 
ouéöe
[
i
].
poöts
;

1191 
size_t
 
j
 = 0; j < 
ouéöe
[
i
].
n_poöts
; ++j) {

1192 
v
[3];

1193 
k
 = 0; k < 3; k++)

1194 
v
[
k
] = 
m
[k][0] * 
p
[
j
].
x
 + m[k][1] *Ö[j].
y
 + m[k][2];

1196 
w
 = 1 / 
	`FFMAX
(
v
[2], 1000);

1197 
p
[
j
].
x
 = 
	`Ãöt
(
v
[0] * 
w
Ë- 
shi·
.x;

1198 
p
[
j
].
y
 = 
	`Ãöt
(
v
[1] * 
w
Ë- 
shi·
.y;

1201 
	}
}

1212 
	$gë_bôm≠_glyph
(
ASS_Rídîî
 *
ªndî_¥iv
, 
GlyphInfo
 *
öfo
)

1214 i‡(!
öfo
->
ouéöe
 || info->
symbﬁ
 ='\n' || info->symbﬁ =0 || info->
skù
)

1217 
Bôm≠HashVÆue
 *
vÆ
;

1218 
OuéöeBôm≠HashKey
 *
key
 = &
öfo
->
hash_key
.
u
.
ouéöe
;

1219 i‡(
	`ass_ˇche_gë
(
ªndî_¥iv
->
ˇche
.
bôm≠_ˇche
, &
öfo
->
hash_key
, &
vÆ
)) {

1220 
öfo
->
image
 = 
vÆ
;

1221 i‡(!
vÆ
->
vÆid
)

1222 
öfo
->
symbﬁ
 = 0;

1225 i‡(!
vÆ
) {

1226 
öfo
->
symbﬁ
 = 0;

1229 i‡(!
öfo
->
ouéöe
) {

1230 
	`mem£t
(
vÆ
, 0, (*val));

1231 
	`ass_ˇche_commô
(
vÆ
, (
Bôm≠HashKey
Ë+ (
Bôm≠HashVÆue
));

1232 
öfo
->
image
 = 
vÆ
;

1233 
öfo
->
symbﬁ
 = 0;

1237 c⁄° 
n_ouéöes
 = 3;

1238 
ASS_Ouéöe
 
ouéöe
[
n_ouéöes
];

1239 
	`ouéöe_c›y
(&
ouéöe
[0], 
öfo
->outline);

1240 
	`ouéöe_c›y
(&
ouéöe
[1], 
öfo
->
b‹dî
[0]);

1241 
	`ouéöe_c›y
(&
ouéöe
[2], 
öfo
->
b‹dî
[1]);

1244 
ASS_Ve˘‹
 
shi·
 = { 
key
->
shi·_x
, key->
shi·_y
 };

1245 
sˇÀ_x
 = 
ªndî_¥iv
->
f⁄t_sˇÀ_x
;

1246 
Áx_sˇÀd
 = 
öfo
->
Áx
 / info->
sˇÀ_y
 * info->
sˇÀ_x
;

1247 
Áy_sˇÀd
 = 
öfo
->
Áy
 / info->
sˇÀ_x
 * info->
sˇÀ_y
;

1251 
	`å™sf‹m_3d
(
shi·
, 
ouéöe
, 
n_ouéöes
,

1252 
öfo
->
‰x
, info->
‰y
, info->
‰z
, 
Áx_sˇÀd
,

1253 
Áy_sˇÀd
, 
ªndî_¥iv
->
blur_sˇÀ
, 
öfo
->
asc
);

1256 
i
 = 0; i < 
n_ouéöes
; i++)

1257 
	`ouéöe_adju°
(&
ouéöe
[
i
], 
sˇÀ_x
, 
key
->
adv™˚
.
x
, key->adv™˚.
y
);

1260 
vÆ
->
vÆid
 = 
	`ouéöe_to_bôm≠2
(
ªndî_¥iv
,

1261 &
ouéöe
[0], &outline[1], &outline[2],

1262 &
vÆ
->
bm
, &vÆ->
bm_o
);

1263 i‡(!
vÆ
->
vÆid
)

1264 
öfo
->
symbﬁ
 = 0;

1266 
	`ass_ˇche_commô
(
vÆ
, 
	`bôm≠_size
(vÆ->
bm
Ë+ bôm≠_size(vÆ->
bm_o
) +

1267 (
Bôm≠HashKey
Ë+ (
Bôm≠HashVÆue
));

1268 
öfo
->
image
 = 
vÆ
;

1270 
i
 = 0; i < 
n_ouéöes
; i++)

1271 
	`ouéöe_‰ì
(&
ouéöe
[
i
]);

1272 
	}
}

1282 
	$mósuª_ãxt
(
ASS_Rídîî
 *
ªndî_¥iv
)

1284 
TextInfo
 *
ãxt_öfo
 = &
ªndî_¥iv
->text_info;

1285 
cur_löe
 = 0;

1286 
max_asc
 = 0., 
max_desc
 = 0.;

1287 
GlyphInfo
 *
œ°
 = 
NULL
;

1288 
i
;

1289 
em±y_löe
 = 1;

1290 
ãxt_öfo
->
height
 = 0.;

1291 
i
 = 0; i < 
ãxt_öfo
->
Àngth
 + 1; ++i) {

1292 i‡((
i
 =
ãxt_öfo
->
Àngth
Ë||Åext_öfo->
glyphs
[i].
löebªak
) {

1293 i‡(
em±y_löe
 && 
cur_löe
 > 0 && 
œ°
) {

1294 
max_asc
 = 
	`d6_to_doubÀ
(
œ°
->
asc
) / 2.0;

1295 
max_desc
 = 
	`d6_to_doubÀ
(
œ°
->
desc
) / 2.0;

1297 
ãxt_öfo
->
löes
[
cur_löe
].
asc
 = 
max_asc
;

1298 
ãxt_öfo
->
löes
[
cur_löe
].
desc
 = 
max_desc
;

1299 
ãxt_öfo
->
height
 +
max_asc
 + 
max_desc
;

1300 
cur_löe
++;

1301 
max_asc
 = 
max_desc
 = 0.;

1302 
em±y_löe
 = 1;

1304 i‡(
i
 < 
ãxt_öfo
->
Àngth
) {

1305 
GlyphInfo
 *
cur
 = 
ãxt_öfo
->
glyphs
 + 
i
;

1306 i‡(
	`d6_to_doubÀ
(
cur
->
asc
Ë> 
max_asc
)

1307 
max_asc
 = 
	`d6_to_doubÀ
(
cur
->
asc
);

1308 i‡(
	`d6_to_doubÀ
(
cur
->
desc
Ë> 
max_desc
)

1309 
max_desc
 = 
	`d6_to_doubÀ
(
cur
->
desc
);

1310 i‡(
cur
->
symbﬁ
 != '\n' && cur->symbol != 0) {

1311 
em±y_löe
 = 0;

1312 
œ°
 = 
cur
;

1316 
ãxt_öfo
->
height
 +=

1317 (
ãxt_öfo
->
n_löes
 -

1318 1Ë* 
ªndî_¥iv
->
£âögs
.
löe_•acög
;

1319 
	}
}

1324 
	#IS_WHITESPACE
(
x
Ë((x->
symbﬁ
 == ' ' || x->symbol == '\n') \

1325 && !
x
->
löebªak
)

	)

1326 
	$åim_whôe•a˚
(
ASS_Rídîî
 *
ªndî_¥iv
)

1328 
i
, 
j
;

1329 
GlyphInfo
 *
cur
;

1330 
TextInfo
 *
ti
 = &
ªndî_¥iv
->
ãxt_öfo
;

1333 
i
 = 
ti
->
Àngth
 - 1;

1334 
cur
 = 
ti
->
glyphs
 + 
i
;

1335 
i
 && 
	`IS_WHITESPACE
(
cur
)) {

1336 
cur
->
skù
++;

1337 
cur
 = 
ti
->
glyphs
 + --
i
;

1341 
i
 = 0;

1342 
cur
 = 
ti
->
glyphs
;

1343 
i
 < 
ti
->
Àngth
 && 
	`IS_WHITESPACE
(
cur
)) {

1344 
cur
->
skù
++;

1345 
cur
 = 
ti
->
glyphs
 + ++
i
;

1349 
i
 = 0; i < 
ti
->
Àngth
; ++i) {

1350 
cur
 = 
ti
->
glyphs
 + 
i
;

1351 i‡(
cur
->
löebªak
) {

1353 
j
 = 
i
 - 1;

1354 
cur
 = 
ti
->
glyphs
 + 
j
;

1355 
j
 && 
	`IS_WHITESPACE
(
cur
)) {

1356 
cur
->
skù
++;

1357 
cur
 = 
ti
->
glyphs
 + --
j
;

1360 
cur
 = 
ti
->
glyphs
 + 
i
;

1361 i‡(
cur
->
symbﬁ
 == ' ' || cur->symbol == '\n') {

1362 
cur
->
skù
++;

1364 
j
 = 
i
 + 1;

1365 
cur
 = 
ti
->
glyphs
 + 
j
;

1366 
j
 < 
ti
->
Àngth
 && 
	`IS_WHITESPACE
(
cur
)) {

1367 
cur
->
skù
++;

1368 
cur
 = 
ti
->
glyphs
 + ++
j
;

1370 
i
 = 
j
 - 1;

1374 
	}
}

1375 #unde‡
IS_WHITESPACE


1389 
	$wøp_löes_sm¨t
(
ASS_Rídîî
 *
ªndî_¥iv
, 
max_ãxt_width
)

1391 
i
;

1392 
GlyphInfo
 *
cur
, *
s1
, *
e1
, *
s2
, *
s3
;

1393 
œ°_•a˚
;

1394 
bªak_ty≥
;

1395 
exô
;

1396 
≥n_shi·_x
;

1397 
≥n_shi·_y
;

1398 
cur_löe
;

1399 
TextInfo
 *
ãxt_öfo
 = &
ªndî_¥iv
->text_info;

1401 
œ°_•a˚
 = -1;

1402 
ãxt_öfo
->
n_löes
 = 1;

1403 
bªak_ty≥
 = 0;

1404 
s1
 = 
ãxt_öfo
->
glyphs
;

1405 
i
 = 0; i < 
ãxt_öfo
->
Àngth
; ++i) {

1406 
bªak_©
 = -1;

1407 
s_off£t
, 
Àn
;

1408 
cur
 = 
ãxt_öfo
->
glyphs
 + 
i
;

1409 
s_off£t
 = 
	`d6_to_doubÀ
(
s1
->
bbox
.
x_mö
 + s1->
pos
.
x
);

1410 
Àn
 = 
	`d6_to_doubÀ
(
cur
->
bbox
.
x_max
 + cur->
pos
.
x
Ë- 
s_off£t
;

1412 i‡(
cur
->
symbﬁ
 == '\n') {

1413 
bªak_ty≥
 = 2;

1414 
bªak_©
 = 
i
;

1415 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_DBG2
,

1416 "f‹˚dÜöêbªakáà%d", 
bªak_©
);

1417 } i‡(
cur
->
symbﬁ
 == ' ') {

1418 
œ°_•a˚
 = 
i
;

1419 } i‡(
Àn
 >
max_ãxt_width


1420 && (
ªndî_¥iv
->
°©e
.
wøp_°yÀ
 != 2)) {

1421 
bªak_ty≥
 = 1;

1422 
bªak_©
 = 
œ°_•a˚
;

1423 i‡(
bªak_©
 >= 0)

1424 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_DBG2
, "line breakát %d",

1425 
bªak_©
);

1428 i‡(
bªak_©
 != -1) {

1431 
Àad
 = 
bªak_©
 + 1;

1432 i‡(
ãxt_öfo
->
n_löes
 >ãxt_öfo->
max_löes
) {

1434 
ãxt_öfo
->
max_löes
 *= 2;

1435 
ãxt_öfo
->
löes
 = 
	`ªÆloc
(text_info->lines,

1436 (
LöeInfo
) *

1437 
ãxt_öfo
->
max_löes
);

1439 i‡(
Àad
 < 
ãxt_öfo
->
Àngth
) {

1440 
ãxt_öfo
->
glyphs
[
Àad
].
löebªak
 = 
bªak_ty≥
;

1441 
œ°_•a˚
 = -1;

1442 
s1
 = 
ãxt_öfo
->
glyphs
 + 
Àad
;

1443 
ãxt_öfo
->
n_löes
++;

1447 
	#DIFF
(
x
,
y
Ë(((xË< (y)Ë? (y - xË: (x - y))

	)

1448 
exô
 = 0;

1449 !
exô
 && 
ªndî_¥iv
->
°©e
.
wøp_°yÀ
 != 1) {

1450 
exô
 = 1;

1451 
s3
 = 
ãxt_öfo
->
glyphs
;

1452 
s1
 = 
s2
 = 0;

1453 
i
 = 0; i <
ãxt_öfo
->
Àngth
; ++i) {

1454 
cur
 = 
ãxt_öfo
->
glyphs
 + 
i
;

1455 i‡((
i
 =
ãxt_öfo
->
Àngth
Ë|| 
cur
->
löebªak
) {

1456 
s1
 = 
s2
;

1457 
s2
 = 
s3
;

1458 
s3
 = 
cur
;

1459 i‡(
s1
 && (
s2
->
löebªak
 == 1)) {

1460 
l1
, 
l2
, 
l1_√w
, 
l2_√w
;

1461 
GlyphInfo
 *
w
 = 
s2
;

1464 --
w
;

1465 } (
w
 > 
s1
Ë&& (w->
symbﬁ
 == ' '));

1466 (
w
 > 
s1
Ë&& (w->
symbﬁ
 != ' ')) {

1467 --
w
;

1469 
e1
 = 
w
;

1470 (
e1
 > 
s1
Ë&& (e1->
symbﬁ
 == ' ')) {

1471 --
e1
;

1473 i‡(
w
->
symbﬁ
 == ' ')

1474 ++
w
;

1476 
l1
 = 
	`d6_to_doubÀ
(((
s2
 - 1)->
bbox
.
x_max
 + (s2 - 1)->
pos
.
x
) -

1477 (
s1
->
bbox
.
x_mö
 + s1->
pos
.
x
));

1478 
l2
 = 
	`d6_to_doubÀ
(((
s3
 - 1)->
bbox
.
x_max
 + (s3 - 1)->
pos
.
x
) -

1479 (
s2
->
bbox
.
x_mö
 + s2->
pos
.
x
));

1480 
l1_√w
 = 
	`d6_to_doubÀ
(

1481 (
e1
->
bbox
.
x_max
 +É1->
pos
.
x
) -

1482 (
s1
->
bbox
.
x_mö
 + s1->
pos
.
x
));

1483 
l2_√w
 = 
	`d6_to_doubÀ
(

1484 ((
s3
 - 1)->
bbox
.
x_max
 + (s3 - 1)->
pos
.
x
) -

1485 (
w
->
bbox
.
x_mö
 + w->
pos
.
x
));

1487 i‡(
	`DIFF
(
l1_√w
, 
l2_√w
Ë< DIFF(
l1
, 
l2
)) {

1488 i‡(
w
->
löebªak
 || w =
ãxt_öfo
->
glyphs
)

1489 
ãxt_öfo
->
n_löes
--;

1490 i‡(
w
 !
ãxt_öfo
->
glyphs
)

1491 
w
->
löebªak
 = 1;

1492 
s2
->
löebªak
 = 0;

1493 
exô
 = 0;

1497 i‡(
i
 =
ãxt_öfo
->
Àngth
)

1502 
	`as£π
(
ãxt_öfo
->
n_löes
 >= 1);

1503 #unde‡
DIFF


1505 
	`mósuª_ãxt
(
ªndî_¥iv
);

1506 
	`åim_whôe•a˚
(
ªndî_¥iv
);

1508 
cur_löe
 = 1;

1510 
i
 = 0;

1511 
cur
 = 
ãxt_öfo
->
glyphs
 + 
i
;

1512 
i
 < 
ãxt_öfo
->
Àngth
 && 
cur
->
skù
)

1513 
cur
 = 
ãxt_öfo
->
glyphs
 + ++
i
;

1514 
≥n_shi·_x
 = 
	`d6_to_doubÀ
(-
cur
->
pos
.
x
);

1515 
≥n_shi·_y
 = 0.;

1517 
i
 = 0; i < 
ãxt_öfo
->
Àngth
; ++i) {

1518 
cur
 = 
ãxt_öfo
->
glyphs
 + 
i
;

1519 i‡(
cur
->
löebªak
) {

1520 
i
 < 
ãxt_öfo
->
Àngth
 && 
cur
->
skù
 && cur->
symbﬁ
 != '\n')

1521 
cur
 = 
ãxt_öfo
->
glyphs
 + ++
i
;

1522 
height
 =

1523 
ãxt_öfo
->
löes
[
cur_löe
 - 1].
desc
 +

1524 
ãxt_öfo
->
löes
[
cur_löe
].
asc
;

1525 
ãxt_öfo
->
löes
[
cur_löe
 - 1].
Àn
 = 
i
 -

1526 
ãxt_öfo
->
löes
[
cur_löe
 - 1].
off£t
;

1527 
ãxt_öfo
->
löes
[
cur_löe
].
off£t
 = 
i
;

1528 
cur_löe
++;

1529 
≥n_shi·_x
 = 
	`d6_to_doubÀ
(-
cur
->
pos
.
x
);

1530 
≥n_shi·_y
 +
height
 + 
ªndî_¥iv
->
£âögs
.
löe_•acög
;

1532 
cur
->
pos
.
x
 +
	`doubÀ_to_d6
(
≥n_shi·_x
);

1533 
cur
->
pos
.
y
 +
	`doubÀ_to_d6
(
≥n_shi·_y
);

1535 
ãxt_öfo
->
löes
[
cur_löe
 - 1].
Àn
 =

1536 
ãxt_öfo
->
Àngth
 -Åext_öfo->
löes
[
cur_löe
 - 1].
off£t
;

1540 
i
 = 0; i < 
ãxt_öfo
->
n_löes
; i++) {

1541 
	`¥ötf
("löê%d off£à%dÜígth %d\n", 
i
, 
ãxt_öfo
->
löes
[i].
off£t
,

1542 
ãxt_öfo
->
löes
[
i
].
Àn
);

1545 
	}
}

1553 
	$gë_ba£_poöt
(
ASS_DRe˘
 *
bbox
, 
Æignmít
, *
bx
, *
by
)

1555 c⁄° 
hÆign
 = 
Æignmít
 & 3;

1556 c⁄° 
vÆign
 = 
Æignmít
 & 12;

1557 i‡(
bx
)

1558 
hÆign
) {

1559 
HALIGN_LEFT
:

1560 *
bx
 = 
bbox
->
x_mö
;

1562 
HALIGN_CENTER
:

1563 *
bx
 = (
bbox
->
x_max
 + bbox->
x_mö
) / 2.0;

1565 
HALIGN_RIGHT
:

1566 *
bx
 = 
bbox
->
x_max
;

1569 i‡(
by
)

1570 
vÆign
) {

1571 
VALIGN_TOP
:

1572 *
by
 = 
bbox
->
y_mö
;

1574 
VALIGN_CENTER
:

1575 *
by
 = (
bbox
->
y_max
 + bbox->
y_mö
) / 2.0;

1577 
VALIGN_SUB
:

1578 *
by
 = 
bbox
->
y_max
;

1581 
	}
}

1587 
	$fûl_bôm≠_hash
(
ASS_Rídîî
 *
¥iv
, 
GlyphInfo
 *
öfo
,

1588 
OuéöeBôm≠HashKey
 *
hash_key
)

1590 
hash_key
->
‰x
 = 
	`rŸ_key
(
öfo
->frx);

1591 
hash_key
->
‰y
 = 
	`rŸ_key
(
öfo
->fry);

1592 
hash_key
->
‰z
 = 
	`rŸ_key
(
öfo
->frz);

1593 
hash_key
->
Áx
 = 
	`doubÀ_to_d16
(
öfo
->fax);

1594 
hash_key
->
Áy
 = 
	`doubÀ_to_d16
(
öfo
->fay);

1595 
	}
}

1607 
	$fix_glyph_sˇlög
(
ASS_Rídîî
 *
¥iv
, 
GlyphInfo
 *
glyph
)

1609 
·_size
;

1610 i‡(
¥iv
->
£âögs
.
hötög
 =
ASS_HINTING_NONE
) {

1613 
·_size
 = 256.0;

1617 
·_size
 = 
glyph
->
sˇÀ_y
 * glyph->
f⁄t_size
;

1619 
glyph
->
sˇÀ_x
 = glyph->sˇÀ_x * glyph->
f⁄t_size
 / 
·_size
;

1620 
glyph
->
sˇÀ_y
 = glyph->sˇÀ_y * glyph->
f⁄t_size
 / 
·_size
;

1621 
glyph
->
f⁄t_size
 = 
·_size
;

1622 
	}
}

1630 
	$is_√w_bm_run
(
GlyphInfo
 *
öfo
, GlyphInfÿ*
œ°
)

1633  !
œ°
 || 
öfo
->
ef„˘
 || info->
døwög
 ||Üast->drawing ||

1634 
	`°rcmp
(
œ°
->
f⁄t
->
desc
.
Ámûy
, 
öfo
->font->desc.family) ||

1635 
œ°
->
f⁄t
->
desc
.
vîtiˇl
 !
öfo
->font->desc.vertical ||

1636 
œ°
->
Á˚_ödex
 !
öfo
->face_index ||

1637 
œ°
->
f⁄t_size
 !
öfo
->font_size ||

1638 
œ°
->
c
[0] !
öfo
->c[0] ||

1639 
œ°
->
c
[1] !
öfo
->c[1] ||

1640 
œ°
->
c
[2] !
öfo
->c[2] ||

1641 
œ°
->
c
[3] !
öfo
->c[3] ||

1642 
œ°
->
be
 !
öfo
->be ||

1643 
œ°
->
blur
 !
öfo
->blur ||

1644 
œ°
->
shadow_x
 !
öfo
->shadow_x ||

1645 
œ°
->
shadow_y
 !
öfo
->shadow_y ||

1646 
œ°
->
‰x
 !
öfo
->frx ||

1647 
œ°
->
‰y
 !
öfo
->fry ||

1648 
œ°
->
‰z
 !
öfo
->frz ||

1649 
œ°
->
Áx
 !
öfo
->fax ||

1650 
œ°
->
Áy
 !
öfo
->fay ||

1651 
œ°
->
sˇÀ_x
 !
öfo
->scale_x ||

1652 
œ°
->
sˇÀ_y
 !
öfo
->scale_y ||

1653 
œ°
->
b‹dî_°yÀ
 !
öfo
->border_style ||

1654 
œ°
->
b‹dî_x
 !
öfo
->border_x ||

1655 
œ°
->
b‹dî_y
 !
öfo
->border_y ||

1656 
œ°
->
h•acög
 !
öfo
->hspacing ||

1657 
œ°
->
ôÆic
 !
öfo
->italic ||

1658 
œ°
->
bﬁd
 !
öfo
->bold ||

1659 
œ°
->
Êags
 !
öfo
->flags;

1660 
	}
}

1662 
	$make_shadow_bôm≠
(
ComböedBôm≠Info
 *
öfo
, 
ASS_Rídîî
 *
ªndî_¥iv
)

1664 i‡(!(
öfo
->
fûãr
.
Êags
 & 
FILTER_NONZERO_SHADOW
)) {

1665 i‡(
öfo
->
bm
 && info->
bm_o
 && !(öfo->
fûãr
.
Êags
 & 
FILTER_BORDER_STYLE_3
)) {

1666 
	`fix_ouéöe
(
öfo
->
bm
, info->
bm_o
);

1667 } i‡(
öfo
->
bm_o
 && !(öfo->
fûãr
.
Êags
 & 
FILTER_NONZERO_BORDER
)) {

1668 
	`ass_‰ì_bôm≠
(
öfo
->
bm_o
);

1669 
öfo
->
bm_o
 = 0;

1675 i‡(
öfo
->
bm
 && info->
bm_o
 && !(öfo->
fûãr
.
Êags
 & 
FILTER_BORDER_STYLE_3
)) {

1676 
öfo
->
bm_s
 = 
	`c›y_bôm≠
(
ªndî_¥iv
->
ígöe
, info->
bm_o
);

1677 
	`fix_ouéöe
(
öfo
->
bm
, info->
bm_o
);

1678 } i‡(
öfo
->
bm_o
 && (öfo->
fûãr
.
Êags
 & 
FILTER_NONZERO_BORDER
)) {

1679 
öfo
->
bm_s
 = 
	`c›y_bôm≠
(
ªndî_¥iv
->
ígöe
, info->
bm_o
);

1680 } i‡(
öfo
->
bm_o
) {

1681 
öfo
->
bm_s
 = info->
bm_o
;

1682 
öfo
->
bm_o
 = 0;

1683 } i‡(
öfo
->
bm
)

1684 
öfo
->
bm_s
 = 
	`c›y_bôm≠
(
ªndî_¥iv
->
ígöe
, info->
bm
);

1686 i‡(!
öfo
->
bm_s
)

1691 
öfo
->
bm_s
->
À·
 +öfo->
fûãr
.
shadow
.
x
 >> 6;

1692 
öfo
->
bm_s
->
t›
 +öfo->
fûãr
.
shadow
.
y
 >> 6;

1693 
	`shi·_bôm≠
(
öfo
->
bm_s
, info->
fûãr
.
shadow
.
x
 & 
SUBPIXEL_MASK
, info->fûãr.shadow.
y
 & SUBPIXEL_MASK);

1694 
	}
}

1698 
	$∑r£_evíts
(
ASS_Rídîî
 *
ªndî_¥iv
, 
ASS_Evít
 *
evít
)

1700 
TextInfo
 *
ãxt_öfo
 = &
ªndî_¥iv
->text_info;

1701 
ASS_Døwög
 *
døwög
 = 
NULL
;

1702 
code
;

1703 *
p
, *
q
;

1704 
i
;

1706 
p
 = 
evít
->
Text
;

1712 
code
 = 0;

1713 *
p
) {

1714 i‡((*
p
 ='{'Ë&& (
q
 = 
	`°rchr
(p, '}'))) {

1715 
p
 = 
	`∑r£_ègs
(
ªndî_¥iv
,Ö, 
q
, 1., 
Ál£
);

1716 
	`as£π
(*
p
 == '}');

1717 
p
++;

1718 } i‡(
ªndî_¥iv
->
°©e
.
døwög_sˇÀ
) {

1719 
q
 = 
p
;

1720 i‡(*
p
 == '{')

1721 
q
++;

1722 (*
q
 != '{') && (*q != 0))

1723 
q
++;

1724 i‡(!
døwög
) {

1725 
døwög
 = 
	`ass_døwög_√w
(
ªndî_¥iv
->
libøry
);

1726 i‡(!
døwög
)

1729 
	`ass_døwög_£t_ãxt
(
døwög
, 
p
, 
q
 -Ö);

1730 
code
 = 0xfffc;

1731 
p
 = 
q
;

1734 
code
 = 
	`gë_√xt_ch¨
(
ªndî_¥iv
, &
p
);

1739 i‡(
code
 == 0)

1743 i‡(!
ªndî_¥iv
->
°©e
.
f⁄t
) {

1744 
	`‰ì_ªndî_c⁄ãxt
(
ªndî_¥iv
);

1745 
	`ass_døwög_‰ì
(
døwög
);

1749 i‡(
ãxt_öfo
->
Àngth
 >ãxt_öfo->
max_glyphs
) {

1751 
ãxt_öfo
->
max_glyphs
 *= 2;

1752 
ãxt_öfo
->
glyphs
 =

1753 
	`ªÆloc
(
ãxt_öfo
->
glyphs
,

1754 (
GlyphInfo
Ë* 
ãxt_öfo
->
max_glyphs
);

1757 
GlyphInfo
 *
öfo
 = &
ãxt_öfo
->
glyphs
[ãxt_öfo->
Àngth
];

1760 
	`mem£t
(
öfo
, 0, (
GlyphInfo
));

1763 i‡(
døwög
 && døwög->
ãxt
) {

1764 
døwög
->
sˇÀ_x
 = 
ªndî_¥iv
->
°©e
.scale_x *

1765 
ªndî_¥iv
->
f⁄t_sˇÀ
;

1766 
døwög
->
sˇÀ_y
 = 
ªndî_¥iv
->
°©e
.scale_y *

1767 
ªndî_¥iv
->
f⁄t_sˇÀ
;

1768 
døwög
->
sˇÀ
 = 
ªndî_¥iv
->
°©e
.
døwög_sˇÀ
;

1769 
døwög
->
pbo
 = 
ªndî_¥iv
->
°©e
.pbo;

1770 
öfo
->
døwög
 = drawing;

1771 
døwög
 = 
NULL
;

1775 
öfo
->
symbﬁ
 = 
code
;

1776 
öfo
->
f⁄t
 = 
ªndî_¥iv
->
°©e
.font;

1777 i‡(!
öfo
->
døwög
)

1778 
	`ass_ˇche_öc_ªf
(
öfo
->
f⁄t
);

1779 
i
 = 0; i < 4; ++i) {

1780 
uöt32_t
 
˛r
 = 
ªndî_¥iv
->
°©e
.
c
[
i
];

1782 i‡(
ªndî_¥iv
->
°©e
.
Áde
 > 0)

1783 
	`ch™ge_Æpha
(&
˛r
,

1784 
	`mu…_Æpha
(
	`_a
(
˛r
), 
ªndî_¥iv
->
°©e
.
Áde
), 1.);

1785 
öfo
->
c
[
i
] = 
˛r
;

1788 
öfo
->
ef„˘_ty≥
 = 
ªndî_¥iv
->
°©e
.effect_type;

1789 
öfo
->
ef„˘_timög
 = 
ªndî_¥iv
->
°©e
.effect_timing;

1790 
öfo
->
ef„˘_skù_timög
 = 
ªndî_¥iv
->
°©e
.effect_skip_timing;

1791 
öfo
->
f⁄t_size
 =

1792 
ªndî_¥iv
->
°©e
.
f⁄t_size
 *Ñídî_¥iv->
f⁄t_sˇÀ
;

1793 
öfo
->
be
 = 
ªndî_¥iv
->
°©e
.be;

1794 
öfo
->
blur
 = 
ªndî_¥iv
->
°©e
.blur;

1795 
öfo
->
shadow_x
 = 
ªndî_¥iv
->
°©e
.shadow_x;

1796 
öfo
->
shadow_y
 = 
ªndî_¥iv
->
°©e
.shadow_y;

1797 
öfo
->
sˇÀ_x
 = info->
‹ig_sˇÀ_x
 = 
ªndî_¥iv
->
°©e
.scale_x;

1798 
öfo
->
sˇÀ_y
 = info->
‹ig_sˇÀ_y
 = 
ªndî_¥iv
->
°©e
.scale_y;

1799 
öfo
->
b‹dî_°yÀ
 = 
ªndî_¥iv
->
°©e
.border_style;

1800 
öfo
->
b‹dî_x

ªndî_¥iv
->
°©e
.border_x;

1801 
öfo
->
b‹dî_y
 = 
ªndî_¥iv
->
°©e
.border_y;

1802 
öfo
->
h•acög
 = 
ªndî_¥iv
->
°©e
.hspacing;

1803 
öfo
->
bﬁd
 = 
ªndî_¥iv
->
°©e
.bold;

1804 
öfo
->
ôÆic
 = 
ªndî_¥iv
->
°©e
.italic;

1805 
öfo
->
Êags
 = 
ªndî_¥iv
->
°©e
.flags;

1806 
öfo
->
‰x
 = 
ªndî_¥iv
->
°©e
.frx;

1807 
öfo
->
‰y
 = 
ªndî_¥iv
->
°©e
.fry;

1808 
öfo
->
‰z
 = 
ªndî_¥iv
->
°©e
.frz;

1809 
öfo
->
Áx
 = 
ªndî_¥iv
->
°©e
.fax;

1810 
öfo
->
Áy
 = 
ªndî_¥iv
->
°©e
.fay;

1812 i‡(!
öfo
->
døwög
)

1813 
	`fix_glyph_sˇlög
(
ªndî_¥iv
, 
öfo
);

1815 
ãxt_öfo
->
Àngth
++;

1817 
ªndî_¥iv
->
°©e
.
ef„˘_ty≥
 = 
EF_NONE
;

1818 
ªndî_¥iv
->
°©e
.
ef„˘_timög
 = 0;

1819 
ªndî_¥iv
->
°©e
.
ef„˘_skù_timög
 = 0;

1822 
	`ass_døwög_‰ì
(
døwög
);

1825 
	}
}

1828 
	$ªåõve_glyphs
(
ASS_Rídîî
 *
ªndî_¥iv
)

1830 
GlyphInfo
 *
glyphs
 = 
ªndî_¥iv
->
ãxt_öfo
.glyphs;

1831 
i
;

1833 
i
 = 0; i < 
ªndî_¥iv
->
ãxt_öfo
.
Àngth
; i++) {

1834 
GlyphInfo
 *
öfo
 = 
glyphs
 + 
i
;

1835 
öfo
) {

1836 
	`gë_ouéöe_glyph
(
ªndî_¥iv
, 
öfo
);

1837 
öfo
 = info->
√xt
;

1839 
öfo
 = 
glyphs
 + 
i
;

1842 i‡(
i
 && 
glyphs
[ò- 1].
ôÆic
 && !
öfo
->italic) {

1843 
back
 = 
i
 - 1;

1844 
GlyphInfo
 *
og
 = &
glyphs
[
back
];

1845 
back
 && 
og
->
bbox
.
x_max
 - og->bbox.
x_mö
 == 0

1846 && 
og
->
ôÆic
)

1847 
og
 = &
glyphs
[--
back
];

1848 i‡(
og
->
bbox
.
x_max
 > og->
˛u°î_adv™˚
.
x
)

1849 
og
->
˛u°î_adv™˚
.
x
 = og->
bbox
.
x_max
;

1853 
öfo
->
˛u°î_adv™˚
.
x
 +
	`doubÀ_to_d6
(öfo->
h•acög
 *

1854 
ªndî_¥iv
->
f⁄t_sˇÀ
 * 
öfo
->
‹ig_sˇÀ_x
);

1857 
öfo
->
˛u°î_adv™˚
.
y
 +(öfo->
Áy
 / info->
sˇÀ_x
 * info->
sˇÀ_y
Ë* info->˛u°î_adv™˚.
x
;

1859 
	}
}

1862 
	$¥ñimö¨y_œyout
(
ASS_Rídîî
 *
ªndî_¥iv
)

1864 
ASS_Ve˘‹
 
≥n
 = { 0, 0 };

1865 
i
 = 0; i < 
ªndî_¥iv
->
ãxt_öfo
.
Àngth
; i++) {

1866 
GlyphInfo
 *
öfo
 = 
ªndî_¥iv
->
ãxt_öfo
.
glyphs
 + 
i
;

1867 
ASS_Ve˘‹
 
˛u°î_≥n
 = 
≥n
;

1868 
öfo
) {

1869 
öfo
->
pos
.
x
 = 
˛u°î_≥n
.x;

1870 
öfo
->
pos
.
y
 = 
˛u°î_≥n
.y;

1872 
˛u°î_≥n
.
x
 +
öfo
->
adv™˚
.x;

1873 
˛u°î_≥n
.
y
 +
öfo
->
adv™˚
.y;

1876 
öfo
->
hash_key
.
ty≥
 = 
BITMAP_OUTLINE
;

1877 
	`fûl_bôm≠_hash
(
ªndî_¥iv
, 
öfo
, &öfo->
hash_key
.
u
.
ouéöe
);

1879 
öfo
 = info->
√xt
;

1881 
öfo
 = 
ªndî_¥iv
->
ãxt_öfo
.
glyphs
 + 
i
;

1882 
≥n
.
x
 +
öfo
->
˛u°î_adv™˚
.x;

1883 
≥n
.
y
 +
öfo
->
˛u°î_adv™˚
.y;

1885 
	}
}

1888 
	$ª‹dî_ãxt
(
ASS_Rídîî
 *
ªndî_¥iv
)

1890 
TextInfo
 *
ãxt_öfo
 = &
ªndî_¥iv
->text_info;

1891 
FriBidiSåIndex
 *
cm≠
 = 
	`ass_sh≠î_ª‹dî
(
ªndî_¥iv
->
sh≠î
, 
ãxt_öfo
);

1892 i‡(!
cm≠
) {

1893 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_ERR
, "FailedÅoÑeorderÅext");

1894 
	`ass_sh≠î_˛ónup
(
ªndî_¥iv
->
sh≠î
, 
ãxt_öfo
);

1895 
	`‰ì_ªndî_c⁄ãxt
(
ªndî_¥iv
);

1900 
ASS_Ve˘‹
 
≥n
 = { 0, 0 };

1901 
löío
 = 1;

1902 
œ°_≥n_x
 = 0;

1903 
œ°_Áy
 = 0;

1904 
i
 = 0; i < 
ãxt_öfo
->
Àngth
; i++) {

1905 
GlyphInfo
 *
öfo
 = 
ãxt_öfo
->
glyphs
 + 
cm≠
[
i
];

1906 i‡(
ãxt_öfo
->
glyphs
[
i
].
löebªak
) {

1907 
≥n
.
y
 -(
œ°_Áy
 / 
öfo
->
sˇÀ_x
 * info->
sˇÀ_y
Ë* (≥n.
x
 - 
œ°_≥n_x
);

1908 
œ°_≥n_x
 = 
≥n
.
x
 = 0;

1909 
≥n
.
y
 +
	`doubÀ_to_d6
(
ãxt_öfo
->
löes
[
löío
-1].
desc
);

1910 
≥n
.
y
 +
	`doubÀ_to_d6
(
ãxt_öfo
->
löes
[
löío
].
asc
);

1911 
≥n
.
y
 +
	`doubÀ_to_d6
(
ªndî_¥iv
->
£âögs
.
löe_•acög
);

1912 
löío
++;

1914 i‡(
œ°_Áy
 !
öfo
->
Áy
) {

1915 
≥n
.
y
 -(
œ°_Áy
 / 
öfo
->
sˇÀ_x
 * info->
sˇÀ_y
Ë* (≥n.
x
 - 
œ°_≥n_x
);

1916 
œ°_≥n_x
 = 
≥n
.
x
;

1918 
œ°_Áy
 = 
öfo
->
Áy
;

1919 i‡(
öfo
->
skù
) ;

1920 
ASS_Ve˘‹
 
˛u°î_≥n
 = 
≥n
;

1921 
öfo
) {

1922 
öfo
->
pos
.
x
 = info->
off£t
.x + 
˛u°î_≥n
.x;

1923 
öfo
->
pos
.
y
 = info->
off£t
.y + 
˛u°î_≥n
.y;

1924 
˛u°î_≥n
.
x
 +
öfo
->
adv™˚
.x;

1925 
˛u°î_≥n
.
y
 +
öfo
->
adv™˚
.y;

1926 
öfo
 = info->
√xt
;

1928 
öfo
 = 
ãxt_öfo
->
glyphs
 + 
cm≠
[
i
];

1929 
≥n
.
x
 +
öfo
->
˛u°î_adv™˚
.x;

1930 
≥n
.
y
 +
öfo
->
˛u°î_adv™˚
.y;

1932 
	}
}

1934 
	$Æign_löes
(
ASS_Rídîî
 *
ªndî_¥iv
, 
max_ãxt_width
)

1936 
TextInfo
 *
ãxt_öfo
 = &
ªndî_¥iv
->text_info;

1937 
GlyphInfo
 *
glyphs
 = 
ãxt_öfo
->glyphs;

1938 
i
, 
j
;

1939 
width
 = 0;

1940 
œ°_bªak
 = -1;

1941 
hÆign
 = 
ªndî_¥iv
->
°©e
.
Æignmít
 & 3;

1942 
ju°ify
 = 
ªndî_¥iv
->
°©e
.justify;

1943 
max_width
 = 0;

1945 i‡(
ªndî_¥iv
->
°©e
.
evt_ty≥
 =
EVENT_HSCROLL
)

1948 
i
 = 0; i <
ãxt_öfo
->
Àngth
; ++i) {

1949 i‡((
i
 =
ãxt_öfo
->
Àngth
Ë|| 
glyphs
[i].
löebªak
) {

1950 
max_width
 = 
	`FFMAX
(max_width,
width
);

1951 
width
 = 0;

1953 i‡(
i
 < 
ãxt_öfo
->
Àngth
 && !
glyphs
[i].
skù
 &&

1954 
glyphs
[
i
].
symbﬁ
 != '\n' && glyphs[i].symbol != 0) {

1955 
width
 +
	`d6_to_doubÀ
(
glyphs
[
i
].
˛u°î_adv™˚
.
x
);

1958 
i
 = 0; i <
ãxt_öfo
->
Àngth
; ++i) {

1959 i‡((
i
 =
ãxt_öfo
->
Àngth
Ë|| 
glyphs
[i].
löebªak
) {

1960 
shi·
 = 0;

1961 i‡(
hÆign
 =
HALIGN_LEFT
) {

1962 i‡(
ju°ify
 =
ASS_JUSTIFY_RIGHT
) {

1963 
shi·
 = 
max_width
 - 
width
;

1964 } i‡(
ju°ify
 =
ASS_JUSTIFY_CENTER
) {

1965 
shi·
 = (
max_width
 - 
width
) / 2.0;

1967 
shi·
 = 0;

1969 } i‡(
hÆign
 =
HALIGN_RIGHT
) {

1970 i‡(
ju°ify
 =
ASS_JUSTIFY_LEFT
) {

1971 
shi·
 = 
max_ãxt_width
 - 
max_width
;

1972 } i‡(
ju°ify
 =
ASS_JUSTIFY_CENTER
) {

1973 
shi·
 = 
max_ãxt_width
 - 
max_width
 + (max_width - 
width
) / 2.0;

1975 
shi·
 = 
max_ãxt_width
 - 
width
;

1977 } i‡(
hÆign
 =
HALIGN_CENTER
) {

1978 i‡(
ju°ify
 =
ASS_JUSTIFY_LEFT
) {

1979 
shi·
 = (
max_ãxt_width
 - 
max_width
) / 2.0;

1980 } i‡(
ju°ify
 =
ASS_JUSTIFY_RIGHT
) {

1981 
shi·
 = (
max_ãxt_width
 - 
max_width
Ë/ 2.0 + max_width - 
width
;

1983 
shi·
 = (
max_ãxt_width
 - 
width
) / 2.0;

1986 
j
 = 
œ°_bªak
 + 1; j < 
i
; ++j) {

1987 
GlyphInfo
 *
öfo
 = 
glyphs
 + 
j
;

1988 
öfo
) {

1989 
öfo
->
pos
.
x
 +
	`doubÀ_to_d6
(
shi·
);

1990 
öfo
 = info->
√xt
;

1993 
œ°_bªak
 = 
i
 - 1;

1994 
width
 = 0;

1996 i‡(
i
 < 
ãxt_öfo
->
Àngth
 && !
glyphs
[i].
skù
 &&

1997 
glyphs
[
i
].
symbﬁ
 != '\n' && glyphs[i].symbol != 0) {

1998 
width
 +
	`d6_to_doubÀ
(
glyphs
[
i
].
˛u°î_adv™˚
.
x
);

2001 
	}
}

2003 
	$ˇlcuœã_rŸ©i⁄_∑øms
(
ASS_Rídîî
 *
ªndî_¥iv
, 
ASS_DRe˘
 *
bbox
,

2004 
devi˚_x
, 
devi˚_y
)

2006 
ASS_DVe˘‹
 
˚¡î
;

2007 i‡(
ªndî_¥iv
->
°©e
.
have_‹igö
) {

2008 
˚¡î
.
x
 = 
	`x2s¸
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
‹g_x
);

2009 
˚¡î
.
y
 = 
	`y2s¸
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
‹g_y
);

2011 
bx
 = 0., 
by
 = 0.;

2012 
	`gë_ba£_poöt
(
bbox
, 
ªndî_¥iv
->
°©e
.
Æignmít
, &
bx
, &
by
);

2013 
˚¡î
.
x
 = 
devi˚_x
 + 
bx
;

2014 
˚¡î
.
y
 = 
devi˚_y
 + 
by
;

2017 
TextInfo
 *
ãxt_öfo
 = &
ªndî_¥iv
->text_info;

2018 
i
 = 0; i < 
ãxt_öfo
->
Àngth
; i++) {

2019 
GlyphInfo
 *
öfo
 = 
ãxt_öfo
->
glyphs
 + 
i
;

2020 
öfo
) {

2021 
OuéöeBôm≠HashKey
 *
key
 = &
öfo
->
hash_key
.
u
.
ouéöe
;

2023 i‡(
key
->
‰x
 || key->
‰y
 || key->
‰z
 || key->
Áx
 || key->
Áy
) {

2024 
key
->
shi·_x
 = 
öfo
->
pos
.
x
 + 
	`doubÀ_to_d6
(
devi˚_x
 - 
˚¡î
.x);

2025 
key
->
shi·_y
 = 
öfo
->
pos
.
y
 + 
	`doubÀ_to_d6
(
devi˚_y
 - 
˚¡î
.y);

2027 
key
->
shi·_x
 = 0;

2028 
key
->
shi·_y
 = 0;

2030 
öfo
 = info->
√xt
;

2033 
	}
}

2036 
ölöe
 
	$ª˘™gÀ_comböe
(
ASS_Re˘
 *
ª˘
, c⁄° 
Bôm≠
 *
bm
, 
x
, 
y
)

2038 
x
 +
bm
->
À·
;

2039 
y
 +
bm
->
t›
;

2040 
	`ª˘™gÀ_upd©e
(
ª˘
, 
x
, 
y
, x + 
bm
->
w
, y + bm->
h
);

2041 
	}
}

2044 
	$ªndî_™d_comböe_glyphs
(
ASS_Rídîî
 *
ªndî_¥iv
,

2045 
devi˚_x
, 
devi˚_y
)

2047 
TextInfo
 *
ãxt_öfo
 = &
ªndî_¥iv
->text_info;

2048 
À·
 = 
ªndî_¥iv
->
£âögs
.
À·_m¨gö
;

2049 
devi˚_x
 = (devi˚_x - 
À·
Ë* 
ªndî_¥iv
->
f⁄t_sˇÀ_x
 +Üeft;

2050 
nb_bôm≠s
 = 0;

2051 
löebªak
 = 0;

2052 
ComböedBôm≠Info
 *
comböed_öfo
 = 
ãxt_öfo
->
comböed_bôm≠s
;

2053 
ComböedBôm≠Info
 *
cuºít_öfo
 = 
NULL
;

2054 
GlyphInfo
 *
œ°_öfo
 = 
NULL
;

2055 
i
 = 0; i < 
ãxt_öfo
->
Àngth
; i++) {

2056 
GlyphInfo
 *
öfo
 = 
ãxt_öfo
->
glyphs
 + 
i
;

2057 i‡(
öfo
->
löebªak
)Üinebreak = 1;

2058 i‡(
öfo
->
skù
) {

2059 ; 
öfo
; infÿöfo->
√xt
)

2060 
	`ass_ˇche_dec_ªf
(
öfo
->
hash_key
.
u
.
ouéöe
.outline);

2063 ; 
öfo
; infÿöfo->
√xt
) {

2064 
OuéöeBôm≠HashKey
 *
key
 = &
öfo
->
hash_key
.
u
.
ouéöe
;

2066 
öfo
->
pos
.
x
 = 
	`doubÀ_to_d6
(
devi˚_x
 + 
	`d6_to_doubÀ
(öfo->pos.xË* 
ªndî_¥iv
->
f⁄t_sˇÀ_x
);

2067 
öfo
->
pos
.
y
 = 
	`doubÀ_to_d6
(
devi˚_y
) + info->pos.y;

2068 
key
->
adv™˚
.
x
 = 
öfo
->
pos
.x & (
SUBPIXEL_MASK
 & ~
SUBPIXEL_ACCURACY
);

2069 
key
->
adv™˚
.
y
 = 
öfo
->
pos
.y & (
SUBPIXEL_MASK
 & ~
SUBPIXEL_ACCURACY
);

2070 
x
 = 
öfo
->
pos
.x >> 6, 
y
 = info->pos.y >> 6;

2071 
	`gë_bôm≠_glyph
(
ªndî_¥iv
, 
öfo
);

2073 if(
löebªak
 || 
	`is_√w_bm_run
(
öfo
, 
œ°_öfo
)) {

2074 
löebªak
 = 0;

2075 
œ°_öfo
 = 
NULL
;

2076 i‡(
nb_bôm≠s
 >
ãxt_öfo
->
max_bôm≠s
) {

2077 
size_t
 
√w_size
 = 2 * 
ãxt_öfo
->
max_bôm≠s
;

2078 i‡(!
	`ASS_REALLOC_ARRAY
(
ãxt_öfo
->
comböed_bôm≠s
, 
√w_size
)) {

2079 
	`ass_ˇche_dec_ªf
(
öfo
->
image
);

2082 
ãxt_öfo
->
max_bôm≠s
 = 
√w_size
;

2083 
comböed_öfo
 = 
ãxt_öfo
->
comböed_bôm≠s
;

2085 
cuºít_öfo
 = &
comböed_öfo
[
nb_bôm≠s
];

2087 
	`mem˝y
(&
cuºít_öfo
->
c
, &
öfo
->c, (info->c));

2088 
cuºít_öfo
->
ef„˘_ty≥
 = 
öfo
->effect_type;

2089 
cuºít_öfo
->
ef„˘_timög
 = 
öfo
->effect_timing;

2090 
cuºít_öfo
->
fú°_pos_x
 = 
öfo
->
bbox
.
x_max
 >> 6;

2092 
cuºít_öfo
->
fûãr
.
Êags
 = 0;

2093 i‡(
öfo
->
b‹dî_°yÀ
 == 3)

2094 
cuºít_öfo
->
fûãr
.
Êags
 |
FILTER_BORDER_STYLE_3
;

2095 i‡(
öfo
->
b‹dî_x
 || info->
b‹dî_y
)

2096 
cuºít_öfo
->
fûãr
.
Êags
 |
FILTER_NONZERO_BORDER
;

2097 i‡(
öfo
->
shadow_x
 || info->
shadow_y
)

2098 
cuºít_öfo
->
fûãr
.
Êags
 |
FILTER_NONZERO_SHADOW
;

2101 i‡(
öfo
->
b‹dî
[0] || info->b‹dî[1] || (öfo->
c
[0] & 0xFF) != 0xFF)

2102 
cuºít_öfo
->
fûãr
.
Êags
 |
FILTER_DRAW_SHADOW
;

2104 
cuºít_öfo
->
fûãr
.
be
 = 
öfo
->be;

2105 
cuºít_öfo
->
fûãr
.
blur
 = 2 * 
öfo
->blu∏* 
ªndî_¥iv
->
blur_sˇÀ
;

2106 
cuºít_öfo
->
fûãr
.
shadow
.
x
 = 
	`doubÀ_to_d6
(
öfo
->
shadow_x
 * 
ªndî_¥iv
->
b‹dî_sˇÀ
);

2107 
cuºít_öfo
->
fûãr
.
shadow
.
y
 = 
	`doubÀ_to_d6
(
öfo
->
shadow_y
 * 
ªndî_¥iv
->
b‹dî_sˇÀ
);

2109 
cuºít_öfo
->
x
 = cuºít_öfo->
y
 = 
INT_MAX
;

2110 
	`ª˘™gÀ_ª£t
(&
cuºít_öfo
->
ª˘
);

2111 
	`ª˘™gÀ_ª£t
(&
cuºít_öfo
->
ª˘_o
);

2112 
cuºít_öfo
->
n_bm
 = cuºít_öfo->
n_bm_o
 = 0;

2113 
cuºít_öfo
->
bm
 = cuºít_öfo->
bm_o
 = cuºít_öfo->
bm_s
 = 
NULL
;

2114 
cuºít_öfo
->
image
 = 
NULL
;

2116 
cuºít_öfo
->
bôm≠_cou¡
 = cuºít_öfo->
max_bôm≠_cou¡
 = 0;

2117 
cuºít_öfo
->
bôm≠s
 = 
	`mÆloc
(
MAX_SUB_BITMAPS_INITIAL
 * (
Bôm≠Ref
));

2118 i‡(!
cuºít_öfo
->
bôm≠s
) {

2119 
	`ass_ˇche_dec_ªf
(
öfo
->
image
);

2122 
cuºít_öfo
->
max_bôm≠_cou¡
 = 
MAX_SUB_BITMAPS_INITIAL
;

2124 
nb_bôm≠s
++;

2126 
œ°_öfo
 = 
öfo
;

2128 i‡(!
öfo
->
image
 || !
cuºít_öfo
) {

2129 
	`ass_ˇche_dec_ªf
(
öfo
->
image
);

2133 i‡(
cuºít_öfo
->
bôm≠_cou¡
 >cuºít_öfo->
max_bôm≠_cou¡
) {

2134 
size_t
 
√w_size
 = 2 * 
cuºít_öfo
->
max_bôm≠_cou¡
;

2135 i‡(!
	`ASS_REALLOC_ARRAY
(
cuºít_öfo
->
bôm≠s
, 
√w_size
)) {

2136 
	`ass_ˇche_dec_ªf
(
öfo
->
image
);

2139 
cuºít_öfo
->
max_bôm≠_cou¡
 = 
√w_size
;

2141 
cuºít_öfo
->
bôm≠s
[cuºít_öfo->
bôm≠_cou¡
].
image
 = 
öfo
->image;

2142 
cuºít_öfo
->
bôm≠s
[cuºít_öfo->
bôm≠_cou¡
].
x
 = x;

2143 
cuºít_öfo
->
bôm≠s
[cuºít_öfo->
bôm≠_cou¡
].
y
 = y;

2144 
cuºít_öfo
->
bôm≠_cou¡
++;

2146 
cuºít_öfo
->
x
 = 
	`FFMIN
(current_info->x, x);

2147 
cuºít_öfo
->
y
 = 
	`FFMIN
(current_info->y, y);

2148 i‡(
öfo
->
image
->
bm
) {

2149 
	`ª˘™gÀ_comböe
(&
cuºít_öfo
->
ª˘
, 
öfo
->
image
->
bm
, 
x
, 
y
);

2150 
cuºít_öfo
->
n_bm
++;

2152 i‡(
öfo
->
image
->
bm_o
) {

2153 
	`ª˘™gÀ_comböe
(&
cuºít_öfo
->
ª˘_o
, 
öfo
->
image
->
bm_o
, 
x
, 
y
);

2154 
cuºít_öfo
->
n_bm_o
++;

2159 
i
 = 0; i < 
nb_bôm≠s
; i++) {

2160 
ComböedBôm≠Info
 *
öfo
 = &
comböed_öfo
[
i
];

2161 
j
 = 0; j < 
öfo
->
bôm≠_cou¡
; j++) {

2162 
öfo
->
bôm≠s
[
j
].
x
 -= info->x;

2163 
öfo
->
bôm≠s
[
j
].
y
 -= info->y;

2166 
ComposôeHashKey
 
hk
;

2167 
ComposôeHashVÆue
 *
hv
;

2168 
	`fûl_composôe_hash
(&
hk
, 
öfo
);

2169 i‡(
	`ass_ˇche_gë
(
ªndî_¥iv
->
ˇche
.
composôe_ˇche
, &
hk
, &
hv
)) {

2170 
öfo
->
bm
 = 
hv
->bm;

2171 
öfo
->
bm_o
 = 
hv
->bm_o;

2172 
öfo
->
bm_s
 = 
hv
->bm_s;

2173 
öfo
->
image
 = 
hv
;

2176 i‡(!
hv
)

2179 
b‹d
 = 
	`be_∑ddög
(
öfo
->
fûãr
.
be
);

2180 i‡(!
b‹d
 && 
öfo
->
n_bm
 == 1) {

2181 
j
 = 0; j < 
öfo
->
bôm≠_cou¡
; j++) {

2182 i‡(!
öfo
->
bôm≠s
[
j
].
image
->
bm
)

2184 
öfo
->
bm
 = 
	`c›y_bôm≠
(
ªndî_¥iv
->
ígöe
, info->
bôm≠s
[
j
].
image
->bm);

2185 i‡(
öfo
->
bm
) {

2186 
öfo
->
bm
->
À·
 +öfo->
bôm≠s
[
j
].
x
;

2187 
öfo
->
bm
->
t›
 +öfo->
bôm≠s
[
j
].
y
;

2191 } i‡(
öfo
->
n_bm
) {

2192 
öfo
->
bm
 = 
	`Æloc_bôm≠
(
ªndî_¥iv
->
ígöe
,

2193 
öfo
->
ª˘
.
x_max
 - info->ª˘.
x_mö
 + 2 * 
b‹d
,

2194 
öfo
->
ª˘
.
y_max
 - info->ª˘.
y_mö
 + 2 * 
b‹d
, 
åue
);

2195 
Bôm≠
 *
d°
 = 
öfo
->
bm
;

2196 i‡(
d°
) {

2197 
d°
->
À·
 = 
öfo
->
ª˘
.
x_mö
 - info->
x
 - 
b‹d
;

2198 
d°
->
t›
 = 
öfo
->
ª˘
.
y_mö
 - info->
y
 - 
b‹d
;

2199 
j
 = 0; j < 
öfo
->
bôm≠_cou¡
; j++) {

2200 
Bôm≠
 *
§c
 = 
öfo
->
bôm≠s
[
j
].
image
->
bm
;

2201 i‡(!
§c
)

2203 
x
 = 
öfo
->
bôm≠s
[
j
].x + 
§c
->
À·
 - 
d°
->left;

2204 
y
 = 
öfo
->
bôm≠s
[
j
].y + 
§c
->
t›
 - 
d°
->top;

2205 
	`as£π
(
x
 >0 && x + 
§c
->
w
 <
d°
->w);

2206 
	`as£π
(
y
 >0 && y + 
§c
->
h
 <
d°
->h);

2207 *
buf
 = 
d°
->
buf„r
 + 
y
 * d°->
°ride
 + 
x
;

2208 
ªndî_¥iv
->
ígöe
->
	`add_bôm≠s
(
buf
, 
d°
->
°ride
,

2209 
§c
->
buf„r
, src->
°ride
,

2210 
§c
->
h
, src->
w
);

2214 i‡(!
b‹d
 && 
öfo
->
n_bm_o
 == 1) {

2215 
j
 = 0; j < 
öfo
->
bôm≠_cou¡
; j++) {

2216 i‡(!
öfo
->
bôm≠s
[
j
].
image
->
bm_o
)

2218 
öfo
->
bm_o
 = 
	`c›y_bôm≠
(
ªndî_¥iv
->
ígöe
, info->
bôm≠s
[
j
].
image
->bm_o);

2219 i‡(
öfo
->
bm_o
) {

2220 
öfo
->
bm_o
->
À·
 +öfo->
bôm≠s
[
j
].
x
;

2221 
öfo
->
bm_o
->
t›
 +öfo->
bôm≠s
[
j
].
y
;

2225 } i‡(
öfo
->
n_bm_o
) {

2226 
öfo
->
bm_o
 = 
	`Æloc_bôm≠
(
ªndî_¥iv
->
ígöe
,

2227 
öfo
->
ª˘_o
.
x_max
 - info->ª˘_o.
x_mö
 + 2 * 
b‹d
,

2228 
öfo
->
ª˘_o
.
y_max
 - info->ª˘_o.
y_mö
 + 2 * 
b‹d
,

2229 
åue
);

2230 
Bôm≠
 *
d°
 = 
öfo
->
bm_o
;

2231 i‡(
d°
) {

2232 
d°
->
À·
 = 
öfo
->
ª˘_o
.
x_mö
 - info->
x
 - 
b‹d
;

2233 
d°
->
t›
 = 
öfo
->
ª˘_o
.
y_mö
 - info->
y
 - 
b‹d
;

2234 
j
 = 0; j < 
öfo
->
bôm≠_cou¡
; j++) {

2235 
Bôm≠
 *
§c
 = 
öfo
->
bôm≠s
[
j
].
image
->
bm_o
;

2236 i‡(!
§c
)

2238 
x
 = 
öfo
->
bôm≠s
[
j
].x + 
§c
->
À·
 - 
d°
->left;

2239 
y
 = 
öfo
->
bôm≠s
[
j
].y + 
§c
->
t›
 - 
d°
->top;

2240 
	`as£π
(
x
 >0 && x + 
§c
->
w
 <
d°
->w);

2241 
	`as£π
(
y
 >0 && y + 
§c
->
h
 <
d°
->h);

2242 *
buf
 = 
d°
->
buf„r
 + 
y
 * d°->
°ride
 + 
x
;

2243 
ªndî_¥iv
->
ígöe
->
	`add_bôm≠s
(
buf
, 
d°
->
°ride
,

2244 
§c
->
buf„r
, src->
°ride
,

2245 
§c
->
h
, src->
w
);

2250 i‡(
öfo
->
bm
 || info->
bm_o
) {

2251 
	`ass_sy¡h_blur
(
ªndî_¥iv
->
ígöe
, 
öfo
->
fûãr
.
Êags
 & 
FILTER_BORDER_STYLE_3
,

2252 
öfo
->
fûãr
.
be
, info->fûãr.
blur
, info->
bm
, info->
bm_o
);

2253 i‡(
öfo
->
fûãr
.
Êags
 & 
FILTER_DRAW_SHADOW
)

2254 
	`make_shadow_bôm≠
(
öfo
, 
ªndî_¥iv
);

2257 
hv
->
bm
 = 
öfo
->bm;

2258 
hv
->
bm_o
 = 
öfo
->bm_o;

2259 
hv
->
bm_s
 = 
öfo
->bm_s;

2260 
	`ass_ˇche_commô
(
hv
, 
	`bôm≠_size
(hv->
bm
) +

2261 
	`bôm≠_size
(
hv
->
bm_o
Ë+ bôm≠_size(hv->
bm_s
) +

2262 (
ComposôeHashKey
Ë+ (
ComposôeHashVÆue
));

2263 
öfo
->
image
 = 
hv
;

2266 
ãxt_öfo
->
n_bôm≠s
 = 
nb_bôm≠s
;

2267 
	}
}

2269 
	$add_background
(
ASS_Rídîî
 *
ªndî_¥iv
, 
EvítImages
 *
evít_images
)

2271 
size_x
 = 
ªndî_¥iv
->
°©e
.
shadow_x
 > 0 ?

2272 
ªndî_¥iv
->
°©e
.
shadow_x
 *Ñídî_¥iv->
b‹dî_sˇÀ
 : 0;

2273 
size_y
 = 
ªndî_¥iv
->
°©e
.
shadow_y
 > 0 ?

2274 
ªndî_¥iv
->
°©e
.
shadow_y
 *Ñídî_¥iv->
b‹dî_sˇÀ
 : 0;

2275 
À·
 = 
evít_images
->À· - 
size_x
;

2276 
t›
 = 
evít_images
->t› - 
size_y
;

2277 
right
 = 
evít_images
->
À·
 +Évít_images->
width
 + 
size_x
;

2278 
bŸtom
 = 
evít_images
->
t›
 +Évít_images->
height
 + 
size_y
;

2279 
À·
 = 
	`FFMINMAX
÷e·, 0, 
ªndî_¥iv
->
width
);

2280 
t›
 = 
	`FFMINMAX
—›, 0, 
ªndî_¥iv
->
height
);

2281 
right
 = 
	`FFMINMAX
‘ight, 0, 
ªndî_¥iv
->
width
);

2282 
bŸtom
 = 
	`FFMINMAX
(bŸtom, 0, 
ªndî_¥iv
->
height
);

2283 
w
 = 
right
 - 
À·
;

2284 
h
 = 
bŸtom
 - 
t›
;

2285 i‡(
w
 < 1 || 
h
 < 1)

2287 *
nbuf„r
 = 
	`ass_Æig√d_Æloc
(1, 
w
 * 
h
, 
Ál£
);

2288 i‡(!
nbuf„r
)

2290 
	`mem£t
(
nbuf„r
, 0xFF, 
w
 * 
h
);

2291 
ASS_Image
 *
img
 = 
	`my_døw_bôm≠
(
nbuf„r
, 
w
, 
h
, w, 
À·
, 
t›
,

2292 
ªndî_¥iv
->
°©e
.
c
[3], 
NULL
);

2293 i‡(
img
) {

2294 
img
->
√xt
 = 
evít_images
->
imgs
;

2295 
evít_images
->
imgs
 = 
img
;

2297 
	}
}

2306 
	$ass_ªndî_evít
(
ASS_Rídîî
 *
ªndî_¥iv
, 
ASS_Evít
 *
evít
,

2307 
EvítImages
 *
evít_images
)

2309 i‡(
evít
->
StyÀ
 >
ªndî_¥iv
->
åack
->
n_°yÀs
) {

2310 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_WARN
, "No style found");

2313 i‡(!
evít
->
Text
) {

2314 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_WARN
, "EmptyÉvent");

2318 
	`‰ì_ªndî_c⁄ãxt
(
ªndî_¥iv
);

2319 
	`öô_ªndî_c⁄ãxt
(
ªndî_¥iv
, 
evít
);

2321 i‡(
	`∑r£_evíts
(
ªndî_¥iv
, 
evít
))

2324 
TextInfo
 *
ãxt_öfo
 = &
ªndî_¥iv
->text_info;

2325 i‡(
ãxt_öfo
->
Àngth
 == 0) {

2327 
	`‰ì_ªndî_c⁄ãxt
(
ªndî_¥iv
);

2332 
	`ass_sh≠î_£t_ba£_dúe˘i⁄
(
ªndî_¥iv
->
sh≠î
,

2333 
	`ªsﬁve_ba£_dúe˘i⁄
(
ªndî_¥iv
->
°©e
.
f⁄t_ícodög
));

2334 
	`ass_sh≠î_föd_runs
(
ªndî_¥iv
->
sh≠î
,Ñídî_¥iv, 
ãxt_öfo
->
glyphs
,

2335 
ãxt_öfo
->
Àngth
);

2336 i‡(
	`ass_sh≠î_sh≠e
(
ªndî_¥iv
->
sh≠î
, 
ãxt_öfo
) < 0) {

2337 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_ERR
, "FailedÅo shapeÅext");

2338 
	`‰ì_ªndî_c⁄ãxt
(
ªndî_¥iv
);

2342 
	`ªåõve_glyphs
(
ªndî_¥iv
);

2344 
	`¥ñimö¨y_œyout
(
ªndî_¥iv
);

2347 
	`¥o˚ss_k¨aoke_ef„˘s
(
ªndî_¥iv
);

2349 
vÆign
 = 
ªndî_¥iv
->
°©e
.
Æignmít
 & 12;

2351 
M¨göL
 =

2352 (
evít
->
M¨göL
Ë?Évít->M¨göL : 
ªndî_¥iv
->
°©e
.
°yÀ
->MarginL;

2353 
M¨göR
 =

2354 (
evít
->
M¨göR
Ë?Évít->M¨göR : 
ªndî_¥iv
->
°©e
.
°yÀ
->MarginR;

2355 
M¨göV
 =

2356 (
evít
->
M¨göV
Ë?Évít->M¨göV : 
ªndî_¥iv
->
°©e
.
°yÀ
->MarginV;

2359 
max_ãxt_width
 =

2360 
	`x2s¸
(
ªndî_¥iv
,Ñídî_¥iv->
åack
->
PœyResX
 - 
M¨göR
) -

2361 
	`x2s¸
(
ªndî_¥iv
, 
M¨göL
);

2364 i‡(
ªndî_¥iv
->
°©e
.
evt_ty≥
 !
EVENT_HSCROLL
) {

2366 
	`wøp_löes_sm¨t
(
ªndî_¥iv
, 
max_ãxt_width
);

2369 
ãxt_öfo
->
löes
[0].
off£t
 = 0;

2370 
ãxt_öfo
->
löes
[0].
Àn
 =Åext_öfo->
Àngth
;

2371 
ãxt_öfo
->
n_löes
 = 1;

2372 
	`mósuª_ãxt
(
ªndî_¥iv
);

2375 
	`ª‹dî_ãxt
(
ªndî_¥iv
);

2377 
	`Æign_löes
(
ªndî_¥iv
, 
max_ãxt_width
);

2380 
ASS_DRe˘
 
bbox
;

2381 
	`compuã_°rög_bbox
(
ãxt_öfo
, &
bbox
);

2386 
devi˚_x
 = 0;

2387 i‡(
ªndî_¥iv
->
°©e
.
evt_ty≥
 =
EVENT_NORMAL
 ||

2388 
ªndî_¥iv
->
°©e
.
evt_ty≥
 =
EVENT_VSCROLL
) {

2389 
devi˚_x
 = 
	`x2s¸
(
ªndî_¥iv
, 
M¨göL
);

2390 } i‡(
ªndî_¥iv
->
°©e
.
evt_ty≥
 =
EVENT_HSCROLL
) {

2391 i‡(
ªndî_¥iv
->
°©e
.
s¸ﬁl_dúe˘i⁄
 =
SCROLL_RL
)

2392 
devi˚_x
 =

2393 
	`x2s¸
(
ªndî_¥iv
,

2394 
ªndî_¥iv
->
åack
->
PœyResX
 -

2395 
ªndî_¥iv
->
°©e
.
s¸ﬁl_shi·
);

2396 i‡(
ªndî_¥iv
->
°©e
.
s¸ﬁl_dúe˘i⁄
 =
SCROLL_LR
)

2397 
devi˚_x
 =

2398 
	`x2s¸
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
s¸ﬁl_shi·
) -

2399 (
bbox
.
x_max
 - bbox.
x_mö
);

2403 
devi˚_y
 = 0;

2404 i‡(
ªndî_¥iv
->
°©e
.
evt_ty≥
 =
EVENT_NORMAL
 ||

2405 
ªndî_¥iv
->
°©e
.
evt_ty≥
 =
EVENT_HSCROLL
) {

2406 i‡(
vÆign
 =
VALIGN_TOP
) {

2407 
devi˚_y
 =

2408 
	`y2s¸_t›
(
ªndî_¥iv
,

2409 
M¨göV
Ë+ 
ãxt_öfo
->
löes
[0].
asc
;

2410 } i‡(
vÆign
 =
VALIGN_CENTER
) {

2411 
s¸_y
 =

2412 
	`y2s¸
(
ªndî_¥iv
,Ñídî_¥iv->
åack
->
PœyResY
 / 2.0);

2413 
devi˚_y
 = 
s¸_y
 - (
bbox
.
y_max
 + bbox.
y_mö
) / 2.0;

2415 
löe_pos
 = 
ªndî_¥iv
->
°©e
.
ex∂icô
 ?

2416 0 : 
ªndî_¥iv
->
£âögs
.
löe_posôi⁄
;

2417 
s¸_t›
, 
s¸_bŸtom
, 
s¸_y0
;

2418 i‡(
vÆign
 !
VALIGN_SUB
)

2419 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_V
,

2421 
s¸_bŸtom
 =

2422 
	`y2s¸_sub
(
ªndî_¥iv
,

2423 
ªndî_¥iv
->
åack
->
PœyResY
 - 
M¨göV
);

2424 
s¸_t›
 = 
	`y2s¸_t›
(
ªndî_¥iv
, 0);

2425 
devi˚_y
 = 
s¸_bŸtom
 + (
s¸_t›
 - s¸_bŸtomË* 
löe_pos
 / 100.0;

2426 
devi˚_y
 -
ãxt_öfo
->
height
;

2427 
devi˚_y
 +
ãxt_öfo
->
löes
[0].
asc
;

2431 
s¸_y0
 = 
s¸_t›
 + 
ãxt_öfo
->
löes
[0].
asc
;

2432 i‡(
devi˚_y
 < 
s¸_y0
 && 
löe_pos
 > 0) {

2433 
devi˚_y
 = 
s¸_y0
;

2436 } i‡(
ªndî_¥iv
->
°©e
.
evt_ty≥
 =
EVENT_VSCROLL
) {

2437 i‡(
ªndî_¥iv
->
°©e
.
s¸ﬁl_dúe˘i⁄
 =
SCROLL_TB
)

2438 
devi˚_y
 =

2439 
	`y2s¸
(
ªndî_¥iv
,

2440 
ªndî_¥iv
->
°©e
.
˛ù_y0
 +

2441 
ªndî_¥iv
->
°©e
.
s¸ﬁl_shi·
) -

2442 (
bbox
.
y_max
 - bbox.
y_mö
);

2443 i‡(
ªndî_¥iv
->
°©e
.
s¸ﬁl_dúe˘i⁄
 =
SCROLL_BT
)

2444 
devi˚_y
 =

2445 
	`y2s¸
(
ªndî_¥iv
,

2446 
ªndî_¥iv
->
°©e
.
˛ù_y1
 -

2447 
ªndî_¥iv
->
°©e
.
s¸ﬁl_shi·
);

2451 i‡(
ªndî_¥iv
->
°©e
.
evt_ty≥
 =
EVENT_POSITIONED
) {

2452 
ba£_x
 = 0;

2453 
ba£_y
 = 0;

2454 
	`gë_ba£_poöt
(&
bbox
, 
ªndî_¥iv
->
°©e
.
Æignmít
, &
ba£_x
, &
ba£_y
);

2455 
devi˚_x
 =

2456 
	`x2s¸_pos
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
pos_x
Ë- 
ba£_x
;

2457 
devi˚_y
 =

2458 
	`y2s¸_pos
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
pos_y
Ë- 
ba£_y
;

2462 i‡(
ªndî_¥iv
->
°©e
.
evt_ty≥
 =
EVENT_NORMAL
 ||

2463 
ªndî_¥iv
->
°©e
.
evt_ty≥
 =
EVENT_HSCROLL
 ||

2464 
ªndî_¥iv
->
°©e
.
evt_ty≥
 =
EVENT_VSCROLL
) {

2465 
ªndî_¥iv
->
°©e
.
˛ù_x0
 =

2466 
	`x2s¸_sˇÀd
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
˛ù_x0
);

2467 
ªndî_¥iv
->
°©e
.
˛ù_x1
 =

2468 
	`x2s¸_sˇÀd
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
˛ù_x1
);

2469 i‡(
vÆign
 =
VALIGN_TOP
) {

2470 
ªndî_¥iv
->
°©e
.
˛ù_y0
 =

2471 
	`y2s¸_t›
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
˛ù_y0
);

2472 
ªndî_¥iv
->
°©e
.
˛ù_y1
 =

2473 
	`y2s¸_t›
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
˛ù_y1
);

2474 } i‡(
vÆign
 =
VALIGN_CENTER
) {

2475 
ªndî_¥iv
->
°©e
.
˛ù_y0
 =

2476 
	`y2s¸
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
˛ù_y0
);

2477 
ªndî_¥iv
->
°©e
.
˛ù_y1
 =

2478 
	`y2s¸
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
˛ù_y1
);

2479 } i‡(
vÆign
 =
VALIGN_SUB
) {

2480 
ªndî_¥iv
->
°©e
.
˛ù_y0
 =

2481 
	`y2s¸_sub
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
˛ù_y0
);

2482 
ªndî_¥iv
->
°©e
.
˛ù_y1
 =

2483 
	`y2s¸_sub
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
˛ù_y1
);

2485 } i‡(
ªndî_¥iv
->
°©e
.
evt_ty≥
 =
EVENT_POSITIONED
) {

2486 
ªndî_¥iv
->
°©e
.
˛ù_x0
 =

2487 
	`x2s¸_pos_sˇÀd
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
˛ù_x0
);

2488 
ªndî_¥iv
->
°©e
.
˛ù_x1
 =

2489 
	`x2s¸_pos_sˇÀd
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
˛ù_x1
);

2490 
ªndî_¥iv
->
°©e
.
˛ù_y0
 =

2491 
	`y2s¸_pos
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
˛ù_y0
);

2492 
ªndî_¥iv
->
°©e
.
˛ù_y1
 =

2493 
	`y2s¸_pos
(
ªndî_¥iv
,Ñídî_¥iv->
°©e
.
˛ù_y1
);

2496 i‡(
ªndî_¥iv
->
°©e
.
ex∂icô
) {

2498 
zx
 = 
	`x2s¸_pos_sˇÀd
(
ªndî_¥iv
, 0);

2499 
zy
 = 
	`y2s¸_pos
(
ªndî_¥iv
, 0);

2500 
sx
 = 
	`x2s¸_pos_sˇÀd
(
ªndî_¥iv
,Ñídî_¥iv->
åack
->
PœyResX
);

2501 
sy
 = 
	`y2s¸_pos
(
ªndî_¥iv
,Ñídî_¥iv->
åack
->
PœyResY
);

2503 
ªndî_¥iv
->
°©e
.
˛ù_x0
 =Ñídî_¥iv->°©e.˛ù_x0 < 
zx
 ? zx :Ñender_priv->state.clip_x0;

2504 
ªndî_¥iv
->
°©e
.
˛ù_y0
 =Ñídî_¥iv->°©e.˛ù_y0 < 
zy
 ? zy :Ñender_priv->state.clip_y0;

2505 
ªndî_¥iv
->
°©e
.
˛ù_x1
 =Ñídî_¥iv->°©e.˛ù_x1 > 
sx
 ? sx :Ñender_priv->state.clip_x1;

2506 
ªndî_¥iv
->
°©e
.
˛ù_y1
 =Ñídî_¥iv->°©e.˛ù_y1 > 
sy
 ? sy :Ñender_priv->state.clip_y1;

2509 
	`ˇlcuœã_rŸ©i⁄_∑øms
(
ªndî_¥iv
, &
bbox
, 
devi˚_x
, 
devi˚_y
);

2511 
	`ªndî_™d_comböe_glyphs
(
ªndî_¥iv
, 
devi˚_x
, 
devi˚_y
);

2513 
	`mem£t
(
evít_images
, 0, (*event_images));

2514 
evít_images
->
t›
 = 
devi˚_y
 - 
ãxt_öfo
->
löes
[0].
asc
;

2515 
evít_images
->
height
 = 
ãxt_öfo
->height;

2516 
evít_images
->
À·
 =

2517 (
devi˚_x
 + 
bbox
.
x_mö
 * 
ªndî_¥iv
->
f⁄t_sˇÀ_x
) + 0.5;

2518 
evít_images
->
width
 =

2519 (
bbox
.
x_max
 - bbox.
x_mö
Ë* 
ªndî_¥iv
->
f⁄t_sˇÀ_x
 + 0.5;

2520 
evít_images
->
dëe˘_cﬁlisi⁄s
 = 
ªndî_¥iv
->
°©e
.detect_collisions;

2521 
evít_images
->
shi·_dúe˘i⁄
 = (
vÆign
 =
VALIGN_TOP
) ? 1 : -1;

2522 
evít_images
->
evít
 =Évent;

2523 
evít_images
->
imgs
 = 
	`ªndî_ãxt
(
ªndî_¥iv
);

2525 i‡(
ªndî_¥iv
->
°©e
.
b‹dî_°yÀ
 == 4)

2526 
	`add_background
(
ªndî_¥iv
, 
evít_images
);

2528 
	`ass_sh≠î_˛ónup
(
ªndî_¥iv
->
sh≠î
, 
ãxt_öfo
);

2529 
	`‰ì_ªndî_c⁄ãxt
(
ªndî_¥iv
);

2532 
	}
}

2537 
	$check_ˇche_limôs
(
ASS_Rídîî
 *
¥iv
, 
CacheSt‹e
 *
ˇche
)

2539 
	`ass_ˇche_cut
(
ˇche
->
composôe_ˇche
, cache->
composôe_max_size
);

2540 
	`ass_ˇche_cut
(
ˇche
->
bôm≠_ˇche
, cache->
bôm≠_max_size
);

2541 
	`ass_ˇche_cut
(
ˇche
->
ouéöe_ˇche
, cache->
glyph_max
);

2542 
	}
}

2548 
	$ass_°¨t_‰ame
(
ASS_Rídîî
 *
ªndî_¥iv
, 
ASS_Tøck
 *
åack
,

2549 
now
)

2551 
ASS_Sëtögs
 *
£âögs_¥iv
 = &
ªndî_¥iv
->
£âögs
;

2553 i‡(!
ªndî_¥iv
->
£âögs
.
‰ame_width


2554 && !
ªndî_¥iv
->
£âögs
.
‰ame_height
)

2557 i‡(!
ªndî_¥iv
->
f⁄t£À˘
)

2560 i‡(
ªndî_¥iv
->
libøry
 !
åack
->library)

2563 i‡(
åack
->
n_evíts
 == 0)

2566 
ªndî_¥iv
->
åack
 =Årack;

2567 
ªndî_¥iv
->
time
 = 
now
;

2569 
	`ass_œzy_åack_öô
(
ªndî_¥iv
->
libøry
,Ñídî_¥iv->
åack
);

2571 
	`ass_sh≠î_£t_kînög
(
ªndî_¥iv
->
sh≠î
, 
åack
->
Kînög
);

2572 
	`ass_sh≠î_£t_œnguage
(
ªndî_¥iv
->
sh≠î
, 
åack
->
L™guage
);

2573 
	`ass_sh≠î_£t_Àvñ
(
ªndî_¥iv
->
sh≠î
,Ñídî_¥iv->
£âögs
.shaper);

2576 
∑r
 = 
ªndî_¥iv
->
£âögs
.par;

2577 i‡(
∑r
 == 0.) {

2578 i‡(
£âögs_¥iv
->
‰ame_width
 && sëtögs_¥iv->
‰ame_height
 &&

2579 
£âögs_¥iv
->
°‹age_width
 && sëtögs_¥iv->
°‹age_height
) {

2580 
d¨
 = ((Ë
£âögs_¥iv
->
‰ame_width
) /

2581 
£âögs_¥iv
->
‰ame_height
;

2582 
ßr
 = ((Ë
£âögs_¥iv
->
°‹age_width
) /

2583 
£âögs_¥iv
->
°‹age_height
;

2584 
∑r
 = 
ßr
 / 
d¨
;

2586 
∑r
 = 1.0;

2588 
ªndî_¥iv
->
f⁄t_sˇÀ_x
 = 
∑r
;

2590 
ªndî_¥iv
->
¥ev_images_roŸ
 =Ñídî_¥iv->
images_roŸ
;

2591 
ªndî_¥iv
->
images_roŸ
 = 
NULL
;

2593 
	`check_ˇche_limôs
(
ªndî_¥iv
, &ªndî_¥iv->
ˇche
);

2596 
	}
}

2598 
	$cmp_evít_œyî
(c⁄° *
p1
, c⁄° *
p2
)

2600 
ASS_Evít
 *
e1
 = ((
EvítImages
 *Ë
p1
)->
evít
;

2601 
ASS_Evít
 *
e2
 = ((
EvítImages
 *Ë
p2
)->
evít
;

2602 i‡(
e1
->
Layî
 < 
e2
->Layer)

2604 i‡(
e1
->
Layî
 > 
e2
->Layer)

2606 i‡(
e1
->
RódOrdî
 < 
e2
->ReadOrder)

2608 i‡(
e1
->
RódOrdî
 > 
e2
->ReadOrder)

2611 
	}
}

2613 
ASS_RídîPriv
 *
	$gë_ªndî_¥iv
(
ASS_Rídîî
 *
ªndî_¥iv
,

2614 
ASS_Evít
 *
evít
)

2616 i‡(!
evít
->
ªndî_¥iv
) {

2617 
evít
->
ªndî_¥iv
 = 
	`ˇŒoc
(1, (
ASS_RídîPriv
));

2618 i‡(!
evít
->
ªndî_¥iv
)

2619  
NULL
;

2621 i‡(
ªndî_¥iv
->
ªndî_id
 !
evít
->render_priv->render_id) {

2622 
	`mem£t
(
evít
->
ªndî_¥iv
, 0, (
ASS_RídîPriv
));

2623 
evít
->
ªndî_¥iv
->
ªndî_id
 =Ñender_priv->render_id;

2626  
evít
->
ªndî_¥iv
;

2627 
	}
}

2629 
	$ovîœp
(
Segmít
 *
s1
, Segmíà*
s2
)

2631 i‡(
s1
->
a
 >
s2
->
b
 || s2->a >= s1->b ||

2632 
s1
->
ha
 >
s2
->
hb
 || s2->ha >= s1->hb)

2635 
	}
}

2637 
	$cmp_£gmít
(c⁄° *
p1
, c⁄° *
p2
)

2639  ((
Segmít
 *Ë
p1
)->
a
 - ((Segmíà*Ë
p2
)->a;

2640 
	}
}

2643 
	$shi·_evít
(
ASS_Rídîî
 *
ªndî_¥iv
, 
EvítImages
 *
ei
, 
shi·
)

2645 
ASS_Image
 *
cur
 = 
ei
->
imgs
;

2646 
cur
) {

2647 
cur
->
d°_y
 +
shi·
;

2649 i‡(
cur
->
d°_y
 < 0) {

2650 
˛ù
 = -
cur
->
d°_y
;

2651 
cur
->
h
 -
˛ù
;

2652 
cur
->
bôm≠
 +
˛ù
 * cur->
°ride
;

2653 
cur
->
d°_y
 = 0;

2655 i‡(
cur
->
d°_y
 + cur->
h
 >
ªndî_¥iv
->
height
) {

2656 
˛ù
 = 
cur
->
d°_y
 + cur->
h
 - 
ªndî_¥iv
->
height
;

2657 
cur
->
h
 -
˛ù
;

2659 i‡(
cur
->
h
 <= 0) {

2660 
cur
->
h
 = 0;

2661 
cur
->
d°_y
 = 0;

2663 
cur
 = cur->
√xt
;

2665 
ei
->
t›
 +
shi·
;

2666 
	}
}

2670 
	$fô_£gmít
(
Segmít
 *
s
, Segmíà*
fixed
, *
˙t
, 
dú
)

2672 
i
;

2673 
shi·
 = 0;

2675 i‡(
dú
 == 1)

2676 
i
 = 0; i < *
˙t
; ++i) {

2677 i‡(
s
->
b
 + 
shi·
 <
fixed
[
i
].
a
 || s->a + shift >= fixed[i].b ||

2678 
s
->
hb
 <
fixed
[
i
].
ha
 || s->ha >= fixed[i].hb)

2680 
shi·
 = 
fixed
[
i
].
b
 - 
s
->
a
;

2682 
i
 = *
˙t
 - 1; i >= 0; --i) {

2683 i‡(
s
->
b
 + 
shi·
 <
fixed
[
i
].
a
 || s->a + shift >= fixed[i].b ||

2684 
s
->
hb
 <
fixed
[
i
].
ha
 || s->ha >= fixed[i].hb)

2686 
shi·
 = 
fixed
[
i
].
a
 - 
s
->
b
;

2689 
fixed
[*
˙t
].
a
 = 
s
->®+ 
shi·
;

2690 
fixed
[*
˙t
].
b
 = 
s
->b + 
shi·
;

2691 
fixed
[*
˙t
].
ha
 = 
s
->ha;

2692 
fixed
[*
˙t
].
hb
 = 
s
->hb;

2693 (*
˙t
)++;

2694 
	`qs‹t
(
fixed
, *
˙t
, (
Segmít
), 
cmp_£gmít
);

2696  
shi·
;

2697 
	}
}

2700 
	$fix_cﬁlisi⁄s
(
ASS_Rídîî
 *
ªndî_¥iv
, 
EvítImages
 *
imgs
, 
˙t
)

2702 
Segmít
 *
u£d
 = 
	`ass_ªÆloc_¨øy
(
NULL
, 
˙t
, (*used));

2703 
˙t_u£d
 = 0;

2704 
i
, 
j
;

2706 i‡(!
u£d
)

2710 
i
 = 0; i < 
˙t
; ++i) {

2711 
ASS_RídîPriv
 *
¥iv
;

2712 i‡(!
imgs
[
i
].
dëe˘_cﬁlisi⁄s
)

2714 
¥iv
 = 
	`gë_ªndî_¥iv
(
ªndî_¥iv
, 
imgs
[
i
].
evít
);

2715 i‡(
¥iv
 &&Öriv->
height
 > 0) {

2716 
Segmít
 
s
;

2717 
s
.
a
 = 
¥iv
->
t›
;

2718 
s
.
b
 = 
¥iv
->
t›
 +Öriv->
height
;

2719 
s
.
ha
 = 
¥iv
->
À·
;

2720 
s
.
hb
 = 
¥iv
->
À·
 +Öriv->
width
;

2721 i‡(
¥iv
->
height
 !
imgs
[
i
].height) {

2722 
	`ass_msg
(
ªndî_¥iv
->
libøry
, 
MSGL_WARN
,

2724 
¥iv
->
t›
 = 0;

2725 
¥iv
->
height
 = 0;

2726 
¥iv
->
À·
 = 0;

2727 
¥iv
->
width
 = 0;

2729 
j
 = 0; j < 
˙t_u£d
; ++j)

2730 i‡(
	`ovîœp
(&
s
, 
u£d
 + 
j
)) {

2731 
¥iv
->
t›
 = 0;

2732 
¥iv
->
height
 = 0;

2733 
¥iv
->
À·
 = 0;

2734 
¥iv
->
width
 = 0;

2736 i‡(
¥iv
->
height
 > 0) {

2737 
u£d
[
˙t_u£d
].
a
 = 
¥iv
->
t›
;

2738 
u£d
[
˙t_u£d
].
b
 = 
¥iv
->
t›
 +Öriv->
height
;

2739 
u£d
[
˙t_u£d
].
ha
 = 
¥iv
->
À·
;

2740 
u£d
[
˙t_u£d
].
hb
 = 
¥iv
->
À·
 +Öriv->
width
;

2741 
˙t_u£d
++;

2742 
	`shi·_evít
(
ªndî_¥iv
, 
imgs
 + 
i
, 
¥iv
->
t›
 - imgs[i].top);

2746 
	`qs‹t
(
u£d
, 
˙t_u£d
, (
Segmít
), 
cmp_£gmít
);

2749 
i
 = 0; i < 
˙t
; ++i) {

2750 
ASS_RídîPriv
 *
¥iv
;

2751 i‡(!
imgs
[
i
].
dëe˘_cﬁlisi⁄s
)

2753 
¥iv
 = 
	`gë_ªndî_¥iv
(
ªndî_¥iv
, 
imgs
[
i
].
evít
);

2754 i‡(
¥iv
 &&Öriv->
height
 == 0) {

2755 
shi·
;

2756 
Segmít
 
s
;

2757 
s
.
a
 = 
imgs
[
i
].
t›
;

2758 
s
.
b
 = 
imgs
[
i
].
t›
 + imgs[i].
height
;

2759 
s
.
ha
 = 
imgs
[
i
].
À·
;

2760 
s
.
hb
 = 
imgs
[
i
].
À·
 + imgs[i].
width
;

2761 
shi·
 = 
	`fô_£gmít
(&
s
, 
u£d
, &
˙t_u£d
, 
imgs
[
i
].
shi·_dúe˘i⁄
);

2762 i‡(
shi·
)

2763 
	`shi·_evít
(
ªndî_¥iv
, 
imgs
 + 
i
, 
shi·
);

2765 
¥iv
->
t›
 = 
imgs
[
i
].top;

2766 
¥iv
->
height
 = 
imgs
[
i
].height;

2767 
¥iv
->
À·
 = 
imgs
[
i
].left;

2768 
¥iv
->
width
 = 
imgs
[
i
].width;

2773 
	`‰ì
(
u£d
);

2774 
	}
}

2782 
	$ass_image_com∑ª
(
ASS_Image
 *
i1
, ASS_Imagê*
i2
)

2784 i‡(
i1
->
w
 !
i2
->w)

2786 i‡(
i1
->
h
 !
i2
->h)

2788 i‡(
i1
->
°ride
 !
i2
->stride)

2790 i‡(
i1
->
cﬁ‹
 !
i2
->color)

2792 i‡(
i1
->
bôm≠
 !
i2
->bitmap)

2794 i‡(
i1
->
d°_x
 !
i2
->dst_x)

2796 i‡(
i1
->
d°_y
 !
i2
->dst_y)

2799 
	}
}

2806 
	$ass_dëe˘_ch™ge
(
ASS_Rídîî
 *
¥iv
)

2808 
ASS_Image
 *
img
, *
img2
;

2809 
diff
;

2811 
img
 = 
¥iv
->
¥ev_images_roŸ
;

2812 
img2
 = 
¥iv
->
images_roŸ
;

2813 
diff
 = 0;

2814 
img
 && 
diff
 < 2) {

2815 
ASS_Image
 *
√xt
, *
√xt2
;

2816 
√xt
 = 
img
->next;

2817 i‡(
img2
) {

2818 
d
 = 
	`ass_image_com∑ª
(
img
, 
img2
);

2819 i‡(
d
 > 
diff
)

2820 
diff
 = 
d
;

2821 
√xt2
 = 
img2
->
√xt
;

2824 
diff
 = 2;

2827 
img
 = 
√xt
;

2828 
img2
 = 
√xt2
;

2832 i‡(
img2
)

2833 
diff
 = 2;

2835  
diff
;

2836 
	}
}

2847 
ASS_Image
 *
	$ass_ªndî_‰ame
(
ASS_Rídîî
 *
¥iv
, 
ASS_Tøck
 *
åack
,

2848 
now
, *
dëe˘_ch™ge
)

2850 
i
, 
˙t
, 
rc
;

2851 
EvítImages
 *
œ°
;

2852 
ASS_Image
 **
èû
;

2855 
rc
 = 
	`ass_°¨t_‰ame
(
¥iv
, 
åack
, 
now
);

2856 i‡(
rc
 != 0) {

2857 i‡(
dëe˘_ch™ge
) {

2858 *
dëe˘_ch™ge
 = 2;

2860  
NULL
;

2864 
˙t
 = 0;

2865 
i
 = 0; i < 
åack
->
n_evíts
; ++i) {

2866 
ASS_Evít
 *
evít
 = 
åack
->
evíts
 + 
i
;

2867 i‡((
evít
->
Sèπ
 <
now
)

2868 && (
now
 < (
evít
->
Sèπ
 +Évít->
Duøti⁄
))) {

2869 i‡(
˙t
 >
¥iv
->
eimg_size
) {

2870 
¥iv
->
eimg_size
 += 100;

2871 
¥iv
->
eimg
 =

2872 
	`ªÆloc
(
¥iv
->
eimg
,

2873 
¥iv
->
eimg_size
 * (
EvítImages
));

2875 
rc
 = 
	`ass_ªndî_evít
(
¥iv
, 
evít
,Öriv->
eimg
 + 
˙t
);

2876 i‡(!
rc
)

2877 ++
˙t
;

2882 
	`qs‹t
(
¥iv
->
eimg
, 
˙t
, (
EvítImages
), 
cmp_evít_œyî
);

2885 
œ°
 = 
¥iv
->
eimg
;

2886 
i
 = 1; i < 
˙t
; ++i)

2887 i‡(
œ°
->
evít
->
Layî
 !
¥iv
->
eimg
[
i
].event->Layer) {

2888 
	`fix_cﬁlisi⁄s
(
¥iv
, 
œ°
,Öriv->
eimg
 + 
i
 -Üast);

2889 
œ°
 = 
¥iv
->
eimg
 + 
i
;

2891 i‡(
˙t
 > 0)

2892 
	`fix_cﬁlisi⁄s
(
¥iv
, 
œ°
,Öriv->
eimg
 + 
˙t
 -Üast);

2895 
èû
 = &
¥iv
->
images_roŸ
;

2896 
i
 = 0; i < 
˙t
; ++i) {

2897 
ASS_Image
 *
cur
 = 
¥iv
->
eimg
[
i
].
imgs
;

2898 
cur
) {

2899 *
èû
 = 
cur
;

2900 
èû
 = &
cur
->
√xt
;

2901 
cur
 = cur->
√xt
;

2904 
	`ass_‰ame_ªf
(
¥iv
->
images_roŸ
);

2906 i‡(
dëe˘_ch™ge
)

2907 *
dëe˘_ch™ge
 = 
	`ass_dëe˘_ch™ge
(
¥iv
);

2910 
	`ass_‰ame_uƒef
(
¥iv
->
¥ev_images_roŸ
);

2911 
¥iv
->
¥ev_images_roŸ
 = 
NULL
;

2913  
¥iv
->
images_roŸ
;

2914 
	}
}

2920 
	$ass_‰ame_ªf
(
ASS_Image
 *
img
)

2922 i‡(!
img
)

2924 ((
ASS_ImagePriv
 *Ë
img
)->
ªf_cou¡
++;

2925 
	}
}

2931 
	$ass_‰ame_uƒef
(
ASS_Image
 *
img
)

2933 i‡(!
img
 || --((
ASS_ImagePriv
 *Ëimg)->
ªf_cou¡
)

2936 
ASS_ImagePriv
 *
¥iv
 = (ASS_ImagePriv *Ë
img
;

2937 
img
 = img->
√xt
;

2938 i‡(
¥iv
->
sour˚
)

2939 
	`ass_ˇche_dec_ªf
(
¥iv
->
sour˚
);

2941 
	`ass_Æig√d_‰ì
(
¥iv
->
ªsu…
.
bôm≠
);

2942 
	`‰ì
(
¥iv
);

2943 } 
img
);

2944 
	}
}

	@libass/ass_render.h

20 #i‚de‡
LIBASS_RENDER_H


21 
	#LIBASS_RENDER_H


	)

23 
	~<öây≥s.h
>

24 
	~<·2buûd.h
>

25 #ö˛udê
FT_FREETYPE_H


26 #ö˛udê
FT_GLYPH_H


27 #ö˛udê
FT_SYNTHESIS_H


28 #ifde‡
CONFIG_HARFBUZZ


29 
	~<hb.h
>

32 
	~"ass.h
"

33 
	~"ass_f⁄t.h
"

34 
	~"ass_bôm≠.h
"

35 
	~"ass_ˇche.h
"

36 
	~"ass_utûs.h
"

37 
	~"ass_f⁄t£À˘.h
"

38 
	~"ass_libøry.h
"

39 
	~"ass_døwög.h
"

40 
	~"ass_bôm≠.h
"

41 
	~"ass_ø°îizî.h
"

43 
	#GLYPH_CACHE_MAX
 10000

	)

44 
	#MEGABYTE
 (1024 * 1024)

	)

45 
	#BITMAP_CACHE_MAX_SIZE
 (128 * 
MEGABYTE
)

	)

46 
	#COMPOSITE_CACHE_RATIO
 2

	)

47 
	#COMPOSITE_CACHE_MAX_SIZE
 (
BITMAP_CACHE_MAX_SIZE
 / 
COMPOSITE_CACHE_RATIO
)

	)

49 
	#PARSED_FADE
 (1<<0)

	)

50 
	#PARSED_A
 (1<<1)

	)

53 
ASS_Image
 
	mªsu…
;

54 
ComposôeHashVÆue
 *
	msour˚
;

55 
size_t
 
	mªf_cou¡
;

56 } 
	tASS_ImagePriv
;

59 
	m‰ame_width
;

60 
	m‰ame_height
;

61 
	m°‹age_width
;

62 
	m°‹age_height
;

63 
	mf⁄t_size_c€ff
;

64 
	mlöe_•acög
;

65 
	mlöe_posôi⁄
;

66 
	mt›_m¨gö
;

67 
	mbŸtom_m¨gö
;

68 
	mÀ·_m¨gö
;

69 
	mright_m¨gö
;

70 
	mu£_m¨gös
;

72 
	m∑r
;

73 
ASS_Hötög
 
	mhötög
;

74 
ASS_Sh≠ögLevñ
 
	msh≠î
;

75 
	m£À˘ive_°yÀ_ovîrides
;

77 *
	mdeÁu…_f⁄t
;

78 *
	mdeÁu…_Ámûy
;

79 } 
	tASS_Sëtögs
;

83 
ASS_Image
 *
	mimgs
;

84 
	mt›
, 
	mheight
, 
	mÀ·
, 
	mwidth
;

85 
	mdëe˘_cﬁlisi⁄s
;

86 
	mshi·_dúe˘i⁄
;

87 
ASS_Evít
 *
	mevít
;

88 } 
	tEvítImages
;

91 
	mEF_NONE
 = 0,

92 
	mEF_KARAOKE
,

93 
	mEF_KARAOKE_KF
,

94 
	mEF_KARAOKE_KO


95 } 
	tEf„˘
;

99 
FûãrDesc
 
	mfûãr
;

100 
uöt32_t
 
	mc
[4];

101 
Ef„˘
 
	mef„˘_ty≥
;

102 
	mef„˘_timög
;

106 
	mfú°_pos_x
;

108 
size_t
 
	mbôm≠_cou¡
, 
	mmax_bôm≠_cou¡
;

109 
Bôm≠Ref
 *
	mbôm≠s
;

111 
	mx
, 
	my
;

112 
ASS_Re˘
 
	mª˘
, 
	mª˘_o
;

113 
size_t
 
	mn_bm
, 
	mn_bm_o
;

115 
Bôm≠
 *
	mbm
, *
	mbm_o
, *
	mbm_s
;

116 
ComposôeHashVÆue
 *
	mimage
;

117 } 
	tComböedBôm≠Info
;

121 
	sglyph_öfo
 {

122 
	msymbﬁ
;

123 
	mskù
;

124 
ASS_F⁄t
 *
	mf⁄t
;

125 
	mÁ˚_ödex
;

126 
	mglyph_ödex
;

127 #ifde‡
CONFIG_HARFBUZZ


128 
hb_s¸ùt_t
 
	ms¸ùt
;

130 
	ms¸ùt
;

132 
	mf⁄t_size
;

133 
ASS_Døwög
 *
	mdøwög
;

134 
ASS_Ouéöe
 *
	mouéöe
;

135 
ASS_Ouéöe
 *
	mb‹dî
[2];

136 
ASS_Re˘
 
	mbbox
;

137 
ASS_Ve˘‹
 
	mpos
;

138 
ASS_Ve˘‹
 
	moff£t
;

139 
	mlöebªak
;

140 
uöt32_t
 
	mc
[4];

141 
ASS_Ve˘‹
 
	madv™˚
;

142 
ASS_Ve˘‹
 
	m˛u°î_adv™˚
;

143 
	mef„˘
;

144 
Ef„˘
 
	mef„˘_ty≥
;

145 
	mef„˘_timög
;

148 
	mef„˘_skù_timög
;

149 
	masc
, 
	mdesc
;

150 
	mbe
;

151 
	mblur
;

152 
	mshadow_x
;

153 
	mshadow_y
;

154 
	m‰x
, 
	m‰y
, 
	m‰z
;

155 
	mÁx
, 
	mÁy
;

156 
	msˇÀ_x
, 
	msˇÀ_y
;

157 
	m‹ig_sˇÀ_x
, 
	m‹ig_sˇÀ_y
;

158 
	mb‹dî_°yÀ
;

159 
	mb‹dî_x
, 
	mb‹dî_y
;

160 
	mh•acög
;

161 
	môÆic
;

162 
	mbﬁd
;

163 
	mÊags
;

165 
	msh≠e_run_id
;

167 
Bôm≠HashKey
 
	mhash_key
;

168 
Bôm≠HashVÆue
 *
	mimage
;

171 
glyph_öfo
 *
	m√xt
;

172 } 
	tGlyphInfo
;

175 
	masc
, 
	mdesc
;

176 
	moff£t
, 
	mÀn
;

177 } 
	tLöeInfo
;

180 
GlyphInfo
 *
	mglyphs
;

181 
	mÀngth
;

182 
LöeInfo
 *
	mlöes
;

183 
	mn_löes
;

184 
ComböedBôm≠Info
 *
	mcomböed_bôm≠s
;

185 
	mn_bôm≠s
;

186 
	mheight
;

187 
	mmax_glyphs
;

188 
	mmax_löes
;

189 
	mmax_bôm≠s
;

190 } 
	tTextInfo
;

195 
ASS_Evít
 *
	mevít
;

196 
ASS_StyÀ
 *
	m°yÀ
;

197 
	m∑r£d_ègs
;

199 
ASS_F⁄t
 *
	mf⁄t
;

200 
	mf⁄t_size
;

201 
	mÊags
;

203 
	mÆignmít
;

204 
	mju°ify
;

205 
	m‰x
, 
	m‰y
, 
	m‰z
;

206 
	mÁx
, 
	mÁy
;

208 
	mEVENT_NORMAL
,

209 
	mEVENT_POSITIONED
,

210 
	mEVENT_HSCROLL
,

211 
	mEVENT_VSCROLL


212 } 
	mevt_ty≥
;

213 
	mpos_x
, 
	mpos_y
;

214 
	m‹g_x
, 
	m‹g_y
;

215 
	mhave_‹igö
;

216 
	msˇÀ_x
, 
	msˇÀ_y
;

217 
	mh•acög
;

218 
	mb‹dî_°yÀ
;

219 
	mb‹dî_x
;

220 
	mb‹dî_y
;

221 
uöt32_t
 
	mc
[4];

222 
	m˛ù_x0
, 
	m˛ù_y0
, 
	m˛ù_x1
, 
	m˛ù_y1
;

223 
	m˛ù_mode
;

224 
	mdëe˘_cﬁlisi⁄s
;

225 
	mÁde
;

226 
	mbe
;

227 
	mblur
;

228 
	mshadow_x
;

229 
	mshadow_y
;

230 
	mdøwög_sˇÀ
;

231 
	mpbo
;

232 
ASS_Døwög
 *
	m˛ù_døwög
;

233 
	m˛ù_døwög_mode
;

235 
Ef„˘
 
	mef„˘_ty≥
;

236 
	mef„˘_timög
;

237 
	mef„˘_skù_timög
;

240 
	mSCROLL_LR
,

241 
	mSCROLL_RL
,

242 
	mSCROLL_TB
,

243 
	mSCROLL_BT


244 } 
	ms¸ﬁl_dúe˘i⁄
;

245 
	ms¸ﬁl_shi·
;

248 *
	mÁmûy
;

249 
	mbﬁd
;

250 
	môÆic
;

251 
	måót_Ámûy_as_∑âîn
;

252 
	mwøp_°yÀ
;

253 
	mf⁄t_ícodög
;

256 
	movîrides
;

258 
	m≠∂y_f⁄t_sˇÀ
;

260 
	mex∂icô
;

263 
ASS_StyÀ
 
	movîride_°yÀ_ãmp_°‹age
;

264 } 
	tRídîC⁄ãxt
;

267 
Cache
 *
	mf⁄t_ˇche
;

268 
Cache
 *
	mouéöe_ˇche
;

269 
Cache
 *
	mbôm≠_ˇche
;

270 
Cache
 *
	mcomposôe_ˇche
;

271 
size_t
 
	mglyph_max
;

272 
size_t
 
	mbôm≠_max_size
;

273 
size_t
 
	mcomposôe_max_size
;

274 } 
	tCacheSt‹e
;

276 
	~"ass_sh≠î.h
"

278 
	sass_ªndîî
 {

279 
ASS_Libøry
 *
	mlibøry
;

280 
FT_Libøry
 
	m·libøry
;

281 
ASS_F⁄tSñe˘‹
 *
	mf⁄t£À˘
;

282 
ASS_Sëtögs
 
	m£âögs
;

283 
	mªndî_id
;

284 
ASS_Sh≠î
 *
	msh≠î
;

286 
ASS_Image
 *
	mimages_roŸ
;

287 
ASS_Image
 *
	m¥ev_images_roŸ
;

289 
EvítImages
 *
	meimg
;

290 
	meimg_size
;

293 
	mwidth
, 
	mheight
;

294 
	m‹ig_height
;

295 
	m‹ig_width
;

296 
	m‹ig_height_no¸›
;

297 
	m‹ig_width_no¸›
;

298 
ASS_Tøck
 *
	måack
;

299 
	mtime
;

300 
	mf⁄t_sˇÀ
;

301 
	mf⁄t_sˇÀ_x
;

302 
	mb‹dî_sˇÀ
;

303 
	mblur_sˇÀ
;

305 
RídîC⁄ãxt
 
	m°©e
;

306 
TextInfo
 
	mãxt_öfo
;

307 
CacheSt‹e
 
	mˇche
;

309 c⁄° 
Bôm≠Engöe
 *
	mígöe
;

310 
Ra°îizîD©a
 
	mø°îizî
;

312 
ASS_StyÀ
 
	mu£r_ovîride_°yÀ
;

315 
	sªndî_¥iv
 {

316 
	mt›
, 
	mheight
, 
	mÀ·
, 
	mwidth
;

317 
	mªndî_id
;

318 } 
	tRídîPriv
;

321 
	mx0
;

322 
	my0
;

323 
	mx1
;

324 
	my1
;

325 } 
	tRe˘
;

328 
	ma
, 
	mb
;

329 
	mha
, 
	mhb
;

330 } 
	tSegmít
;

332 
ª£t_ªndî_c⁄ãxt
(
ASS_Rídîî
 *
ªndî_¥iv
, 
ASS_StyÀ
 *
°yÀ
);

333 
ass_‰ame_ªf
(
ASS_Image
 *
img
);

334 
ass_‰ame_uƒef
(
ASS_Image
 *
img
);

337 
ass_œzy_åack_öô
(
ASS_Libøry
 *
lib
, 
ASS_Tøck
 *
åack
);

	@libass/ass_render_api.c

20 
	~"c⁄fig.h
"

21 
	~"ass_com∑t.h
"

23 
	~"ass_ªndî.h
"

25 
	$ass_ªc⁄figuª
(
ASS_Rídîî
 *
¥iv
)

27 
ASS_Sëtögs
 *
£âögs
 = &
¥iv
->settings;

29 
¥iv
->
ªndî_id
++;

30 
	`ass_ˇche_em±y
(
¥iv
->
ˇche
.
composôe_ˇche
);

31 
	`ass_ˇche_em±y
(
¥iv
->
ˇche
.
bôm≠_ˇche
);

32 
	`ass_ˇche_em±y
(
¥iv
->
ˇche
.
ouéöe_ˇche
);

34 
¥iv
->
width
 = 
£âögs
->
‰ame_width
;

35 
¥iv
->
height
 = 
£âögs
->
‰ame_height
;

36 
¥iv
->
‹ig_width
 = 
£âögs
->
‰ame_width
 - sëtögs->
À·_m¨gö
 -

37 
£âögs
->
right_m¨gö
;

38 
¥iv
->
‹ig_height
 = 
£âögs
->
‰ame_height
 - sëtögs->
t›_m¨gö
 -

39 
£âögs
->
bŸtom_m¨gö
;

40 
¥iv
->
‹ig_width_no¸›
 =

41 
£âögs
->
‰ame_width
 - 
	`FFMAX
(£âögs->
À·_m¨gö
, 0) -

42 
	`FFMAX
(
£âögs
->
right_m¨gö
, 0);

43 
¥iv
->
‹ig_height_no¸›
 =

44 
£âögs
->
‰ame_height
 - 
	`FFMAX
(£âögs->
t›_m¨gö
, 0) -

45 
	`FFMAX
(
£âögs
->
bŸtom_m¨gö
, 0);

46 
	}
}

48 
	$ass_£t_‰ame_size
(
ASS_Rídîî
 *
¥iv
, 
w
, 
h
)

50 i‡(
¥iv
->
£âögs
.
‰ame_width
 !
w
 ||Öriv->£âögs.
‰ame_height
 !
h
) {

51 
¥iv
->
£âögs
.
‰ame_width
 = 
w
;

52 
¥iv
->
£âögs
.
‰ame_height
 = 
h
;

53 
	`ass_ªc⁄figuª
(
¥iv
);

55 
	}
}

57 
	$ass_£t_°‹age_size
(
ASS_Rídîî
 *
¥iv
, 
w
, 
h
)

59 i‡(
¥iv
->
£âögs
.
°‹age_width
 !
w
 ||

60 
¥iv
->
£âögs
.
°‹age_height
 !
h
) {

61 
¥iv
->
£âögs
.
°‹age_width
 = 
w
;

62 
¥iv
->
£âögs
.
°‹age_height
 = 
h
;

63 
	`ass_ªc⁄figuª
(
¥iv
);

65 
	}
}

67 
	$ass_£t_sh≠î
(
ASS_Rídîî
 *
¥iv
, 
ASS_Sh≠ögLevñ
 
Àvñ
)

69 #ifde‡
CONFIG_HARFBUZZ


71 i‡(
Àvñ
 =
ASS_SHAPING_SIMPLE
 ||Üevñ =
ASS_SHAPING_COMPLEX
)

72 
¥iv
->
£âögs
.
sh≠î
 = 
Àvñ
;

74 
¥iv
->
£âögs
.
sh≠î
 = 
ASS_SHAPING_COMPLEX
;

76 
	}
}

78 
	$ass_£t_m¨gös
(
ASS_Rídîî
 *
¥iv
, 
t
, 
b
, 
l
, 
r
)

80 i‡(
¥iv
->
£âögs
.
À·_m¨gö
 !
l
 ||Öriv->£âögs.
right_m¨gö
 !
r
 ||

81 
¥iv
->
£âögs
.
t›_m¨gö
 !
t
 ||Öriv->£âögs.
bŸtom_m¨gö
 !
b
) {

82 
¥iv
->
£âögs
.
À·_m¨gö
 = 
l
;

83 
¥iv
->
£âögs
.
right_m¨gö
 = 
r
;

84 
¥iv
->
£âögs
.
t›_m¨gö
 = 
t
;

85 
¥iv
->
£âögs
.
bŸtom_m¨gö
 = 
b
;

86 
	`ass_ªc⁄figuª
(
¥iv
);

88 
	}
}

90 
	$ass_£t_u£_m¨gös
(
ASS_Rídîî
 *
¥iv
, 
u£
)

92 
¥iv
->
£âögs
.
u£_m¨gös
 = 
u£
;

93 
	}
}

95 
	$ass_£t_a•e˘_øtio
(
ASS_Rídîî
 *
¥iv
, 
d¨
, 
ßr
)

97 
	`ass_£t_pixñ_a•e˘
(
¥iv
, 
d¨
 / 
ßr
);

98 
	}
}

100 
	$ass_£t_pixñ_a•e˘
(
ASS_Rídîî
 *
¥iv
, 
∑r
)

102 i‡(
¥iv
->
£âögs
.
∑r
 !=Öar) {

103 
¥iv
->
£âögs
.
∑r
 =Öar;

104 
	`ass_ªc⁄figuª
(
¥iv
);

106 
	}
}

108 
	$ass_£t_f⁄t_sˇÀ
(
ASS_Rídîî
 *
¥iv
, 
f⁄t_sˇÀ
)

110 i‡(
¥iv
->
£âögs
.
f⁄t_size_c€ff
 !
f⁄t_sˇÀ
) {

111 
¥iv
->
£âögs
.
f⁄t_size_c€ff
 = 
f⁄t_sˇÀ
;

112 
	`ass_ªc⁄figuª
(
¥iv
);

114 
	}
}

116 
	$ass_£t_hötög
(
ASS_Rídîî
 *
¥iv
, 
ASS_Hötög
 
ht
)

118 i‡(
¥iv
->
£âögs
.
hötög
 !
ht
) {

119 
¥iv
->
£âögs
.
hötög
 = 
ht
;

120 
	`ass_ªc⁄figuª
(
¥iv
);

122 
	}
}

124 
	$ass_£t_löe_•acög
(
ASS_Rídîî
 *
¥iv
, 
löe_•acög
)

126 
¥iv
->
£âögs
.
löe_•acög
 =Üine_spacing;

127 
	}
}

129 
	$ass_£t_löe_posôi⁄
(
ASS_Rídîî
 *
¥iv
, 
löe_posôi⁄
)

131 i‡(
¥iv
->
£âögs
.
löe_posôi⁄
 !=Üine_position) {

132 
¥iv
->
£âögs
.
löe_posôi⁄
 =Üine_position;

133 
	`ass_ªc⁄figuª
(
¥iv
);

135 
	}
}

137 
	$ass_£t_f⁄ts
(
ASS_Rídîî
 *
¥iv
, c⁄° *
deÁu…_f⁄t
,

138 c⁄° *
deÁu…_Ámûy
, 
dÂ
,

139 c⁄° *
c⁄fig
, 
upd©e
)

141 
	`‰ì
(
¥iv
->
£âögs
.
deÁu…_f⁄t
);

142 
	`‰ì
(
¥iv
->
£âögs
.
deÁu…_Ámûy
);

143 
¥iv
->
£âögs
.
deÁu…_f⁄t
 = deÁu…_f⁄à? 
	`°rdup
(default_font) : 0;

144 
¥iv
->
£âögs
.
deÁu…_Ámûy
 =

145 
deÁu…_Ámûy
 ? 
	`°rdup
(default_family) : 0;

147 
	`ass_ªc⁄figuª
(
¥iv
);

149 
	`ass_ˇche_em±y
(
¥iv
->
ˇche
.
f⁄t_ˇche
);

150 i‡(
¥iv
->
sh≠î
)

151 
	`ass_sh≠î_em±y_ˇche
(
¥iv
->
sh≠î
);

153 i‡(
¥iv
->
f⁄t£À˘
)

154 
	`ass_f⁄t£À˘_‰ì
(
¥iv
->
f⁄t£À˘
);

155 
¥iv
->
f⁄t£À˘
 = 
	`ass_f⁄t£À˘_öô
’riv->
libøry
,Öriv->
·libøry
,

156 
deÁu…_Ámûy
, 
deÁu…_f⁄t
, 
c⁄fig
, 
dÂ
);

157 
	}
}

159 
	$ass_£t_£À˘ive_°yÀ_ovîride_íabÀd
(
ASS_Rídîî
 *
¥iv
, 
bôs
)

161 i‡(
¥iv
->
£âögs
.
£À˘ive_°yÀ_ovîrides
 !
bôs
) {

162 
¥iv
->
£âögs
.
£À˘ive_°yÀ_ovîrides
 = 
bôs
;

163 
	`ass_ªc⁄figuª
(
¥iv
);

165 
	}
}

167 
	$ass_£t_£À˘ive_°yÀ_ovîride
(
ASS_Rídîî
 *
¥iv
, 
ASS_StyÀ
 *
°yÀ
)

169 
ASS_StyÀ
 *
u£r_°yÀ
 = &
¥iv
->
u£r_ovîride_°yÀ
;

170 
	`‰ì
(
u£r_°yÀ
->
F⁄tName
);

171 *
u£r_°yÀ
 = *
°yÀ
;

172 
u£r_°yÀ
->
F⁄tName
 = 
	`°rdup
(user_style->FontName);

173 
	}
}

175 
	$ass_f⁄ts_upd©e
(
ASS_Rídîî
 *
ªndî_¥iv
)

179 
	}
}

181 
	$ass_£t_ˇche_limôs
(
ASS_Rídîî
 *
ªndî_¥iv
, 
glyph_max
,

182 
bôm≠_max
)

184 
ªndî_¥iv
->
ˇche
.
glyph_max
 = glyph_max ? glyph_max : 
GLYPH_CACHE_MAX
;

186 
size_t
 
bôm≠_ˇche
, 
composôe_ˇche
;

187 i‡(
bôm≠_max
) {

188 
bôm≠_ˇche
 = 
MEGABYTE
 * (
size_t
Ë
bôm≠_max
;

189 
composôe_ˇche
 = 
bôm≠_ˇche
 / (
COMPOSITE_CACHE_RATIO
 + 1);

190 
bôm≠_ˇche
 -
composôe_ˇche
;

192 
bôm≠_ˇche
 = 
BITMAP_CACHE_MAX_SIZE
;

193 
composôe_ˇche
 = 
COMPOSITE_CACHE_MAX_SIZE
;

195 
ªndî_¥iv
->
ˇche
.
bôm≠_max_size
 = 
bôm≠_ˇche
;

196 
ªndî_¥iv
->
ˇche
.
composôe_max_size
 = 
composôe_ˇche
;

197 
	}
}

199 
ASS_F⁄tProvidî
 *

200 
	$ass_¸óã_f⁄t_¥ovidî
(
ASS_Rídîî
 *
¥iv
, 
ASS_F⁄tProvidîFuncs
 *
funcs
,

201 *
d©a
)

203  
	`ass_f⁄t_¥ovidî_√w
(
¥iv
->
f⁄t£À˘
, 
funcs
, 
d©a
);

204 
	}
}

	@libass/ass_shaper.c

19 
	~"c⁄fig.h
"

20 
	~"ass_com∑t.h
"

22 
	~"ass_sh≠î.h
"

23 
	~"ass_ªndî.h
"

24 
	~"ass_f⁄t.h
"

25 
	~"ass_∑r£.h
"

26 
	~"ass_ˇche.h
"

27 
	~<limôs.h
>

28 
	~<°dboﬁ.h
>

30 #ifde‡
CONFIG_HARFBUZZ


31 
	~<hb-·.h
>

33 
	mVERT
 = 0,

34 
	mVKNA
,

35 
	mKERN
,

36 
	mLIGA
,

37 
	mCLIG


39 
	#NUM_FEATURES
 5

	)

42 
	sass_sh≠î
 {

43 
ASS_Sh≠ögLevñ
 
	msh≠ög_Àvñ
;

46 
	mn_glyphs
;

47 
FriBidiCh¨
 *
	mevít_ãxt
;

48 
FriBidiCh¨Ty≥
 *
	m˘y≥s
;

49 
FriBidiLevñ
 *
	membÀvñs
;

50 
FriBidiSåIndex
 *
	mcm≠
;

51 
FriBidiP¨Ty≥
 
	mba£_dúe˘i⁄
;

53 #ifde‡
CONFIG_HARFBUZZ


55 
	mn_„©uªs
;

56 
hb_„©uª_t
 *
	m„©uªs
;

57 
hb_œnguage_t
 
	mœnguage
;

60 
Cache
 *
	mmërics_ˇche
;

64 #ifde‡
CONFIG_HARFBUZZ


65 
	sass_sh≠î_mërics_d©a
 {

66 
Cache
 *
	mmërics_ˇche
;

67 
GlyphMëricsHashKey
 
	mhash_key
;

68 
	mvîtiˇl
;

71 
	sass_sh≠î_f⁄t_d©a
 {

72 
hb_f⁄t_t
 *
	mf⁄ts
[
ASS_FONT_MAX_FACES
];

73 
hb_f⁄t_funcs_t
 *
	mf⁄t_funcs
[
ASS_FONT_MAX_FACES
];

74 
ass_sh≠î_mërics_d©a
 *
	mmërics_d©a
[
ASS_FONT_MAX_FACES
];

81 
	$ass_sh≠î_öfo
(
ASS_Libøry
 *
lib
)

83 
	`ass_msg
(
lib
, 
MSGL_INFO
, "Shaper: FriBidi "

84 
FRIBIDI_VERSION
 " (SIMPLE)"

85 #ifde‡
CONFIG_HARFBUZZ


86 " H¨fBuzz-ng %†(COMPLEX)", 
	`hb_vîsi⁄_°rög
()

89 
	}
}

95 
boﬁ
 
	$check_Æloˇti⁄s
(
ASS_Sh≠î
 *
sh≠î
, 
size_t
 
√w_size
)

97 i‡(
√w_size
 > 
sh≠î
->
n_glyphs
) {

98 i‡(!
	`ASS_REALLOC_ARRAY
(
sh≠î
->
evít_ãxt
, 
√w_size
) ||

99 !
	`ASS_REALLOC_ARRAY
(
sh≠î
->
˘y≥s
, 
√w_size
) ||

100 !
	`ASS_REALLOC_ARRAY
(
sh≠î
->
embÀvñs
, 
√w_size
) ||

101 !
	`ASS_REALLOC_ARRAY
(
sh≠î
->
cm≠
, 
√w_size
))

102  
Ál£
;

103 
sh≠î
->
n_glyphs
 = 
√w_size
;

105  
åue
;

106 
	}
}

111 
	$ass_sh≠î_‰ì
(
ASS_Sh≠î
 *
sh≠î
)

113 #ifde‡
CONFIG_HARFBUZZ


114 
	`ass_ˇche_d⁄e
(
sh≠î
->
mërics_ˇche
);

115 
	`‰ì
(
sh≠î
->
„©uªs
);

117 
	`‰ì
(
sh≠î
->
evít_ãxt
);

118 
	`‰ì
(
sh≠î
->
˘y≥s
);

119 
	`‰ì
(
sh≠î
->
embÀvñs
);

120 
	`‰ì
(
sh≠î
->
cm≠
);

121 
	`‰ì
(
sh≠î
);

122 
	}
}

124 
	$ass_sh≠î_em±y_ˇche
(
ASS_Sh≠î
 *
sh≠î
)

126 #ifde‡
CONFIG_HARFBUZZ


127 
	`ass_ˇche_em±y
(
sh≠î
->
mërics_ˇche
);

129 
	}
}

131 
	$ass_sh≠î_f⁄t_d©a_‰ì
(
ASS_Sh≠îF⁄tD©a
 *
¥iv
)

133 #ifde‡
CONFIG_HARFBUZZ


134 
i
;

135 
i
 = 0; i < 
ASS_FONT_MAX_FACES
; i++)

136 i‡(
¥iv
->
f⁄ts
[
i
]) {

137 
	`‰ì
(
¥iv
->
mërics_d©a
[
i
]);

138 
	`hb_f⁄t_de°roy
(
¥iv
->
f⁄ts
[
i
]);

139 
	`hb_f⁄t_funcs_de°roy
(
¥iv
->
f⁄t_funcs
[
i
]);

141 
	`‰ì
(
¥iv
);

143 
	}
}

145 #ifde‡
CONFIG_HARFBUZZ


150 
boﬁ
 
	$öô_„©uªs
(
ASS_Sh≠î
 *
sh≠î
)

152 
sh≠î
->
„©uªs
 = 
	`ˇŒoc
((
hb_„©uª_t
), 
NUM_FEATURES
);

153 i‡(!
sh≠î
->
„©uªs
)

154  
Ál£
;

156 
sh≠î
->
n_„©uªs
 = 
NUM_FEATURES
;

157 
sh≠î
->
„©uªs
[
VERT
].
èg
 = 
	`HB_TAG
('v', 'e', 'r', 't');

158 
sh≠î
->
„©uªs
[
VERT
].
íd
 = 
UINT_MAX
;

159 
sh≠î
->
„©uªs
[
VKNA
].
èg
 = 
	`HB_TAG
('v', 'k', 'n', 'a');

160 
sh≠î
->
„©uªs
[
VKNA
].
íd
 = 
UINT_MAX
;

161 
sh≠î
->
„©uªs
[
KERN
].
èg
 = 
	`HB_TAG
('k', 'e', 'r', 'n');

162 
sh≠î
->
„©uªs
[
KERN
].
íd
 = 
UINT_MAX
;

163 
sh≠î
->
„©uªs
[
LIGA
].
èg
 = 
	`HB_TAG
('l', 'i', 'g', 'a');

164 
sh≠î
->
„©uªs
[
LIGA
].
íd
 = 
UINT_MAX
;

165 
sh≠î
->
„©uªs
[
CLIG
].
èg
 = 
	`HB_TAG
('c', 'l', 'i', 'g');

166 
sh≠î
->
„©uªs
[
CLIG
].
íd
 = 
UINT_MAX
;

168  
åue
;

169 
	}
}

174 
	$£t_run_„©uªs
(
ASS_Sh≠î
 *
sh≠î
, 
GlyphInfo
 *
öfo
)

177 i‡(
öfo
->
f⁄t
->
desc
.
vîtiˇl
)

178 
sh≠î
->
„©uªs
[
VERT
].
vÆue
 = sh≠î->„©uªs[
VKNA
].value = 1;

180 
sh≠î
->
„©uªs
[
VERT
].
vÆue
 = sh≠î->„©uªs[
VKNA
].value = 0;

183 i‡(
öfo
->
h•acög
)

184 
sh≠î
->
„©uªs
[
LIGA
].
vÆue
 = sh≠î->„©uªs[
CLIG
].value = 0;

186 
sh≠î
->
„©uªs
[
LIGA
].
vÆue
 = sh≠î->„©uªs[
CLIG
].value = 1;

187 
	}
}

194 
	$upd©e_hb_size
(
hb_f⁄t_t
 *
hb_f⁄t
, 
FT_Fa˚
 
Á˚
)

196 
	`hb_f⁄t_£t_sˇÀ
 (
hb_f⁄t
,

197 ((
uöt64_t
Ë
Á˚
->
size
->
mërics
.
x_sˇÀ
 * (uöt64_tËÁ˚->
unôs_≥r_EM
) >> 16,

198 ((
uöt64_t
Ë
Á˚
->
size
->
mërics
.
y_sˇÀ
 * (uöt64_tËÁ˚->
unôs_≥r_EM
) >> 16);

199 
	`hb_f⁄t_£t_µem
 (
hb_f⁄t
, 
Á˚
->
size
->
mërics
.
x_µem
,

200 
Á˚
->
size
->
mërics
.
y_µem
);

201 
	}
}

213 
GlyphMëricsHashVÆue
 *

214 
	$gë_ˇched_mërics
(
ass_sh≠î_mërics_d©a
 *
mërics
, 
FT_Fa˚
 
Á˚
,

215 
hb_codïoöt_t
 
unicode
, hb_codïoöt_à
glyph
)

217 
GlyphMëricsHashVÆue
 *
vÆ
;

218 
mërics
->
hash_key
.
glyph_ödex
 = 
glyph
;

219 i‡(
	`ass_ˇche_gë
(
mërics
->
mërics_ˇche
, &mërics->
hash_key
, &
vÆ
)) {

220 i‡(
vÆ
->
mërics
.
width
 >= 0)

221  
vÆ
;

222 
	`ass_ˇche_dec_ªf
(
vÆ
);

223  
NULL
;

225 i‡(!
vÆ
)

226  
NULL
;

228 
lﬂd_Êags
 = 
FT_LOAD_DEFAULT
 | 
FT_LOAD_IGNORE_GLOBAL_ADVANCE_WIDTH


229 | 
FT_LOAD_IGNORE_TRANSFORM
;

231 i‡(
	`FT_Lﬂd_Glyph
(
Á˚
, 
glyph
, 
lﬂd_Êags
)) {

232 
vÆ
->
mërics
.
width
 = -1;

233 
	`ass_ˇche_commô
(
vÆ
, 1);

234 
	`ass_ˇche_dec_ªf
(
vÆ
);

235  
NULL
;

238 
	`mem˝y
(&
vÆ
->
mërics
, &
Á˚
->
glyph
->mërics, (
FT_Glyph_Mërics
));

242 i‡(
mërics
->
vîtiˇl
 && 
unicode
 >
VERTICAL_LOWER_BOUND
)

243 
vÆ
->
mërics
.
h‹iAdv™˚
 = vÆ->mërics.
vîtAdv™˚
;

245 
	`ass_ˇche_commô
(
vÆ
, 1);

246  
vÆ
;

247 
	}
}

249 
hb_boﬁ_t


250 
	$gë_glyph
(
hb_f⁄t_t
 *
f⁄t
, *
f⁄t_d©a
, 
hb_codïoöt_t
 
unicode
,

251 
hb_codïoöt_t
 
v¨üti⁄
, hb_codïoöt_à*
glyph
, *
u£r_d©a
)

253 
FT_Fa˚
 
Á˚
 = 
f⁄t_d©a
;

254 
ass_sh≠î_mërics_d©a
 *
mërics_¥iv
 = 
u£r_d©a
;

256 i‡(
v¨üti⁄
)

257 *
glyph
 = 
	`FT_Fa˚_GëCh¨V¨ü¡Index
(
Á˚
, 
	`ass_f⁄t_ödex_magic
(Á˚, 
unicode
), 
v¨üti⁄
);

259 *
glyph
 = 
	`FT_Gë_Ch¨_Index
(
Á˚
, 
	`ass_f⁄t_ödex_magic
(Á˚, 
unicode
));

260 i‡(!*
glyph
)

261  
Ál£
;

264 
GlyphMëricsHashVÆue
 *
mërics
 = 
	`gë_ˇched_mërics
(
mërics_¥iv
, 
Á˚
, 
unicode
, *
glyph
);

265 
	`ass_ˇche_dec_ªf
(
mërics
);

266  
åue
;

267 
	}
}

269 
hb_posôi⁄_t


270 
	$ˇched_h_adv™˚
(
hb_f⁄t_t
 *
f⁄t
, *
f⁄t_d©a
, 
hb_codïoöt_t
 
glyph
,

271 *
u£r_d©a
)

273 
FT_Fa˚
 
Á˚
 = 
f⁄t_d©a
;

274 
ass_sh≠î_mërics_d©a
 *
mërics_¥iv
 = 
u£r_d©a
;

275 
GlyphMëricsHashVÆue
 *
mërics
 = 
	`gë_ˇched_mërics
(
mërics_¥iv
, 
Á˚
, 0, 
glyph
);

276 i‡(!
mërics
)

279 
hb_posôi⁄_t
 
adv™˚
 = 
mërics
->mërics.
h‹iAdv™˚
;

280 
	`ass_ˇche_dec_ªf
(
mërics
);

281  
adv™˚
;

282 
	}
}

284 
hb_posôi⁄_t


285 
	$ˇched_v_adv™˚
(
hb_f⁄t_t
 *
f⁄t
, *
f⁄t_d©a
, 
hb_codïoöt_t
 
glyph
,

286 *
u£r_d©a
)

288 
FT_Fa˚
 
Á˚
 = 
f⁄t_d©a
;

289 
ass_sh≠î_mërics_d©a
 *
mërics_¥iv
 = 
u£r_d©a
;

290 
GlyphMëricsHashVÆue
 *
mërics
 = 
	`gë_ˇched_mërics
(
mërics_¥iv
, 
Á˚
, 0, 
glyph
);

291 i‡(!
mërics
)

294 
hb_posôi⁄_t
 
adv™˚
 = 
mërics
->mërics.
vîtAdv™˚
;

295 
	`ass_ˇche_dec_ªf
(
mërics
);

296  
adv™˚
;

297 
	}
}

299 
hb_boﬁ_t


300 
	$ˇched_h_‹igö
(
hb_f⁄t_t
 *
f⁄t
, *
f⁄t_d©a
, 
hb_codïoöt_t
 
glyph
,

301 
hb_posôi⁄_t
 *
x
, hb_posôi⁄_à*
y
, *
u£r_d©a
)

303  
åue
;

304 
	}
}

306 
hb_boﬁ_t


307 
	$ˇched_v_‹igö
(
hb_f⁄t_t
 *
f⁄t
, *
f⁄t_d©a
, 
hb_codïoöt_t
 
glyph
,

308 
hb_posôi⁄_t
 *
x
, hb_posôi⁄_à*
y
, *
u£r_d©a
)

310 
FT_Fa˚
 
Á˚
 = 
f⁄t_d©a
;

311 
ass_sh≠î_mërics_d©a
 *
mërics_¥iv
 = 
u£r_d©a
;

312 
GlyphMëricsHashVÆue
 *
mërics
 = 
	`gë_ˇched_mërics
(
mërics_¥iv
, 
Á˚
, 0, 
glyph
);

313 i‡(!
mërics
)

314  
Ál£
;

316 *
x
 = 
mërics
->mërics.
h‹iBórögX
 - mërics->mërics.
vîtBórögX
;

317 *
y
 = 
mërics
->mërics.
h‹iBórögY
 - (-mërics->mërics.
vîtBórögY
);

318 
	`ass_ˇche_dec_ªf
(
mërics
);

319  
åue
;

320 
	}
}

322 
hb_posôi⁄_t


323 
	$gë_h_kînög
(
hb_f⁄t_t
 *
f⁄t
, *
f⁄t_d©a
, 
hb_codïoöt_t
 
fú°
,

324 
hb_codïoöt_t
 
£c⁄d
, *
u£r_d©a
)

326 
FT_Fa˚
 
Á˚
 = 
f⁄t_d©a
;

327 
FT_Ve˘‹
 
kîn
;

329 i‡(
	`FT_Gë_Kînög
(
Á˚
, 
fú°
, 
£c⁄d
, 
FT_KERNING_DEFAULT
, &
kîn
))

332  
kîn
.
x
;

333 
	}
}

335 
hb_posôi⁄_t


336 
	$gë_v_kînög
(
hb_f⁄t_t
 *
f⁄t
, *
f⁄t_d©a
, 
hb_codïoöt_t
 
fú°
,

337 
hb_codïoöt_t
 
£c⁄d
, *
u£r_d©a
)

340 
	}
}

342 
hb_boﬁ_t


343 
	$ˇched_exã¡s
(
hb_f⁄t_t
 *
f⁄t
, *
f⁄t_d©a
, 
hb_codïoöt_t
 
glyph
,

344 
hb_glyph_exã¡s_t
 *
exã¡s
, *
u£r_d©a
)

346 
FT_Fa˚
 
Á˚
 = 
f⁄t_d©a
;

347 
ass_sh≠î_mërics_d©a
 *
mërics_¥iv
 = 
u£r_d©a
;

348 
GlyphMëricsHashVÆue
 *
mërics
 = 
	`gë_ˇched_mërics
(
mërics_¥iv
, 
Á˚
, 0, 
glyph
);

349 i‡(!
mërics
)

350  
Ál£
;

352 
exã¡s
->
x_bórög
 = 
mërics
->mërics.
h‹iBórögX
;

353 
exã¡s
->
y_bórög
 = 
mërics
->mërics.
h‹iBórögY
;

354 
exã¡s
->
width
 = 
mërics
->metrics.width;

355 
exã¡s
->
height
 = -
mërics
->metrics.height;

356 
	`ass_ˇche_dec_ªf
(
mërics
);

357  
åue
;

358 
	}
}

360 
hb_boﬁ_t


361 
	$gë_c⁄tour_poöt
(
hb_f⁄t_t
 *
f⁄t
, *
f⁄t_d©a
, 
hb_codïoöt_t
 
glyph
,

362 
poöt_ödex
, 
hb_posôi⁄_t
 *
x
,

363 
hb_posôi⁄_t
 *
y
, *
u£r_d©a
)

365 
FT_Fa˚
 
Á˚
 = 
f⁄t_d©a
;

366 
lﬂd_Êags
 = 
FT_LOAD_DEFAULT
 | 
FT_LOAD_IGNORE_GLOBAL_ADVANCE_WIDTH


367 | 
FT_LOAD_IGNORE_TRANSFORM
;

369 i‡(
	`FT_Lﬂd_Glyph
(
Á˚
, 
glyph
, 
lﬂd_Êags
))

370  
Ál£
;

372 i‡(
poöt_ödex
 >()
Á˚
->
glyph
->
ouéöe
.
n_poöts
)

373  
Ál£
;

375 *
x
 = 
Á˚
->
glyph
->
ouéöe
.
poöts
[
poöt_ödex
].x;

376 *
y
 = 
Á˚
->
glyph
->
ouéöe
.
poöts
[
poöt_ödex
].y;

377  
åue
;

378 
	}
}

386 
hb_f⁄t_t
 *
	$gë_hb_f⁄t
(
ASS_Sh≠î
 *
sh≠î
, 
GlyphInfo
 *
öfo
)

388 
ASS_F⁄t
 *
f⁄t
 = 
öfo
->font;

389 
hb_f⁄t_t
 **
hb_f⁄ts
;

391 i‡(!
f⁄t
->
sh≠î_¥iv
)

392 
f⁄t
->
sh≠î_¥iv
 = 
	`ˇŒoc
((
ASS_Sh≠îF⁄tD©a
), 1);

395 
hb_f⁄ts
 = 
f⁄t
->
sh≠î_¥iv
->
f⁄ts
;

396 i‡(!
hb_f⁄ts
[
öfo
->
Á˚_ödex
]) {

397 
hb_f⁄ts
[
öfo
->
Á˚_ödex
] =

398 
	`hb_·_f⁄t_¸óã
(
f⁄t
->
Á˚s
[
öfo
->
Á˚_ödex
], 
NULL
);

401 
f⁄t
->
sh≠î_¥iv
->
mërics_d©a
[
öfo
->
Á˚_ödex
] =

402 
	`ˇŒoc
((
ass_sh≠î_mërics_d©a
), 1);

403 
ass_sh≠î_mërics_d©a
 *
mërics
 =

404 
f⁄t
->
sh≠î_¥iv
->
mërics_d©a
[
öfo
->
Á˚_ödex
];

405 
mërics
->
mërics_ˇche
 = 
sh≠î
->metrics_cache;

406 
mërics
->
vîtiˇl
 = 
öfo
->
f⁄t
->
desc
.vertical;

408 
hb_f⁄t_funcs_t
 *
funcs
 = 
	`hb_f⁄t_funcs_¸óã
();

409 
f⁄t
->
sh≠î_¥iv
->
f⁄t_funcs
[
öfo
->
Á˚_ödex
] = 
funcs
;

410 
	`hb_f⁄t_funcs_£t_glyph_func
(
funcs
, 
gë_glyph
,

411 
mërics
, 
NULL
);

412 
	`hb_f⁄t_funcs_£t_glyph_h_adv™˚_func
(
funcs
, 
ˇched_h_adv™˚
,

413 
mërics
, 
NULL
);

414 
	`hb_f⁄t_funcs_£t_glyph_v_adv™˚_func
(
funcs
, 
ˇched_v_adv™˚
,

415 
mërics
, 
NULL
);

416 
	`hb_f⁄t_funcs_£t_glyph_h_‹igö_func
(
funcs
, 
ˇched_h_‹igö
,

417 
mërics
, 
NULL
);

418 
	`hb_f⁄t_funcs_£t_glyph_v_‹igö_func
(
funcs
, 
ˇched_v_‹igö
,

419 
mërics
, 
NULL
);

420 
	`hb_f⁄t_funcs_£t_glyph_h_kînög_func
(
funcs
, 
gë_h_kînög
,

421 
mërics
, 
NULL
);

422 
	`hb_f⁄t_funcs_£t_glyph_v_kînög_func
(
funcs
, 
gë_v_kînög
,

423 
mërics
, 
NULL
);

424 
	`hb_f⁄t_funcs_£t_glyph_exã¡s_func
(
funcs
, 
ˇched_exã¡s
,

425 
mërics
, 
NULL
);

426 
	`hb_f⁄t_funcs_£t_glyph_c⁄tour_poöt_func
(
funcs
, 
gë_c⁄tour_poöt
,

427 
mërics
, 
NULL
);

428 
	`hb_f⁄t_£t_funcs
(
hb_f⁄ts
[
öfo
->
Á˚_ödex
], 
funcs
,

429 
f⁄t
->
Á˚s
[
öfo
->
Á˚_ödex
], 
NULL
);

432 
	`ass_Á˚_£t_size
(
f⁄t
->
Á˚s
[
öfo
->
Á˚_ödex
], info->
f⁄t_size
);

433 
	`upd©e_hb_size
(
hb_f⁄ts
[
öfo
->
Á˚_ödex
], 
f⁄t
->
Á˚s
[info->face_index]);

436 
ass_sh≠î_mërics_d©a
 *
mërics
 =

437 
f⁄t
->
sh≠î_¥iv
->
mërics_d©a
[
öfo
->
Á˚_ödex
];

438 
mërics
->
hash_key
.
f⁄t
 = 
öfo
->font;

439 
mërics
->
hash_key
.
Á˚_ödex
 = 
öfo
->face_index;

440 
mërics
->
hash_key
.
size
 = 
öfo
->
f⁄t_size
;

441 
mërics
->
hash_key
.
sˇÀ_x
 = 
	`doubÀ_to_d6
(
öfo
->scale_x);

442 
mërics
->
hash_key
.
sˇÀ_y
 = 
	`doubÀ_to_d6
(
öfo
->scale_y);

444  
hb_f⁄ts
[
öfo
->
Á˚_ödex
];

445 
	}
}

459 
hb_œnguage_t
 
	$s¸ùt_to_œnguage
(
hb_s¸ùt_t
 
s¸ùt
)

461 
s¸ùt
) {

463 
HB_SCRIPT_ARABIC
:  
	`hb_œnguage_‰om_°rög
("ar", -1); ;

464 
HB_SCRIPT_ARMENIAN
:  
	`hb_œnguage_‰om_°rög
("hy", -1); ;

465 
HB_SCRIPT_BENGALI
:  
	`hb_œnguage_‰om_°rög
("bn", -1); ;

466 
HB_SCRIPT_CANADIAN_ABORIGINAL
:  
	`hb_œnguage_‰om_°rög
("iu", -1); ;

467 
HB_SCRIPT_CHEROKEE
:  
	`hb_œnguage_‰om_°rög
("chr", -1); ;

468 
HB_SCRIPT_COPTIC
:  
	`hb_œnguage_‰om_°rög
("cop", -1); ;

469 
HB_SCRIPT_CYRILLIC
:  
	`hb_œnguage_‰om_°rög
("ru", -1); ;

470 
HB_SCRIPT_DEVANAGARI
:  
	`hb_œnguage_‰om_°rög
("hi", -1); ;

471 
HB_SCRIPT_GEORGIAN
:  
	`hb_œnguage_‰om_°rög
("ka", -1); ;

472 
HB_SCRIPT_GREEK
:  
	`hb_œnguage_‰om_°rög
("el", -1); ;

473 
HB_SCRIPT_GUJARATI
:  
	`hb_œnguage_‰om_°rög
("gu", -1); ;

474 
HB_SCRIPT_GURMUKHI
:  
	`hb_œnguage_‰om_°rög
("pa", -1); ;

475 
HB_SCRIPT_HANGUL
:  
	`hb_œnguage_‰om_°rög
("ko", -1); ;

476 
HB_SCRIPT_HEBREW
:  
	`hb_œnguage_‰om_°rög
("he", -1); ;

477 
HB_SCRIPT_HIRAGANA
:  
	`hb_œnguage_‰om_°rög
("ja", -1); ;

478 
HB_SCRIPT_KANNADA
:  
	`hb_œnguage_‰om_°rög
("kn", -1); ;

479 
HB_SCRIPT_KATAKANA
:  
	`hb_œnguage_‰om_°rög
("ja", -1); ;

480 
HB_SCRIPT_LAO
:  
	`hb_œnguage_‰om_°rög
("lo", -1); ;

481 
HB_SCRIPT_LATIN
:  
	`hb_œnguage_‰om_°rög
("en", -1); ;

482 
HB_SCRIPT_MALAYALAM
:  
	`hb_œnguage_‰om_°rög
("ml", -1); ;

483 
HB_SCRIPT_MONGOLIAN
:  
	`hb_œnguage_‰om_°rög
("mn", -1); ;

484 
HB_SCRIPT_ORIYA
:  
	`hb_œnguage_‰om_°rög
("or", -1); ;

485 
HB_SCRIPT_SYRIAC
:  
	`hb_œnguage_‰om_°rög
("syr", -1); ;

486 
HB_SCRIPT_TAMIL
:  
	`hb_œnguage_‰om_°rög
("ta", -1); ;

487 
HB_SCRIPT_TELUGU
:  
	`hb_œnguage_‰om_°rög
("te", -1); ;

488 
HB_SCRIPT_THAI
:  
	`hb_œnguage_‰om_°rög
("th", -1); ;

491 
HB_SCRIPT_TIBETAN
:  
	`hb_œnguage_‰om_°rög
("bo", -1); ;

494 
HB_SCRIPT_ETHIOPIC
:  
	`hb_œnguage_‰om_°rög
("am", -1); ;

495 
HB_SCRIPT_KHMER
:  
	`hb_œnguage_‰om_°rög
("km", -1); ;

496 
HB_SCRIPT_MYANMAR
:  
	`hb_œnguage_‰om_°rög
("my", -1); ;

497 
HB_SCRIPT_SINHALA
:  
	`hb_œnguage_‰om_°rög
("si", -1); ;

498 
HB_SCRIPT_THAANA
:  
	`hb_œnguage_‰om_°rög
("dv", -1); ;

501 
HB_SCRIPT_BUHID
:  
	`hb_œnguage_‰om_°rög
("bku", -1); ;

502 
HB_SCRIPT_HANUNOO
:  
	`hb_œnguage_‰om_°rög
("hnn", -1); ;

503 
HB_SCRIPT_TAGALOG
:  
	`hb_œnguage_‰om_°rög
("tl", -1); ;

504 
HB_SCRIPT_TAGBANWA
:  
	`hb_œnguage_‰om_°rög
("tbw", -1); ;

507 
HB_SCRIPT_UGARITIC
:  
	`hb_œnguage_‰om_°rög
("uga", -1); ;

510 
HB_SCRIPT_BUGINESE
:  
	`hb_œnguage_‰om_°rög
("bug", -1); ;

511 
HB_SCRIPT_OLD_PERSIAN
:  
	`hb_œnguage_‰om_°rög
("peo", -1); ;

512 
HB_SCRIPT_SYLOTI_NAGRI
:  
	`hb_œnguage_‰om_°rög
("syl", -1); ;

515 
HB_SCRIPT_NKO
:  
	`hb_œnguage_‰om_°rög
("nko", -1); ;

518 :  
HB_LANGUAGE_INVALID
; ;

520 
	}
}

529 
hb_œnguage_t


530 
	$hb_sh≠î_gë_run_œnguage
(
ASS_Sh≠î
 *
sh≠î
, 
hb_s¸ùt_t
 
s¸ùt
)

532 
hb_œnguage_t
 
œng
;

535 i‡(
sh≠î
->
œnguage
 !
HB_LANGUAGE_INVALID
)

536  
sh≠î
->
œnguage
;

539 
œng
 = 
	`s¸ùt_to_œnguage
(
s¸ùt
);

542 i‡(
œng
 =
HB_LANGUAGE_INVALID
)

543 
œng
 = 
	`hb_œnguage_gë_deÁu…
();

545  
œng
;

546 
	}
}

556 
	$sh≠e_h¨fbuzz_¥o˚ss_run
(
GlyphInfo
 *
glyphs
, 
hb_buf„r_t
 *
buf
, 
off£t
)

558 
j
;

559 
num_glyphs
 = 
	`hb_buf„r_gë_Àngth
(
buf
);

560 
hb_glyph_öfo_t
 *
glyph_öfo
 = 
	`hb_buf„r_gë_glyph_öfos
(
buf
, 
NULL
);

561 
hb_glyph_posôi⁄_t
 *
pos
 = 
	`hb_buf„r_gë_glyph_posôi⁄s
(
buf
, 
NULL
);

563 
j
 = 0; j < 
num_glyphs
; j++) {

564 
idx
 = 
glyph_öfo
[
j
].
˛u°î
 + 
off£t
;

565 
GlyphInfo
 *
öfo
 = 
glyphs
 + 
idx
;

566 
GlyphInfo
 *
roŸ
 = 
öfo
;

570 i‡(
öfo
->
skù
 == 0) {

571 
öfo
->
√xt
)

572 
öfo
 = info->
√xt
;

573 
öfo
->
√xt
 = 
	`mÆloc
((
GlyphInfo
));

574 i‡(
öfo
->
√xt
) {

575 
	`mem˝y
(
öfo
->
√xt
, info, (
GlyphInfo
));

576 
	`ass_ˇche_öc_ªf
(
öfo
->
f⁄t
);

577 
öfo
 = info->
√xt
;

578 
öfo
->
√xt
 = 
NULL
;

583 
öfo
->
skù
 = 0;

584 
öfo
->
glyph_ödex
 = 
glyph_öfo
[
j
].
codïoöt
;

585 
öfo
->
off£t
.
x
 = 
pos
[
j
].
x_off£t
 * info->
sˇÀ_x
;

586 
öfo
->
off£t
.
y
 = -
pos
[
j
].
y_off£t
 * info->
sˇÀ_y
;

587 
öfo
->
adv™˚
.
x
 = 
pos
[
j
].
x_adv™˚
 * info->
sˇÀ_x
;

588 
öfo
->
adv™˚
.
y
 = -
pos
[
j
].
y_adv™˚
 * info->
sˇÀ_y
;

591 
roŸ
->
˛u°î_adv™˚
.
x
 +
öfo
->
adv™˚
.x;

592 
roŸ
->
˛u°î_adv™˚
.
y
 +
öfo
->
adv™˚
.y;

594 
	}
}

601 
	$sh≠e_h¨fbuzz
(
ASS_Sh≠î
 *
sh≠î
, 
GlyphInfo
 *
glyphs
, 
size_t
 
Àn
)

603 
i
;

604 
hb_buf„r_t
 *
buf
 = 
	`hb_buf„r_¸óã
();

605 
hb_£gmít_¥›îtõs_t
 
¥›s
 = 
HB_SEGMENT_PROPERTIES_DEFAULT
;

608 
i
 = 0; i < 
Àn
; i++)

609 
glyphs
[
i
].
skù
 = 1;

611 
i
 = 0; i < 
Àn
; i++) {

612 
off£t
 = 
i
;

613 
hb_f⁄t_t
 *
f⁄t
 = 
	`gë_hb_f⁄t
(
sh≠î
, 
glyphs
 + 
off£t
);

614 
Àvñ
 = 
glyphs
[
off£t
].
sh≠e_run_id
;

615 
dúe˘i⁄
 = 
sh≠î
->
embÀvñs
[
off£t
] % 2;

618 
i
 < (
Àn
 - 1Ë&& 
Àvñ
 =
glyphs
[i+1].
sh≠e_run_id
)

619 
i
++;

621 
	`hb_buf„r_¥e_Æloˇã
(
buf
, 
i
 - 
off£t
 + 1);

622 
	`hb_buf„r_add_utf32
(
buf
, 
sh≠î
->
evít_ãxt
 + 
off£t
, 
i
 - offset + 1,

623 0, 
i
 - 
off£t
 + 1);

625 
¥›s
.
dúe˘i⁄
 = dúe˘i⁄ ? 
HB_DIRECTION_RTL
 : 
HB_DIRECTION_LTR
;

626 
¥›s
.
s¸ùt
 = 
glyphs
[
off£t
].script;

627 
¥›s
.
œnguage
 = 
	`hb_sh≠î_gë_run_œnguage
(
sh≠î
,Ör›s.
s¸ùt
);

628 
	`hb_buf„r_£t_£gmít_¥›îtõs
(
buf
, &
¥›s
);

630 
	`£t_run_„©uªs
(
sh≠î
, 
glyphs
 + 
off£t
);

631 
	`hb_sh≠e
(
f⁄t
, 
buf
, 
sh≠î
->
„©uªs
, sh≠î->
n_„©uªs
);

633 
	`sh≠e_h¨fbuzz_¥o˚ss_run
(
glyphs
, 
buf
, 
off£t
);

634 
	`hb_buf„r_ª£t
(
buf
);

637 
	`hb_buf„r_de°roy
(
buf
);

638 
	}
}

645 
	$ass_sh≠î_dëîmöe_s¸ùt
(
ASS_Sh≠î
 *
sh≠î
, 
GlyphInfo
 *
glyphs
,

646 
size_t
 
Àn
)

648 
i
;

649 
backw¨ds_sˇn
 = 0;

650 
hb_unicode_funcs_t
 *
ufuncs
 = 
	`hb_unicode_funcs_gë_deÁu…
();

651 
hb_s¸ùt_t
 
œ°_s¸ùt
 = 
HB_SCRIPT_UNKNOWN
;

654 
i
 = 0; i < 
Àn
; i++) {

655 
GlyphInfo
 *
öfo
 = 
glyphs
 + 
i
;

656 
öfo
->
s¸ùt
 = 
	`hb_unicode_s¸ùt
(
ufuncs
, info->
symbﬁ
);

659 i‡(
öfo
->
s¸ùt
 =
HB_SCRIPT_COMMON
 ||

660 
öfo
->
s¸ùt
 =
HB_SCRIPT_INHERITED
) {

662 i‡(
œ°_s¸ùt
 !
HB_SCRIPT_UNKNOWN
)

663 
öfo
->
s¸ùt
 = 
œ°_s¸ùt
;

667 
backw¨ds_sˇn
 = 1;

669 
œ°_s¸ùt
 = 
öfo
->
s¸ùt
;

674 
œ°_s¸ùt
 = 
HB_SCRIPT_UNKNOWN
;

675 
i
 = 
Àn
 - 1; i >0 && 
backw¨ds_sˇn
; i--) {

676 
GlyphInfo
 *
öfo
 = 
glyphs
 + 
i
;

679 i‡(
öfo
->
s¸ùt
 =
HB_SCRIPT_COMMON
 ||

680 
öfo
->
s¸ùt
 =
HB_SCRIPT_INHERITED
) {

682 i‡(
œ°_s¸ùt
 !
HB_SCRIPT_UNKNOWN
)

683 
öfo
->
s¸ùt
 = 
œ°_s¸ùt
;

685 
œ°_s¸ùt
 = 
öfo
->
s¸ùt
;

688 
	}
}

696 
	$sh≠e_‰ibidi
(
ASS_Sh≠î
 *
sh≠î
, 
GlyphInfo
 *
glyphs
, 
size_t
 
Àn
)

698 
i
;

699 
FriBidiJoöögTy≥
 *
joös
 = 
	`ˇŒoc
((*joös), 
Àn
);

702 
	`‰ibidi_gë_joöög_ty≥s
(
sh≠î
->
evít_ãxt
, 
Àn
, 
joös
);

703 
	`‰ibidi_joö_¨abic
(
sh≠î
->
˘y≥s
, 
Àn
, sh≠î->
embÀvñs
, 
joös
);

704 
	`‰ibidi_sh≠e
(
FRIBIDI_FLAGS_DEFAULT
 | 
FRIBIDI_FLAGS_ARABIC
,

705 
sh≠î
->
embÀvñs
, 
Àn
, 
joös
, sh≠î->
evít_ãxt
);

708 
i
 = 0; i < 
Àn
; i++) {

709 
GlyphInfo
 *
öfo
 = 
glyphs
 + 
i
;

710 
FT_Fa˚
 
Á˚
 = 
öfo
->
f⁄t
->
Á˚s
[öfo->
Á˚_ödex
];

711 
öfo
->
symbﬁ
 = 
sh≠î
->
evít_ãxt
[
i
];

712 
öfo
->
glyph_ödex
 = 
	`FT_Gë_Ch¨_Index
(
Á˚
, 
	`ass_f⁄t_ödex_magic
(Á˚, 
sh≠î
->
evít_ãxt
[
i
]));

715 
	`‰ì
(
joös
);

716 
	}
}

723 
	$ass_sh≠î_£t_kînög
(
ASS_Sh≠î
 *
sh≠î
, 
kîn
)

725 #ifde‡
CONFIG_HARFBUZZ


726 
sh≠î
->
„©uªs
[
KERN
].
vÆue
 = !!
kîn
;

728 
	}
}

733 
	$ass_sh≠î_föd_runs
(
ASS_Sh≠î
 *
sh≠î
, 
ASS_Rídîî
 *
ªndî_¥iv
,

734 
GlyphInfo
 *
glyphs
, 
size_t
 
Àn
)

736 
i
;

737 
sh≠e_run
 = 0;

739 #ifde‡
CONFIG_HARFBUZZ


740 
	`ass_sh≠î_dëîmöe_s¸ùt
(
sh≠î
, 
glyphs
, 
Àn
);

744 
i
 = 0; i < 
Àn
; i++) {

745 
GlyphInfo
 *
œ°
 = 
glyphs
 + 
i
 - 1;

746 
GlyphInfo
 *
öfo
 = 
glyphs
 + 
i
;

748 i‡(
öfo
->
symbﬁ
 == 0xfffc)

751 
	`ass_f⁄t_gë_ödex
(
ªndî_¥iv
->
f⁄t£À˘
, 
öfo
->
f⁄t
,

752 
öfo
->
symbﬁ
, &öfo->
Á˚_ödex
, &öfo->
glyph_ödex
);

758 i‡(
i
 > 0 && (
œ°
->
f⁄t
 !
öfo
->font ||

759 
œ°
->
Á˚_ödex
 !
öfo
->face_index ||

760 
œ°
->
s¸ùt
 !
öfo
->script ||

761 
œ°
->
f⁄t_size
 !
öfo
->font_size ||

762 
œ°
->
c
[0] !
öfo
->c[0] ||

763 
œ°
->
c
[1] !
öfo
->c[1] ||

764 
œ°
->
c
[2] !
öfo
->c[2] ||

765 
œ°
->
c
[3] !
öfo
->c[3] ||

766 
œ°
->
be
 !
öfo
->be ||

767 
œ°
->
blur
 !
öfo
->blur ||

768 
œ°
->
shadow_x
 !
öfo
->shadow_x ||

769 
œ°
->
shadow_y
 !
öfo
->shadow_y ||

770 
œ°
->
‰x
 !
öfo
->frx ||

771 
œ°
->
‰y
 !
öfo
->fry ||

772 
œ°
->
‰z
 !
öfo
->frz ||

773 
œ°
->
Áx
 !
öfo
->fax ||

774 
œ°
->
Áy
 !
öfo
->fay ||

775 
œ°
->
sˇÀ_x
 !
öfo
->scale_x ||

776 
œ°
->
sˇÀ_y
 !
öfo
->scale_y ||

777 
œ°
->
b‹dî_°yÀ
 !
öfo
->border_style ||

778 
œ°
->
b‹dî_x
 !
öfo
->border_x ||

779 
œ°
->
b‹dî_y
 !
öfo
->border_y ||

780 
œ°
->
h•acög
 !
öfo
->hspacing ||

781 
œ°
->
ôÆic
 !
öfo
->italic ||

782 
œ°
->
bﬁd
 !
öfo
->bold ||

783 
œ°
->
Êags
 !
öfo
->flags))

784 
sh≠e_run
++;

785 
öfo
->
sh≠e_run_id
 = 
sh≠e_run
;

787 
	}
}

793 
	$ass_sh≠î_£t_ba£_dúe˘i⁄
(
ASS_Sh≠î
 *
sh≠î
, 
FriBidiP¨Ty≥
 
dú
)

795 
sh≠î
->
ba£_dúe˘i⁄
 = 
dú
;

796 
	}
}

803 
	$ass_sh≠î_£t_œnguage
(
ASS_Sh≠î
 *
sh≠î
, c⁄° *
code
)

805 #ifde‡
CONFIG_HARFBUZZ


806 
hb_œnguage_t
 
œng
;

808 i‡(
code
)

809 
œng
 = 
	`hb_œnguage_‰om_°rög
(
code
, -1);

811 
œng
 = 
HB_LANGUAGE_INVALID
;

813 
sh≠î
->
œnguage
 = 
œng
;

815 
	}
}

820 
	$ass_sh≠î_£t_Àvñ
(
ASS_Sh≠î
 *
sh≠î
, 
ASS_Sh≠ögLevñ
 
Àvñ
)

822 
sh≠î
->
sh≠ög_Àvñ
 = 
Àvñ
;

823 
	}
}

829 
	$ass_sh≠î_skù_ch¨a˘îs
(
TextInfo
 *
ãxt_öfo
)

831 
i
;

832 
GlyphInfo
 *
glyphs
 = 
ãxt_öfo
->glyphs;

834 
i
 = 0; i < 
ãxt_öfo
->
Àngth
; i++) {

836 i‡((
glyphs
[
i
].
symbﬁ
 <= 0x202e && glyphs[i].symbol >= 0x202a)

837 || (
glyphs
[
i
].
symbﬁ
 <= 0x200f && glyphs[i].symbol >= 0x200b)

838 || (
glyphs
[
i
].
symbﬁ
 <= 0x2063 && glyphs[i].symbol >= 0x2060)

839 || 
glyphs
[
i
].
symbﬁ
 == 0xfeff

840 || 
glyphs
[
i
].
symbﬁ
 == 0x00ad

841 || 
glyphs
[
i
].
symbﬁ
 == 0x034f) {

842 
glyphs
[
i
].
symbﬁ
 = 0;

843 
glyphs
[
i
].
skù
++;

846 
	}
}

853 
	$ass_sh≠î_sh≠e
(
ASS_Sh≠î
 *
sh≠î
, 
TextInfo
 *
ãxt_öfo
)

855 
i
, 
ªt
, 
œ°_bªak
;

856 
FriBidiP¨Ty≥
 
dú
;

857 
GlyphInfo
 *
glyphs
 = 
ãxt_öfo
->glyphs;

859 i‡(!
	`check_Æloˇti⁄s
(
sh≠î
, 
ãxt_öfo
->
Àngth
))

863 
œ°_bªak
 = 0;

864 
i
 = 0; i < 
ãxt_öfo
->
Àngth
; i++) {

865 
sh≠î
->
evít_ãxt
[
i
] = 
glyphs
[i].
symbﬁ
;

867 i‡(
glyphs
[
i
].
symbﬁ
 ='\n' || i =
ãxt_öfo
->
Àngth
 - 1) {

868 
dú
 = 
sh≠î
->
ba£_dúe˘i⁄
;

869 
	`‰ibidi_gë_bidi_ty≥s
(
sh≠î
->
evít_ãxt
 + 
œ°_bªak
,

870 
i
 - 
œ°_bªak
 + 1, 
sh≠î
->
˘y≥s
 +Üast_break);

871 
ªt
 = 
	`‰ibidi_gë_∑r_embeddög_Àvñs
(
sh≠î
->
˘y≥s
 + 
œ°_bªak
,

872 
i
 - 
œ°_bªak
 + 1, &
dú
, 
sh≠î
->
embÀvñs
 +Üast_break);

873 i‡(
ªt
 == 0)

875 
œ°_bªak
 = 
i
 + 1;

880 
i
 = 0; i < 
ãxt_öfo
->
Àngth
; i++) {

881 
glyphs
[
i
].
sh≠e_run_id
 +
sh≠î
->
embÀvñs
[i];

884 #ifde‡
CONFIG_HARFBUZZ


885 
sh≠î
->
sh≠ög_Àvñ
) {

886 
ASS_SHAPING_SIMPLE
:

887 
	`sh≠e_‰ibidi
(
sh≠î
, 
glyphs
, 
ãxt_öfo
->
Àngth
);

888 
	`ass_sh≠î_skù_ch¨a˘îs
(
ãxt_öfo
);

890 
ASS_SHAPING_COMPLEX
:

891 
	`sh≠e_h¨fbuzz
(
sh≠î
, 
glyphs
, 
ãxt_öfo
->
Àngth
);

895 
	`sh≠e_‰ibidi
(
sh≠î
, 
glyphs
, 
ãxt_öfo
->
Àngth
);

896 
	`ass_sh≠î_skù_ch¨a˘îs
(
ãxt_öfo
);

900 
	}
}

906 
ASS_Sh≠î
 *
	$ass_sh≠î_√w
(
size_t
 
¥óŒoc
)

908 
ASS_Sh≠î
 *
sh≠î
 = 
	`ˇŒoc
((*shaper), 1);

909 i‡(!
sh≠î
)

910  
NULL
;

912 
sh≠î
->
ba£_dúe˘i⁄
 = 
FRIBIDI_PAR_ON
;

913 i‡(!
	`check_Æloˇti⁄s
(
sh≠î
, 
¥óŒoc
))

914 
îr‹
;

916 #ifde‡
CONFIG_HARFBUZZ


917 i‡(!
	`öô_„©uªs
(
sh≠î
))

918 
îr‹
;

919 
sh≠î
->
mërics_ˇche
 = 
	`ass_glyph_mërics_ˇche_¸óã
();

920 i‡(!
sh≠î
->
mërics_ˇche
)

921 
îr‹
;

924  
sh≠î
;

926 
îr‹
:

927 
	`ass_sh≠î_‰ì
(
sh≠î
);

928  
NULL
;

929 
	}
}

936 
	$ass_sh≠î_˛ónup
(
ASS_Sh≠î
 *
sh≠î
, 
TextInfo
 *
ãxt_öfo
)

938 
i
;

940 
i
 = 0; i < 
ãxt_öfo
->
Àngth
; i++) {

941 
GlyphInfo
 *
öfo
 = 
ãxt_öfo
->
glyphs
 + 
i
;

942 
öfo
 = info->
√xt
;

943 
öfo
) {

944 
GlyphInfo
 *
√xt
 = 
öfo
->next;

945 
	`‰ì
(
öfo
);

946 
öfo
 = 
√xt
;

949 
	}
}

957 
FriBidiSåIndex
 *
	$ass_sh≠î_ª‹dî
(
ASS_Sh≠î
 *
sh≠î
, 
TextInfo
 *
ãxt_öfo
)

959 
i
, 
ªt
;

962 
i
 = 0; i < 
ãxt_öfo
->
Àngth
; i++)

963 
sh≠î
->
cm≠
[
i
] = i;

966 
i
 = 0; i < 
ãxt_öfo
->
n_löes
; i++) {

967 
LöeInfo
 *
löe
 = 
ãxt_öfo
->
löes
 + 
i
;

968 
FriBidiP¨Ty≥
 
dú
 = 
FRIBIDI_PAR_ON
;

970 
ªt
 = 
	`‰ibidi_ª‹dî_löe
(0,

971 
sh≠î
->
˘y≥s
 + 
löe
->
off£t
,Üöe->
Àn
, 0, 
dú
,

972 
sh≠î
->
embÀvñs
 + 
löe
->
off£t
, 
NULL
,

973 
sh≠î
->
cm≠
 + 
löe
->
off£t
);

974 i‡(
ªt
 == 0)

975  
NULL
;

978  
sh≠î
->
cm≠
;

979 
	}
}

988 
FriBidiP¨Ty≥
 
	$ªsﬁve_ba£_dúe˘i⁄
(
íc
)

990 
íc
) {

992  
FRIBIDI_PAR_ON
;

994  
FRIBIDI_PAR_LTR
;

996 
	}
}

	@libass/ass_shaper.h

19 #i‚de‡
LIBASS_SHAPER_H


20 
	#LIBASS_SHAPER_H


	)

22 
ass_sh≠î
 
	tASS_Sh≠î
;

24 
	~<‰ibidi.h
>

25 
	~"ass_ªndî.h
"

27 
ass_sh≠î_öfo
(
ASS_Libøry
 *
lib
);

28 
ASS_Sh≠î
 *
ass_sh≠î_√w
(
size_t
 
¥óŒoc
);

29 
ass_sh≠î_‰ì
(
ASS_Sh≠î
 *
sh≠î
);

30 
ass_sh≠î_em±y_ˇche
(
ASS_Sh≠î
 *
sh≠î
);

31 
ass_sh≠î_£t_kînög
(
ASS_Sh≠î
 *
sh≠î
, 
kîn
);

32 
ass_sh≠î_föd_runs
(
ASS_Sh≠î
 *
sh≠î
, 
ASS_Rídîî
 *
ªndî_¥iv
,

33 
GlyphInfo
 *
glyphs
, 
size_t
 
Àn
);

34 
ass_sh≠î_£t_ba£_dúe˘i⁄
(
ASS_Sh≠î
 *
sh≠î
, 
FriBidiP¨Ty≥
 
dú
);

35 
ass_sh≠î_£t_œnguage
(
ASS_Sh≠î
 *
sh≠î
, c⁄° *
code
);

36 
ass_sh≠î_£t_Àvñ
(
ASS_Sh≠î
 *
sh≠î
, 
ASS_Sh≠ögLevñ
 
Àvñ
);

37 
ass_sh≠î_sh≠e
(
ASS_Sh≠î
 *
sh≠î
, 
TextInfo
 *
ãxt_öfo
);

38 
ass_sh≠î_˛ónup
(
ASS_Sh≠î
 *
sh≠î
, 
TextInfo
 *
ãxt_öfo
);

39 
FriBidiSåIndex
 *
ass_sh≠î_ª‹dî
(
ASS_Sh≠î
 *
sh≠î
, 
TextInfo
 *
ãxt_öfo
);

40 
FriBidiP¨Ty≥
 
ªsﬁve_ba£_dúe˘i⁄
(
f⁄t_ícodög
);

42 
ass_sh≠î_f⁄t_d©a_‰ì
(
ASS_Sh≠îF⁄tD©a
 *
¥iv
);

	@libass/ass_string.c

19 
	~"c⁄fig.h
"

20 
	~"ass_com∑t.h
"

22 
	~"ass_°rög.h
"

24 c⁄° 
	glowîèb
[] = {

51 
	$ass_°rˇ£cmp
(c⁄° *
s1
, c⁄° *
s2
)

53 
a
, 
b
;

56 
a
 = 
lowîèb
[()*
s1
++];

57 
b
 = 
lowîèb
[()*
s2
++];

58 } 
a
 &&á =
b
);

60  
a
 - 
b
;

61 
	}
}

63 
	$ass_°∫ˇ£cmp
(c⁄° *
s1
, c⁄° *
s2
, 
size_t
 
n
)

65 
a
, 
b
;

66 c⁄° *
œ°
 = 
s1
 + 
n
;

69 
a
 = 
lowîèb
[()*
s1
++];

70 
b
 = 
lowîèb
[()*
s2
++];

71 } 
s1
 < 
œ°
 && 
a
 &&á =
b
);

73  
a
 - 
b
;

74 
	}
}

	@libass/ass_string.h

19 
	~<°dlib.h
>

21 #i‚de‡
ASS_STRING_H


22 
	#ASS_STRING_H


	)

24 
ass_°rˇ£cmp
(c⁄° *
s1
, c⁄° *
s2
);

25 
ass_°∫ˇ£cmp
(c⁄° *
s1
, c⁄° *
s2
, 
size_t
 
n
);

27 
ölöe
 
	$ass_is•a˚
(
c
)

29  
c
 == ' ' || c == '\t' || c == '\n' || c == '\v' ||

30 
c
 == '\f' || c == '\r';

31 
	}
}

33 
ölöe
 
	$ass_isdigô
(
c
)

35  
c
 >= '0' && c <= '9';

36 
	}
}

	@libass/ass_strtod.c

16 
	~"c⁄fig.h
"

17 
	~"ass_com∑t.h
"

19 
	~<°dlib.h
>

20 
	~<Êﬂt.h
>

21 
	~<î∫o.h
>

22 
	~"ass_°rög.h
"

25 c⁄° 
size_t
 
	gmaxExp⁄ít
 = 511;

32 c⁄° 
	gpowîsOf10
[] = {

45 c⁄° 
	g√gPowOf10
[] = {

79 
	$ass_°πod
(

80 c⁄° *
°rög
,

92 **
ídPå


96 
sign
, 
‰acExpSign
, 
expSign
;

97 
‰a˘i⁄
, 
dblExp
;

98 c⁄° *
d
;

99 c⁄° *
p
;

100 
c
;

101 
size_t
 
exp
 = 0;

102 
size_t
 
‰acExp
;

111 
size_t
 
m™tSize
;

112 
size_t
 
decPt
;

114 
size_t
 
ÀadZîos
;

115 c⁄° *
pExp
;

122 
p
 = 
°rög
;

123 
	`ass_is•a˚
(*
p
)) {

124 
p
 += 1;

126 i‡(*
p
 == '-') {

127 
sign
 = 1;

128 
p
 += 1;

130 i‡(*
p
 == '+') {

131 
p
 += 1;

133 
sign
 = 0;

141 
decPt
 = -1;

142 
ÀadZîos
 = -1;

143 
m™tSize
 = 0; ; mantSize += 1)

145 
c
 = *
p
;

146 i‡(!
	`ass_isdigô
(
c
)) {

147 i‡((
c
 !'.'Ë|| (
decPt
 !(
size_t
) -1)) {

150 
decPt
 = 
m™tSize
;

151 } i‡((
c
 !'0'Ë&& (
ÀadZîos
 =(
size_t
) -1)) {

152 
ÀadZîos
 = 
m™tSize
;

154 
p
 += 1;

164 i‡(
ÀadZîos
 =(
size_t
) -1) {

165 
ÀadZîos
 = 
m™tSize
;

167 
pExp
 = 
p
;

168 
p
 -
m™tSize
 - 
ÀadZîos
;

169 i‡(
decPt
 =(
size_t
) -1) {

170 
decPt
 = 
m™tSize
;

172 
m™tSize
 -= 1;

173 i‡(
decPt
 < 
ÀadZîos
) {

174 
ÀadZîos
 -= 1;

177 i‡(
m™tSize
 - 
ÀadZîos
 > 18) {

178 
m™tSize
 = 
ÀadZîos
 + 18;

180 i‡(
decPt
 < 
m™tSize
) {

181 
‰acExpSign
 = 1;

182 
‰acExp
 = 
m™tSize
 - 
decPt
;

184 
‰acExpSign
 = 0;

185 
‰acExp
 = 
decPt
 - 
m™tSize
;

187 i‡(
m™tSize
 == 0) {

188 
‰a˘i⁄
 = 0.0;

189 
p
 = 
°rög
;

190 
d⁄e
;

192 
‰ac1
, 
‰ac2
, 
m
;

193 
m™tSize
 -
ÀadZîos
;

194 
m
 = 
m™tSize
;

195 
‰ac1
 = 0;

196  ; 
m
 > 9; m -= 1)

198 
c
 = *
p
;

199 
p
 += 1;

200 i‡(
c
 == '.') {

201 
c
 = *
p
;

202 
p
 += 1;

204 
‰ac1
 = 10*‰ac1 + (
c
 - '0');

206 
‰ac2
 = 0;

207 ; 
m
 > 0; m -= 1)

209 
c
 = *
p
;

210 
p
 += 1;

211 i‡(
c
 == '.') {

212 
c
 = *
p
;

213 
p
 += 1;

215 
‰ac2
 = 10*‰ac2 + (
c
 - '0');

217 
‰a˘i⁄
 = (1.0e9 * 
‰ac1
Ë+ 
‰ac2
;

224 
p
 = 
pExp
;

225 i‡((*
p
 == 'E') || (*p == 'e')) {

226 
size_t
 
expLimô
;

233 
expWø∑round
 = 0;

234 
p
 += 1;

235 i‡(*
p
 == '-') {

236 
expSign
 = 1;

237 
p
 += 1;

239 i‡(*
p
 == '+') {

240 
p
 += 1;

242 
expSign
 = 0;

244 i‡(
expSign
 =
‰acExpSign
) {

245 i‡(
maxExp⁄ít
 < 
‰acExp
) {

246 
expLimô
 = 0;

248 
expLimô
 = (
maxExp⁄ít
 - 
‰acExp
) / 10;

251 
expLimô
 = 
‰acExp
 / 10 + (‰acEx∞% 10 + 
maxExp⁄ít
) / 10;

253 
	`ass_isdigô
(*
p
)) {

254 i‡((
exp
 > 
expLimô
Ë|| 
expWø∑round
) {

256 
p
 += 1;

257 } 
	`ass_isdigô
(*
p
));

258 
expOvîÊow
;

259 } i‡(
exp
 > ((
size_t
Ë-1 - (*
p
 - '0')) / 10) {

260 
expWø∑round
 = 1;

262 
exp
 =Éx∞* 10 + (*
p
 - '0');

263 
p
 += 1;

265 i‡(
expSign
 =
‰acExpSign
) {

266 
exp
 = 
‰acExp
 +Éxp;

267 } i‡((
‰acExp
 <
exp
Ë|| 
expWø∑round
) {

268 
exp
 =Éx∞- 
‰acExp
;

270 
exp
 = 
‰acExp
 -Éxp;

271 
expSign
 = 
‰acExpSign
;

274 
exp
 = 
‰acExp
;

275 
expSign
 = 
‰acExpSign
;

285 i‡(
exp
 > 
maxExp⁄ít
) {

286 
expOvîÊow
:

287 
exp
 = 
maxExp⁄ít
;

288 i‡(
‰a˘i⁄
 != 0.0) {

289 
î∫o
 = 
ERANGE
;

294 i‡((
exp
 <
DBL_MAX_10_EXP
Ë|| !
expSign
) {

295 
d
 = 
powîsOf10
;

299 i‡(
exp
 > -
DBL_MIN_10_EXP
) {

304 
exp
 -
m™tSize
;

305 
dblExp
 = 1.0;

306 
d
 = 
powîsOf10
; 
m™tSize
 != 0; mantSize >>= 1, d += 1) {

307 i‡(
m™tSize
 & 01) {

308 
dblExp
 **
d
;

311 
‰a˘i⁄
 /
dblExp
;

313 
d
 = 
√gPowOf10
;

314 
expSign
 = 0;

316 
dblExp
 = 1.0;

317 ; 
exp
 !0;Éx∞>>1, 
d
 += 1) {

318 i‡(
exp
 & 01) {

319 
dblExp
 **
d
;

322 i‡(
expSign
) {

323 
‰a˘i⁄
 /
dblExp
;

325 
‰a˘i⁄
 *
dblExp
;

328 
d⁄e
:

329 i‡(
ídPå
 !
NULL
) {

330 *
ídPå
 = (*Ë
p
;

333 i‡(
sign
) {

334  -
‰a˘i⁄
;

336  
‰a˘i⁄
;

337 
	}
}

	@libass/ass_types.h

20 #i‚de‡
LIBASS_TYPES_H


21 
	#LIBASS_TYPES_H


	)

23 
	~<°döt.h
>

25 
	#VALIGN_SUB
 0

	)

26 
	#VALIGN_CENTER
 8

	)

27 
	#VALIGN_TOP
 4

	)

28 
	#HALIGN_LEFT
 1

	)

29 
	#HALIGN_CENTER
 2

	)

30 
	#HALIGN_RIGHT
 3

	)

31 
	#ASS_JUSTIFY_AUTO
 0

	)

32 
	#ASS_JUSTIFY_LEFT
 1

	)

33 
	#ASS_JUSTIFY_CENTER
 2

	)

34 
	#ASS_JUSTIFY_RIGHT
 3

	)

36 
	#FONT_WEIGHT_LIGHT
 300

	)

37 
	#FONT_WEIGHT_MEDIUM
 400

	)

38 
	#FONT_WEIGHT_BOLD
 700

	)

39 
	#FONT_SLANT_NONE
 0

	)

40 
	#FONT_SLANT_ITALIC
 100

	)

41 
	#FONT_SLANT_OBLIQUE
 110

	)

42 
	#FONT_WIDTH_CONDENSED
 75

	)

43 
	#FONT_WIDTH_NORMAL
 100

	)

44 
	#FONT_WIDTH_EXPANDED
 125

	)

48 
ass_ªndîî
 
	tASS_Rídîî
;

49 
ªndî_¥iv
 
	tASS_RídîPriv
;

50 
∑r£r_¥iv
 
	tASS_P¨£rPriv
;

51 
ass_libøry
 
	tASS_Libøry
;

54 
	sass_°yÀ
 {

55 *
	mName
;

56 *
	mF⁄tName
;

57 
	mF⁄tSize
;

58 
uöt32_t
 
	mPrim¨yCﬁour
;

59 
uöt32_t
 
	mSec⁄d¨yCﬁour
;

60 
uöt32_t
 
	mOuéöeCﬁour
;

61 
uöt32_t
 
	mBackCﬁour
;

62 
	mBﬁd
;

63 
	mIèlic
;

64 
	mUndîlöe
;

65 
	mSåikeOut
;

66 
	mSˇÀX
;

67 
	mSˇÀY
;

68 
	mS∑cög
;

69 
	mAngÀ
;

70 
	mB‹dîStyÀ
;

71 
	mOuéöe
;

72 
	mShadow
;

73 
	mAlignmít
;

74 
	mM¨göL
;

75 
	mM¨göR
;

76 
	mM¨göV
;

77 
	mEncodög
;

78 
	måót_f⁄äame_as_∑âîn
;

79 
	mBlur
;

80 
	mJu°ify
;

81 } 
	tASS_StyÀ
;

88 
	sass_evít
 {

89 
	mSèπ
;

90 
	mDuøti⁄
;

92 
	mRódOrdî
;

93 
	mLayî
;

94 
	mStyÀ
;

95 *
	mName
;

96 
	mM¨göL
;

97 
	mM¨göR
;

98 
	mM¨göV
;

99 *
	mEf„˘
;

100 *
	mText
;

102 
ASS_RídîPriv
 *
	mªndî_¥iv
;

103 } 
	tASS_Evít
;

157 
	eASS_YCbCrM©rix
 {

158 
	mYCBCR_DEFAULT
 = 0,

159 
	mYCBCR_UNKNOWN
,

160 
	mYCBCR_NONE
,

161 
	mYCBCR_BT601_TV
,

162 
	mYCBCR_BT601_PC
,

163 
	mYCBCR_BT709_TV
,

164 
	mYCBCR_BT709_PC
,

165 
	mYCBCR_SMPTE240M_TV
,

166 
	mYCBCR_SMPTE240M_PC
,

167 
	mYCBCR_FCC_TV
,

168 
	mYCBCR_FCC_PC


169 } 
	tASS_YCbCrM©rix
;

176 
	sass_åack
 {

177 
	mn_°yÀs
;

178 
	mmax_°yÀs
;

179 
	mn_evíts
;

180 
	mmax_evíts
;

181 
ASS_StyÀ
 *
	m°yÀs
;

182 
ASS_Evít
 *
	mevíts
;

184 *
	m°yÀ_f‹m©
;

185 *
	mevít_f‹m©
;

188 
	mTRACK_TYPE_UNKNOWN
 = 0,

189 
	mTRACK_TYPE_ASS
,

190 
	mTRACK_TYPE_SSA


191 } 
	måack_ty≥
;

194 
	mPœyResX
;

195 
	mPœyResY
;

196 
	mTimî
;

197 
	mWøpStyÀ
;

198 
	mSˇÀdB‹dîAndShadow
;

199 
	mKînög
;

200 *
	mL™guage
;

201 
ASS_YCbCrM©rix
 
	mYCbCrM©rix
;

203 
	mdeÁu…_°yÀ
;

204 *
	m«me
;

206 
ASS_Libøry
 *
	mlibøry
;

207 
ASS_P¨£rPriv
 *
	m∑r£r_¥iv
;

208 } 
	tASS_Tøck
;

	@libass/ass_utils.c

19 
	~"c⁄fig.h
"

20 
	~"ass_com∑t.h
"

22 
	~<°ddef.h
>

23 
	~<°dlib.h
>

24 
	~<°dio.h
>

25 
	~<°döt.h
>

26 
	~<limôs.h
>

27 
	~<öây≥s.h
>

29 
	~"ass_libøry.h
"

30 
	~"ass.h
"

31 
	~"ass_utûs.h
"

32 
	~"ass_°rög.h
"

34 #i‡(
deföed
(
__i386__
Ë|| deföed(
__x86_64__
)Ë&& 
CONFIG_ASM


36 
	~"x86/˝uid.h
"

38 
	$has_s£2
()

40 
uöt32_t
 
óx
 = 1, 
ebx
, 
ecx
, 
edx
;

41 
	`ass_gë_˝uid
(&
óx
, &
ebx
, &
ecx
, &
edx
);

42  (
edx
 >> 26) & 0x1;

43 
	}
}

45 
	$has_avx
()

47 
uöt32_t
 
óx
 = 1, 
ebx
, 
ecx
, 
edx
;

48 
	`ass_gë_˝uid
(&
óx
, &
ebx
, &
ecx
, &
edx
);

49 if(!(
ecx
 & (1 << 27)))

51 
uöt32_t
 
misc
 = 
ecx
;

52 
	`ass_gë_xgëbv
(0, &
óx
, &
edx
);

53 if((
óx
 & 0x6) != 0x6)

55 
óx
 = 0;

56 
	`ass_gë_˝uid
(&
óx
, &
ebx
, &
ecx
, &
edx
);

57  (
ecx
 & 0x6Ë=0x6 ? (
misc
 >> 28) & 0x1 : 0;

58 
	}
}

60 
	$has_avx2
()

62 
uöt32_t
 
óx
 = 7, 
ebx
, 
ecx
, 
edx
;

63 
	`ass_gë_˝uid
(&
óx
, &
ebx
, &
ecx
, &
edx
);

64  (
ebx
 >> 5Ë& 
	`has_avx
();

65 
	}
}

69 #i‚de‡
HAVE_STRNDUP


70 *
	$ass_°∫dup
(c⁄° *
s
, 
size_t
 
n
)

72 *
íd
 = 
	`memchr
(
s
, 0, 
n
);

73 
size_t
 
Àn
 = 
íd
 ?Énd - 
s
 : 
n
;

74 *
√w
 = 
Àn
 < 
SIZE_MAX
 ? 
	`mÆloc
÷í + 1Ë: 
NULL
;

75 i‡(
√w
) {

76 
	`mem˝y
(
√w
, 
s
, 
Àn
);

77 
√w
[
Àn
] = 0;

79  
√w
;

80 
	}
}

83 *
	$ass_Æig√d_Æloc
(
size_t
 
Æignmít
, size_à
size
, 
boﬁ
 
zîo
)

85 
	`as£π
(!(
Æignmít
 & (alignment - 1)));

86 i‡(
size
 >
SIZE_MAX
 - 
Æignmít
 - (*))

87  
NULL
;

88 *
Æloˇti⁄
 = 
zîo
 ? 
	`ˇŒoc
(
size
 + (*Ë+ 
Æignmít
 - 1, 1)

89 : 
	`mÆloc
(
size
 + (*Ë+ 
Æignmít
 - 1);

90 i‡(!
Æloˇti⁄
)

91  
NULL
;

92 *
±r
 = 
Æloˇti⁄
 + (*);

93 
mißlign
 = (
uöçå_t
)
±r
 & (
Æignmít
 - 1);

94 i‡(
mißlign
)

95 
±r
 +
Æignmít
 - 
mißlign
;

96 *((**)
±r
 - 1Ë
Æloˇti⁄
;

97  
±r
;

98 
	}
}

100 
	$ass_Æig√d_‰ì
(*
±r
)

102 i‡(
±r
)

103 
	`‰ì
(*((**)
±r
 - 1));

104 
	}
}

113 *
	$ass_ªÆloc_¨øy
(*
±r
, 
size_t
 
nmemb
, size_à
size
)

115 i‡(
nmemb
 > (
SIZE_MAX
 / 
size
))

116  
NULL
;

117 
size
 *
nmemb
;

118 i‡(
size
 < 1)

119 
size
 = 1;

121  
	`ªÆloc
(
±r
, 
size
);

122 
	}
}

129 *
	$ass_åy_ªÆloc_¨øy
(*
±r
, 
size_t
 
nmemb
, size_à
size
)

131 *
√w_±r
 = 
	`ass_ªÆloc_¨øy
(
±r
, 
nmemb
, 
size
);

132 i‡(
√w_±r
) {

133 
î∫o
 = 0;

134  
√w_±r
;

136 
î∫o
 = 
ENOMEM
;

137  
±r
;

139 
	}
}

141 
	$skù_•a˚s
(**
°r
)

143 *
p
 = *
°r
;

144 (*
p
 == ' ') || (*p == '\t'))

145 ++
p
;

146 *
°r
 = 
p
;

147 
	}
}

149 
	$rskù_•a˚s
(**
°r
, *
limô
)

151 *
p
 = *
°r
;

152 (
p
 > 
limô
) && ((p[-1] == ' ') || (p[-1] == '\t')))

153 --
p
;

154 *
°r
 = 
p
;

155 
	}
}

157 
	$my°πoi
(**
p
, *
ªs
)

159 *
°¨t
 = *
p
;

160 
ãmp_ªs
 = 
	`ass_°πod
(*
p
,Ö);

161 *
ªs
 = (Ë(
ãmp_ªs
 + (temp_res > 0 ? 0.5 : -0.5));

162  *
p
 !
°¨t
;

163 
	}
}

165 
	$my°πﬁl
(**
p
, *
ªs
)

167 *
°¨t
 = *
p
;

168 
ãmp_ªs
 = 
	`ass_°πod
(*
p
,Ö);

169 *
ªs
 = (Ë(
ãmp_ªs
 + (temp_res > 0 ? 0.5 : -0.5));

170  *
p
 !
°¨t
;

171 
	}
}

173 
	$my°πod
(**
p
, *
ªs
)

175 *
°¨t
 = *
p
;

176 *
ªs
 = 
	`ass_°πod
(*
p
,Ö);

177  *
p
 !
°¨t
;

178 
	}
}

180 
	$my°πoi32
(**
p
, 
ba£
, 
öt32_t
 *
ªs
)

182 *
°¨t
 = *
p
;

183 
ãmp_ªs
 = 
	`°πﬁl
(*
p
,Ö, 
ba£
);

184 *
ªs
 = 
	`FFMINMAX
(
ãmp_ªs
, 
INT32_MIN
, 
INT32_MAX
);

185  *
p
 !
°¨t
;

186 
	}
}

188 
	$ªad_digôs
(**
°r
, 
ba£
, 
uöt32_t
 *
ªs
)

190 *
p
 = *
°r
;

191 *
°¨t
 = 
p
;

192 
uöt32_t
 
vÆ
 = 0;

195 
digô
;

196 i‡(*
p
 >'0' && *∞< 
	`FFMIN
(
ba£
, 10) + '0')

197 
digô
 = *
p
 - '0';

198 i‡(*
p
 >'a' && *∞< 
ba£
 - 10 + 'a')

199 
digô
 = *
p
 - 'a' + 10;

200 i‡(*
p
 >'A' && *∞< 
ba£
 - 10 + 'A')

201 
digô
 = *
p
 - 'A' + 10;

204 
vÆ
 = vÆ * 
ba£
 + 
digô
;

205 ++
p
;

208 *
ªs
 = 
vÆ
;

209 *
°r
 = 
p
;

210  
p
 !
°¨t
;

211 
	}
}

218 
	$my°πou32_modulo
(**
p
, 
ba£
, 
uöt32_t
 *
ªs
)

227 *
°¨t
 = *
p
;

228 
sign
 = 1;

230 
	`skù_•a˚s
(
p
);

232 i‡(**
p
 == '+')

233 ++*
p
;

234 i‡(**
p
 == '-')

235 
sign
 = -1, ++*
p
;

237 i‡(
ba£
 =16 && !
	`ass_°∫ˇ£cmp
(*
p
, "0x", 2))

238 *
p
 += 2;

240 i‡(
	`ªad_digôs
(
p
, 
ba£
, 
ªs
)) {

241 *
ªs
 *
sign
;

244 *
p
 = 
°¨t
;

247 
	}
}

249 
öt32_t
 
	$∑r£_Æpha_èg
(*
°r
)

251 
öt32_t
 
Æpha
 = 0;

253 *
°r
 == '&' || *str == 'H')

254 ++
°r
;

256 
	`my°πoi32
(&
°r
, 16, &
Æpha
);

257  
Æpha
;

258 
	}
}

260 
uöt32_t
 
	$∑r£_cﬁ‹_èg
(*
°r
)

262 
öt32_t
 
cﬁ‹
 = 0;

264 *
°r
 == '&' || *str == 'H')

265 ++
°r
;

267 
	`my°πoi32
(&
°r
, 16, &
cﬁ‹
);

268  
	`ass_bsw≠32
((
uöt32_t
Ë
cﬁ‹
);

269 
	}
}

271 
uöt32_t
 
	$∑r£_cﬁ‹_hódî
(*
°r
)

273 
uöt32_t
 
cﬁ‹
 = 0;

274 
ba£
;

276 i‡(!
	`ass_°∫ˇ£cmp
(
°r
, "&h", 2) || !ass_strncasecmp(str, "0x", 2)) {

277 
°r
 += 2;

278 
ba£
 = 16;

280 
ba£
 = 10;

282 
	`my°πou32_modulo
(&
°r
, 
ba£
, &
cﬁ‹
);

283  
	`ass_bsw≠32
(
cﬁ‹
);

284 
	}
}

287 
	$∑r£_boﬁ
(*
°r
)

289 
	`skù_•a˚s
(&
°r
);

290  !
	`ass_°∫ˇ£cmp
(
°r
, "yes", 3Ë|| 
	`°πﬁ
(°r, 
NULL
, 10) > 0;

291 
	}
}

293 
	$∑r£_ycb¸_m©rix
(*
°r
)

295 
	`skù_•a˚s
(&
°r
);

296 i‡(*
°r
 == '\0')

297  
YCBCR_DEFAULT
;

299 *
íd
 = 
°r
 + 
	`°æí
(str);

300 
	`rskù_•a˚s
(&
íd
, 
°r
);

305 
buf„r
[16];

306 
size_t
 
n
 = 
	`FFMIN
(
íd
 - 
°r
,  
buf„r
 - 1);

307 
	`mem˝y
(
buf„r
, 
°r
, 
n
);

308 
buf„r
[
n
] = '\0';

310 i‡(!
	`ass_°rˇ£cmp
(
buf„r
, "none"))

311  
YCBCR_NONE
;

312 i‡(!
	`ass_°rˇ£cmp
(
buf„r
, "tv.601"))

313  
YCBCR_BT601_TV
;

314 i‡(!
	`ass_°rˇ£cmp
(
buf„r
, "pc.601"))

315  
YCBCR_BT601_PC
;

316 i‡(!
	`ass_°rˇ£cmp
(
buf„r
, "tv.709"))

317  
YCBCR_BT709_TV
;

318 i‡(!
	`ass_°rˇ£cmp
(
buf„r
, "pc.709"))

319  
YCBCR_BT709_PC
;

320 i‡(!
	`ass_°rˇ£cmp
(
buf„r
, "tv.240m"))

321  
YCBCR_SMPTE240M_TV
;

322 i‡(!
	`ass_°rˇ£cmp
(
buf„r
, "pc.240m"))

323  
YCBCR_SMPTE240M_PC
;

324 i‡(!
	`ass_°rˇ£cmp
(
buf„r
, "tv.fcc"))

325  
YCBCR_FCC_TV
;

326 i‡(!
	`ass_°rˇ£cmp
(
buf„r
, "pc.fcc"))

327  
YCBCR_FCC_PC
;

328  
YCBCR_UNKNOWN
;

329 
	}
}

334 
	$num∑d2Æign
(
vÆ
)

336 i‡(
vÆ
 < -
INT_MAX
)

339 
vÆ
 = 2;

340 i‡(
vÆ
 < 0)

341 
vÆ
 = -val;

343 
ªs
 = ((
vÆ
 - 1) % 3) + 1;

344 i‡(
vÆ
 <= 3)

345 
ªs
 |
VALIGN_SUB
;

346 i‡(
vÆ
 <= 6)

347 
ªs
 |
VALIGN_CENTER
;

349 
ªs
 |
VALIGN_TOP
;

350  
ªs
;

351 
	}
}

353 
	$ass_msg
(
ASS_Libøry
 *
¥iv
, 
lvl
, c⁄° *
fmt
, ...)

355 
va_li°
 
va
;

356 
	`va_°¨t
(
va
, 
fmt
);

357 
¥iv
->
	`msg_ˇŒback
(
lvl
, 
fmt
, 
va
,Öriv->
msg_ˇŒback_d©a
);

358 
	`va_íd
(
va
);

359 
	}
}

361 
	$ass_utf8_gë_ch¨
(**
°r
)

363 
uöt8_t
 *
°Ω
 = (uöt8_à*Ë* 
°r
;

364 
c
 = *
°Ω
++;

365 
mask
 = 0x80;

366 
Àn
 = -1;

367 
c
 & 
mask
) {

368 
mask
 >>= 1;

369 
Àn
++;

371 i‡(
Àn
 <= 0 ||Üen > 4)

372 
no_utf8
;

373 
c
 &
mask
 - 1;

374 (*
°Ω
 & 0xc0) == 0x80) {

375 i‡(
Àn
-- <= 0)

376 
no_utf8
;

377 
c
 = (¯<< 6Ë| (*
°Ω
++ & 0x3f);

379 i‡(
Àn
)

380 
no_utf8
;

381 *
°r
 = (*Ë
°Ω
;

382  
c
;

384 
no_utf8
:

385 
°Ω
 = (
uöt8_t
 *Ë* 
°r
;

386 
c
 = *
°Ω
++;

387 *
°r
 = (*Ë
°Ω
;

388  
c
;

389 
	}
}

399 
	$ass_utf8_put_ch¨
(*
de°
, 
uöt32_t
 
ch
)

401 *
‹ig_de°
 = 
de°
;

403 i‡(
ch
 < 0x80) {

404 *
de°
++ = ()
ch
;

405 } i‡(
ch
 < 0x800) {

406 *
de°
++ = (
ch
 >> 6) | 0xC0;

407 *
de°
++ = (
ch
 & 0x3F) | 0x80;

408 } i‡(
ch
 < 0x10000) {

409 *
de°
++ = (
ch
 >> 12) | 0xE0;

410 *
de°
++ = ((
ch
 >> 6) & 0x3F) | 0x80;

411 *
de°
++ = (
ch
 & 0x3F) | 0x80;

412 } i‡(
ch
 < 0x110000) {

413 *
de°
++ = (
ch
 >> 18) | 0xF0;

414 *
de°
++ = ((
ch
 >> 12) & 0x3F) | 0x80;

415 *
de°
++ = ((
ch
 >> 6) & 0x3F) | 0x80;

416 *
de°
++ = (
ch
 & 0x3F) | 0x80;

419 *
de°
 = '\0';

420  
de°
 - 
‹ig_de°
;

421 
	}
}

429 
uöt32_t
 
	$ass_ªad_utf16be
(
uöt8_t
 **
§c
, 
size_t
 
byãs
)

431 i‡(
byãs
 < 2)

432 
too_sh‹t
;

434 
uöt32_t
 
˝
 = ((*
§c
)[0] << 8) | (*src)[1];

435 *
§c
 += 2;

436 
byãs
 -= 2;

438 i‡(
˝
 >= 0xD800 && cp <= 0xDBFF) {

439 i‡(
byãs
 < 2)

440 
too_sh‹t
;

442 
uöt32_t
 
˝2
 = ((*
§c
)[0] << 8) | (*src)[1];

444 i‡(
˝2
 < 0xDC00 || cp2 > 0xDFFF)

447 *
§c
 += 2;

449 
˝
 = 0x10000 + ((˝ - 0xD800Ë<< 10Ë+ (
˝2
 - 0xDC00);

452 i‡(
˝
 >= 0xDC00 && cp <= 0xDFFF)

455  
˝
;

457 
too_sh‹t
:

458 *
§c
 +
byãs
;

460 
	}
}

462 
	$ass_utf16be_to_utf8
(*
d°
, 
size_t
 
d°_size
, 
uöt8_t
 *
§c
, size_à
§c_size
)

464 
uöt8_t
 *
íd
 = 
§c
 + 
§c_size
;

466 i‡(!
d°_size
)

469 
§c
 < 
íd
) {

470 
uöt32_t
 
˝
 = 
	`ass_ªad_utf16be
(&
§c
, 
íd
 - src);

471 i‡(
d°_size
 < 5)

473 
s
 = 
	`ass_utf8_put_ch¨
(
d°
, 
˝
);

474 
d°
 +
s
;

475 
d°_size
 -
s
;

478 *
d°
 = '\0';

479 
	}
}

489 
	$lookup_°yÀ
(
ASS_Tøck
 *
åack
, *
«me
)

491 
i
;

494 *
«me
 == '*')

495 ++
«me
;

498 i‡(
	`ass_°rˇ£cmp
(
«me
, "Default") == 0)

499 
«me
 = "Default";

500 
i
 = 
åack
->
n_°yÀs
 - 1; i >= 0; --i) {

501 i‡(
	`°rcmp
(
åack
->
°yÀs
[
i
].
Name
, 
«me
) == 0)

502  
i
;

504 
i
 = 
åack
->
deÁu…_°yÀ
;

505 
	`ass_msg
(
åack
->
libøry
, 
MSGL_WARN
,

507 
åack
, 
«me
,Åøck->
°yÀs
[
i
].
Name
);

508  
i
;

509 
	}
}

519 
ASS_StyÀ
 *
	$lookup_°yÀ_°ri˘
(
ASS_Tøck
 *
åack
, *
«me
, 
size_t
 
Àn
)

521 
i
;

522 
i
 = 
åack
->
n_°yÀs
 - 1; i >= 0; --i) {

523 i‡(
	`°∫cmp
(
åack
->
°yÀs
[
i
].
Name
, 
«me
, 
Àn
) == 0 &&

524 
åack
->
°yÀs
[
i
].
Name
[
Àn
] == '\0')

525  
åack
->
°yÀs
 + 
i
;

527 
	`ass_msg
(
åack
->
libøry
, 
MSGL_WARN
,

529 
åack
, (Ë
Àn
, 
«me
);

530  
NULL
;

531 
	}
}

	@libass/ass_utils.h

19 #i‚de‡
LIBASS_UTILS_H


20 
	#LIBASS_UTILS_H


	)

22 
	~<°dio.h
>

23 
	~<°d¨g.h
>

24 
	~<°dboﬁ.h
>

25 
	~<°döt.h
>

26 
	~<°dlib.h
>

27 
	~<°rög.h
>

28 
	~<as£π.h
>

29 
	~<î∫o.h
>

30 
	~<m©h.h
>

32 
	~"ass.h
"

34 #i‚de‡
SIZE_MAX


35 
	#SIZE_MAX
 ((
size_t
)-1)

	)

38 
	#MSGL_FATAL
 0

	)

39 
	#MSGL_ERR
 1

	)

40 
	#MSGL_WARN
 2

	)

41 
	#MSGL_INFO
 4

	)

42 
	#MSGL_V
 6

	)

43 
	#MSGL_DBG2
 7

	)

45 
	#FFMAX
(
a
,
b
Ë(◊Ë> (bË? (aË: (b))

	)

46 
	#FFMIN
(
a
,
b
Ë(◊Ë> (bË? (bË: (a))

	)

47 
	#FFMINMAX
(
c
,
a
,
b
Ë
	`FFMIN
(
	`FFMAX
(c,á), b)

	)

49 #i‡(
deföed
(
__i386__
Ë|| deföed(
__x86_64__
)Ë&& 
CONFIG_ASM


50 
has_s£2
();

51 
has_avx
();

52 
has_avx2
();

55 #i‚de‡
HAVE_STRNDUP


56 *
ass_°∫dup
(c⁄° *
s
, 
size_t
 
n
);

57 
	#°∫dup
 
ass_°∫dup


	)

60 *
ass_Æig√d_Æloc
(
size_t
 
Æignmít
, size_à
size
, 
boﬁ
 
zîo
);

61 
ass_Æig√d_‰ì
(*
±r
);

63 *
ass_ªÆloc_¨øy
(*
±r
, 
size_t
 
nmemb
, size_à
size
);

64 *
ass_åy_ªÆloc_¨øy
(*
±r
, 
size_t
 
nmemb
, size_à
size
);

76 
	#ASS_REALLOC_ARRAY
(
±r
, 
cou¡
) \

77 (
î∫o
 = 0, (
±r
Ë
	`ass_åy_ªÆloc_¨øy
’å, 
cou¡
, (*±r)), !î∫o)

	)

79 
skù_•a˚s
(**
°r
);

80 
rskù_•a˚s
(**
°r
, *
limô
);

81 
my°πoi
(**
p
, *
ªs
);

82 
my°πﬁl
(**
p
, *
ªs
);

83 
my°πod
(**
p
, *
ªs
);

84 
my°πoi32
(**
p
, 
ba£
, 
öt32_t
 *
ªs
);

85 
öt32_t
 
∑r£_Æpha_èg
(*
°r
);

86 
uöt32_t
 
∑r£_cﬁ‹_èg
(*
°r
);

87 
uöt32_t
 
∑r£_cﬁ‹_hódî
(*
°r
);

88 
∑r£_boﬁ
(*
°r
);

89 
∑r£_ycb¸_m©rix
(*
°r
);

90 
num∑d2Æign
(
vÆ
);

91 
ass_utf8_gë_ch¨
(**
°r
);

92 
ass_utf8_put_ch¨
(*
de°
, 
uöt32_t
 
ch
);

93 
ass_utf16be_to_utf8
(*
d°
, 
size_t
 
d°_size
, 
uöt8_t
 *
§c
, size_à
§c_size
);

94 
ass_msg
(
ASS_Libøry
 *
¥iv
, 
lvl
, c⁄° *
fmt
, ...);

95 
lookup_°yÀ
(
ASS_Tøck
 *
åack
, *
«me
);

96 
ASS_StyÀ
 *
lookup_°yÀ_°ri˘
(
ASS_Tøck
 *
åack
, *
«me
, 
size_t
 
Àn
);

99 
ass_°πod
(c⁄° *
°rög
, **
ídPå
);

101 
ölöe
 
size_t
 
	$ass_Æign
(
size_t
 
Æignmít
, size_à
s
)

103 i‡(
s
 > 
SIZE_MAX
 - (
Æignmít
 - 1))

104  
s
;

105  (
s
 + (
Æignmít
 - 1)) & ~(alignment - 1);

106 
	}
}

108 
ölöe
 
uöt32_t
 
	$ass_bsw≠32
(
uöt32_t
 
x
)

110 #ifde‡
_MSC_VER


111  
	`_byãsw≠_ul⁄g
(
x
);

113  (
x
 & 0x000000FF) << 24 | (x & 0x0000FF00) << 8 |

114 (
x
 & 0x00FF0000) >> 8 | (x & 0xFF000000) >> 24;

116 
	}
}

118 
ölöe
 
	$d6_to_öt
(
x
)

120  (
x
 + 32) >> 6;

121 
	}
}

122 
ölöe
 
	$d16_to_öt
(
x
)

124  (
x
 + 32768) >> 16;

125 
	}
}

126 
ölöe
 
	$öt_to_d6
(
x
)

128  
x
 * (1 << 6);

129 
	}
}

130 
ölöe
 
	$öt_to_d16
(
x
)

132  
x
 * (1 << 16);

133 
	}
}

134 
ölöe
 
	$d16_to_d6
(
x
)

136  (
x
 + 512) >> 10;

137 
	}
}

138 
ölöe
 
	$d6_to_d16
(
x
)

140  
x
 * (1 << 10);

141 
	}
}

142 
ölöe
 
	$d6_to_doubÀ
(
x
)

144  
x
 / 64.;

145 
	}
}

146 
ölöe
 
	$doubÀ_to_d6
(
x
)

148  (Ë(
x
 * 64);

149 
	}
}

150 
ölöe
 
	$d16_to_doubÀ
(
x
)

152  ((Ë
x
) / 0x10000;

153 
	}
}

154 
ölöe
 
	$doubÀ_to_d16
(
x
)

156  (Ë(
x
 * 0x10000);

157 
	}
}

158 
ölöe
 
	$d22_to_doubÀ
(
x
)

160  ((Ë
x
) / 0x400000;

161 
	}
}

162 
ölöe
 
	$doubÀ_to_d22
(
x
)

164  (Ë(
x
 * 0x400000);

165 
	}
}

168 
ölöe
 
	$rŸ_key
(
a
)

170  
	`doubÀ_to_d22
(
	`ªmaödî
(
a
, 2 * 
M_PI
));

171 
	}
}

173 
	#FNV1_32A_INIT
 0x811c9dc5U

	)

174 
	#FNV1_32A_PRIME
 16777619U

	)

176 
ölöe
 
	$‚v_32a_buf
(*
buf
, 
size_t
 
Àn
, 
hvÆ
)

178 *
bp
 = (*)
buf
;

179 
size_t
 
n
 = (
Àn
 + 3) / 4;

181 
Àn
 % 4) {

182 0: dÿ{ 
hvÆ
 ^(Ë*
bp
++; hvÆ *
FNV1_32A_PRIME
;

183 3: 
hvÆ
 ^(Ë*
bp
++; hvÆ *
FNV1_32A_PRIME
;

184 2: 
hvÆ
 ^(Ë*
bp
++; hvÆ *
FNV1_32A_PRIME
;

185 1: 
hvÆ
 ^(Ë*
bp
++; hvÆ *
FNV1_32A_PRIME
;

186 } --
n
 > 0);

189  
hvÆ
;

190 
	}
}

191 
ölöe
 
	$‚v_32a_°r
(*
°r
, 
hvÆ
)

193 *
s
 = (*Ë
°r
;

194 *
s
) {

195 
hvÆ
 ^(Ë*
s
++;

196 
hvÆ
 *
FNV1_32A_PRIME
;

198  
hvÆ
;

199 
	}
}

	@libass/dwrite_c.h

10 #i‚de‡
__INC_DWRITE__


11 
	#__INC_DWRITE__


	)

13 
	#DWRITEAPI
 
DECLSPEC_IMPORT


	)

15 
	~<unknwn.h
>

17 
IDWrôeFa˘‹y
 
	tIDWrôeFa˘‹y
;

18 
IDWrôeF⁄t
 
	tIDWrôeF⁄t
;

19 
IDWrôeF⁄tCﬁÀ˘i⁄
 
	tIDWrôeF⁄tCﬁÀ˘i⁄
;

20 
IDWrôeF⁄tFa˚
 
	tIDWrôeF⁄tFa˚
;

21 
IDWrôeF⁄tFamûy
 
	tIDWrôeF⁄tFamûy
;

22 
IDWrôeF⁄tLi°
 
	tIDWrôeF⁄tLi°
;

23 
IDWrôeF⁄tFûe
 
	tIDWrôeF⁄tFûe
;

24 
IDWrôeF⁄tFûeLﬂdî
 
	tIDWrôeF⁄tFûeLﬂdî
;

25 
IDWrôeF⁄tFûeSåóm
 
	tIDWrôeF⁄tFûeSåóm
;

26 
IDWrôeI∆öeObje˘
 
	tIDWrôeI∆öeObje˘
;

27 
IDWrôeLoˇlizedSåögs
 
	tIDWrôeLoˇlizedSåögs
;

28 
IDWrôePixñS«µög
 
	tIDWrôePixñS«µög
;

29 
IDWrôeTextF‹m©
 
	tIDWrôeTextF‹m©
;

30 
IDWrôeTextLayout
 
	tIDWrôeTextLayout
;

31 
IDWrôeTextRídîî
 
	tIDWrôeTextRídîî
;

33 
	~<dcomm⁄.h
>

35 
	eDWRITE_INFORMATIONAL_STRING_ID
 {

36 
	mDWRITE_INFORMATIONAL_STRING_NONE
 = 0,

37 
	mDWRITE_INFORMATIONAL_STRING_COPYRIGHT_NOTICE
,

38 
	mDWRITE_INFORMATIONAL_STRING_VERSION_STRINGS
,

39 
	mDWRITE_INFORMATIONAL_STRING_TRADEMARK
,

40 
	mDWRITE_INFORMATIONAL_STRING_MANUFACTURER
,

41 
	mDWRITE_INFORMATIONAL_STRING_DESIGNER
,

42 
	mDWRITE_INFORMATIONAL_STRING_DESIGNER_URL
,

43 
	mDWRITE_INFORMATIONAL_STRING_DESCRIPTION
,

44 
	mDWRITE_INFORMATIONAL_STRING_FONT_VENDOR_URL
,

45 
	mDWRITE_INFORMATIONAL_STRING_LICENSE_DESCRIPTION
,

46 
	mDWRITE_INFORMATIONAL_STRING_LICENSE_INFO_URL
,

47 
	mDWRITE_INFORMATIONAL_STRING_WIN32_FAMILY_NAMES
,

48 
	mDWRITE_INFORMATIONAL_STRING_WIN32_SUBFAMILY_NAMES
,

49 
	mDWRITE_INFORMATIONAL_STRING_PREFERRED_FAMILY_NAMES
,

50 
	mDWRITE_INFORMATIONAL_STRING_PREFERRED_SUBFAMILY_NAMES
,

51 
	mDWRITE_INFORMATIONAL_STRING_SAMPLE_TEXT
,

52 
	mDWRITE_INFORMATIONAL_STRING_FULL_NAME
,

53 
	mDWRITE_INFORMATIONAL_STRING_POSTSCRIPT_NAME
,

54 
	mDWRITE_INFORMATIONAL_STRING_POSTSCRIPT_CID_NAME


55 } 
	tDWRITE_INFORMATIONAL_STRING_ID
;

57 
	eDWRITE_FACTORY_TYPE
 {

58 
	mDWRITE_FACTORY_TYPE_SHARED
 = 0,

59 
	mDWRITE_FACTORY_TYPE_ISOLATED


60 } 
	tDWRITE_FACTORY_TYPE
;

62 
	eDWRITE_FONT_FACE_TYPE
 {

63 
	mDWRITE_FONT_FACE_TYPE_CFF
 = 0,

64 
	mDWRITE_FONT_FACE_TYPE_TRUETYPE
,

65 
	mDWRITE_FONT_FACE_TYPE_TRUETYPE_COLLECTION
,

66 
	mDWRITE_FONT_FACE_TYPE_TYPE1
,

67 
	mDWRITE_FONT_FACE_TYPE_VECTOR
,

68 
	mDWRITE_FONT_FACE_TYPE_BITMAP
,

69 
	mDWRITE_FONT_FACE_TYPE_UNKNOWN
,

70 
	mDWRITE_FONT_FACE_TYPE_RAW_CFF


71 } 
	tDWRITE_FONT_FACE_TYPE
;

73 
	eDWRITE_FONT_SIMULATIONS
 {

74 
	mDWRITE_FONT_SIMULATIONS_NONE
 = 0x0000,

75 
	mDWRITE_FONT_SIMULATIONS_BOLD
 = 0x0001,

76 
	mDWRITE_FONT_SIMULATIONS_OBLIQUE
 = 0x0002

77 } 
	tDWRITE_FONT_SIMULATIONS
;

79 
	eDWRITE_FONT_STRETCH
 {

80 
	mDWRITE_FONT_STRETCH_UNDEFINED
 = 0,

81 
	mDWRITE_FONT_STRETCH_ULTRA_CONDENSED
 = 1,

82 
	mDWRITE_FONT_STRETCH_EXTRA_CONDENSED
 = 2,

83 
	mDWRITE_FONT_STRETCH_CONDENSED
 = 3,

84 
	mDWRITE_FONT_STRETCH_SEMI_CONDENSED
 = 4,

85 
	mDWRITE_FONT_STRETCH_NORMAL
 = 5,

86 
	mDWRITE_FONT_STRETCH_MEDIUM
 = 5,

87 
	mDWRITE_FONT_STRETCH_SEMI_EXPANDED
 = 6,

88 
	mDWRITE_FONT_STRETCH_EXPANDED
 = 7,

89 
	mDWRITE_FONT_STRETCH_EXTRA_EXPANDED
 = 8,

90 
	mDWRITE_FONT_STRETCH_ULTRA_EXPANDED
 = 9

91 } 
	tDWRITE_FONT_STRETCH
;

93 
	eDWRITE_FONT_STYLE
 {

94 
	mDWRITE_FONT_STYLE_NORMAL
 = 0,

95 
	mDWRITE_FONT_STYLE_OBLIQUE
,

96 
	mDWRITE_FONT_STYLE_ITALIC


97 } 
	tDWRITE_FONT_STYLE
;

99 
	eDWRITE_FONT_WEIGHT
 {

100 
	mDWRITE_FONT_WEIGHT_MEDIUM
 = 500,

102 } 
	tDWRITE_FONT_WEIGHT
;

104 
	sDWRITE_FONT_METRICS
 {

105 
UINT16
 
	mdesignUnôsPîEm
;

106 
UINT16
 
	mas˚¡
;

107 
UINT16
 
	mdes˚¡
;

108 
INT16
 
	mlöeG≠
;

109 
UINT16
 
	mˇpHeight
;

110 
UINT16
 
	mxHeight
;

111 
INT16
 
	mundîlöePosôi⁄
;

112 
UINT16
 
	mundîlöeThick√ss
;

113 
INT16
 
	m°rikëhroughPosôi⁄
;

114 
UINT16
 
	m°rikëhroughThick√ss
;

115 } 
	tDWRITE_FONT_METRICS
;

117 
DWRITE_GLYPH_OFFSET
 
	tDWRITE_GLYPH_OFFSET
;

119 
	sDWRITE_GLYPH_RUN
 {

120 
IDWrôeF⁄tFa˚
 *
	mf⁄tFa˚
;

121 
FLOAT
 
	mf⁄tEmSize
;

122 
UINT32
 
	mglyphCou¡
;

123 c⁄° 
UINT16
 *
	mglyphIndi˚s
;

124 c⁄° 
FLOAT
 *
	mglyphAdv™˚s
;

125 c⁄° 
DWRITE_GLYPH_OFFSET
 *
	mglyphOff£ts
;

126 
BOOL
 
	misSideways
;

127 
UINT32
 
	mbidiLevñ
;

128 } 
	tDWRITE_GLYPH_RUN
;

130 
DWRITE_GLYPH_RUN_DESCRIPTION
 
	tDWRITE_GLYPH_RUN_DESCRIPTION
;

131 
DWRITE_HIT_TEST_METRICS
 
	tDWRITE_HIT_TEST_METRICS
;

132 
DWRITE_LINE_METRICS
 
	tDWRITE_LINE_METRICS
;

133 
DWRITE_MATRIX
 
	tDWRITE_MATRIX
;

134 
DWRITE_STRIKETHROUGH
 
	tDWRITE_STRIKETHROUGH
;

135 
DWRITE_TEXT_METRICS
 
	tDWRITE_TEXT_METRICS
;

137 
	sDWRITE_TEXT_RANGE
 {

138 
UINT32
 
	m°¨tPosôi⁄
;

139 
UINT32
 
	mÀngth
;

140 } 
	tDWRITE_TEXT_RANGE
;

142 
DWRITE_TRIMMING
 
	tDWRITE_TRIMMING
;

143 
DWRITE_UNDERLINE
 
	tDWRITE_UNDERLINE
;

145 #i‚de‡
__MINGW_DEF_ARG_VAL


146 #ifde‡
__˝lu•lus


147 
	#__MINGW_DEF_ARG_VAL
(
x
Ë
	)
x

149 
	#__MINGW_DEF_ARG_VAL
(
x
)

	)

153 #unde‡
INTERFACE


154 
	#INTERFACE
 
IDWrôeFa˘‹y


	)

155 
	$DECLARE_INTERFACE_
(
IDWrôeFa˘‹y
,
IUnknown
)

157 
BEGIN_INTERFACE


159 #i‚de‡
__˝lu•lus


161 
	`STDMETHOD
(
QuîyI¡îÁ˚
)(
THIS_
 
REFIID
 
riid
, **
µvObje˘
Ë
PURE
;

162 
	`STDMETHOD_
(
ULONG
, 
AddRef
)(
THIS
Ë
PURE
;

163 
	`STDMETHOD_
(
ULONG
, 
Rñó£
)(
THIS
Ë
PURE
;

167 
	`STDMETHOD
(
GëSy°emF⁄tCﬁÀ˘i⁄
)(
THIS_


168 
IDWrôeF⁄tCﬁÀ˘i⁄
 **
f⁄tCﬁÀ˘i⁄
,

169 
BOOL
 
checkF‹Upd©es
 
	`__MINGW_DEF_ARG_VAL
(
FALSE
)Ë
PURE
;

171 
	`STDMETHOD
(
dummy1
)(
THIS
);

172 
	`STDMETHOD
(
dummy2
)(
THIS
);

173 
	`STDMETHOD
(
dummy3
)(
THIS
);

174 
	`STDMETHOD
(
dummy4
)(
THIS
);

175 
	`STDMETHOD
(
dummy5
)(
THIS
);

176 
	`STDMETHOD
(
dummy6
)(
THIS
);

177 
	`STDMETHOD
(
dummy7
)(
THIS
);

178 
	`STDMETHOD
(
dummy8
)(
THIS
);

179 
	`STDMETHOD
(
dummy9
)(
THIS
);

180 
	`STDMETHOD
(
dummy10
)(
THIS
);

181 
	`STDMETHOD
(
dummy11
)(
THIS
);

183 
	`STDMETHOD
(
Cª©eTextF‹m©
)(
THIS_


184 
WCHAR
 c⁄° *
f⁄tFamûyName
,

185 
IDWrôeF⁄tCﬁÀ˘i⁄
 *
f⁄tCﬁÀ˘i⁄
,

186 
DWRITE_FONT_WEIGHT
 
f⁄tWeight
,

187 
DWRITE_FONT_STYLE
 
f⁄tStyÀ
,

188 
DWRITE_FONT_STRETCH
 
f⁄tSåëch
,

189 
FLOAT
 
f⁄tSize
,

190 
WCHAR
 c⁄° *
loˇÀName
,

191 
IDWrôeTextF‹m©
 **
ãxtF‹m©
Ë
PURE
;

193 
	`STDMETHOD
(
dummy12
)(
THIS
);

194 
	`STDMETHOD
(
dummy13
)(
THIS
);

196 
	`STDMETHOD
(
Cª©eTextLayout
)(
THIS_


197 
WCHAR
 c⁄° *
°rög
,

198 
UINT32
 
°rögLígth
,

199 
IDWrôeTextF‹m©
 *
ãxtF‹m©
,

200 
FLOAT
 
maxWidth
,

201 
FLOAT
 
maxHeight
,

202 
IDWrôeTextLayout
 **
ãxtLayout
Ë
PURE
;

205 
END_INTERFACE


206 
	}
};

207 #ifde‡
COBJMACROS


208 
	#IDWrôeFa˘‹y_QuîyI¡îÁ˚
(
This
,
riid
,
µvObje˘
Ë(This)->
ÕVtbl
->
	`QuîyI¡îÁ˚
(This,riid,µvObje˘)

	)

209 
	#IDWrôeFa˘‹y_AddRef
(
This
Ë(This)->
ÕVtbl
->
	`AddRef
(This)

	)

210 
	#IDWrôeFa˘‹y_Rñó£
(
This
Ë(This)->
ÕVtbl
->
	`Rñó£
(This)

	)

211 
	#IDWrôeFa˘‹y_GëSy°emF⁄tCﬁÀ˘i⁄
(
This
,
f⁄tCﬁÀ˘i⁄
,
checkF‹Upd©es
Ë(This)->
ÕVtbl
->
	`GëSy°emF⁄tCﬁÀ˘i⁄
(This,f⁄tCﬁÀ˘i⁄,checkF‹Upd©es)

	)

212 
	#IDWrôeFa˘‹y_Cª©eTextF‹m©
(
This
,
f⁄tFamûyName
,
f⁄tCﬁÀ˘i⁄
,
f⁄tWeight
,
f⁄tStyÀ
,
f⁄tSåëch
,
f⁄tSize
,
loˇÀName
,
ãxtF‹m©
Ë(This)->
ÕVtbl
->
	`Cª©eTextF‹m©
(This,f⁄tFamûyName,f⁄tCﬁÀ˘i⁄,f⁄tWeight,f⁄tStyÀ,f⁄tSåëch,f⁄tSize,loˇÀName,ãxtF‹m©)

	)

213 
	#IDWrôeFa˘‹y_Cª©eTextLayout
(
This
,
°rög
,
°rögLígth
,
ãxtF‹m©
,
maxWidth
,
maxHeight
,
ãxtLayout
Ë(This)->
ÕVtbl
->
	`Cª©eTextLayout
(This,°rög,°rögLígth,ãxtF‹m©,maxWidth,maxHeight,ãxtLayout)

	)

216 #unde‡
INTERFACE


217 
	#INTERFACE
 
IDWrôeF⁄t


	)

218 
	$DECLARE_INTERFACE_
(
IDWrôeF⁄t
,
IUnknown
)

220 
BEGIN_INTERFACE


222 #i‚de‡
__˝lu•lus


224 
	`STDMETHOD
(
QuîyI¡îÁ˚
)(
THIS_
 
REFIID
 
riid
, **
µvObje˘
Ë
PURE
;

225 
	`STDMETHOD_
(
ULONG
, 
AddRef
)(
THIS
Ë
PURE
;

226 
	`STDMETHOD_
(
ULONG
, 
Rñó£
)(
THIS
Ë
PURE
;

230 
	`STDMETHOD
(
GëF⁄tFamûy
)(
THIS_


231 
IDWrôeF⁄tFamûy
 **
f⁄tFamûy
Ë
PURE
;

233 
	`STDMETHOD_
(
DWRITE_FONT_WEIGHT
, 
GëWeight
)(
THIS
Ë
PURE
;

234 
	`STDMETHOD_
(
DWRITE_FONT_STRETCH
, 
GëSåëch
)(
THIS
Ë
PURE
;

235 
	`STDMETHOD_
(
DWRITE_FONT_STYLE
, 
GëStyÀ
)(
THIS
Ë
PURE
;

236 
	`STDMETHOD_
(
BOOL
, 
IsSymbﬁF⁄t
)(
THIS
Ë
PURE
;

238 
	`STDMETHOD
(
GëFa˚Names
)(
THIS_


239 
IDWrôeLoˇlizedSåögs
 **
«mes
Ë
PURE
;

241 
	`STDMETHOD
(
GëInf‹m©i⁄ÆSåögs
)(
THIS_


242 
DWRITE_INFORMATIONAL_STRING_ID
 
öf‹m©i⁄ÆSåögID
,

243 
IDWrôeLoˇlizedSåögs
 **
öf‹m©i⁄ÆSåögs
,

244 
BOOL
 *
exi°s
Ë
PURE
;

246 
	`STDMETHOD_
(
DWRITE_FONT_SIMULATIONS
, 
GëSimuœti⁄s
)(
THIS
Ë
PURE
;

248 
	`STDMETHOD_
(, 
GëMërics
)(
THIS_


249 
DWRITE_FONT_METRICS
 *
f⁄tMërics
Ë
PURE
;

251 
	`STDMETHOD
(
HasCh¨a˘î
)(
THIS_


252 
UINT32
 
unicodeVÆue
,

253 
BOOL
 *
exi°s
Ë
PURE
;

255 
	`STDMETHOD
(
Cª©eF⁄tFa˚
)(
THIS_


256 
IDWrôeF⁄tFa˚
 **
f⁄tFa˚
Ë
PURE
;

258 
END_INTERFACE


259 
	}
};

260 #ifde‡
COBJMACROS


261 
	#IDWrôeF⁄t_QuîyI¡îÁ˚
(
This
,
riid
,
µvObje˘
Ë(This)->
ÕVtbl
->
	`QuîyI¡îÁ˚
(This,riid,µvObje˘)

	)

262 
	#IDWrôeF⁄t_AddRef
(
This
Ë(This)->
ÕVtbl
->
	`AddRef
(This)

	)

263 
	#IDWrôeF⁄t_Rñó£
(
This
Ë(This)->
ÕVtbl
->
	`Rñó£
(This)

	)

264 
	#IDWrôeF⁄t_Cª©eF⁄tFa˚
(
This
,
f⁄tFa˚
Ë(This)->
ÕVtbl
->
	`Cª©eF⁄tFa˚
(This,f⁄tFa˚)

	)

265 
	#IDWrôeF⁄t_GëFa˚Names
(
This
,
«mes
Ë(This)->
ÕVtbl
->
	`GëFa˚Names
(This,«mes)

	)

266 
	#IDWrôeF⁄t_GëF⁄tFamûy
(
This
,
f⁄tFamûy
Ë(This)->
ÕVtbl
->
	`GëF⁄tFamûy
(This,f⁄tFamûy)

	)

267 
	#IDWrôeF⁄t_GëInf‹m©i⁄ÆSåögs
(
This
,
öf‹m©i⁄ÆSåögID
,
öf‹m©i⁄ÆSåögs
,
exi°s
Ë(This)->
ÕVtbl
->
	`GëInf‹m©i⁄ÆSåögs
(This,öf‹m©i⁄ÆSåögID,öf‹m©i⁄ÆSåögs,exi°s)

	)

268 
	#IDWrôeF⁄t_GëMërics
(
This
,
f⁄tMërics
Ë(This)->
ÕVtbl
->
	`GëMërics
(This,f⁄tMërics)

	)

269 
	#IDWrôeF⁄t_GëSimuœti⁄s
(
This
Ë(This)->
ÕVtbl
->
	`GëSimuœti⁄s
(This)

	)

270 
	#IDWrôeF⁄t_GëSåëch
(
This
Ë(This)->
ÕVtbl
->
	`GëSåëch
(This)

	)

271 
	#IDWrôeF⁄t_GëStyÀ
(
This
Ë(This)->
ÕVtbl
->
	`GëStyÀ
(This)

	)

272 
	#IDWrôeF⁄t_GëWeight
(
This
Ë(This)->
ÕVtbl
->
	`GëWeight
(This)

	)

273 
	#IDWrôeF⁄t_HasCh¨a˘î
(
This
,
unicodeVÆue
,
exi°s
Ë(This)->
ÕVtbl
->
	`HasCh¨a˘î
(This,unicodeVÆue,exi°s)

	)

274 
	#IDWrôeF⁄t_IsSymbﬁF⁄t
(
This
Ë(This)->
ÕVtbl
->
	`IsSymbﬁF⁄t
(This)

	)

277 #unde‡
INTERFACE


278 
	#INTERFACE
 
IDWrôeF⁄tCﬁÀ˘i⁄


	)

279 
	$DECLARE_INTERFACE_
(
IDWrôeF⁄tCﬁÀ˘i⁄
,
IUnknown
)

281 
BEGIN_INTERFACE


283 #i‚de‡
__˝lu•lus


285 
	`STDMETHOD
(
QuîyI¡îÁ˚
)(
THIS_
 
REFIID
 
riid
, **
µvObje˘
Ë
PURE
;

286 
	`STDMETHOD_
(
ULONG
, 
AddRef
)(
THIS
Ë
PURE
;

287 
	`STDMETHOD_
(
ULONG
, 
Rñó£
)(
THIS
Ë
PURE
;

291 
	`STDMETHOD_
(
UINT32
, 
GëF⁄tFamûyCou¡
)(
THIS
Ë
PURE
;

293 
	`STDMETHOD
(
GëF⁄tFamûy
)(
THIS_


294 
UINT32
 
ödex
,

295 
IDWrôeF⁄tFamûy
 **
f⁄tFamûy
Ë
PURE
;

297 
	`STDMETHOD
(
FödFamûyName
)(
THIS_


298 
WCHAR
 c⁄° *
ÁmûyName
,

299 
UINT32
 *
ödex
,

300 
BOOL
 *
exi°s
Ë
PURE
;

302 
	`STDMETHOD
(
GëF⁄tFromF⁄tFa˚
)(
THIS_


303 
IDWrôeF⁄tFa˚
* 
f⁄tFa˚
,

304 
IDWrôeF⁄t
 **
f⁄t
Ë
PURE
;

306 
END_INTERFACE


307 
	}
};

308 #ifde‡
COBJMACROS


309 
	#IDWrôeF⁄tCﬁÀ˘i⁄_QuîyI¡îÁ˚
(
This
,
riid
,
µvObje˘
Ë(This)->
ÕVtbl
->
	`QuîyI¡îÁ˚
(This,riid,µvObje˘)

	)

310 
	#IDWrôeF⁄tCﬁÀ˘i⁄_AddRef
(
This
Ë(This)->
ÕVtbl
->
	`AddRef
(This)

	)

311 
	#IDWrôeF⁄tCﬁÀ˘i⁄_Rñó£
(
This
Ë(This)->
ÕVtbl
->
	`Rñó£
(This)

	)

312 
	#IDWrôeF⁄tCﬁÀ˘i⁄_FödFamûyName
(
This
,
ÁmûyName
,
ödex
,
exi°s
Ë(This)->
ÕVtbl
->
	`FödFamûyName
(This,ÁmûyName,ödex,exi°s)

	)

313 
	#IDWrôeF⁄tCﬁÀ˘i⁄_GëF⁄tFamûy
(
This
,
ödex
,
f⁄tFamûy
Ë(This)->
ÕVtbl
->
	`GëF⁄tFamûy
(This,ödex,f⁄tFamûy)

	)

314 
	#IDWrôeF⁄tCﬁÀ˘i⁄_GëF⁄tFamûyCou¡
(
This
Ë(This)->
ÕVtbl
->
	`GëF⁄tFamûyCou¡
(This)

	)

315 
	#IDWrôeF⁄tCﬁÀ˘i⁄_GëF⁄tFromF⁄tFa˚
(
This
,
f⁄tFa˚
,
f⁄t
Ë(This)->
ÕVtbl
->
	`GëF⁄tFromF⁄tFa˚
(This,f⁄tFa˚,f⁄t)

	)

318 #unde‡
INTERFACE


319 
	#INTERFACE
 
IDWrôeF⁄tFa˚


	)

320 
	$DECLARE_INTERFACE_
(
IDWrôeF⁄tFa˚
,
IUnknown
)

322 
BEGIN_INTERFACE


324 #i‚de‡
__˝lu•lus


326 
	`STDMETHOD
(
QuîyI¡îÁ˚
)(
THIS_
 
REFIID
 
riid
, **
µvObje˘
Ë
PURE
;

327 
	`STDMETHOD_
(
ULONG
, 
AddRef
)(
THIS
Ë
PURE
;

328 
	`STDMETHOD_
(
ULONG
, 
Rñó£
)(
THIS
Ë
PURE
;

332 
	`STDMETHOD_
(
DWRITE_FONT_FACE_TYPE
, 
GëTy≥
)(
THIS
Ë
PURE
;

334 
	`STDMETHOD
(
GëFûes
)(
THIS_


335 
UINT32
 *
numbîOfFûes
,

336 
IDWrôeF⁄tFûe
 **
f⁄tFûes
Ë
PURE
;

338 
	`STDMETHOD_
(
UINT32
, 
GëIndex
)(
THIS
Ë
PURE
;

341 
END_INTERFACE


342 
	}
};

343 #ifde‡
COBJMACROS


344 
	#IDWrôeF⁄tFa˚_Rñó£
(
This
Ë(This)->
ÕVtbl
->
	`Rñó£
(This)

	)

345 
	#IDWrôeF⁄tFa˚_GëTy≥
(
This
Ë(This)->
ÕVtbl
->
	`GëTy≥
(This)

	)

346 
	#IDWrôeF⁄tFa˚_GëFûes
(
This
,
f⁄tFûes
,
b
Ë(This)->
ÕVtbl
->
	`GëFûes
(This,f⁄tFûes,b)

	)

347 
	#IDWrôeF⁄tFa˚_GëIndex
(
This
Ë(This)->
ÕVtbl
->
	`GëIndex
(This)

	)

350 #unde‡
INTERFACE


351 
	#INTERFACE
 
IDWrôeF⁄tFamûy


	)

352 
	$DECLARE_INTERFACE_
(
IDWrôeF⁄tFamûy
,
IDWrôeF⁄tLi°
)

354 
BEGIN_INTERFACE


356 #i‚de‡
__˝lu•lus


358 
	`STDMETHOD
(
QuîyI¡îÁ˚
)(
THIS_
 
REFIID
 
riid
, **
µvObje˘
Ë
PURE
;

359 
	`STDMETHOD_
(
ULONG
, 
AddRef
)(
THIS
Ë
PURE
;

360 
	`STDMETHOD_
(
ULONG
, 
Rñó£
)(
THIS
Ë
PURE
;

363 
	`STDMETHOD
(
GëF⁄tCﬁÀ˘i⁄
)(
THIS_


364 
IDWrôeF⁄tCﬁÀ˘i⁄
** 
f⁄tCﬁÀ˘i⁄
Ë
PURE
;

366 
	`STDMETHOD_
(
UINT32
, 
GëF⁄tCou¡
)(
THIS
Ë
PURE
;

368 
	`STDMETHOD
(
GëF⁄t
)(
THIS_


369 
UINT32
 
ödex
,

370 
IDWrôeF⁄t
 **
f⁄t
Ë
PURE
;

374 
	`STDMETHOD
(
GëFamûyNames
)(
THIS_


375 
IDWrôeLoˇlizedSåögs
 **
«mes
Ë
PURE
;

378 
END_INTERFACE


379 
	}
};

380 #ifde‡
COBJMACROS


381 
	#IDWrôeF⁄tFamûy_QuîyI¡îÁ˚
(
This
,
riid
,
µvObje˘
Ë(This)->
ÕVtbl
->
	`QuîyI¡îÁ˚
(This,riid,µvObje˘)

	)

382 
	#IDWrôeF⁄tFamûy_AddRef
(
This
Ë(This)->
ÕVtbl
->
	`AddRef
(This)

	)

383 
	#IDWrôeF⁄tFamûy_Rñó£
(
This
Ë(This)->
ÕVtbl
->
	`Rñó£
(This)

	)

384 
	#IDWrôeF⁄tFamûy_GëF⁄t
(
This
,
ödex
,
f⁄t
Ë(This)->
ÕVtbl
->
	`GëF⁄t
(This,ödex,f⁄t)

	)

385 
	#IDWrôeF⁄tFamûy_GëF⁄tCou¡
(
This
Ë(This)->
ÕVtbl
->
	`GëF⁄tCou¡
(This)

	)

386 
	#IDWrôeF⁄tFamûy_GëFamûyNames
(
This
,
«mes
Ë(This)->
ÕVtbl
->
	`GëFamûyNames
(This,«mes)

	)

389 #unde‡
INTERFACE


390 
	#INTERFACE
 
IDWrôeF⁄tFûe


	)

391 
	$DECLARE_INTERFACE_
(
IDWrôeF⁄tFûe
,
IUnknown
)

393 
BEGIN_INTERFACE


395 #i‚de‡
__˝lu•lus


397 
	`STDMETHOD
(
QuîyI¡îÁ˚
)(
THIS_
 
REFIID
 
riid
, **
µvObje˘
Ë
PURE
;

398 
	`STDMETHOD_
(
ULONG
, 
AddRef
)(
THIS
Ë
PURE
;

399 
	`STDMETHOD_
(
ULONG
, 
Rñó£
)(
THIS
Ë
PURE
;

403 
	`STDMETHOD
(
GëRe„ªn˚Key
)(
THIS_


404 c⁄° **
f⁄tFûeRe„ªn˚Key
,

405 
UINT32
 *
f⁄tFûeRe„ªn˚KeySize
Ë
PURE
;

407 
	`STDMETHOD
(
GëLﬂdî
)(
THIS_


408 
IDWrôeF⁄tFûeLﬂdî
 **
f⁄tFûeLﬂdî
Ë
PURE
;

411 
END_INTERFACE


412 
	}
};

413 #ifde‡
COBJMACROS


414 
	#IDWrôeF⁄tFûe_Rñó£
(
This
Ë(This)->
ÕVtbl
->
	`Rñó£
(This)

	)

415 
	#IDWrôeF⁄tFûe_GëLﬂdî
(
This
,
f⁄tFûeLﬂdî
Ë(This)->
ÕVtbl
->
	`GëLﬂdî
(This,f⁄tFûeLﬂdî)

	)

416 
	#IDWrôeF⁄tFûe_GëRe„ªn˚Key
(
This
,
f⁄tFûeRe„ªn˚Key
,
f⁄tFûeRe„ªn˚KeySize
Ë(This)->
ÕVtbl
->
	`GëRe„ªn˚Key
(This,f⁄tFûeRe„ªn˚Key,f⁄tFûeRe„ªn˚KeySize)

	)

419 #unde‡
INTERFACE


420 
	#INTERFACE
 
IDWrôeF⁄tFûeLﬂdî


	)

421 
	$DECLARE_INTERFACE_
(
IDWrôeF⁄tFûeLﬂdî
,
IUnknown
)

423 
BEGIN_INTERFACE


425 #i‚de‡
__˝lu•lus


427 
	`STDMETHOD
(
QuîyI¡îÁ˚
)(
THIS_
 
REFIID
 
riid
, **
µvObje˘
Ë
PURE
;

428 
	`STDMETHOD_
(
ULONG
, 
AddRef
)(
THIS
Ë
PURE
;

429 
	`STDMETHOD_
(
ULONG
, 
Rñó£
)(
THIS
Ë
PURE
;

433 
	`STDMETHOD
(
Cª©eSåómFromKey
)(
THIS_


434 c⁄° *
f⁄tFûeRe„ªn˚Key
,

435 
UINT32
 
f⁄tFûeRe„ªn˚KeySize
,

436 
IDWrôeF⁄tFûeSåóm
 **
f⁄tFûeSåóm
Ë
PURE
;

438 
END_INTERFACE


439 
	}
};

440 #ifde‡
COBJMACROS


441 
	#IDWrôeF⁄tFûeLﬂdî_QuîyI¡îÁ˚
(
This
,
riid
,
µvObje˘
Ë(This)->
ÕVtbl
->
	`QuîyI¡îÁ˚
(This,riid,µvObje˘)

	)

442 
	#IDWrôeF⁄tFûeLﬂdî_AddRef
(
This
Ë(This)->
ÕVtbl
->
	`AddRef
(This)

	)

443 
	#IDWrôeF⁄tFûeLﬂdî_Rñó£
(
This
Ë(This)->
ÕVtbl
->
	`Rñó£
(This)

	)

444 
	#IDWrôeF⁄tFûeLﬂdî_Cª©eSåómFromKey
(
This
,
f⁄tFûeRe„ªn˚Key
,
f⁄tFûeRe„ªn˚KeySize
,
f⁄tFûeSåóm
Ë(This)->
ÕVtbl
->
	`Cª©eSåómFromKey
(This,f⁄tFûeRe„ªn˚Key,f⁄tFûeRe„ªn˚KeySize,f⁄tFûeSåóm)

	)

447 #unde‡
INTERFACE


448 
	#INTERFACE
 
IDWrôeF⁄tFûeSåóm


	)

449 
	$DECLARE_INTERFACE_
(
IDWrôeF⁄tFûeSåóm
,
IUnknown
)

451 
BEGIN_INTERFACE


453 #i‚de‡
__˝lu•lus


455 
	`STDMETHOD
(
QuîyI¡îÁ˚
)(
THIS_
 
REFIID
 
riid
, **
µvObje˘
Ë
PURE
;

456 
	`STDMETHOD_
(
ULONG
, 
AddRef
)(
THIS
Ë
PURE
;

457 
	`STDMETHOD_
(
ULONG
, 
Rñó£
)(
THIS
Ë
PURE
;

461 
	`STDMETHOD
(
RódFûeFøgmít
)(
THIS_


462 c⁄° **
‰agmítSèπ
,

463 
UINT64
 
fûeOff£t
,

464 
UINT64
 
‰agmítSize
,

465 ** 
‰agmítC⁄ãxt
Ë
PURE
;

467 
	`STDMETHOD_
(, 
Rñó£FûeFøgmít
)(
THIS_


468 *
‰agmítC⁄ãxt
Ë
PURE
;

470 
	`STDMETHOD
(
GëFûeSize
)(
THIS_


471 
UINT64
 *
fûeSize
Ë
PURE
;

473 
	`STDMETHOD
(
GëLa°WrôeTime
)(
THIS_


474 
UINT64
 *
œ°WrôeTime
Ë
PURE
;

476 
END_INTERFACE


477 
	}
};

478 #ifde‡
COBJMACROS


479 
	#IDWrôeF⁄tFûeSåóm_QuîyI¡îÁ˚
(
This
,
riid
,
µvObje˘
Ë(This)->
ÕVtbl
->
	`QuîyI¡îÁ˚
(This,riid,µvObje˘)

	)

480 
	#IDWrôeF⁄tFûeSåóm_AddRef
(
This
Ë(This)->
ÕVtbl
->
	`AddRef
(This)

	)

481 
	#IDWrôeF⁄tFûeSåóm_Rñó£
(
This
Ë(This)->
ÕVtbl
->
	`Rñó£
(This)

	)

482 
	#IDWrôeF⁄tFûeSåóm_GëFûeSize
(
This
,
fûeSize
Ë(This)->
ÕVtbl
->
	`GëFûeSize
(This,fûeSize)

	)

483 
	#IDWrôeF⁄tFûeSåóm_RódFûeFøgmít
(
This
,
‰agmítSèπ
,
fûeOff£t
,
‰agmítSize
,
‰agmítC⁄ãxt
Ë(This)->
ÕVtbl
->
	`RódFûeFøgmít
(This,‰agmítSèπ,fûeOff£t,‰agmítSize,‰agmítC⁄ãxt)

	)

484 
	#IDWrôeF⁄tFûeSåóm_Rñó£FûeFøgmít
(
This
,
‰agmítC⁄ãxt
Ë(This)->
ÕVtbl
->
	`Rñó£FûeFøgmít
(This,‰agmítC⁄ãxt)

	)

487 #unde‡
INTERFACE


488 
	#INTERFACE
 
IDWrôeLoˇlizedSåögs


	)

489 
	$DECLARE_INTERFACE_
(
IDWrôeLoˇlizedSåögs
,
IUnknown
)

491 
BEGIN_INTERFACE


493 #i‚de‡
__˝lu•lus


495 
	`STDMETHOD
(
QuîyI¡îÁ˚
)(
THIS_
 
REFIID
 
riid
, **
µvObje˘
Ë
PURE
;

496 
	`STDMETHOD_
(
ULONG
, 
AddRef
)(
THIS
Ë
PURE
;

497 
	`STDMETHOD_
(
ULONG
, 
Rñó£
)(
THIS
Ë
PURE
;

501 
	`STDMETHOD_
(
UINT32
, 
GëCou¡
)(
THIS
Ë
PURE
;

503 
	`STDMETHOD
(
dummy1
)(
THIS
);

504 
	`STDMETHOD
(
dummy2
)(
THIS
);

505 
	`STDMETHOD
(
dummy3
)(
THIS
);

506 
	`STDMETHOD
(
dummy4
)(
THIS
);

508 
	`STDMETHOD
(
GëSåög
)(
THIS_


509 
UINT32
 
ödex
,

510 
WCHAR
 *
°rögBuf„r
,

511 
UINT32
 
size
Ë
PURE
;

513 
END_INTERFACE


514 
	}
};

515 #ifde‡
COBJMACROS


516 
	#IDWrôeLoˇlizedSåögs_Rñó£
(
This
Ë(This)->
ÕVtbl
->
	`Rñó£
(This)

	)

517 
	#IDWrôeLoˇlizedSåögs_GëCou¡
(
This
Ë(This)->
ÕVtbl
->
	`GëCou¡
(This)

	)

518 
	#IDWrôeLoˇlizedSåögs_GëSåög
(
This
,
ödex
,
°rögBuf„r
,
size
Ë(This)->
ÕVtbl
->
	`GëSåög
(This,ödex,°rögBuf„r,size)

	)

521 #unde‡
INTERFACE


522 
	#INTERFACE
 
IDWrôeTextF‹m©


	)

523 
	$DECLARE_INTERFACE_
(
IDWrôeTextF‹m©
,
IUnknown
)

525 
BEGIN_INTERFACE


527 #i‚de‡
__˝lu•lus


529 
	`STDMETHOD
(
QuîyI¡îÁ˚
)(
THIS_
 
REFIID
 
riid
, **
µvObje˘
Ë
PURE
;

530 
	`STDMETHOD_
(
ULONG
, 
AddRef
)(
THIS
Ë
PURE
;

531 
	`STDMETHOD_
(
ULONG
, 
Rñó£
)(
THIS
Ë
PURE
;

536 
END_INTERFACE


537 
	}
};

538 #ifde‡
COBJMACROS


539 
	#IDWrôeTextF‹m©_Rñó£
(
This
Ë(This)->
ÕVtbl
->
	`Rñó£
(This)

	)

542 #unde‡
INTERFACE


543 
	#INTERFACE
 
IDWrôeTextLayout


	)

544 
	$DECLARE_INTERFACE_
(
IDWrôeTextLayout
,
IDWrôeTextF‹m©
)

546 
BEGIN_INTERFACE


548 #i‚de‡
__˝lu•lus


550 
	`STDMETHOD
(
QuîyI¡îÁ˚
)(
THIS_
 
REFIID
 
riid
, **
µvObje˘
Ë
PURE
;

551 
	`STDMETHOD_
(
ULONG
, 
AddRef
)(
THIS
Ë
PURE
;

552 
	`STDMETHOD_
(
ULONG
, 
Rñó£
)(
THIS
Ë
PURE
;

555 
	`STDMETHOD
(
dummy1
)(
THIS
);

556 
	`STDMETHOD
(
dummy2
)(
THIS
);

557 
	`STDMETHOD
(
dummy3
)(
THIS
);

558 
	`STDMETHOD
(
dummy4
)(
THIS
);

559 
	`STDMETHOD
(
dummy5
)(
THIS
);

560 
	`STDMETHOD
(
dummy6
)(
THIS
);

561 
	`STDMETHOD
(
dummy7
)(
THIS
);

562 
	`STDMETHOD
(
dummy8
)(
THIS
);

563 
	`STDMETHOD
(
dummy9
)(
THIS
);

564 
	`STDMETHOD
(
dummy10
)(
THIS
);

565 
	`STDMETHOD
(
dummy11
)(
THIS
);

566 
	`STDMETHOD
(
dummy12
)(
THIS
);

567 
	`STDMETHOD
(
dummy13
)(
THIS
);

568 
	`STDMETHOD
(
dummy14
)(
THIS
);

569 
	`STDMETHOD
(
dummy15
)(
THIS
);

570 
	`STDMETHOD
(
dummy16
)(
THIS
);

571 
	`STDMETHOD
(
dummy17
)(
THIS
);

572 
	`STDMETHOD
(
dummy18
)(
THIS
);

573 
	`STDMETHOD
(
dummy19
)(
THIS
);

574 
	`STDMETHOD
(
dummy20
)(
THIS
);

575 
	`STDMETHOD
(
dummy21
)(
THIS
);

576 
	`STDMETHOD
(
dummy22
)(
THIS
);

577 
	`STDMETHOD
(
dummy23
)(
THIS
);

578 
	`STDMETHOD
(
dummy24
)(
THIS
);

579 
	`STDMETHOD
(
dummy25
)(
THIS
);

583 
	`STDMETHOD
(
dummy26
)(
THIS
);

584 
	`STDMETHOD
(
dummy27
)(
THIS
);

585 
	`STDMETHOD
(
dummy28
)(
THIS
);

586 
	`STDMETHOD
(
dummy29
)(
THIS
);

587 
	`STDMETHOD
(
dummy30
)(
THIS
);

588 
	`STDMETHOD
(
dummy31
)(
THIS
);

589 
	`STDMETHOD
(
dummy32
)(
THIS
);

590 
	`STDMETHOD
(
dummy33
)(
THIS
);

591 
	`STDMETHOD
(
dummy34
)(
THIS
);

592 
	`STDMETHOD
(
dummy35
)(
THIS
);

593 
	`STDMETHOD
(
dummy36
)(
THIS
);

594 
	`STDMETHOD
(
dummy37
)(
THIS
);

595 
	`STDMETHOD
(
dummy38
)(
THIS
);

596 
	`STDMETHOD
(
dummy39
)(
THIS
);

597 
	`STDMETHOD
(
dummy40
)(
THIS
);

598 
	`STDMETHOD
(
dummy41
)(
THIS
);

599 
	`STDMETHOD
(
dummy42
)(
THIS
);

600 
	`STDMETHOD
(
dummy43
)(
THIS
);

601 
	`STDMETHOD
(
dummy44
)(
THIS
);

602 
	`STDMETHOD
(
dummy45
)(
THIS
);

603 
	`STDMETHOD
(
dummy46
)(
THIS
);

604 
	`STDMETHOD
(
dummy47
)(
THIS
);

605 
	`STDMETHOD
(
dummy48
)(
THIS
);

606 
	`STDMETHOD
(
dummy49
)(
THIS
);

607 
	`STDMETHOD
(
dummy50
)(
THIS
);

608 
	`STDMETHOD
(
dummy51
)(
THIS
);

609 
	`STDMETHOD
(
dummy52
)(
THIS
);

610 
	`STDMETHOD
(
dummy53
)(
THIS
);

611 
	`STDMETHOD
(
dummy54
)(
THIS
);

612 
	`STDMETHOD
(
dummy55
)(
THIS
);

613 
	`STDMETHOD
(
Døw
)(
THIS_


614 *
˛õ¡DøwögC⁄ãxt
,

615 
IDWrôeTextRídîî
 *
ªndîî
,

616 
FLOAT
 
‹igöX
,

617 
FLOAT
 
‹igöY
Ë
PURE
;

619 
END_INTERFACE


620 
	}
};

621 #ifde‡
COBJMACROS


622 
	#IDWrôeTextLayout_Rñó£
(
This
Ë(This)->
ÕVtbl
->
	`Rñó£
(This)

	)

623 
	#IDWrôeTextLayout_Døw
(
This
,
˛õ¡DøwögC⁄ãxt
,
ªndîî
,
‹igöX
,
‹igöY
Ë(This)->
ÕVtbl
->
	`Døw
(This,˛õ¡DøwögC⁄ãxt,ªndîî,‹igöX,‹igöY)

	)

626 #unde‡
INTERFACE


627 
	#INTERFACE
 
IDWrôeTextRídîî


	)

628 
	$DECLARE_INTERFACE_
(
IDWrôeTextRídîî
,
IDWrôePixñS«µög
)

630 
BEGIN_INTERFACE


632 #i‚de‡
__˝lu•lus


634 
	`STDMETHOD
(
QuîyI¡îÁ˚
)(
THIS_
 
REFIID
 
riid
, **
µvObje˘
Ë
PURE
;

635 
	`STDMETHOD_
(
ULONG
, 
AddRef
)(
THIS
Ë
PURE
;

636 
	`STDMETHOD_
(
ULONG
, 
Rñó£
)(
THIS
Ë
PURE
;

639 
	`STDMETHOD
(
IsPixñS«µögDißbÀd
)(
THIS_


640 *
˛õ¡DøwögC⁄ãxt
,

641 
BOOL
 *
isDißbÀd
Ë
PURE
;

642 
	`STDMETHOD
(
GëCuºítTønsf‹m
)(
THIS_


643 *
˛õ¡DøwögC⁄ãxt
,

644 
DWRITE_MATRIX
 *
å™sf‹m
Ë
PURE
;

645 
	`STDMETHOD
(
GëPixñsPîDù
)(
THIS_


646 *
˛õ¡DøwögC⁄ãxt
,

647 
FLOAT
 *
pixñsPîDù
Ë
PURE
;

651 
	`STDMETHOD
(
DøwGlyphRun
)(
THIS_


652 *
˛õ¡DøwögC⁄ãxt
,

653 
FLOAT
 
ba£löeOrigöX
,

654 
FLOAT
 
ba£löeOrigöY
,

655 
DWRITE_MEASURING_MODE
 
mósurögMode
,

656 
DWRITE_GLYPH_RUN
 c⁄° *
glyphRun
,

657 
DWRITE_GLYPH_RUN_DESCRIPTION
 c⁄° *
glyphRunDes¸ùti⁄
,

658 
IUnknown
* 
˛õ¡DøwögEf„˘
Ë
PURE
;

659 
	`STDMETHOD
(
DøwUndîlöe
)(
THIS_


660 *
˛õ¡DøwögC⁄ãxt
,

661 
FLOAT
 
ba£löeOrigöX
,

662 
FLOAT
 
ba£löeOrigöY
,

663 
DWRITE_UNDERLINE
 c⁄° *
undîlöe
,

664 
IUnknown
 *
˛õ¡DøwögEf„˘
Ë
PURE
;

665 
	`STDMETHOD
(
DøwSåikëhrough
)(
THIS_


666 *
˛õ¡DøwögC⁄ãxt
,

667 
FLOAT
 
ba£löeOrigöX
,

668 
FLOAT
 
ba£löeOrigöY
,

669 
DWRITE_STRIKETHROUGH
 c⁄° *
°rikëhrough
,

670 
IUnknown
* 
˛õ¡DøwögEf„˘
Ë
PURE
;

671 
	`STDMETHOD
(
DøwI∆öeObje˘
)(
THIS_


672 *
˛õ¡DøwögC⁄ãxt
,

673 
FLOAT
 
‹igöX
,

674 
FLOAT
 
‹igöY
,

675 
IDWrôeI∆öeObje˘
 *
ölöeObje˘
,

676 
BOOL
 
isSideways
,

677 
BOOL
 
isRightToLe·
,

678 
IUnknown
 *
˛õ¡DøwögEf„˘
Ë
PURE
;

680 
END_INTERFACE


681 
	}
};

683 
DEFINE_GUID
(
IID_IDWrôeFa˘‹y
, 0xb859ee5a,0xd838,0x4b5b,0xa2,0xe8,0x1a,0xdc,0x7d,0x93,0xdb,0x48);

684 
DEFINE_GUID
(
IID_IDWrôePixñS«µög
, 0xeaf3a2da,0xecf4,0x4d24,0xb6,0x44,0xb3,0x4f,0x68,0x42,0x02,0x4b);

685 
DEFINE_GUID
(
IID_IDWrôeTextRídîî
, 0xef8a8135,0x5cc6,0x45fe,0x88,0x25,0xc5,0xa0,0x72,0x4e,0xb8,0x19);

	@libass/x86/cpuid.h

19 #i‚de‡
INTEL_CPUID_H


20 
	#INTEL_CPUID_H


	)

22 
ass_gë_˝uid
–
uöt32_t
 *
óx
, uöt32_à*
ebx
, uöt32_à*
ecx
, uöt32_à*
edx
);

23 
ass_gë_xgëbv
–
uöt32_t
 
›
, uöt32_à*
óx
, uöt32_à*
edx
 );

	@profile/profile.c

21 
	~<°dio.h
>

22 
	~<°dlib.h
>

23 
	~<°d¨g.h
>

24 
	~"../libass/ass.h
"

26 
	simage_s
 {

27 
	mwidth
, 
	mheight
, 
	m°ride
;

28 *
	mbuf„r
;

29 } 
	timage_t
;

31 
ASS_Libøry
 *
	gass_libøry
;

32 
ASS_Rídîî
 *
	gass_ªndîî
;

34 
	$msg_ˇŒback
(
Àvñ
, c⁄° *
fmt
, 
va_li°
 
va
, *
d©a
)

36 i‡(
Àvñ
 > 6)

38 
	`¥ötf
("libass: ");

39 
	`v¥ötf
(
fmt
, 
va
);

40 
	`¥ötf
("\n");

41 
	}
}

43 
	$öô
(
‰ame_w
, 
‰ame_h
)

45 
ass_libøry
 = 
	`ass_libøry_öô
();

46 i‡(!
ass_libøry
) {

47 
	`¥ötf
("ass_library_init failed!\n");

48 
	`exô
(1);

51 
	`ass_£t_mesßge_cb
(
ass_libøry
, 
msg_ˇŒback
, 
NULL
);

53 
ass_ªndîî
 = 
	`ass_ªndîî_öô
(
ass_libøry
);

54 i‡(!
ass_ªndîî
) {

55 
	`¥ötf
("ass_renderer_init failed!\n");

56 
	`exô
(1);

59 
	`ass_£t_‰ame_size
(
ass_ªndîî
, 
‰ame_w
, 
‰ame_h
);

60 
	`ass_£t_f⁄ts
(
ass_ªndîî
, 
NULL
, "Sans", 1, NULL, 1);

61 
	}
}

63 
	$maö
(
¨gc
, *
¨gv
[])

65 c⁄° 
‰ame_w
 = 1280;

66 c⁄° 
‰ame_h
 = 720;

68 i‡(
¨gc
 < 5) {

69 
	`¥ötf
("ußge: %†<subtôÀ fûe> <°¨àtime> <Âs> <timêtÿªndî>\n", 
¨gv
[0]);

70 
	`exô
(1);

72 *
subfûe
 = 
¨gv
[1];

73 
tm
 = 
	`°πod
(
¨gv
[2], 0);

74 
Âs
 = 
	`°πod
(
¨gv
[3], 0);

75 
time
 = 
	`°πod
(
¨gv
[4], 0);

77 if(
Âs
 == 0){

78 
	`¥ötf
("fps cannotÉqual 0\n");

79 
	`exô
(1);

82 
	`öô
(
‰ame_w
, 
‰ame_h
);

83 
ASS_Tøck
 *
åack
 = 
	`ass_ªad_fûe
(
ass_libøry
, 
subfûe
, 
NULL
);

84 i‡(!
åack
) {

85 
	`¥ötf
("track init failed!\n");

86 
	`exô
(1);

89 
tm
 < 
time
){

90 
	`ass_ªndî_‰ame
(
ass_ªndîî
, 
åack
, (Ë(
tm
 * 1000), 
NULL
);

91 
tm
 +1 / 
Âs
;

94 
	`ass_‰ì_åack
(
åack
);

95 
	`ass_ªndîî_d⁄e
(
ass_ªndîî
);

96 
	`ass_libøry_d⁄e
(
ass_libøry
);

99 
	}
}

	@test/test.c

20 
	~<°dio.h
>

21 
	~<°dlib.h
>

22 
	~<°d¨g.h
>

23 
	~<°rög.h
>

24 
	~"../libass/ass.h
"

25 
	~<≤g.h
>

27 
	simage_s
 {

28 
	mwidth
, 
	mheight
, 
	m°ride
;

29 *
	mbuf„r
;

30 } 
	timage_t
;

32 
ASS_Libøry
 *
	gass_libøry
;

33 
ASS_Rídîî
 *
	gass_ªndîî
;

35 
	$msg_ˇŒback
(
Àvñ
, c⁄° *
fmt
, 
va_li°
 
va
, *
d©a
)

37 i‡(
Àvñ
 > 6)

39 
	`¥ötf
("libass: ");

40 
	`v¥ötf
(
fmt
, 
va
);

41 
	`¥ötf
("\n");

42 
	}
}

44 
	$wrôe_≤g
(*
‚ame
, 
image_t
 *
img
)

46 
FILE
 *
Â
;

47 
≤g_°ru˘p
 
≤g_±r
;

48 
≤g_öf›
 
öfo_±r
;

49 
≤g_byã
 **
row_poöãrs
;

50 
k
;

52 
≤g_±r
 =

53 
	`≤g_¸óã_wrôe_°ru˘
(
PNG_LIBPNG_VER_STRING
, 
NULL
, NULL, NULL);

54 
öfo_±r
 = 
	`≤g_¸óã_öfo_°ru˘
(
≤g_±r
);

55 
Â
 = 
NULL
;

57 i‡(
	`£tjmp
(
	`≤g_jmpbuf
(
≤g_±r
))) {

58 
	`≤g_de°roy_wrôe_°ru˘
(&
≤g_±r
, &
öfo_±r
);

59 
	`f˛o£
(
Â
);

63 
Â
 = 
	`f›í
(
‚ame
, "wb");

64 i‡(
Â
 =
NULL
) {

65 
	`¥ötf
("PNG Eº‹ o≥nög %†f‹ wrôög!\n", 
‚ame
);

69 
	`≤g_öô_io
(
≤g_±r
, 
Â
);

70 
	`≤g_£t_com¥essi⁄_Àvñ
(
≤g_±r
, 0);

72 
	`≤g_£t_IHDR
(
≤g_±r
, 
öfo_±r
, 
img
->
width
, img->
height
,

73 8, 
PNG_COLOR_TYPE_RGB
, 
PNG_INTERLACE_NONE
,

74 
PNG_COMPRESSION_TYPE_DEFAULT
, 
PNG_FILTER_TYPE_DEFAULT
);

76 
	`≤g_wrôe_öfo
(
≤g_±r
, 
öfo_±r
);

78 
	`≤g_£t_bgr
(
≤g_±r
);

80 
row_poöãrs
 = (
≤g_byã
 **Ë
	`mÆloc
(
img
->
height
 * (png_byte *));

81 
k
 = 0; k < 
img
->
height
; k++)

82 
row_poöãrs
[
k
] = 
img
->
buf„r
 + img->
°ride
 * k;

84 
	`≤g_wrôe_image
(
≤g_±r
, 
row_poöãrs
);

85 
	`≤g_wrôe_íd
(
≤g_±r
, 
öfo_±r
);

86 
	`≤g_de°roy_wrôe_°ru˘
(&
≤g_±r
, &
öfo_±r
);

88 
	`‰ì
(
row_poöãrs
);

90 
	`f˛o£
(
Â
);

91 
	}
}

93 
	$öô
(
‰ame_w
, 
‰ame_h
)

95 
ass_libøry
 = 
	`ass_libøry_öô
();

96 i‡(!
ass_libøry
) {

97 
	`¥ötf
("ass_library_init failed!\n");

98 
	`exô
(1);

101 
	`ass_£t_mesßge_cb
(
ass_libøry
, 
msg_ˇŒback
, 
NULL
);

103 
ass_ªndîî
 = 
	`ass_ªndîî_öô
(
ass_libøry
);

104 i‡(!
ass_ªndîî
) {

105 
	`¥ötf
("ass_renderer_init failed!\n");

106 
	`exô
(1);

109 
	`ass_£t_‰ame_size
(
ass_ªndîî
, 
‰ame_w
, 
‰ame_h
);

110 
	`ass_£t_f⁄ts
(
ass_ªndîî
, 
NULL
, "sans-serif",

111 
ASS_FONTPROVIDER_AUTODETECT
, 
NULL
, 1);

112 
	}
}

114 
image_t
 *
	$gí_image
(
width
, 
height
)

116 
image_t
 *
img
 = 
	`mÆloc
((image_t));

117 
img
->
width
 = width;

118 
img
->
height
 = height;

119 
img
->
°ride
 = 
width
 * 3;

120 
img
->
buf„r
 = (*Ë
	`ˇŒoc
(1, 
height
 * 
width
 * 3);

121 
	`mem£t
(
img
->
buf„r
, 63, img->
°ride
 * img->
height
);

124  
img
;

125 
	}
}

127 
	#_r
(
c
Ë((c)>>24)

	)

128 
	#_g
(
c
Ë(((c)>>16)&0xFF)

	)

129 
	#_b
(
c
Ë(((c)>>8)&0xFF)

	)

130 
	#_a
(
c
Ë((c)&0xFF)

	)

132 
	$bÀnd_sögÀ
(
image_t
 * 
‰ame
, 
ASS_Image
 *
img
)

134 
x
, 
y
;

135 
›acôy
 = 255 - 
	`_a
(
img
->
cﬁ‹
);

136 
r
 = 
	`_r
(
img
->
cﬁ‹
);

137 
g
 = 
	`_g
(
img
->
cﬁ‹
);

138 
b
 = 
	`_b
(
img
->
cﬁ‹
);

140 *
§c
;

141 *
d°
;

143 
§c
 = 
img
->
bôm≠
;

144 
d°
 = 
‰ame
->
buf„r
 + 
img
->
d°_y
 * føme->
°ride
 + img->
d°_x
 * 3;

145 
y
 = 0; y < 
img
->
h
; ++y) {

146 
x
 = 0; x < 
img
->
w
; ++x) {

147 
k
 = ((Ë
§c
[
x
]Ë* 
›acôy
 / 255;

149 
d°
[
x
 * 3] = (
k
 * 
b
 + (255 - k) * dst[x * 3]) / 255;

150 
d°
[
x
 * 3 + 1] = (
k
 * 
g
 + (255 - k) * dst[x * 3 + 1]) / 255;

151 
d°
[
x
 * 3 + 2] = (
k
 * 
r
 + (255 - k) * dst[x * 3 + 2]) / 255;

153 
§c
 +
img
->
°ride
;

154 
d°
 +
‰ame
->
°ride
;

156 
	}
}

158 
	$bÀnd
(
image_t
 * 
‰ame
, 
ASS_Image
 *
img
)

160 
˙t
 = 0;

161 
img
) {

162 
	`bÀnd_sögÀ
(
‰ame
, 
img
);

163 ++
˙t
;

164 
img
 = img->
√xt
;

166 
	`¥ötf
("%d image†bÀnded\n", 
˙t
);

167 
	}
}

169 *
	gf⁄t_¥ovidî_œbñs
[] = {

170 [
ASS_FONTPROVIDER_NONE
] = "None",

171 [
ASS_FONTPROVIDER_AUTODETECT
] = "Autodetect",

172 [
ASS_FONTPROVIDER_CORETEXT
] = "CoreText",

173 [
ASS_FONTPROVIDER_FONTCONFIG
] = "Fontconfig",

174 [
ASS_FONTPROVIDER_DIRECTWRITE
]= "DirectWrite",

177 
	$¥öt_f⁄t_¥ovidîs
(
ASS_Libøry
 *
ass_libøry
)

179 
i
;

180 
ASS_DeÁu…F⁄tProvidî
 *
¥ovidîs
;

181 
size_t
 
¥ovidîs_size
 = 0;

182 
	`ass_gë_avaûabÀ_f⁄t_¥ovidîs
(
ass_libøry
, &
¥ovidîs
, &
¥ovidîs_size
);

183 
	`¥ötf
("ã°.c: AvaûabÀ f⁄à¥ovidî†(%zu): ", 
¥ovidîs_size
);

184 
i
 = 0; i < 
¥ovidîs_size
; i++) {

185 c⁄° *
£∑øt‹
 = 
i
 > 0 ? ", ": "";

186 
	`¥ötf
("%s'%s'", 
£∑øt‹
, 
f⁄t_¥ovidî_œbñs
[
¥ovidîs
[
i
]]);

188 
	`¥ötf
(".\n");

189 
	`‰ì
(
¥ovidîs
);

190 
	}
}

192 
	$maö
(
¨gc
, *
¨gv
[])

194 c⁄° 
‰ame_w
 = 1280;

195 c⁄° 
‰ame_h
 = 720;

197 i‡(
¨gc
 < 4) {

198 
	`¥ötf
("ußge: %†<imagêfûe> <subtôÀ fûe> <time>\n", 
¨gv
[0]);

199 
	`exô
(1);

201 *
imgfûe
 = 
¨gv
[1];

202 *
subfûe
 = 
¨gv
[2];

203 
tm
 = 
	`°πod
(
¨gv
[3], 0);

205 
	`¥öt_f⁄t_¥ovidîs
(
ass_libøry
);

207 
	`öô
(
‰ame_w
, 
‰ame_h
);

208 
ASS_Tøck
 *
åack
 = 
	`ass_ªad_fûe
(
ass_libøry
, 
subfûe
, 
NULL
);

209 i‡(!
åack
) {

210 
	`¥ötf
("track init failed!\n");

214 
ASS_Image
 *
img
 =

215 
	`ass_ªndî_‰ame
(
ass_ªndîî
, 
åack
, (Ë(
tm
 * 1000), 
NULL
);

216 
image_t
 *
‰ame
 = 
	`gí_image
(
‰ame_w
, 
‰ame_h
);

217 
	`bÀnd
(
‰ame
, 
img
);

219 
	`ass_‰ì_åack
(
åack
);

220 
	`ass_ªndîî_d⁄e
(
ass_ªndîî
);

221 
	`ass_libøry_d⁄e
(
ass_libøry
);

223 
	`wrôe_≤g
(
imgfûe
, 
‰ame
);

224 
	`‰ì
(
‰ame
->
buf„r
);

225 
	`‰ì
(
‰ame
);

228 
	}
}

	@/usr/include/assert.h

5 #ifde‡
__˝lu•lus


9 
	~"_™si.h
"

11 #unde‡
as£π


13 #ifde‡
NDEBUG


14 
	#as£π
(
__e
Ë(()0)

	)

16 
	#as£π
(
__e
Ë((__eË? ()0 : 
	`__as£π_func
 (
__FILE__
, 
__LINE__
, \

17 
__ASSERT_FUNC
, #__e))

	)

19 #i‚de‡
__ASSERT_FUNC


21 #i‡
deföed
 
__˝lu•lus
 && deföed 
__GNUC__


22 
	#__ASSERT_FUNC
 
__PRETTY_FUNCTION__


	)

25 #ñi‡
__STDC_VERSION__
 >= 199901L

26 
	#__ASSERT_FUNC
 
__func__


	)

29 #ñi‡
__GNUC__
 >= 2

30 
	#__ASSERT_FUNC
 
__FUNCTION__


	)

34 
	#__ASSERT_FUNC
 ((*Ë0)

	)

39 
_EXFUN
(
__as£π
, (const *, , const *)

40 
_ATTRIBUTE
 ((
__n‹ëu∫__
)));

41 
_EXFUN
(
__as£π_func
, (const *, , const *, const *)

42 
_ATTRIBUTE
 ((
__n‹ëu∫__
)));

44 #i‡
__STDC_VERSION__
 >201112L && !
deföed
 
__˝lu•lus


45 
	#°©ic_as£π
 
_Sètic_as£π


	)

48 #ifde‡
__˝lu•lus


	@/usr/include/dirent.h

1 #i‚de‡
_DIRENT_H_


2 
	#_DIRENT_H_


	)

3 #ifde‡
__˝lu•lus


6 
	~<sys/cdefs.h
>

7 
	~<sys/dúít.h
>

9 #i‡!
deföed
(
MAXNAMLEN
Ë&& 
__BSD_VISIBLE


10 
	#MAXNAMLEN
 1024

	)

13 #ifde‡
__˝lu•lus


	@/usr/include/errno.h

1 #i‚de‡
__ERRNO_H__


2 
	#__ERRNO_H__


	)

4 #i‚de‡
__îr‹_t_deföed


5 
	tîr‹_t
;

6 
	#__îr‹_t_deföed
 1

	)

9 
	~<sys/î∫o.h
>

	@/usr/include/iconv.h

21 #i‚de‡
_LIBICONV_H


22 
	#_LIBICONV_H


	)

24 
	#_LIBICONV_VERSION
 0x010E

	)

25 
	$__de˛•ec
 (
dŒimp‹t
Ë
_libic⁄v_vîsi⁄
;

45 #unde‡
ic⁄v_t


46 
	#ic⁄v_t
 
libic⁄v_t


	)

47 * 
	tic⁄v_t
;

51 
	~<°ddef.h
>

54 
	~<î∫o.h
>

58 #i‚de‡
EILSEQ


59 
	#EILSEQ


	)

63 #ifde‡
__˝lu•lus


70 #i‚de‡
LIBICONV_PLUG


71 
	#ic⁄v_›í
 
libic⁄v_›í


	)

73 
ic⁄v_t
 
	`ic⁄v_›í
 (c⁄° * 
tocode
, c⁄° * 
‰omcode
);

80 #i‚de‡
LIBICONV_PLUG


81 
	#ic⁄v
 
libic⁄v


	)

83 
size_t
 
	`ic⁄v
 (
ic⁄v_t
 
cd
, * * 
öbuf
, size_à*
öbyã¶e·
, * * 
outbuf
, size_à*
outbyã¶e·
);

86 #i‚de‡
LIBICONV_PLUG


87 
	#ic⁄v_˛o£
 
libic⁄v_˛o£


	)

89 
	`ic⁄v_˛o£
 (
ic⁄v_t
 
cd
);

92 #ifde‡
__˝lu•lus


93 
	}
}

97 #i‚de‡
LIBICONV_PLUG


107 
	~<°ddef.h
>

108 
	~<°dio.h
>

109 
	~<time.h
>

111 
	~<wch¨.h
>

114 #ifde‡
__˝lu•lus


121 * 
dummy1
[28];

123 
mb°©e_t
 
dummy2
;

125 } 
	tic⁄v_Æloˇti⁄_t
;

130 
	#ic⁄v_›í_öto
 
libic⁄v_›í_öto


	)

131 
ic⁄v_›í_öto
 (c⁄° * 
tocode
, c⁄° * 
‰omcode
,

132 
ic⁄v_Æloˇti⁄_t
* 
ªsu…p
);

135 
	#ic⁄v˘l
 
libic⁄v˘l


	)

136 
ic⁄v˘l
 (
ic⁄v_t
 
cd
, 
ªque°
, * 
¨gumít
);

139 (*
	gic⁄v_unicode_ch¨_hook
Ë(
	tuc
, * 
	td©a
);

141 (*
	gic⁄v_wide_ch¨_hook
Ë(
	twch¨_t
 
	twc
, * 
	td©a
);

143 
	sic⁄v_hooks
 {

144 
ic⁄v_unicode_ch¨_hook
 
	guc_hook
;

145 
ic⁄v_wide_ch¨_hook
 
	gwc_hook
;

146 * 
	gd©a
;

153 (*
	gic⁄v_unicode_mb_to_uc_ÁŒback
)

154 (c⁄° * 
	töbuf
, 
	tsize_t
 
	töbufsize
,

155 (*
	twrôe_ª∂a˚mít
Ë(c⁄° *
	tbuf
, 
	tsize_t
 
	tbuÊí
,

156 * 
	tˇŒback_¨g
),

157 * 
	tˇŒback_¨g
,

158 * 
	td©a
);

163 (*
	gic⁄v_unicode_uc_to_mb_ÁŒback
)

164 (
	tcode
,

165 (*
	twrôe_ª∂a˚mít
Ë(c⁄° *
	tbuf
, 
	tsize_t
 
	tbuÊí
,

166 * 
	tˇŒback_¨g
),

167 * 
	tˇŒback_¨g
,

168 * 
	td©a
);

174 (*
	gic⁄v_wch¨_mb_to_wc_ÁŒback
)

175 (c⁄° * 
	töbuf
, 
	tsize_t
 
	töbufsize
,

176 (*
	twrôe_ª∂a˚mít
Ë(c⁄° 
	twch¨_t
 *
	tbuf
, 
	tsize_t
 
	tbuÊí
,

177 * 
	tˇŒback_¨g
),

178 * 
	tˇŒback_¨g
,

179 * 
	td©a
);

184 (*
	gic⁄v_wch¨_wc_to_mb_ÁŒback
)

185 (
	twch¨_t
 
	tcode
,

186 (*
	twrôe_ª∂a˚mít
Ë(c⁄° *
	tbuf
, 
	tsize_t
 
	tbuÊí
,

187 * 
	tˇŒback_¨g
),

188 * 
	tˇŒback_¨g
,

189 * 
	td©a
);

193 (*
	gic⁄v_wch¨_mb_to_wc_ÁŒback
) ();

194 (*
	gic⁄v_wch¨_wc_to_mb_ÁŒback
) ();

197 
	sic⁄v_ÁŒbacks
 {

198 
ic⁄v_unicode_mb_to_uc_ÁŒback
 
	gmb_to_uc_ÁŒback
;

199 
ic⁄v_unicode_uc_to_mb_ÁŒback
 
	guc_to_mb_ÁŒback
;

200 
ic⁄v_wch¨_mb_to_wc_ÁŒback
 
	gmb_to_wc_ÁŒback
;

201 
ic⁄v_wch¨_wc_to_mb_ÁŒback
 
	gwc_to_mb_ÁŒback
;

202 * 
	gd©a
;

206 
	#ICONV_TRIVIALP
 0

	)

207 
	#ICONV_GET_TRANSLITERATE
 1

	)

208 
	#ICONV_SET_TRANSLITERATE
 2

	)

209 
	#ICONV_GET_DISCARD_ILSEQ
 3

	)

210 
	#ICONV_SET_DISCARD_ILSEQ
 4

	)

211 
	#ICONV_SET_HOOKS
 5

	)

212 
	#ICONV_SET_FALLBACKS
 6

	)

215 
	#ic⁄vli°
 
libic⁄vli°


	)

216 
ic⁄vli°
 ((*
do_⁄e
Ë(
«mescou¡
,

217 c⁄° * c⁄° * 
«mes
,

218 * 
d©a
),

219 * 
d©a
);

223 c⁄° * 
ic⁄v_ˇn⁄iˇlize
 (c⁄° * 
«me
);

232 
libic⁄v_£t_ªloˇti⁄_¥efix
 (c⁄° *
‹ig_¥efix
,

233 c⁄° *
cuº_¥efix
);

235 #ifde‡
__˝lu•lus


	@/usr/include/inttypes.h

13 #i‚de‡
_INTTYPES_H


14 
	#_INTTYPES_H


	)

16 
	~<√wlib.h
>

17 
	~<sys/c⁄fig.h
>

18 
	~<sys/_ötsup.h
>

19 
	~"_™si.h
"

20 
	~<°döt.h
>

21 
	#__√ed_wch¨_t


	)

22 
	~<°ddef.h
>

24 #i‡
__BSD_VISIBLE


25 
	~<xloˇÀ.h
>

28 
	#__STRINGIFY
(
a
Ë#a

	)

31 
	#__PRI8
(
x
Ë
__INT8
 
	`__STRINGIFY
(x)

	)

32 
	#__PRI8LEAST
(
x
Ë
__LEAST8
 
	`__STRINGIFY
(x)

	)

33 
	#__PRI8FAST
(
x
Ë
__FAST8
 
	`__STRINGIFY
(x)

	)

45 #i‡
deföed
(
_WANT_IO_C99_FORMATS
)

46 
	#__SCN8
(
x
Ë
__INT8
 
	`__STRINGIFY
(x)

	)

47 
	#__SCN8LEAST
(
x
Ë
__LEAST8
 
	`__STRINGIFY
(x)

	)

48 
	#__SCN8FAST
(
x
Ë
__FAST8
 
	`__STRINGIFY
(x)

	)

52 
	#PRId8
 
	`__PRI8
(
d
)

	)

53 
	#PRIi8
 
	`__PRI8
(
i
)

	)

54 
	#PRIo8
 
	`__PRI8
(
o
)

	)

55 
	#PRIu8
 
	`__PRI8
(
u
)

	)

56 
	#PRIx8
 
	`__PRI8
(
x
)

	)

57 
	#PRIX8
 
	`__PRI8
(
X
)

	)

60 #i‡
deföed
(
_WANT_IO_C99_FORMATS
)

62 
	#SCNd8
 
	`__SCN8
(
d
)

	)

63 
	#SCNi8
 
	`__SCN8
(
i
)

	)

64 
	#SCNo8
 
	`__SCN8
(
o
)

	)

65 
	#SCNu8
 
	`__SCN8
(
u
)

	)

66 
	#SCNx8
 
	`__SCN8
(
x
)

	)

71 
	#PRIdLEAST8
 
	`__PRI8LEAST
(
d
)

	)

72 
	#PRIiLEAST8
 
	`__PRI8LEAST
(
i
)

	)

73 
	#PRIoLEAST8
 
	`__PRI8LEAST
(
o
)

	)

74 
	#PRIuLEAST8
 
	`__PRI8LEAST
(
u
)

	)

75 
	#PRIxLEAST8
 
	`__PRI8LEAST
(
x
)

	)

76 
	#PRIXLEAST8
 
	`__PRI8LEAST
(
X
)

	)

79 #i‡
deföed
(
_WANT_IO_C99_FORMATS
)

81 
	#SCNdLEAST8
 
	`__SCN8LEAST
(
d
)

	)

82 
	#SCNiLEAST8
 
	`__SCN8LEAST
(
i
)

	)

83 
	#SCNoLEAST8
 
	`__SCN8LEAST
(
o
)

	)

84 
	#SCNuLEAST8
 
	`__SCN8LEAST
(
u
)

	)

85 
	#SCNxLEAST8
 
	`__SCN8LEAST
(
x
)

	)

89 
	#PRIdFAST8
 
	`__PRI8FAST
(
d
)

	)

90 
	#PRIiFAST8
 
	`__PRI8FAST
(
i
)

	)

91 
	#PRIoFAST8
 
	`__PRI8FAST
(
o
)

	)

92 
	#PRIuFAST8
 
	`__PRI8FAST
(
u
)

	)

93 
	#PRIxFAST8
 
	`__PRI8FAST
(
x
)

	)

94 
	#PRIXFAST8
 
	`__PRI8FAST
(
X
)

	)

97 #i‡
deföed
(
_WANT_IO_C99_FORMATS
)

99 
	#SCNdFAST8
 
	`__SCN8FAST
(
d
)

	)

100 
	#SCNiFAST8
 
	`__SCN8FAST
(
i
)

	)

101 
	#SCNoFAST8
 
	`__SCN8FAST
(
o
)

	)

102 
	#SCNuFAST8
 
	`__SCN8FAST
(
u
)

	)

103 
	#SCNxFAST8
 
	`__SCN8FAST
(
x
)

	)

108 
	#__PRI16
(
x
Ë
__INT16
 
	`__STRINGIFY
(x)

	)

109 
	#__PRI16LEAST
(
x
Ë
__LEAST16
 
	`__STRINGIFY
(x)

	)

110 
	#__PRI16FAST
(
x
Ë
__FAST16
 
	`__STRINGIFY
(x)

	)

111 
	#__SCN16
(
x
Ë
__INT16
 
	`__STRINGIFY
(x)

	)

112 
	#__SCN16LEAST
(
x
Ë
__LEAST16
 
	`__STRINGIFY
(x)

	)

113 
	#__SCN16FAST
(
x
Ë
__FAST16
 
	`__STRINGIFY
(x)

	)

116 
	#PRId16
 
	`__PRI16
(
d
)

	)

117 
	#PRIi16
 
	`__PRI16
(
i
)

	)

118 
	#PRIo16
 
	`__PRI16
(
o
)

	)

119 
	#PRIu16
 
	`__PRI16
(
u
)

	)

120 
	#PRIx16
 
	`__PRI16
(
x
)

	)

121 
	#PRIX16
 
	`__PRI16
(
X
)

	)

123 
	#SCNd16
 
	`__SCN16
(
d
)

	)

124 
	#SCNi16
 
	`__SCN16
(
i
)

	)

125 
	#SCNo16
 
	`__SCN16
(
o
)

	)

126 
	#SCNu16
 
	`__SCN16
(
u
)

	)

127 
	#SCNx16
 
	`__SCN16
(
x
)

	)

130 
	#PRIdLEAST16
 
	`__PRI16LEAST
(
d
)

	)

131 
	#PRIiLEAST16
 
	`__PRI16LEAST
(
i
)

	)

132 
	#PRIoLEAST16
 
	`__PRI16LEAST
(
o
)

	)

133 
	#PRIuLEAST16
 
	`__PRI16LEAST
(
u
)

	)

134 
	#PRIxLEAST16
 
	`__PRI16LEAST
(
x
)

	)

135 
	#PRIXLEAST16
 
	`__PRI16LEAST
(
X
)

	)

137 
	#SCNdLEAST16
 
	`__SCN16LEAST
(
d
)

	)

138 
	#SCNiLEAST16
 
	`__SCN16LEAST
(
i
)

	)

139 
	#SCNoLEAST16
 
	`__SCN16LEAST
(
o
)

	)

140 
	#SCNuLEAST16
 
	`__SCN16LEAST
(
u
)

	)

141 
	#SCNxLEAST16
 
	`__SCN16LEAST
(
x
)

	)

144 
	#PRIdFAST16
 
	`__PRI16FAST
(
d
)

	)

145 
	#PRIiFAST16
 
	`__PRI16FAST
(
i
)

	)

146 
	#PRIoFAST16
 
	`__PRI16FAST
(
o
)

	)

147 
	#PRIuFAST16
 
	`__PRI16FAST
(
u
)

	)

148 
	#PRIxFAST16
 
	`__PRI16FAST
(
x
)

	)

149 
	#PRIXFAST16
 
	`__PRI16FAST
(
X
)

	)

151 
	#SCNdFAST16
 
	`__SCN16FAST
(
d
)

	)

152 
	#SCNiFAST16
 
	`__SCN16FAST
(
i
)

	)

153 
	#SCNoFAST16
 
	`__SCN16FAST
(
o
)

	)

154 
	#SCNuFAST16
 
	`__SCN16FAST
(
u
)

	)

155 
	#SCNxFAST16
 
	`__SCN16FAST
(
x
)

	)

158 
	#__PRI32
(
x
Ë
__INT32
 
	`__STRINGIFY
(x)

	)

159 
	#__SCN32
(
x
Ë
__INT32
 
	`__STRINGIFY
(x)

	)

160 
	#__PRI32LEAST
(
x
Ë
__LEAST32
 
	`__STRINGIFY
(x)

	)

161 
	#__SCN32LEAST
(
x
Ë
__LEAST32
 
	`__STRINGIFY
(x)

	)

162 
	#__PRI32FAST
(
x
Ë
__FAST32
 
	`__STRINGIFY
(x)

	)

163 
	#__SCN32FAST
(
x
Ë
__FAST32
 
	`__STRINGIFY
(x)

	)

165 
	#PRId32
 
	`__PRI32
(
d
)

	)

166 
	#PRIi32
 
	`__PRI32
(
i
)

	)

167 
	#PRIo32
 
	`__PRI32
(
o
)

	)

168 
	#PRIu32
 
	`__PRI32
(
u
)

	)

169 
	#PRIx32
 
	`__PRI32
(
x
)

	)

170 
	#PRIX32
 
	`__PRI32
(
X
)

	)

172 
	#SCNd32
 
	`__SCN32
(
d
)

	)

173 
	#SCNi32
 
	`__SCN32
(
i
)

	)

174 
	#SCNo32
 
	`__SCN32
(
o
)

	)

175 
	#SCNu32
 
	`__SCN32
(
u
)

	)

176 
	#SCNx32
 
	`__SCN32
(
x
)

	)

179 
	#PRIdLEAST32
 
	`__PRI32LEAST
(
d
)

	)

180 
	#PRIiLEAST32
 
	`__PRI32LEAST
(
i
)

	)

181 
	#PRIoLEAST32
 
	`__PRI32LEAST
(
o
)

	)

182 
	#PRIuLEAST32
 
	`__PRI32LEAST
(
u
)

	)

183 
	#PRIxLEAST32
 
	`__PRI32LEAST
(
x
)

	)

184 
	#PRIXLEAST32
 
	`__PRI32LEAST
(
X
)

	)

186 
	#SCNdLEAST32
 
	`__SCN32LEAST
(
d
)

	)

187 
	#SCNiLEAST32
 
	`__SCN32LEAST
(
i
)

	)

188 
	#SCNoLEAST32
 
	`__SCN32LEAST
(
o
)

	)

189 
	#SCNuLEAST32
 
	`__SCN32LEAST
(
u
)

	)

190 
	#SCNxLEAST32
 
	`__SCN32LEAST
(
x
)

	)

193 
	#PRIdFAST32
 
	`__PRI32FAST
(
d
)

	)

194 
	#PRIiFAST32
 
	`__PRI32FAST
(
i
)

	)

195 
	#PRIoFAST32
 
	`__PRI32FAST
(
o
)

	)

196 
	#PRIuFAST32
 
	`__PRI32FAST
(
u
)

	)

197 
	#PRIxFAST32
 
	`__PRI32FAST
(
x
)

	)

198 
	#PRIXFAST32
 
	`__PRI32FAST
(
X
)

	)

200 
	#SCNdFAST32
 
	`__SCN32FAST
(
d
)

	)

201 
	#SCNiFAST32
 
	`__SCN32FAST
(
i
)

	)

202 
	#SCNoFAST32
 
	`__SCN32FAST
(
o
)

	)

203 
	#SCNuFAST32
 
	`__SCN32FAST
(
u
)

	)

204 
	#SCNxFAST32
 
	`__SCN32FAST
(
x
)

	)

208 
	#__PRI64
(
x
Ë
__INT64
 
	`__STRINGIFY
(x)

	)

209 
	#__SCN64
(
x
Ë
__INT64
 
	`__STRINGIFY
(x)

	)

211 
	#__PRI64LEAST
(
x
Ë
__LEAST64
 
	`__STRINGIFY
(x)

	)

212 
	#__SCN64LEAST
(
x
Ë
__LEAST64
 
	`__STRINGIFY
(x)

	)

213 
	#__PRI64FAST
(
x
Ë
__FAST64
 
	`__STRINGIFY
(x)

	)

214 
	#__SCN64FAST
(
x
Ë
__FAST64
 
	`__STRINGIFY
(x)

	)

216 #i‡
__öt64_t_deföed


217 
	#PRId64
 
	`__PRI64
(
d
)

	)

218 
	#PRIi64
 
	`__PRI64
(
i
)

	)

219 
	#PRIo64
 
	`__PRI64
(
o
)

	)

220 
	#PRIu64
 
	`__PRI64
(
u
)

	)

221 
	#PRIx64
 
	`__PRI64
(
x
)

	)

222 
	#PRIX64
 
	`__PRI64
(
X
)

	)

224 
	#SCNd64
 
	`__SCN64
(
d
)

	)

225 
	#SCNi64
 
	`__SCN64
(
i
)

	)

226 
	#SCNo64
 
	`__SCN64
(
o
)

	)

227 
	#SCNu64
 
	`__SCN64
(
u
)

	)

228 
	#SCNx64
 
	`__SCN64
(
x
)

	)

231 #i‡
__öt_Àa°64_t_deföed


232 
	#PRIdLEAST64
 
	`__PRI64LEAST
(
d
)

	)

233 
	#PRIiLEAST64
 
	`__PRI64LEAST
(
i
)

	)

234 
	#PRIoLEAST64
 
	`__PRI64LEAST
(
o
)

	)

235 
	#PRIuLEAST64
 
	`__PRI64LEAST
(
u
)

	)

236 
	#PRIxLEAST64
 
	`__PRI64LEAST
(
x
)

	)

237 
	#PRIXLEAST64
 
	`__PRI64LEAST
(
X
)

	)

239 
	#SCNdLEAST64
 
	`__SCN64LEAST
(
d
)

	)

240 
	#SCNiLEAST64
 
	`__SCN64LEAST
(
i
)

	)

241 
	#SCNoLEAST64
 
	`__SCN64LEAST
(
o
)

	)

242 
	#SCNuLEAST64
 
	`__SCN64LEAST
(
u
)

	)

243 
	#SCNxLEAST64
 
	`__SCN64LEAST
(
x
)

	)

246 #i‡
__öt_Á°64_t_deföed


247 
	#PRIdFAST64
 
	`__PRI64FAST
(
d
)

	)

248 
	#PRIiFAST64
 
	`__PRI64FAST
(
i
)

	)

249 
	#PRIoFAST64
 
	`__PRI64FAST
(
o
)

	)

250 
	#PRIuFAST64
 
	`__PRI64FAST
(
u
)

	)

251 
	#PRIxFAST64
 
	`__PRI64FAST
(
x
)

	)

252 
	#PRIXFAST64
 
	`__PRI64FAST
(
X
)

	)

254 
	#SCNdFAST64
 
	`__SCN64FAST
(
d
)

	)

255 
	#SCNiFAST64
 
	`__SCN64FAST
(
i
)

	)

256 
	#SCNoFAST64
 
	`__SCN64FAST
(
o
)

	)

257 
	#SCNuFAST64
 
	`__SCN64FAST
(
u
)

	)

258 
	#SCNxFAST64
 
	`__SCN64FAST
(
x
)

	)

262 #i‡
__have_l⁄g64


263 
	#__PRIMAX
(
x
Ë
	`__STRINGIFY
(
l
##x)

	)

264 
	#__SCNMAX
(
x
Ë
	`__STRINGIFY
(
l
##x)

	)

265 #ñi‡
__have_l⁄gl⁄g64


266 
	#__PRIMAX
(
x
Ë
	`__STRINGIFY
(
Œ
##x)

	)

267 
	#__SCNMAX
(
x
Ë
	`__STRINGIFY
(
Œ
##x)

	)

269 
	#__PRIMAX
(
x
Ë
	`__STRINGIFY
(x)

	)

270 
	#__SCNMAX
(
x
Ë
	`__STRINGIFY
(x)

	)

273 
	#PRIdMAX
 
	`__PRIMAX
(
d
)

	)

274 
	#PRIiMAX
 
	`__PRIMAX
(
i
)

	)

275 
	#PRIoMAX
 
	`__PRIMAX
(
o
)

	)

276 
	#PRIuMAX
 
	`__PRIMAX
(
u
)

	)

277 
	#PRIxMAX
 
	`__PRIMAX
(
x
)

	)

278 
	#PRIXMAX
 
	`__PRIMAX
(
X
)

	)

280 
	#SCNdMAX
 
	`__SCNMAX
(
d
)

	)

281 
	#SCNiMAX
 
	`__SCNMAX
(
i
)

	)

282 
	#SCNoMAX
 
	`__SCNMAX
(
o
)

	)

283 
	#SCNuMAX
 
	`__SCNMAX
(
u
)

	)

284 
	#SCNxMAX
 
	`__SCNMAX
(
x
)

	)

287 #i‡
deföed
 (
_INTPTR_EQ_LONGLONG
)

288 
	#__PRIPTR
(
x
Ë
	`__STRINGIFY
(
Œ
##x)

	)

289 
	#__SCNPTR
(
x
Ë
	`__STRINGIFY
(
Œ
##x)

	)

290 #ñi‡
deföed
 (
_INTPTR_EQ_LONG
)

291 
	#__PRIPTR
(
x
Ë
	`__STRINGIFY
(
l
##x)

	)

292 
	#__SCNPTR
(
x
Ë
	`__STRINGIFY
(
l
##x)

	)

294 
	#__PRIPTR
(
x
Ë
	`__STRINGIFY
(x)

	)

295 
	#__SCNPTR
(
x
Ë
	`__STRINGIFY
(x)

	)

298 
	#PRIdPTR
 
	`__PRIPTR
(
d
)

	)

299 
	#PRIiPTR
 
	`__PRIPTR
(
i
)

	)

300 
	#PRIoPTR
 
	`__PRIPTR
(
o
)

	)

301 
	#PRIuPTR
 
	`__PRIPTR
(
u
)

	)

302 
	#PRIxPTR
 
	`__PRIPTR
(
x
)

	)

303 
	#PRIXPTR
 
	`__PRIPTR
(
X
)

	)

305 
	#SCNdPTR
 
	`__SCNPTR
(
d
)

	)

306 
	#SCNiPTR
 
	`__SCNPTR
(
i
)

	)

307 
	#SCNoPTR
 
	`__SCNPTR
(
o
)

	)

308 
	#SCNuPTR
 
	`__SCNPTR
(
u
)

	)

309 
	#SCNxPTR
 
	`__SCNPTR
(
x
)

	)

313 
ötmax_t
 
	mquŸ
;

314 
ötmax_t
 
	mªm
;

315 } 
	timaxdiv_t
;

317 
	g_ªít
;

319 #ifde‡
__˝lu•lus


323 
ötmax_t
 
imaxabs
(ötmax_à
j
);

324 
imaxdiv_t
 
imaxdiv
(
ötmax_t
 
numî
, i¡max_à
díomî
);

325 
ötmax_t
 
°πoimax
(c⁄° *
__ª°ri˘
, **__restrict, );

326 
ötmax_t
 
_°πoimax_r
(
_ªít
 *, c⁄° *
__ª°ri˘
, **__restrict, );

327 
uötmax_t
 
°πoumax
(c⁄° *
__ª°ri˘
, **__restrict, );

328 
uötmax_t
 
_°πoumax_r
(
_ªít
 *, c⁄° *
__ª°ri˘
, **__restrict, );

329 
ötmax_t
 
wc°oimax
(c⁄° 
wch¨_t
 *
__ª°ri˘
, wchar_t **__restrict, );

330 
ötmax_t
 
_wc°oimax_r
(
_ªít
 *, c⁄° 
wch¨_t
 *
__ª°ri˘
, wchar_t **__restrict, );

331 
uötmax_t
 
wc°oumax
(c⁄° 
wch¨_t
 *
__ª°ri˘
, wchar_t **__restrict, );

332 
uötmax_t
 
_wc°oumax_r
(
_ªít
 *, c⁄° 
wch¨_t
 *
__ª°ri˘
, wchar_t **__restrict, );

334 #i‡
__BSD_VISIBLE


335 
ötmax_t
 
°πoimax_l
(c⁄° *
__ª°ri˘
, **
_ª°ri˘
, , 
loˇÀ_t
);

336 
uötmax_t
 
°πoumax_l
(c⁄° *
__ª°ri˘
, **
_ª°ri˘
, , 
loˇÀ_t
);

337 
ötmax_t
 
wc°oimax_l
(c⁄° 
wch¨_t
 *
__ª°ri˘
, wch¨_à**
_ª°ri˘
, , 
loˇÀ_t
);

338 
uötmax_t
 
wc°oumax_l
(c⁄° 
wch¨_t
 *
__ª°ri˘
, wch¨_à**
_ª°ri˘
, , 
loˇÀ_t
);

341 #ifde‡
__˝lu•lus


	@/usr/include/limits.h

9 #i‚de‡
_LIMITS_H___


11 
	~<„©uªs.h
>

12 
	~<bôs/w‹dsize.h
>

14 #i‚de‡
_MACH_MACHLIMITS_H_


17 
	#_LIMITS_H___


	)

18 
	#_MACH_MACHLIMITS_H_


	)

24 #unde‡
CHAR_BIT


25 
	#CHAR_BIT
 
__CHAR_BIT__


	)

28 #unde‡
LONG_BIT


29 
	#LONG_BIT
 (
__SIZEOF_LONG__
 * 
__CHAR_BIT__
)

	)

32 #unde‡
WORD_BIT


33 
	#WORD_BIT
 (
__SIZEOF_INT__
 * 
__CHAR_BIT__
)

	)

36 #i‚de‡
MB_LEN_MAX


38 
	#MB_LEN_MAX
 8

	)

42 #unde‡
SCHAR_MIN


43 
	#SCHAR_MIN
 (-128)

	)

44 #unde‡
SCHAR_MAX


45 
	#SCHAR_MAX
 127

	)

48 #unde‡
UCHAR_MAX


49 
	#UCHAR_MAX
 255

	)

52 #ifde‡
__CHAR_UNSIGNED__


53 #unde‡
CHAR_MIN


54 
	#CHAR_MIN
 0

	)

55 #unde‡
CHAR_MAX


56 
	#CHAR_MAX
 255

	)

58 #unde‡
CHAR_MIN


59 
	#CHAR_MIN
 (-128)

	)

60 #unde‡
CHAR_MAX


61 
	#CHAR_MAX
 127

	)

65 #unde‡
SHRT_MIN


66 
	#SHRT_MIN
 (-32768)

	)

67 #unde‡
SHRT_MAX


68 
	#SHRT_MAX
 32767

	)

71 #unde‡
USHRT_MAX


72 
	#USHRT_MAX
 65535

	)

75 #i‚de‡
__INT_MAX__


76 
	#__INT_MAX__
 2147483647

	)

78 #unde‡
INT_MIN


79 
	#INT_MIN
 (-
INT_MAX
-1)

	)

80 #unde‡
INT_MAX


81 
	#INT_MAX
 
__INT_MAX__


	)

84 #unde‡
UINT_MAX


85 
	#UINT_MAX
 (
INT_MAX
 * 2U + 1)

	)

89 #i‚de‡
__LONG_MAX__


90 #i‡
__WORDSIZE
 == 64

91 
	#__LONG_MAX__
 9223372036854775807L

	)

93 
	#__LONG_MAX__
 2147483647L

	)

96 #unde‡
LONG_MIN


97 
	#LONG_MIN
 (-
LONG_MAX
-1L)

	)

98 #unde‡
LONG_MAX


99 
	#LONG_MAX
 
__LONG_MAX__


	)

102 #unde‡
ULONG_MAX


103 
	#ULONG_MAX
 (
LONG_MAX
 * 2UL + 1)

	)

106 #i‚de‡
__LONG_LONG_MAX__


107 
	#__LONG_LONG_MAX__
 9223372036854775807LL

	)

110 #i‡
__GNU_VISIBLE


111 #unde‡
LONG_LONG_MIN


112 
	#LONG_LONG_MIN
 (-
LONG_LONG_MAX
-1)

	)

113 #unde‡
LONG_LONG_MAX


114 
	#LONG_LONG_MAX
 
__LONG_LONG_MAX__


	)

117 #unde‡
ULONG_LONG_MAX


118 
	#ULONG_LONG_MAX
 (
LONG_LONG_MAX
 * 2ULL + 1)

	)

122 #unde‡
LLONG_MIN


123 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

124 #unde‡
LLONG_MAX


125 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

128 #unde‡
ULLONG_MAX


129 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

136 #unde‡
SSIZE_MAX


137 #i‡
__WORDSIZE
 == 64

138 
	#SSIZE_MAX
 (
__LONG_MAX__
)

	)

140 
	#SSIZE_MAX
 (
__INT_MAX__
)

	)

155 #unde‡
AIO_LISTIO_MAX


160 #unde‡
AIO_MAX


165 #unde‡
AIO_PRIO_DELTA_MAX


171 #unde‡
ARG_MAX


172 
	#ARG_MAX
 32000

	)

175 #unde‡
ATEXIT_MAX


176 
	#ATEXIT_MAX
 32

	)

179 #unde‡
CHILD_MAX


180 
	#CHILD_MAX
 256

	)

183 #unde‡
DELAYTIMER_MAX


187 #unde‡
HOST_NAME_MAX


188 
	#HOST_NAME_MAX
 255

	)

191 #unde‡
IOV_MAX


192 
	#IOV_MAX
 1024

	)

195 #unde‡
LOGIN_NAME_MAX


196 
	#LOGIN_NAME_MAX
 256

	)

199 #unde‡
MQ_OPEN_MAX


200 
	#MQ_OPEN_MAX
 
OPEN_MAX


	)

203 #unde‡
MQ_PRIO_MAX


204 
	#MQ_PRIO_MAX
 
INT_MAX


	)

210 #unde‡
OPEN_MAX


211 
	#OPEN_MAX
 256

	)

214 #unde‡
PAGESIZE


215 #unde‡
PAGE_SIZE


216 
	#PAGESIZE
 65536

	)

217 
	#PAGE_SIZE
 
PAGESIZE


	)

226 #unde‡
PTHREAD_DESTRUCTOR_ITERATIONS


227 
	#PTHREAD_DESTRUCTOR_ITERATIONS
 1

	)

231 #unde‡
PTHREAD_KEYS_MAX


232 
	#PTHREAD_KEYS_MAX
 1024

	)

242 #unde‡
PTHREAD_STACK_MIN


243 
	#PTHREAD_STACK_MIN
 65536

	)

247 #unde‡
PTHREAD_THREADS_MAX


253 #unde‡
RTSIG_MAX


254 #i‡
__WORDSIZE
 == 64

255 
	#RTSIG_MAX
 33

	)

257 
	#RTSIG_MAX
 1

	)

262 #unde‡
SEM_NSEMS_MAX


266 #unde‡
SEM_VALUE_MAX


267 
	#SEM_VALUE_MAX
 1147483648

	)

271 #unde‡
SIGQUEUE_MAX


272 
	#SIGQUEUE_MAX
 32

	)

276 #unde‡
SS_REPL_MAX


280 #unde‡
STREAM_MAX


281 
	#STREAM_MAX
 20

	)

284 #unde‡
SYMLOOP_MAX


285 
	#SYMLOOP_MAX
 10

	)

288 #unde‡
TIMER_MAX


289 
	#TIMER_MAX
 32

	)

292 #unde‡
TRACE_EVENT_NAME_MAX


297 #unde‡
TRACE_NAME_MAX


302 #unde‡
TRACE_SYS_MAX


308 #unde‡
TRACE_USER_EVENT_MAX


312 #unde‡
TTY_NAME_MAX


313 
	#TTY_NAME_MAX
 32

	)

316 #unde‡
TZNAME_MAX


323 #unde‡
FILESIZEBITS


324 
	#FILESIZEBITS
 64

	)

327 #unde‡
LINK_MAX


328 
	#LINK_MAX
 1024

	)

331 #unde‡
MAX_CANON


332 
	#MAX_CANON
 255

	)

335 #unde‡
MAX_INPUT


336 
	#MAX_INPUT
 255

	)

339 #unde‡
NAME_MAX


340 
	#NAME_MAX
 255

	)

346 #unde‡
PATH_MAX


347 
	#PATH_MAX
 4096

	)

351 #unde‡
PIPE_BUF


352 
	#PIPE_BUF
 4096

	)

356 #unde‡
POSIX_ALLOC_SIZE_MIN


362 #unde‡
POSIX_REC_INCR_XFER_SIZE


366 #unde‡
POSIX_REC_MAX_XFER_SIZE


370 #unde‡
POSIX_REC_MIN_XFER_SIZE


374 #unde‡
POSIX_REC_XFER_ALIGN


378 #unde‡
SYMLINK_MAX


379 
	#SYMLINK_MAX
 (
PATH_MAX
 - 1)

	)

385 #unde‡
BC_BASE_MAX


386 
	#BC_BASE_MAX
 99

	)

389 #unde‡
BC_DIM_MAX


390 
	#BC_DIM_MAX
 2048

	)

393 #unde‡
BC_SCALE_MAX


394 
	#BC_SCALE_MAX
 99

	)

397 #unde‡
BC_STRING_MAX


398 
	#BC_STRING_MAX
 1000

	)

401 #unde‡
CHARCLASS_NAME_MAX


410 #unde‡
COLL_WEIGHTS_MAX


415 #unde‡
EXPR_NEST_MAX


416 
	#EXPR_NEST_MAX
 32

	)

419 #unde‡
LINE_MAX


420 
	#LINE_MAX
 2048

	)

424 #unde‡
NGROUPS_MAX


425 
	#NGROUPS_MAX
 1024

	)

429 #unde‡
RE_DUP_MAX


430 
	#RE_DUP_MAX
 255

	)

440 
	#_POSIX_CLOCKRES_MIN
 20000000

	)

444 
	#_POSIX_AIO_LISTIO_MAX
 2

	)

445 
	#_POSIX_AIO_MAX
 1

	)

446 
	#_POSIX_ARG_MAX
 4096

	)

447 
	#_POSIX_CHILD_MAX
 25

	)

448 
	#_POSIX_DELAYTIMER_MAX
 32

	)

449 
	#_POSIX_HOST_NAME_MAX
 255

	)

450 
	#_POSIX_LINK_MAX
 8

	)

451 
	#_POSIX_LOGIN_NAME_MAX
 9

	)

452 
	#_POSIX_MAX_CANON
 255

	)

453 
	#_POSIX_MAX_INPUT
 255

	)

454 
	#_POSIX_MQ_OPEN_MAX
 8

	)

455 
	#_POSIX_MQ_PRIO_MAX
 32

	)

456 
	#_POSIX_NAME_MAX
 14

	)

457 
	#_POSIX_NGROUPS_MAX
 8

	)

458 
	#_POSIX_OPEN_MAX
 20

	)

459 
	#_POSIX_PATH_MAX
 256

	)

460 
	#_POSIX_PIPE_BUF
 512

	)

461 
	#_POSIX_RE_DUP_MAX
 255

	)

462 
	#_POSIX_RTSIG_MAX
 8

	)

463 
	#_POSIX_SEM_NSEMS_MAX
 256

	)

464 
	#_POSIX_SEM_VALUE_MAX
 32767

	)

465 
	#_POSIX_SIGQUEUE_MAX
 32

	)

466 
	#_POSIX_SSIZE_MAX
 32767

	)

467 
	#_POSIX_STREAM_MAX
 8

	)

468 
	#_POSIX_SS_REPL_MAX
 4

	)

469 
	#_POSIX_SYMLINK_MAX
 255

	)

470 
	#_POSIX_SYMLOOP_MAX
 8

	)

471 
	#_POSIX_THREAD_DESTRUCTOR_ITERATIONS
 4

	)

472 
	#_POSIX_THREAD_KEYS_MAX
 128

	)

473 
	#_POSIX_THREAD_THREADS_MAX
 64

	)

474 
	#_POSIX_TIMER_MAX
 32

	)

475 
	#_POSIX_TRACE_EVENT_NAME_MAX
 30

	)

476 
	#_POSIX_TRACE_NAME_MAX
 8

	)

477 
	#_POSIX_TRACE_SYS_MAX
 8

	)

478 
	#_POSIX_TRACE_USER_EVENT_MAX
 32

	)

479 
	#_POSIX_TTY_NAME_MAX
 9

	)

480 
	#_POSIX_TZNAME_MAX
 6

	)

482 
	#_POSIX2_BC_BASE_MAX
 99

	)

483 
	#_POSIX2_BC_DIM_MAX
 2048

	)

484 
	#_POSIX2_BC_SCALE_MAX
 99

	)

485 
	#_POSIX2_BC_STRING_MAX
 1000

	)

486 
	#_POSIX2_COLL_WEIGHTS_MAX
 2

	)

487 
	#_POSIX2_EXPR_NEST_MAX
 32

	)

488 
	#_POSIX2_LINE_MAX
 2048

	)

489 
	#_POSIX2_RE_DUP_MAX
 255

	)

491 
	#_XOPEN_IOV_MAX
 16

	)

492 
	#_XOPEN_NAME_MAX
 255

	)

493 
	#_XOPEN_PATH_MAX
 1024

	)

497 
	#NL_ARGMAX
 9

	)

498 
	#NL_LANGMAX
 14

	)

499 
	#NL_MSGMAX
 32767

	)

500 
	#NL_NMAX
 
INT_MAX


	)

501 
	#NL_SETMAX
 255

	)

502 
	#NL_TEXTMAX
 
_POSIX2_LINE_MAX


	)

505 #unde‡
NZERO


506 
	#NZERO
 20

	)

	@/usr/include/math.h

1 #i‚de‡ 
_MATH_H_


3 
	#_MATH_H_


	)

5 
	~<sys/ªít.h
>

6 
	~<sys/cdefs.h
>

7 
	~<machöe/õìÂ.h
>

8 
	~"_™si.h
"

10 
	g_BEGIN_STD_C


13 
	#_M_LN2
 0.693147180559945309417

	)

15 #i‡
__GNUC_PREREQ
 (3, 3)

18 #i‚de‡
HUGE_VAL


19 
	#HUGE_VAL
 (
	`__buûtö_huge_vÆ
())

	)

22 #i‚de‡
HUGE_VALF


23 
	#HUGE_VALF
 (
	`__buûtö_huge_vÆf
())

	)

26 #i‚de‡
HUGE_VALL


27 
	#HUGE_VALL
 (
	`__buûtö_huge_vÆl
())

	)

30 #i‚de‡
INFINITY


31 
	#INFINITY
 (
	`__buûtö_öff
())

	)

34 #i‚de‡
NAN


35 
	#NAN
 (
	`__buûtö_«nf
(""))

	)

52 #i‚de‡
HUGE_VAL


53 
	#HUGE_VAL
 (1.0e999999999)

	)

56 #i‚de‡
HUGE_VALF


57 
	#HUGE_VALF
 (1.0e999999999F)

	)

60 #i‡!
deföed
(
HUGE_VALL
Ë&& deföed(
_HAVE_LONG_DOUBLE
)

61 
	#HUGE_VALL
 (1.0e999999999L)

	)

64 #i‡!
deföed
(
INFINITY
)

65 
	#INFINITY
 (
HUGE_VALF
)

	)

68 #i‡!
deföed
(
NAN
)

69 #i‡
deföed
(
__GNUC__
Ë&& deföed(
__˝lu•lus
)

74 c⁄° uni⁄ { 
__UL⁄g
 
	m__i
[1]; 
	m__d
; } 
	g__N™f
 = {0x7FC00000};

75 
	#NAN
 (
__N™f
.
__d
)

	)

77 
	#NAN
 (0.0F/0.0F)

	)

85 #i‚de‡
__m©h_68881


86 
©™
 
_PARAMS
(());

87 
cos
 
_PARAMS
(());

88 
sö
 
_PARAMS
(());

89 
èn
 
_PARAMS
(());

90 
ènh
 
_PARAMS
(());

91 
‰exp
 
_PARAMS
((, *));

92 
modf
 
_PARAMS
((, *));

93 
˚û
 
_PARAMS
(());

94 
Ábs
 
_PARAMS
(());

95 
Êo‹
 
_PARAMS
(());

100 #i‚de‡
_REENT_ONLY


101 #i‚de‡
__m©h_68881


102 
acos
 
_PARAMS
(());

103 
asö
 
_PARAMS
(());

104 
©™2
 
_PARAMS
((, ));

105 
cosh
 
_PARAMS
(());

106 
söh
 
_PARAMS
(());

107 
exp
 
_PARAMS
(());

108 
ldexp
 
_PARAMS
((, ));

109 
log
 
_PARAMS
(());

110 
log10
 
_PARAMS
(());

111 
pow
 
_PARAMS
((, ));

112 
sqπ
 
_PARAMS
(());

113 
fmod
 
_PARAMS
((, ));

117 #i‡
__MISC_VISIBLE


118 
föôe
 
_PARAMS
(());

119 
föôef
 
_PARAMS
(());

120 
föôñ
 
_PARAMS
(());

121 
isöff
 
_PARAMS
(());

122 
i¢™f
 
_PARAMS
(());

123 #ifde‡
__CYGWIN__


124 
isöÊ
 
_PARAMS
(());

125 
i¢™l
 
_PARAMS
(());

127 #i‡!
deföed
(
__˝lu•lus
) || __cplusplus < 201103L

128 
isöf
 
_PARAMS
(());

131 #i‡(
__MISC_VISIBLE
 || (
__XSI_VISIBLE
 && __XSI_VISIBLE < 600)) \

132 && (!
deföed
(
__˝lu•lus
Ë|| 
	g__˝lu•lus
 < 201103L)

133 
i¢™
 
_PARAMS
(());

136 #i‡
__ISO_C_VISIBLE
 >= 1999

144 #i‡!
deföed
(
FLT_EVAL_METHOD
Ë&& deföed(
__FLT_EVAL_METHOD__
)

145 
	#FLT_EVAL_METHOD
 
__FLT_EVAL_METHOD__


	)

146 
	#__TMP_FLT_EVAL_METHOD


	)

148 #i‡
deföed
 
FLT_EVAL_METHOD


149 #i‡
FLT_EVAL_METHOD
 == 0

150 
	tÊﬂt_t
;

151 
	tdoubÀ_t
;

152 #ñi‡
FLT_EVAL_METHOD
 == 1

153 
	tÊﬂt_t
;

154 
	tdoubÀ_t
;

155 #ñi‡
FLT_EVAL_METHOD
 == 2

156 
	tÊﬂt_t
;

157 
	tdoubÀ_t
;

164 
	tÊﬂt_t
;

165 
	tdoubÀ_t
;

167 #i‡
deföed
(
__TMP_FLT_EVAL_METHOD
)

168 #unde‡
FLT_EVAL_METHOD


171 
	#FP_NAN
 0

	)

172 
	#FP_INFINITE
 1

	)

173 
	#FP_ZERO
 2

	)

174 
	#FP_SUBNORMAL
 3

	)

175 
	#FP_NORMAL
 4

	)

177 #i‚de‡
FP_ILOGB0


178 
	#FP_ILOGB0
 (-
__INT_MAX__
)

	)

180 #i‚de‡
FP_ILOGBNAN


181 
	#FP_ILOGBNAN
 
__INT_MAX__


	)

184 #i‚de‡
MATH_ERRNO


185 
	#MATH_ERRNO
 1

	)

187 #i‚de‡
MATH_ERREXCEPT


188 
	#MATH_ERREXCEPT
 2

	)

190 #i‚de‡
m©h_îrh™dlög


191 
	#m©h_îrh™dlög
 
MATH_ERRNO


	)

194 
__isöff
 (
x
);

195 
__isöfd
 (
x
);

196 
__i¢™f
 (
x
);

197 
__i¢™d
 (
x
);

198 
__Â˛assifyf
 (
x
);

199 
__Â˛assifyd
 (
x
);

200 
__signbôf
 (
x
);

201 
__signbôd
 (
x
);

210 #i‡
__GNUC_PREREQ
 (4, 4)

211 
	#Â˛assify
(
__x
Ë(
	`__buûtö_Â˛assify
 (
FP_NAN
, 
FP_INFINITE
, \

212 
FP_NORMAL
, 
FP_SUBNORMAL
, \

213 
FP_ZERO
, 
__x
))

	)

214 #i‚de‡
isföôe


215 
	#isföôe
(
__x
Ë(
	`__buûtö_isföôe
 (__x))

	)

217 #i‚de‡
isöf


218 
	#isöf
(
__x
Ë(
	`__buûtö_isöf_sign
 (__x))

	)

220 #i‚de‡
i¢™


221 
	#i¢™
(
__x
Ë(
	`__buûtö_i¢™
 (__x))

	)

223 
	#i¢‹mÆ
(
__x
Ë(
	`__buûtö_i¢‹mÆ
 (__x))

	)

225 
	#Â˛assify
(
__x
) \

226 (((
__x
Ë=()Ë? 
	`__Â˛assifyf
(__x) : \

227 
	`__Â˛assifyd
(
__x
))

	)

228 #i‚de‡
isföôe


229 
	#isföôe
(
__y
) \

230 (
	`__exãnsi⁄__
 ({
__cy
 = 
	`Â˛assify
(
__y
); \

231 
__cy
 !
FP_INFINITE
 && __cy !
FP_NAN
;}))

	)

233 #i‚de‡
isöf


234 
	#isöf
(
__x
Ë(
	`Â˛assify
(__xË=
FP_INFINITE
)

	)

236 #i‚de‡
i¢™


237 
	#i¢™
(
__x
Ë(
	`Â˛assify
(__xË=
FP_NAN
)

	)

239 
	#i¢‹mÆ
(
__x
Ë(
	`Â˛assify
(__xË=
FP_NORMAL
)

	)

242 #i‡
__GNUC_PREREQ
 (4, 0)

243 #i‡
deföed
(
_HAVE_LONG_DOUBLE
)

244 
	#signbô
(
__x
) \

245 (((
__x
Ë=()Ë? 
	`__buûtö_signbôf
(__x) : \

246 ((
__x
Ë=()Ë? 
	`__buûtö_signbô
 (__x) : \

247 
	`__buûtö_signbôl
(
__x
))

	)

249 
	#signbô
(
__x
) \

250 (((
__x
Ë=()Ë? 
	`__buûtö_signbôf
(__x) : \

251 
	`__buûtö_signbô
 (
__x
))

	)

254 
	#signbô
(
__x
) \

255 (((
__x
Ë=()Ë? 
	`__signbôf
(__x) : \

256 
	`__signbôd
(
__x
))

	)

259 #i‡
__GNUC_PREREQ
 (2, 97)

260 
	#isgª©î
(
__x
,
__y
Ë(
	`__buûtö_isgª©î
 (__x, __y))

	)

261 
	#isgª©îequÆ
(
__x
,
__y
Ë(
	`__buûtö_isgª©îequÆ
 (__x, __y))

	)

262 
	#i¶ess
(
__x
,
__y
Ë(
	`__buûtö_i¶ess
 (__x, __y))

	)

263 
	#i¶es£quÆ
(
__x
,
__y
Ë(
	`__buûtö_i¶es£quÆ
 (__x, __y))

	)

264 
	#i¶essgª©î
(
__x
,
__y
Ë(
	`__buûtö_i¶essgª©î
 (__x, __y))

	)

265 
	#isun‹dîed
(
__x
,
__y
Ë(
	`__buûtö_isun‹dîed
 (__x, __y))

	)

267 
	#isgª©î
(
x
,
y
) \

268 (
	`__exãnsi⁄__
 ({
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

269 !
	`isun‹dîed
(
__x
,
__y
Ë&& (__x > __y);}))

	)

270 
	#isgª©îequÆ
(
x
,
y
) \

271 (
	`__exãnsi⁄__
 ({
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

272 !
	`isun‹dîed
(
__x
,
__y
Ë&& (__x >__y);}))

	)

273 
	#i¶ess
(
x
,
y
) \

274 (
	`__exãnsi⁄__
 ({
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

275 !
	`isun‹dîed
(
__x
,
__y
Ë&& (__x < __y);}))

	)

276 
	#i¶es£quÆ
(
x
,
y
) \

277 (
	`__exãnsi⁄__
 ({
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

278 !
	`isun‹dîed
(
__x
,
__y
Ë&& (__x <__y);}))

	)

279 
	#i¶essgª©î
(
x
,
y
) \

280 (
	`__exãnsi⁄__
 ({
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

281 !
	`isun‹dîed
(
__x
,
__y
Ë&& (__x < __y || __x > __y);}))

	)

283 
	#isun‹dîed
(
a
,
b
) \

284 (
	`__exãnsi⁄__
 ({
	`__ty≥of__
(
a
Ë
__a
 = (a); __ty≥of__(
b
Ë
__b
 = (b); \

285 
	`Â˛assify
(
__a
Ë=
FP_NAN
 || fp˛assify(
__b
Ë=FP_NAN;}))

	)

290 
öföôy
 
_PARAMS
(());

291 
«n
 
_PARAMS
((const *));

292 
c›ysign
 
_PARAMS
((, ));

293 
logb
 
_PARAMS
(());

294 
ûogb
 
_PARAMS
(());

296 
asöh
 
_PARAMS
(());

297 
cbπ
 
_PARAMS
(());

298 
√xè·î
 
_PARAMS
((, ));

299 
röt
 
_PARAMS
(());

300 
sˇlbn
 
_PARAMS
((, ));

302 
exp2
 
_PARAMS
(());

303 
sˇlb 
 
_PARAMS
((, ));

304 
tgamma
 
_PARAMS
(());

305 
√¨byöt
 
_PARAMS
(());

306 
Ãöt
 
_PARAMS
(());

307 
Œröt
 
_PARAMS
(());

308 
round
 
_PARAMS
(());

309 
Ãound
 
_PARAMS
(());

310 
Œround
 
_PARAMS
(());

311 
åunc
 
_PARAMS
(());

312 
ªmquo
 
_PARAMS
((, , *));

313 
fdim
 
_PARAMS
((, ));

314 
fmax
 
_PARAMS
((, ));

315 
fmö
 
_PARAMS
((, ));

316 
fma
 
_PARAMS
((, , ));

318 #i‚de‡
__m©h_68881


319 
log1p
 
_PARAMS
(());

320 
expm1
 
_PARAMS
(());

323 #i‚de‡
_REENT_ONLY


324 
acosh
 
_PARAMS
(());

325 
©™h
 
_PARAMS
(());

326 
ªmaödî
 
_PARAMS
((, ));

327 
gamma
 
_PARAMS
(());

328 
lgamma
 
_PARAMS
(());

329 
îf
 
_PARAMS
(());

330 
îfc
 
_PARAMS
(());

331 
log2
 
_PARAMS
(());

332 #i‡!
deföed
(
__˝lu•lus
)

333 
	#log2
(
x
Ë(
	`log
 (xË/ 
_M_LN2
)

	)

336 #i‚de‡
__m©h_68881


337 
hypŸ
 
_PARAMS
((, ));

344 
©™f
 
_PARAMS
(());

345 
cosf
 
_PARAMS
(());

346 
söf
 
_PARAMS
(());

347 
ènf
 
_PARAMS
(());

348 
ènhf
 
_PARAMS
(());

349 
‰expf
 
_PARAMS
((, *));

350 
modff
 
_PARAMS
((, *));

351 
˚ûf
 
_PARAMS
(());

352 
Ábsf
 
_PARAMS
(());

353 
Êo‹f
 
_PARAMS
(());

355 #i‚de‡
_REENT_ONLY


356 
acosf
 
_PARAMS
(());

357 
asöf
 
_PARAMS
(());

358 
©™2f
 
_PARAMS
((, ));

359 
coshf
 
_PARAMS
(());

360 
söhf
 
_PARAMS
(());

361 
expf
 
_PARAMS
(());

362 
ldexpf
 
_PARAMS
((, ));

363 
logf
 
_PARAMS
(());

364 
log10f
 
_PARAMS
(());

365 
powf
 
_PARAMS
((, ));

366 
sqπf
 
_PARAMS
(());

367 
fmodf
 
_PARAMS
((, ));

372 
exp2f
 
_PARAMS
(());

373 
sˇlb f
 
_PARAMS
((, ));

374 
tgammaf
 
_PARAMS
(());

375 
√¨byötf
 
_PARAMS
(());

376 
Ãötf
 
_PARAMS
(());

377 
Œrötf
 
_PARAMS
(());

378 
roundf
 
_PARAMS
(());

379 
Ãoundf
 
_PARAMS
(());

380 
Œroundf
 
_PARAMS
(());

381 
åuncf
 
_PARAMS
(());

382 
ªmquof
 
_PARAMS
((, , *));

383 
fdimf
 
_PARAMS
((, ));

384 
fmaxf
 
_PARAMS
((, ));

385 
fmöf
 
_PARAMS
((, ));

386 
fmaf
 
_PARAMS
((, , ));

388 
öföôyf
 
_PARAMS
(());

389 
«nf
 
_PARAMS
((const *));

390 
c›ysignf
 
_PARAMS
((, ));

391 
logbf
 
_PARAMS
(());

392 
ûogbf
 
_PARAMS
(());

394 
asöhf
 
_PARAMS
(());

395 
cbπf
 
_PARAMS
(());

396 
√xè·îf
 
_PARAMS
((, ));

397 
rötf
 
_PARAMS
(());

398 
sˇlbnf
 
_PARAMS
((, ));

399 
log1pf
 
_PARAMS
(());

400 
expm1f
 
_PARAMS
(());

402 #i‚de‡
_REENT_ONLY


403 
acoshf
 
_PARAMS
(());

404 
©™hf
 
_PARAMS
(());

405 
ªmaödîf
 
_PARAMS
((, ));

406 
gammaf
 
_PARAMS
(());

407 
lgammaf
 
_PARAMS
(());

408 
îff
 
_PARAMS
(());

409 
îfcf
 
_PARAMS
(());

410 
log2f
 
_PARAMS
(());

411 
hypŸf
 
_PARAMS
((, ));

419 #i‡
deföed
 (
_LDBL_EQ_DBL
Ë|| deföed (
__CYGWIN__
)

421 #i‚de‡
__m©h_68881


422 
©™l
 
_PARAMS
(());

423 
co¶
 
_PARAMS
(());

424 
söl
 
_PARAMS
(());

425 
è∆
 
_PARAMS
(());

426 
ènhl
 
_PARAMS
(());

427 
‰ex∂
 
_PARAMS
((, *));

428 
modÊ
 
_PARAMS
((, *));

429 
˚ûl
 
_PARAMS
(());

430 
Áb¶
 
_PARAMS
(());

431 
Êo‹l
 
_PARAMS
(());

432 
log1∂
 
_PARAMS
(());

433 
expm1l
 
_PARAMS
(());

436 #i‚de‡
_REENT_ONLY


437 #i‚de‡
__m©h_68881


438 
aco¶
 
_PARAMS
(());

439 
asöl
 
_PARAMS
(());

440 
©™2l
 
_PARAMS
((, ));

441 
coshl
 
_PARAMS
(());

442 
söhl
 
_PARAMS
(());

443 
ex∂
 
_PARAMS
(());

444 
ldex∂
 
_PARAMS
((, ));

445 
logl
 
_PARAMS
(());

446 
log10l
 
_PARAMS
(());

447 
powl
 
_PARAMS
((, ));

448 
sqπl
 
_PARAMS
(());

449 
fmodl
 
_PARAMS
((, ));

450 
hypŸl
 
_PARAMS
((, ));

453 
c›ysig∆
 
_PARAMS
((, ));

454 
«∆
 
_PARAMS
((const *));

455 
ûogbl
 
_PARAMS
(());

456 
asöhl
 
_PARAMS
(());

457 
cbπl
 
_PARAMS
(());

458 
√xè·îl
 
_PARAMS
((, ));

459 
√xâow¨df
 
_PARAMS
((, ));

460 
√xâow¨d
 
_PARAMS
((, ));

461 
√xâow¨dl
 
_PARAMS
((, ));

462 
logbl
 
_PARAMS
(());

463 
log2l
 
_PARAMS
(());

464 
röé
 
_PARAMS
(());

465 
sˇlb∆
 
_PARAMS
((, ));

466 
exp2l
 
_PARAMS
(());

467 
sˇlb l
 
_PARAMS
((, ));

468 
tgammÆ
 
_PARAMS
(());

469 
√¨byöé
 
_PARAMS
(());

470 
Ãöé
 
_PARAMS
(());

471 
Œröé
 
_PARAMS
(());

472 
roundl
 
_PARAMS
(());

473 
Ãoundl
 
_PARAMS
(());

474 
Œroundl
 
_PARAMS
(());

475 
åun˛
 
_PARAMS
(());

476 
ªmquﬁ
 
_PARAMS
((, , *));

477 
fdiml
 
_PARAMS
((, ));

478 
fmaxl
 
_PARAMS
((, ));

479 
fmöl
 
_PARAMS
((, ));

480 
fmÆ
 
_PARAMS
((, , ));

481 #i‚de‡
_REENT_ONLY


482 
acoshl
 
_PARAMS
(());

483 
©™hl
 
_PARAMS
(());

484 
ªmaödîl
 
_PARAMS
((, ));

485 
lgammÆ
 
_PARAMS
(());

486 
îÊ
 
_PARAMS
(());

487 
îf˛
 
_PARAMS
(());

490 
hypŸl
 
_PARAMS
((, ));

491 
sqπl
 
_PARAMS
(());

492 #ifde‡
__i386__


494 
_LONG_DOUBLE
 
röé
 
_PARAMS
((_LONG_DOUBLE));

495 
Ãöé
 
_PARAMS
((
_LONG_DOUBLE
));

496 
Œröé
 
_PARAMS
((
_LONG_DOUBLE
));

502 #i‡
__MISC_VISIBLE


503 
dªm
 
_PARAMS
((, ));

504 
dªmf
 
_PARAMS
((, ));

505 #ifde‡
__CYGWIN__


506 
dªml
 
_PARAMS
((, ));

508 
gamma_r
 
_PARAMS
((, *));

509 
lgamma_r
 
_PARAMS
((, *));

510 
gammaf_r
 
_PARAMS
((, *));

511 
lgammaf_r
 
_PARAMS
((, *));

514 #i‡
__MISC_VISIBLE
 || 
__XSI_VISIBLE


515 
y0
 
_PARAMS
(());

516 
y1
 
_PARAMS
(());

517 
yn
 
_PARAMS
((, ));

518 
j0
 
_PARAMS
(());

519 
j1
 
_PARAMS
(());

520 
jn
 
_PARAMS
((, ));

523 #i‡
__MISC_VISIBLE
 || 
__XSI_VISIBLE
 >= 600

524 
y0f
 
_PARAMS
(());

525 
y1f
 
_PARAMS
(());

526 
ynf
 
_PARAMS
((, ));

527 
j0f
 
_PARAMS
(());

528 
j1f
 
_PARAMS
(());

529 
jnf
 
_PARAMS
((, ));

533 #i‡
__GNU_VISIBLE


534 
söcos
 
_PARAMS
((, *, *));

535 
söcosf
 
_PARAMS
((, *, *));

536 #ifde‡
__CYGWIN__


537 
söco¶
 
_PARAMS
((, *, *));

539 #i‚de‡
exp10


540 
exp10
 
_PARAMS
(());

542 #i‚de‡
pow10


543 
pow10
 
_PARAMS
(());

545 #i‚de‡
exp10f


546 
exp10f
 
_PARAMS
(());

548 #i‚de‡
pow10f


549 
pow10f
 
_PARAMS
(());

551 #ifde‡
__CYGWIN__


552 #i‚de‡
exp10l


553 
exp10l
 
_PARAMS
(());

555 #i‚de‡
pow10l


556 
pow10l
 
_PARAMS
(());

561 #i‡
__MISC_VISIBLE
 || 
__XSI_VISIBLE


563 #i‚de‡
_REENT_ONLY


564 
	#signgam
 (*
	`__signgam
())

	)

565 *
__signgam
 
_PARAMS
(());

568 
	#__signgam_r
(
±r
Ë
	`_REENT_SIGNGAM
’å)

	)

571 #i‡
__SVID_VISIBLE


575 #ifde‡
__˝lu•lus


576 
	g__ex˚±i⁄


578 
	gex˚±i⁄


581 
	gty≥
;

582 *
	g«me
;

583 
	g¨g1
;

584 
	g¨g2
;

585 
	gªtvÆ
;

586 
	gîr
;

589 #ifde‡
__˝lu•lus


590 
m©hîr
 
_PARAMS
((
__ex˚±i⁄
 *
e
));

592 
m©hîr
 
_PARAMS
((
ex˚±i⁄
 *
e
));

597 
	#DOMAIN
 1

	)

598 
	#SING
 2

	)

599 
	#OVERFLOW
 3

	)

600 
	#UNDERFLOW
 4

	)

601 
	#TLOSS
 5

	)

602 
	#PLOSS
 6

	)

608 #i‡
__BSD_VISIBLE
 || 
__XSI_VISIBLE


610 
	#MAXFLOAT
 3.40282347e+38F

	)

612 
	#M_E
 2.7182818284590452354

	)

613 
	#M_LOG2E
 1.4426950408889634074

	)

614 
	#M_LOG10E
 0.43429448190325182765

	)

615 
	#M_LN2
 
_M_LN2


	)

616 
	#M_LN10
 2.30258509299404568402

	)

617 
	#M_PI
 3.14159265358979323846

	)

618 
	#M_PI_2
 1.57079632679489661923

	)

619 
	#M_PI_4
 0.78539816339744830962

	)

620 
	#M_1_PI
 0.31830988618379067154

	)

621 
	#M_2_PI
 0.63661977236758134308

	)

622 
	#M_2_SQRTPI
 1.12837916709551257390

	)

623 
	#M_SQRT2
 1.41421356237309504880

	)

624 
	#M_SQRT1_2
 0.70710678118654752440

	)

628 #i‡
__BSD_VISIBLE


630 
	#M_TWOPI
 (
M_PI
 * 2.0)

	)

631 
	#M_3PI_4
 2.3561944901923448370E0

	)

632 
	#M_SQRTPI
 1.77245385090551602792981

	)

633 
	#M_LN2LO
 1.9082149292705877000E-10

	)

634 
	#M_LN2HI
 6.9314718036912381649E-1

	)

635 
	#M_SQRT3
 1.73205080756887719000

	)

636 
	#M_IVLN10
 0.43429448190325182765

	)

637 
	#M_LOG2_E
 
_M_LN2


	)

638 
	#M_INVLN2
 1.4426950408889633870E0

	)

642 
	e__fdlibm_vîsi⁄


644 
	m__fdlibm_õì
 = -1,

645 
	m__fdlibm_svid
,

646 
	m__fdlibm_x›í
,

647 
	m__fdlibm_posix


650 
	#_LIB_VERSION_TYPE
 
__fdlibm_vîsi⁄


	)

651 
	#_LIB_VERSION
 
__fdlib_vîsi⁄


	)

653 
__IMPORT
 
_LIB_VERSION_TYPE
 
_LIB_VERSION
;

655 
	#_IEEE_
 
__fdlibm_õì


	)

656 
	#_SVID_
 
__fdlibm_svid


	)

657 
	#_XOPEN_
 
__fdlibm_x›í


	)

658 
	#_POSIX_
 
__fdlibm_posix


	)

662 
	g_END_STD_C


664 #ifde‡
__FAST_MATH__


665 
	~<machöe/Á°m©h.h
>

	@/usr/include/stdint.h

9 #i‚de‡
_STDINT_H


10 
	#_STDINT_H


	)

12 
	~<machöe/_deÁu…_ty≥s.h
>

13 
	~<sys/_ötsup.h
>

14 
	~<sys/_°döt.h
>

16 #ifde‡
__˝lu•lus


20 #ifde‡
___öt_Àa°8_t_deföed


21 
__öt_Àa°8_t
 
	töt_Àa°8_t
;

22 
__uöt_Àa°8_t
 
	tuöt_Àa°8_t
;

23 
	#__öt_Àa°8_t_deföed
 1

	)

26 #ifde‡
___öt_Àa°16_t_deföed


27 
__öt_Àa°16_t
 
	töt_Àa°16_t
;

28 
__uöt_Àa°16_t
 
	tuöt_Àa°16_t
;

29 
	#__öt_Àa°16_t_deföed
 1

	)

32 #ifde‡
___öt_Àa°32_t_deföed


33 
__öt_Àa°32_t
 
	töt_Àa°32_t
;

34 
__uöt_Àa°32_t
 
	tuöt_Àa°32_t
;

35 
	#__öt_Àa°32_t_deföed
 1

	)

38 #ifde‡
___öt_Àa°64_t_deföed


39 
__öt_Àa°64_t
 
	töt_Àa°64_t
;

40 
__uöt_Àa°64_t
 
	tuöt_Àa°64_t
;

41 
	#__öt_Àa°64_t_deföed
 1

	)

50 #ifde‡
__INT_FAST8_TYPE__


51 
__INT_FAST8_TYPE__
 
	töt_Á°8_t
;

52 
__UINT_FAST8_TYPE__
 
	tuöt_Á°8_t
;

53 
	#__öt_Á°8_t_deföed
 1

	)

54 #ñi‡
__STDINT_EXP
(
INT_MAX
) >= 0x7f

55 sig√d 
	töt_Á°8_t
;

56 
	tuöt_Á°8_t
;

57 
	#__öt_Á°8_t_deföed
 1

	)

60 #ifde‡
__INT_FAST16_TYPE__


61 
__INT_FAST16_TYPE__
 
	töt_Á°16_t
;

62 
__UINT_FAST16_TYPE__
 
	tuöt_Á°16_t
;

63 
	#__öt_Á°16_t_deföed
 1

	)

64 #ñi‡
__STDINT_EXP
(
INT_MAX
) >= 0x7fff

65 sig√d 
	töt_Á°16_t
;

66 
	tuöt_Á°16_t
;

67 
	#__öt_Á°16_t_deföed
 1

	)

70 #ifde‡
__INT_FAST32_TYPE__


71 
__INT_FAST32_TYPE__
 
	töt_Á°32_t
;

72 
__UINT_FAST32_TYPE__
 
	tuöt_Á°32_t
;

73 
	#__öt_Á°32_t_deföed
 1

	)

74 #ñi‡
__STDINT_EXP
(
INT_MAX
) >= 0x7fffffff

75 sig√d 
	töt_Á°32_t
;

76 
	tuöt_Á°32_t
;

77 
	#__öt_Á°32_t_deföed
 1

	)

80 #ifde‡
__INT_FAST64_TYPE__


81 
__INT_FAST64_TYPE__
 
	töt_Á°64_t
;

82 
__UINT_FAST64_TYPE__
 
	tuöt_Á°64_t
;

83 
	#__öt_Á°64_t_deföed
 1

	)

84 #ñi‡
__STDINT_EXP
(
INT_MAX
) > 0x7fffffff

85 sig√d 
	töt_Á°64_t
;

86 
	tuöt_Á°64_t
;

87 
	#__öt_Á°64_t_deföed
 1

	)

95 #i‡!
__öt_Á°8_t_deföed


96 #i‡
__öt_Àa°8_t_deföed


97 
öt_Àa°8_t
 
	töt_Á°8_t
;

98 
uöt_Àa°8_t
 
	tuöt_Á°8_t
;

99 
	#__öt_Á°8_t_deföed
 1

	)

103 #i‡!
__öt_Á°16_t_deföed


104 #i‡
__öt_Àa°16_t_deföed


105 
öt_Àa°16_t
 
	töt_Á°16_t
;

106 
uöt_Àa°16_t
 
	tuöt_Á°16_t
;

107 
	#__öt_Á°16_t_deföed
 1

	)

111 #i‡!
__öt_Á°32_t_deföed


112 #i‡
__öt_Àa°32_t_deföed


113 
öt_Àa°32_t
 
	töt_Á°32_t
;

114 
uöt_Àa°32_t
 
	tuöt_Á°32_t
;

115 
	#__öt_Á°32_t_deföed
 1

	)

119 #i‡!
__öt_Á°64_t_deföed


120 #i‡
__öt_Àa°64_t_deföed


121 
öt_Àa°64_t
 
	töt_Á°64_t
;

122 
uöt_Àa°64_t
 
	tuöt_Á°64_t
;

123 
	#__öt_Á°64_t_deföed
 1

	)

127 #ifde‡
__INTPTR_TYPE__


128 
	#INTPTR_MIN
 (-
__INTPTR_MAX__
 - 1)

	)

129 
	#INTPTR_MAX
 (
__INTPTR_MAX__
)

	)

130 
	#UINTPTR_MAX
 (
__UINTPTR_MAX__
)

	)

131 #ñi‡
deföed
(
__PTRDIFF_TYPE__
)

132 
	#INTPTR_MAX
 
PTRDIFF_MAX


	)

133 
	#INTPTR_MIN
 
PTRDIFF_MIN


	)

134 #ifde‡
__UINTPTR_MAX__


135 
	#UINTPTR_MAX
 (
__UINTPTR_MAX__
)

	)

137 
	#UINTPTR_MAX
 (2UL * 
PTRDIFF_MAX
 + 1)

	)

144 
	#INTPTR_MAX
 (
	`__STDINT_EXP
(
LONG_MAX
))

	)

145 
	#INTPTR_MIN
 (-
	`__STDINT_EXP
(
LONG_MAX
Ë- 1)

	)

146 
	#UINTPTR_MAX
 (
	`__STDINT_EXP
(
LONG_MAX
Ë* 2UL + 1)

	)

151 #ifde‡
__INT8_MAX__


152 
	#INT8_MIN
 (-
__INT8_MAX__
 - 1)

	)

153 
	#INT8_MAX
 (
__INT8_MAX__
)

	)

154 
	#UINT8_MAX
 (
__UINT8_MAX__
)

	)

155 #ñi‡
deföed
(
__öt8_t_deföed
)

156 
	#INT8_MIN
 (-128)

	)

157 
	#INT8_MAX
 (127)

	)

158 
	#UINT8_MAX
 (255)

	)

161 #ifde‡
__INT_LEAST8_MAX__


162 
	#INT_LEAST8_MIN
 (-
__INT_LEAST8_MAX__
 - 1)

	)

163 
	#INT_LEAST8_MAX
 (
__INT_LEAST8_MAX__
)

	)

164 
	#UINT_LEAST8_MAX
 (
__UINT_LEAST8_MAX__
)

	)

165 #ñi‡
deföed
(
__öt_Àa°8_t_deföed
)

166 
	#INT_LEAST8_MIN
 (-128)

	)

167 
	#INT_LEAST8_MAX
 (127)

	)

168 
	#UINT_LEAST8_MAX
 (255)

	)

170 #îr‹ 
ªquúed
 
ty≥
 
öt_Àa°8_t
 
missög


173 #ifde‡
__INT16_MAX__


174 
	#INT16_MIN
 (-
__INT16_MAX__
 - 1)

	)

175 
	#INT16_MAX
 (
__INT16_MAX__
)

	)

176 
	#UINT16_MAX
 (
__UINT16_MAX__
)

	)

177 #ñi‡
deföed
(
__öt16_t_deföed
)

178 
	#INT16_MIN
 (-32768)

	)

179 
	#INT16_MAX
 (32767)

	)

180 
	#UINT16_MAX
 (65535)

	)

183 #ifde‡
__INT_LEAST16_MAX__


184 
	#INT_LEAST16_MIN
 (-
__INT_LEAST16_MAX__
 - 1)

	)

185 
	#INT_LEAST16_MAX
 (
__INT_LEAST16_MAX__
)

	)

186 
	#UINT_LEAST16_MAX
 (
__UINT_LEAST16_MAX__
)

	)

187 #ñi‡
deföed
(
__öt_Àa°16_t_deföed
)

188 
	#INT_LEAST16_MIN
 (-32768)

	)

189 
	#INT_LEAST16_MAX
 (32767)

	)

190 
	#UINT_LEAST16_MAX
 (65535)

	)

192 #îr‹ 
ªquúed
 
ty≥
 
öt_Àa°16_t
 
missög


195 #ifde‡
__INT32_MAX__


196 
	#INT32_MIN
 (-
__INT32_MAX__
 - 1)

	)

197 
	#INT32_MAX
 (
__INT32_MAX__
)

	)

198 
	#UINT32_MAX
 (
__UINT32_MAX__
)

	)

199 #ñi‡
deföed
(
__öt32_t_deföed
)

200 #i‡
deföed
 (
_INT32_EQ_LONG
)

201 
	#INT32_MIN
 (-2147483647L-1)

	)

202 
	#INT32_MAX
 (2147483647L)

	)

203 
	#UINT32_MAX
 (4294967295UL)

	)

205 
	#INT32_MIN
 (-2147483647-1)

	)

206 
	#INT32_MAX
 (2147483647)

	)

207 
	#UINT32_MAX
 (4294967295U)

	)

211 #ifde‡
__INT_LEAST32_MAX__


212 
	#INT_LEAST32_MIN
 (-
__INT_LEAST32_MAX__
 - 1)

	)

213 
	#INT_LEAST32_MAX
 (
__INT_LEAST32_MAX__
)

	)

214 
	#UINT_LEAST32_MAX
 (
__UINT_LEAST32_MAX__
)

	)

215 #ñi‡
deföed
(
__öt_Àa°32_t_deföed
)

216 #i‡
deföed
 (
_INT32_EQ_LONG
)

217 
	#INT_LEAST32_MIN
 (-2147483647L-1)

	)

218 
	#INT_LEAST32_MAX
 (2147483647L)

	)

219 
	#UINT_LEAST32_MAX
 (4294967295UL)

	)

221 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

222 
	#INT_LEAST32_MAX
 (2147483647)

	)

223 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

226 #îr‹ 
ªquúed
 
ty≥
 
öt_Àa°32_t
 
missög


229 #ifde‡
__INT64_MAX__


230 
	#INT64_MIN
 (-
__INT64_MAX__
 - 1)

	)

231 
	#INT64_MAX
 (
__INT64_MAX__
)

	)

232 
	#UINT64_MAX
 (
__UINT64_MAX__
)

	)

233 #ñi‡
deföed
(
__öt64_t_deföed
)

234 #i‡
__have_l⁄g64


235 
	#INT64_MIN
 (-9223372036854775807L-1L)

	)

236 
	#INT64_MAX
 (9223372036854775807L)

	)

237 
	#UINT64_MAX
 (18446744073709551615U)

	)

238 #ñi‡
__have_l⁄gl⁄g64


239 
	#INT64_MIN
 (-9223372036854775807LL-1LL)

	)

240 
	#INT64_MAX
 (9223372036854775807LL)

	)

241 
	#UINT64_MAX
 (18446744073709551615ULL)

	)

245 #ifde‡
__INT_LEAST64_MAX__


246 
	#INT_LEAST64_MIN
 (-
__INT_LEAST64_MAX__
 - 1)

	)

247 
	#INT_LEAST64_MAX
 (
__INT_LEAST64_MAX__
)

	)

248 
	#UINT_LEAST64_MAX
 (
__UINT_LEAST64_MAX__
)

	)

249 #ñi‡
deföed
(
__öt_Àa°64_t_deföed
)

250 #i‡
__have_l⁄g64


251 
	#INT_LEAST64_MIN
 (-9223372036854775807L-1L)

	)

252 
	#INT_LEAST64_MAX
 (9223372036854775807L)

	)

253 
	#UINT_LEAST64_MAX
 (18446744073709551615U)

	)

254 #ñi‡
__have_l⁄gl⁄g64


255 
	#INT_LEAST64_MIN
 (-9223372036854775807LL-1LL)

	)

256 
	#INT_LEAST64_MAX
 (9223372036854775807LL)

	)

257 
	#UINT_LEAST64_MAX
 (18446744073709551615ULL)

	)

261 #ifde‡
__INT_FAST8_MAX__


262 
	#INT_FAST8_MIN
 (-
__INT_FAST8_MAX__
 - 1)

	)

263 
	#INT_FAST8_MAX
 (
__INT_FAST8_MAX__
)

	)

264 
	#UINT_FAST8_MAX
 (
__UINT_FAST8_MAX__
)

	)

265 #ñi‡
deföed
(
__öt_Á°8_t_deföed
)

266 #i‡
__STDINT_EXP
(
INT_MAX
) >= 0x7f

267 
	#INT_FAST8_MIN
 (-
	`__STDINT_EXP
(
INT_MAX
)-1)

	)

268 
	#INT_FAST8_MAX
 (
	`__STDINT_EXP
(
INT_MAX
))

	)

269 
	#UINT_FAST8_MAX
 (
	`__STDINT_EXP
(
INT_MAX
)*2U+1U)

	)

271 
	#INT_FAST8_MIN
 
INT_LEAST8_MIN


	)

272 
	#INT_FAST8_MAX
 
INT_LEAST8_MAX


	)

273 
	#UINT_FAST8_MAX
 
UINT_LEAST8_MAX


	)

277 #ifde‡
__INT_FAST16_MAX__


278 
	#INT_FAST16_MIN
 (-
__INT_FAST16_MAX__
 - 1)

	)

279 
	#INT_FAST16_MAX
 (
__INT_FAST16_MAX__
)

	)

280 
	#UINT_FAST16_MAX
 (
__UINT_FAST16_MAX__
)

	)

281 #ñi‡
deföed
(
__öt_Á°16_t_deföed
)

282 #i‡
__STDINT_EXP
(
INT_MAX
) >= 0x7fff

283 
	#INT_FAST16_MIN
 (-
	`__STDINT_EXP
(
INT_MAX
)-1)

	)

284 
	#INT_FAST16_MAX
 (
	`__STDINT_EXP
(
INT_MAX
))

	)

285 
	#UINT_FAST16_MAX
 (
	`__STDINT_EXP
(
INT_MAX
)*2U+1U)

	)

287 
	#INT_FAST16_MIN
 
INT_LEAST16_MIN


	)

288 
	#INT_FAST16_MAX
 
INT_LEAST16_MAX


	)

289 
	#UINT_FAST16_MAX
 
UINT_LEAST16_MAX


	)

293 #ifde‡
__INT_FAST32_MAX__


294 
	#INT_FAST32_MIN
 (-
__INT_FAST32_MAX__
 - 1)

	)

295 
	#INT_FAST32_MAX
 (
__INT_FAST32_MAX__
)

	)

296 
	#UINT_FAST32_MAX
 (
__UINT_FAST32_MAX__
)

	)

297 #ñi‡
deföed
(
__öt_Á°32_t_deföed
)

298 #i‡
__STDINT_EXP
(
INT_MAX
) >= 0x7fffffff

299 
	#INT_FAST32_MIN
 (-
	`__STDINT_EXP
(
INT_MAX
)-1)

	)

300 
	#INT_FAST32_MAX
 (
	`__STDINT_EXP
(
INT_MAX
))

	)

301 
	#UINT_FAST32_MAX
 (
	`__STDINT_EXP
(
INT_MAX
)*2U+1U)

	)

303 
	#INT_FAST32_MIN
 
INT_LEAST32_MIN


	)

304 
	#INT_FAST32_MAX
 
INT_LEAST32_MAX


	)

305 
	#UINT_FAST32_MAX
 
UINT_LEAST32_MAX


	)

309 #ifde‡
__INT_FAST64_MAX__


310 
	#INT_FAST64_MIN
 (-
__INT_FAST64_MAX__
 - 1)

	)

311 
	#INT_FAST64_MAX
 (
__INT_FAST64_MAX__
)

	)

312 
	#UINT_FAST64_MAX
 (
__UINT_FAST64_MAX__
)

	)

313 #ñi‡
deföed
(
__öt_Á°64_t_deföed
)

314 #i‡
__STDINT_EXP
(
INT_MAX
) > 0x7fffffff

315 
	#INT_FAST64_MIN
 (-
	`__STDINT_EXP
(
INT_MAX
)-1)

	)

316 
	#INT_FAST64_MAX
 (
	`__STDINT_EXP
(
INT_MAX
))

	)

317 
	#UINT_FAST64_MAX
 (
	`__STDINT_EXP
(
INT_MAX
)*2U+1U)

	)

319 
	#INT_FAST64_MIN
 
INT_LEAST64_MIN


	)

320 
	#INT_FAST64_MAX
 
INT_LEAST64_MAX


	)

321 
	#UINT_FAST64_MAX
 
UINT_LEAST64_MAX


	)

325 #ifde‡
__INTMAX_MAX__


326 
	#INTMAX_MAX
 (
__INTMAX_MAX__
)

	)

327 
	#INTMAX_MIN
 (-
INTMAX_MAX
 - 1)

	)

328 #ñi‡
deföed
(
__INTMAX_TYPE__
)

330 
	#INTMAX_MAX
 
INT64_MAX


	)

331 
	#INTMAX_MIN
 
INT64_MIN


	)

334 #ifde‡
__UINTMAX_MAX__


335 
	#UINTMAX_MAX
 (
__UINTMAX_MAX__
)

	)

336 #ñi‡
deföed
(
__UINTMAX_TYPE__
)

338 
	#UINTMAX_MAX
 
UINT64_MAX


	)

342 #ifde‡
__SIZE_MAX__


343 
	#SIZE_MAX
 (
__SIZE_MAX__
)

	)

345 
	#SIZE_MAX
 (
	`__STDINT_EXP
(
LONG_MAX
Ë* 2UL + 1)

	)

349 
	#SIG_ATOMIC_MIN
 (-
	`__STDINT_EXP
(
INT_MAX
Ë- 1)

	)

350 
	#SIG_ATOMIC_MAX
 (
	`__STDINT_EXP
(
INT_MAX
))

	)

353 #ifde‡
__PTRDIFF_MAX__


354 
	#PTRDIFF_MAX
 (
__PTRDIFF_MAX__
)

	)

356 
	#PTRDIFF_MAX
 (
	`__STDINT_EXP
(
LONG_MAX
))

	)

358 
	#PTRDIFF_MIN
 (-
PTRDIFF_MAX
 - 1)

	)

361 #i‚de‡
WCHAR_MIN


362 #ifde‡
__WCHAR_MIN__


363 
	#WCHAR_MIN
 (
__WCHAR_MIN__
)

	)

364 #ñi‡
deföed
(
__WCHAR_UNSIGNED__
Ë|| (
L
'\0' - 1 > 0)

365 
	#WCHAR_MIN
 (0 + 
L
'\0')

	)

367 
	#WCHAR_MIN
 (-0x7ffffff‡- 1 + 
L
'\0')

	)

372 #i‚de‡
WCHAR_MAX


373 #ifde‡
__WCHAR_MAX__


374 
	#WCHAR_MAX
 (
__WCHAR_MAX__
)

	)

375 #ñi‡
deföed
(
__WCHAR_UNSIGNED__
Ë|| (
L
'\0' - 1 > 0)

376 
	#WCHAR_MAX
 (0xffffffffu + 
L
'\0')

	)

378 
	#WCHAR_MAX
 (0x7ffffff‡+ 
L
'\0')

	)

383 #ifde‡
__WINT_MAX__


384 
	#WINT_MAX
 (
__WINT_MAX__
)

	)

386 
	#WINT_MAX
 (
	`__STDINT_EXP
(
INT_MAX
Ë* 2U + 1U)

	)

388 #ifde‡
__WINT_MIN__


389 
	#WINT_MIN
 (
__WINT_MIN__
)

	)

391 
	#WINT_MIN
 (0U)

	)

395 #ifde‡
__INT8_C


396 
	#INT8_C
(
x
Ë
	`__INT8_C
(x)

	)

397 
	#UINT8_C
(
x
Ë
	`__UINT8_C
(x)

	)

399 
	#INT8_C
(
x
Ë
	)
x

400 #i‡
__STDINT_EXP
(
INT_MAX
) > 0x7f

401 
	#UINT8_C
(
x
Ë
	)
x

403 
	#UINT8_C
(
x
Ëx##
U


	)

407 #ifde‡
__INT16_C


408 
	#INT16_C
(
x
Ë
	`__INT16_C
(x)

	)

409 
	#UINT16_C
(
x
Ë
	`__UINT16_C
(x)

	)

411 
	#INT16_C
(
x
Ë
	)
x

412 #i‡
__STDINT_EXP
(
INT_MAX
) > 0x7fff

413 
	#UINT16_C
(
x
Ë
	)
x

415 
	#UINT16_C
(
x
Ëx##
U


	)

419 #ifde‡
__INT32_C


420 
	#INT32_C
(
x
Ë
	`__INT32_C
(x)

	)

421 
	#UINT32_C
(
x
Ë
	`__UINT32_C
(x)

	)

423 #i‡
deföed
 (
_INT32_EQ_LONG
)

424 
	#INT32_C
(
x
Ëx##
L


	)

425 
	#UINT32_C
(
x
Ëx##
UL


	)

427 
	#INT32_C
(
x
Ë
	)
x

428 
	#UINT32_C
(
x
Ëx##
U


	)

432 #ifde‡
__INT64_C


433 
	#INT64_C
(
x
Ë
	`__INT64_C
(x)

	)

434 
	#UINT64_C
(
x
Ë
	`__UINT64_C
(x)

	)

436 #i‡
__öt64_t_deföed


437 #i‡
__have_l⁄g64


438 
	#INT64_C
(
x
Ëx##
L


	)

439 
	#UINT64_C
(
x
Ëx##
UL


	)

441 
	#INT64_C
(
x
Ëx##
LL


	)

442 
	#UINT64_C
(
x
Ëx##
ULL


	)

448 #ifde‡
__INTMAX_C


449 
	#INTMAX_C
(
x
Ë
	`__INTMAX_C
(x)

	)

450 
	#UINTMAX_C
(
x
Ë
	`__UINTMAX_C
(x)

	)

452 #i‡
__have_l⁄g64


453 
	#INTMAX_C
(
x
Ëx##
L


	)

454 
	#UINTMAX_C
(
x
Ëx##
UL


	)

456 
	#INTMAX_C
(
x
Ëx##
LL


	)

457 
	#UINTMAX_C
(
x
Ëx##
ULL


	)

462 #ifde‡
__˝lu•lus


	@/usr/include/stdio.h

26 #i‚de‡
_STDIO_H_


27 
	#_STDIO_H_


	)

29 
	~"_™si.h
"

31 
	#_FSTDIO


	)

33 
	#__√ed_size_t


	)

34 
	#__√ed_NULL


	)

35 
	~<sys/cdefs.h
>

36 
	~<°ddef.h
>

39 
	#__√ed___va_li°


	)

40 
	~<°d¨g.h
>

43 #i‡
__POSIX_VISIBLE
 >200809 || 
__XSI_VISIBLE


44 #ifde‡
__GNUC__


45 #i‚de‡
_VA_LIST_DEFINED


46 
__gnuc_va_li°
 
	tva_li°
;

47 
	#_VA_LIST_DEFINED


	)

50 
	~<°d¨g.h
>

60 
	~<sys/ªít.h
>

61 
	~<sys/ty≥s.h
>

63 
	g_BEGIN_STD_C


65 #i‡!
deföed
(
__FILE_deföed
)

66 
__FILE
 
	tFILE
;

67 
	#__FILE_deföed


	)

70 #ifde‡
__CYGWIN__


71 
_Âos64_t
 
	tÂos_t
;

73 
_Âos_t
 
	tÂos_t
;

74 #ifde‡
__LARGE64_FILES


75 
_Âos64_t
 
	tÂos64_t
;

79 
	~<sys/°dio.h
>

81 
	#__SLBF
 0x0001

	)

82 
	#__SNBF
 0x0002

	)

83 
	#__SRD
 0x0004

	)

84 
	#__SWR
 0x0008

	)

86 
	#__SRW
 0x0010

	)

87 
	#__SEOF
 0x0020

	)

88 
	#__SERR
 0x0040

	)

89 
	#__SMBF
 0x0080

	)

90 
	#__SAPP
 0x0100

	)

91 
	#__SSTR
 0x0200

	)

92 
	#__SOPT
 0x0400

	)

93 
	#__SNPT
 0x0800

	)

94 
	#__SOFF
 0x1000

	)

95 
	#__SORD
 0x2000

	)

96 #i‡
deföed
(
__CYGWIN__
)

97 
	#__SCLE
 0x4000

	)

99 
	#__SL64
 0x8000

	)

102 
	#__SNLK
 0x0001

	)

103 
	#__SWID
 0x2000

	)

114 
	#_IOFBF
 0

	)

115 
	#_IOLBF
 1

	)

116 
	#_IONBF
 2

	)

118 
	#EOF
 (-1)

	)

120 #ifde‡
__BUFSIZ__


121 
	#BUFSIZ
 
__BUFSIZ__


	)

123 
	#BUFSIZ
 1024

	)

126 #ifde‡
__FOPEN_MAX__


127 
	#FOPEN_MAX
 
__FOPEN_MAX__


	)

129 
	#FOPEN_MAX
 20

	)

132 #ifde‡
__FILENAME_MAX__


133 
	#FILENAME_MAX
 
__FILENAME_MAX__


	)

135 
	#FILENAME_MAX
 1024

	)

138 #ifde‡
__L_tm≤am__


139 
	#L_tm≤am
 
__L_tm≤am__


	)

141 
	#L_tm≤am
 
FILENAME_MAX


	)

144 #i‡
__BSD_VISIBLE
 || 
__XSI_VISIBLE


145 
	#P_tmpdú
 "/tmp"

	)

148 #i‚de‡
SEEK_SET


149 
	#SEEK_SET
 0

	)

151 #i‚de‡
SEEK_CUR


152 
	#SEEK_CUR
 1

	)

154 #i‚de‡
SEEK_END


155 
	#SEEK_END
 2

	)

158 
	#TMP_MAX
 26

	)

160 
	#°dö
 (
_REENT
->
_°dö
)

	)

161 
	#°dout
 (
_REENT
->
_°dout
)

	)

162 
	#°dîr
 (
_REENT
->
_°dîr
)

	)

164 
	#_°dö_r
(
x
Ë((x)->
_°dö
)

	)

165 
	#_°dout_r
(
x
Ë((x)->
_°dout
)

	)

166 
	#_°dîr_r
(
x
Ë((x)->
_°dîr
)

	)

172 #i‚de‡
__VALIST


173 #ifde‡
__GNUC__


174 
	#__VALIST
 
__gnuc_va_li°


	)

176 
	#__VALIST
 *

	)

180 #i‡
__POSIX_VISIBLE


181 * 
_EXFUN
(
˘îmid
, (*));

183 #i‡
__XSI_VISIBLE
 && __XSI_VISIBLE < 600

184 * 
_EXFUN
(
cu£rid
, (*));

186 
FILE
 * 
_EXFUN
(
tmpfûe
, ());

187 * 
_EXFUN
(
tm≤am
, (*));

188 #i‡
__BSD_VISIBLE
 || 
__XSI_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200112

189 * 
_EXFUN
(
ãm≤am
, (const *, const *));

191 
_EXFUN
(
f˛o£
, (
FILE
 *));

192 
_EXFUN
(
fÊush
, (
FILE
 *));

193 
FILE
 * 
_EXFUN
(
‰e›í
, (c⁄° *
__ª°ri˘
, const *__restrict, FILE *__restrict));

194 
_EXFUN
(
£tbuf
, (
FILE
 *
__ª°ri˘
, *__restrict));

195 
_EXFUN
(
£tvbuf
, (
FILE
 *
__ª°ri˘
, *__ª°ri˘, , 
size_t
));

196 
_EXFUN
(
Ârötf
, (
FILE
 *
__ª°ri˘
, const *__restrict, ...)

197 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 3))));

198 
_EXFUN
(
fsˇnf
, (
FILE
 *
__ª°ri˘
, const *__restrict, ...)

199 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 2, 3))));

200 
_EXFUN
(
¥ötf
, (c⁄° *
__ª°ri˘
, ...)

201 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 1, 2))));

202 
_EXFUN
(
sˇnf
, (c⁄° *
__ª°ri˘
, ...)

203 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 1, 2))));

204 
_EXFUN
(
ssˇnf
, (c⁄° *
__ª°ri˘
, const *__restrict, ...)

205 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 2, 3))));

206 
_EXFUN
(
vÂrötf
, (
FILE
 *
__ª°ri˘
, c⁄° *__ª°ri˘, 
__VALIST
)

207 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 0))));

208 
_EXFUN
(
v¥ötf
, (c⁄° *, 
__VALIST
)

209 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 1, 0))));

210 
_EXFUN
(
v•rötf
, (*
__ª°ri˘
, c⁄° *__ª°ri˘, 
__VALIST
)

211 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 0))));

212 
_EXFUN
(
fgëc
, (
FILE
 *));

213 * 
_EXFUN
(
fgës
, (*
__ª°ri˘
, , 
FILE
 *__restrict));

214 
_EXFUN
(
Âutc
, (, 
FILE
 *));

215 
_EXFUN
(
Âuts
, (c⁄° *
__ª°ri˘
, 
FILE
 *__restrict));

216 
_EXFUN
(
gëc
, (
FILE
 *));

217 
_EXFUN
(
gëch¨
, ());

218 * 
_EXFUN
(
gës
, (*));

219 
_EXFUN
(
putc
, (, 
FILE
 *));

220 
_EXFUN
(
putch¨
, ());

221 
_EXFUN
(
puts
, (const *));

222 
_EXFUN
(
ungëc
, (, 
FILE
 *));

223 
size_t
 
_EXFUN
(
‰ód
, (
_PTR
 
__ª°ri˘
, size_à
_size
, size_à
_n
, 
FILE
 *__restrict));

224 
size_t
 
_EXFUN
(
fwrôe
, (c⁄° 
_PTR
 
__ª°ri˘
 , size_à
_size
, size_à
_n
, 
FILE
 *));

225 #ifde‡
_COMPILING_NEWLIB


226 
_EXFUN
(
fgëpos
, (
FILE
 *, 
_Âos_t
 *));

228 
_EXFUN
(
fgëpos
, (
FILE
 *
__ª°ri˘
, 
Âos_t
 *__restrict));

230 
_EXFUN
(
f£ek
, (
FILE
 *, , ));

231 #ifde‡
_COMPILING_NEWLIB


232 
_EXFUN
(
f£ços
, (
FILE
 *, c⁄° 
_Âos_t
 *));

234 
_EXFUN
(
f£ços
, (
FILE
 *, c⁄° 
Âos_t
 *));

236 
_EXFUN
(
·ñl
, ( 
FILE
 *));

237 
_EXFUN
(
ªwöd
, (
FILE
 *));

238 
_EXFUN
(
˛óªº
, (
FILE
 *));

239 
_EXFUN
(
„of
, (
FILE
 *));

240 
_EXFUN
(
„º‹
, (
FILE
 *));

241 
_EXFUN
(
≥º‹
, (const *));

242 #i‚de‡
_REENT_ONLY


243 
FILE
 * 
_EXFUN
(
f›í
, (c⁄° *
__ª°ri˘
 
_«me
, c⁄° *__ª°ri˘ 
_ty≥
));

244 
_EXFUN
(
•rötf
, (*
__ª°ri˘
, const *__restrict, ...)

245 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 3))));

246 
_EXFUN
(
ªmove
, (const *));

247 
_EXFUN
(
ª«me
, (const *, const *));

248 #ifde‡
_COMPILING_NEWLIB


249 
_EXFUN
(
_ª«me
, (const *, const *));

252 #i‡
__LARGEFILE_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200112

253 #ifde‡
_COMPILING_NEWLIB


254 
_EXFUN
(
f£eko
, (
FILE
 *, 
_off_t
, ));

255 
_off_t
 
_EXFUN
(
·ñlo
, ( 
FILE
 *));

257 
_EXFUN
(
f£eko
, (
FILE
 *, 
off_t
, ));

258 
off_t
 
_EXFUN
(
·ñlo
, ( 
FILE
 *));

261 #i‡
__GNU_VISIBLE


262 
_EXFUN
(
f˛o£Æl
, (
_VOID
));

264 #i‚de‡
_REENT_ONLY


265 #i‡
__ISO_C_VISIBLE
 >= 1999

266 
_EXFUN
(
¢¥ötf
, (*
__ª°ri˘
, 
size_t
, const *__restrict, ...)

267 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 4))));

268 
_EXFUN
(
v¢¥ötf
, (*
__ª°ri˘
, 
size_t
, c⁄° *__ª°ri˘, 
__VALIST
)

269 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 0))));

270 
_EXFUN
(
vfsˇnf
, (
FILE
 *
__ª°ri˘
, c⁄° *__ª°ri˘, 
__VALIST
)

271 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 2, 0))));

272 
_EXFUN
(
vsˇnf
, (c⁄° *, 
__VALIST
)

273 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 1, 0))));

274 
_EXFUN
(
vssˇnf
, (c⁄° *
__ª°ri˘
, c⁄° *__ª°ri˘, 
__VALIST
)

275 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 2, 0))));

277 #i‡
__GNU_VISIBLE


278 
_EXFUN
(
a•rötf
, (**
__ª°ri˘
, const *__restrict, ...)

279 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 3))));

280 
_EXFUN
(
va•rötf
, (**, c⁄° *, 
__VALIST
)

281 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 0))));

283 #i‡
__MISC_VISIBLE


284 
_EXFUN
(
asùrötf
, (**, const *, ...)

285 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 3))));

286 * 
_EXFUN
(
a¢ùrötf
, (*, 
size_t
 *, const *, ...)

287 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 4))));

288 * 
_EXFUN
(
a¢¥ötf
, (*
__ª°ri˘
, 
size_t
 *__restrict, const *__restrict, ...)

289 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 4))));

290 #i‚de‡
dùrötf


291 
_EXFUN
(
dùrötf
, (, const *, ...)

292 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 3))));

294 
_EXFUN
(
fùrötf
, (
FILE
 *, const *, ...)

295 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 3))));

296 
_EXFUN
(
fisˇnf
, (
FILE
 *, const *, ...)

297 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 2, 3))));

298 
_EXFUN
(
ùrötf
, (const *, ...)

299 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 1, 2))));

300 
_EXFUN
(
isˇnf
, (const *, ...)

301 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 1, 2))));

302 
_EXFUN
(
sùrötf
, (*, const *, ...)

303 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 3))));

304 
_EXFUN
(
sisˇnf
, (const *, const *, ...)

305 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 2, 3))));

306 
_EXFUN
(
¢ùrötf
, (*, 
size_t
, const *, ...)

307 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 4))));

308 
_EXFUN
(
vasùrötf
, (**, c⁄° *, 
__VALIST
)

309 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 0))));

310 * 
_EXFUN
(
va¢ùrötf
, (*, 
size_t
 *, c⁄° *, 
__VALIST
)

311 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 0))));

312 * 
_EXFUN
(
va¢¥ötf
, (*, 
size_t
 *, c⁄° *, 
__VALIST
)

313 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 0))));

314 
_EXFUN
(
vdùrötf
, (, c⁄° *, 
__VALIST
)

315 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 0))));

316 
_EXFUN
(
vfùrötf
, (
FILE
 *, c⁄° *, 
__VALIST
)

317 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 0))));

318 
_EXFUN
(
vfisˇnf
, (
FILE
 *, c⁄° *, 
__VALIST
)

319 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 2, 0))));

320 
_EXFUN
(
vùrötf
, (c⁄° *, 
__VALIST
)

321 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 1, 0))));

322 
_EXFUN
(
visˇnf
, (c⁄° *, 
__VALIST
)

323 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 1, 0))));

324 
_EXFUN
(
vsùrötf
, (*, c⁄° *, 
__VALIST
)

325 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 0))));

326 
_EXFUN
(
vsisˇnf
, (c⁄° *, c⁄° *, 
__VALIST
)

327 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 2, 0))));

328 
_EXFUN
(
v¢ùrötf
, (*, 
size_t
, c⁄° *, 
__VALIST
)

329 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 0))));

337 #i‡
__POSIX_VISIBLE


338 #i‚de‡
_REENT_ONLY


339 
FILE
 * 
_EXFUN
(
fd›í
, (, const *));

341 
_EXFUN
(
fûío
, (
FILE
 *));

343 #i‡
__MISC_VISIBLE
 || 
__POSIX_VISIBLE
 >= 199209

344 
_EXFUN
(
p˛o£
, (
FILE
 *));

345 
FILE
 * 
_EXFUN
(
p›í
, (const *, const *));

348 #i‡
__BSD_VISIBLE


349 
_EXFUN
(
£tbuf„r
, (
FILE
 *, *, ));

350 
_EXFUN
(
£éöebuf
, (
FILE
 *));

353 #i‡
__MISC_VISIBLE
 || (
__XSI_VISIBLE
 && 
__POSIX_VISIBLE
 < 200112)

354 
_EXFUN
(
gëw
, (
FILE
 *));

355 
_EXFUN
(
putw
, (, 
FILE
 *));

357 #i‡
__MISC_VISIBLE
 || 
__POSIX_VISIBLE


358 
_EXFUN
(
gëc_u∆ocked
, (
FILE
 *));

359 
_EXFUN
(
gëch¨_u∆ocked
, ());

360 
_EXFUN
(
Êockfûe
, (
FILE
 *));

361 
_EXFUN
(
·rylockfûe
, (
FILE
 *));

362 
_EXFUN
(
fu∆ockfûe
, (
FILE
 *));

363 
_EXFUN
(
putc_u∆ocked
, (, 
FILE
 *));

364 
_EXFUN
(
putch¨_u∆ocked
, ());

371 #i‡
__POSIX_VISIBLE
 >= 200809

372 #i‚de‡
_REENT_ONLY


373 #i‚de‡
d¥ötf


374 
_EXFUN
(
d¥ötf
, (, c⁄° *
__ª°ri˘
, ...)

375 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 3))));

377 
FILE
 * 
_EXFUN
(
fmem›í
, (*
__ª°ri˘
, 
size_t
, const *__restrict));

380 
FILE
 * 
_EXFUN
(
›í_mem°ªam
, (**, 
size_t
 *));

381 
_EXFUN
(
vd¥ötf
, (, c⁄° *
__ª°ri˘
, 
__VALIST
)

382 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 0))));

385 #i‡
__ATFILE_VISIBLE


386 
_EXFUN
(
ª«mót
, (, const *, , const *));

387 #ifde‡
__CYGWIN__


388 
_EXFUN
(
ª«mót2
, (, const *, , const *, ));

396 
_EXFUN
(
_asùrötf_r
, (
_ªít
 *, **, const *, ...)

397 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 4))));

398 * 
_EXFUN
(
_a¢ùrötf_r
, (
_ªít
 *, *, 
size_t
 *, const *, ...)

399 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 4, 5))));

400 * 
_EXFUN
(
_a¢¥ötf_r
, (
_ªít
 *, *
__ª°ri˘
, 
size_t
 *__restrict, const *__restrict, ...)

401 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 4, 5))));

402 
_EXFUN
(
_a•rötf_r
, (
_ªít
 *, **
__ª°ri˘
, const *__restrict, ...)

403 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 4))));

404 
_EXFUN
(
_dùrötf_r
, (
_ªít
 *, , const *, ...)

405 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 4))));

406 
_EXFUN
(
_d¥ötf_r
, (
_ªít
 *, , c⁄° *
__ª°ri˘
, ...)

407 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 4))));

408 
_EXFUN
(
_f˛o£_r
, (
_ªít
 *, 
FILE
 *));

409 
_EXFUN
(
_f˛o£Æl_r
, (
_ªít
 *));

410 
FILE
 * 
_EXFUN
(
_fd›í_r
, (
_ªít
 *, , const *));

411 
_EXFUN
(
_fÊush_r
, (
_ªít
 *, 
FILE
 *));

412 
_EXFUN
(
_fgëc_r
, (
_ªít
 *, 
FILE
 *));

413 
_EXFUN
(
_fgëc_u∆ocked_r
, (
_ªít
 *, 
FILE
 *));

414 * 
_EXFUN
(
_fgës_r
, (
_ªít
 *, *
__ª°ri˘
, , 
FILE
 *__restrict));

415 * 
_EXFUN
(
_fgës_u∆ocked_r
, (
_ªít
 *, *
__ª°ri˘
, , 
FILE
 *__restrict));

416 #ifde‡
_COMPILING_NEWLIB


417 
_EXFUN
(
_fgëpos_r
, (
_ªít
 *, 
FILE
 *
__ª°ri˘
, 
_Âos_t
 *__restrict));

418 
_EXFUN
(
_f£ços_r
, (
_ªít
 *, 
FILE
 *, c⁄° 
_Âos_t
 *));

420 
_EXFUN
(
_fgëpos_r
, (
_ªít
 *, 
FILE
 *, 
Âos_t
 *));

421 
_EXFUN
(
_f£ços_r
, (
_ªít
 *, 
FILE
 *, c⁄° 
Âos_t
 *));

423 
_EXFUN
(
_fùrötf_r
, (
_ªít
 *, 
FILE
 *, const *, ...)

424 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 4))));

425 
_EXFUN
(
_fisˇnf_r
, (
_ªít
 *, 
FILE
 *, const *, ...)

426 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 3, 4))));

427 
FILE
 * 
_EXFUN
(
_fmem›í_r
, (
_ªít
 *, *
__ª°ri˘
, 
size_t
, const *__restrict));

428 
FILE
 * 
_EXFUN
(
_f›í_r
, (
_ªít
 *, c⁄° *
__ª°ri˘
, const *__restrict));

429 
FILE
 * 
_EXFUN
(
_‰e›í_r
, (
_ªít
 *, c⁄° *
__ª°ri˘
, const *__restrict, FILE *__restrict));

430 
_EXFUN
(
_Ârötf_r
, (
_ªít
 *, 
FILE
 *
__ª°ri˘
, const *__restrict, ...)

431 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 4))));

432 
_EXFUN
(
_Âurge_r
, (
_ªít
 *, 
FILE
 *));

433 
_EXFUN
(
_Âutc_r
, (
_ªít
 *, , 
FILE
 *));

434 
_EXFUN
(
_Âutc_u∆ocked_r
, (
_ªít
 *, , 
FILE
 *));

435 
_EXFUN
(
_Âuts_r
, (
_ªít
 *, c⁄° *
__ª°ri˘
, 
FILE
 *__restrict));

436 
_EXFUN
(
_Âuts_u∆ocked_r
, (
_ªít
 *, c⁄° *
__ª°ri˘
, 
FILE
 *__restrict));

437 
size_t
 
_EXFUN
(
_‰ód_r
, (
_ªít
 *, 
_PTR
 
__ª°ri˘
, size_à
_size
, size_à
_n
, 
FILE
 *__restrict));

438 
size_t
 
_EXFUN
(
_‰ód_u∆ocked_r
, (
_ªít
 *, 
_PTR
 
__ª°ri˘
, size_à
_size
, size_à
_n
, 
FILE
 *__restrict));

439 
_EXFUN
(
_fsˇnf_r
, (
_ªít
 *, 
FILE
 *
__ª°ri˘
, const *__restrict, ...)

440 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 3, 4))));

441 
_EXFUN
(
_f£ek_r
, (
_ªít
 *, 
FILE
 *, , ));

442 
_EXFUN
(
_f£eko_r
,(
_ªít
 *, 
FILE
 *, 
_off_t
, ));

443 
_EXFUN
(
_·ñl_r
, (
_ªít
 *, 
FILE
 *));

444 
_off_t
 
_EXFUN
(
_·ñlo_r
,(
_ªít
 *, 
FILE
 *));

445 
_EXFUN
(
_ªwöd_r
, (
_ªít
 *, 
FILE
 *));

446 
size_t
 
_EXFUN
(
_fwrôe_r
, (
_ªít
 *, c⁄° 
_PTR
 
__ª°ri˘
, size_à
_size
, size_à
_n
, 
FILE
 *__restrict));

447 
size_t
 
_EXFUN
(
_fwrôe_u∆ocked_r
, (
_ªít
 *, c⁄° 
_PTR
 
__ª°ri˘
, size_à
_size
, size_à
_n
, 
FILE
 *__restrict));

448 
_EXFUN
(
_gëc_r
, (
_ªít
 *, 
FILE
 *));

449 
_EXFUN
(
_gëc_u∆ocked_r
, (
_ªít
 *, 
FILE
 *));

450 
_EXFUN
(
_gëch¨_r
, (
_ªít
 *));

451 
_EXFUN
(
_gëch¨_u∆ocked_r
, (
_ªít
 *));

452 * 
_EXFUN
(
_gës_r
, (
_ªít
 *, *));

453 
_EXFUN
(
_ùrötf_r
, (
_ªít
 *, const *, ...)

454 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 3))));

455 
_EXFUN
(
_isˇnf_r
, (
_ªít
 *, const *, ...)

456 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 2, 3))));

457 
FILE
 * 
_EXFUN
(
_›í_mem°ªam_r
, (
_ªít
 *, **, 
size_t
 *));

458 
_EXFUN
(
_≥º‹_r
, (
_ªít
 *, const *));

459 
_EXFUN
(
_¥ötf_r
, (
_ªít
 *, c⁄° *
__ª°ri˘
, ...)

460 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 3))));

461 
_EXFUN
(
_putc_r
, (
_ªít
 *, , 
FILE
 *));

462 
_EXFUN
(
_putc_u∆ocked_r
, (
_ªít
 *, , 
FILE
 *));

463 
_EXFUN
(
_putch¨_u∆ocked_r
, (
_ªít
 *, ));

464 
_EXFUN
(
_putch¨_r
, (
_ªít
 *, ));

465 
_EXFUN
(
_puts_r
, (
_ªít
 *, const *));

466 
_EXFUN
(
_ªmove_r
, (
_ªít
 *, const *));

467 
_EXFUN
(
_ª«me_r
, (
_ªít
 *,

468 c⁄° *
_ﬁd
, c⁄° *
_√w
));

469 
_EXFUN
(
_sˇnf_r
, (
_ªít
 *, c⁄° *
__ª°ri˘
, ...)

470 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 2, 3))));

471 
_EXFUN
(
_sùrötf_r
, (
_ªít
 *, *, const *, ...)

472 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 4))));

473 
_EXFUN
(
_sisˇnf_r
, (
_ªít
 *, const *, const *, ...)

474 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 3, 4))));

475 
_EXFUN
(
_¢ùrötf_r
, (
_ªít
 *, *, 
size_t
, const *, ...)

476 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 4, 5))));

477 
_EXFUN
(
_¢¥ötf_r
, (
_ªít
 *, *
__ª°ri˘
, 
size_t
, const *__restrict, ...)

478 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 4, 5))));

479 
_EXFUN
(
_•rötf_r
, (
_ªít
 *, *
__ª°ri˘
, const *__restrict, ...)

480 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 4))));

481 
_EXFUN
(
_ssˇnf_r
, (
_ªít
 *, c⁄° *
__ª°ri˘
, const *__restrict, ...)

482 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 3, 4))));

483 * 
_EXFUN
(
_ãm≤am_r
, (
_ªít
 *, const *, const *));

484 
FILE
 * 
_EXFUN
(
_tmpfûe_r
, (
_ªít
 *));

485 * 
_EXFUN
(
_tm≤am_r
, (
_ªít
 *, *));

486 
_EXFUN
(
_ungëc_r
, (
_ªít
 *, , 
FILE
 *));

487 
_EXFUN
(
_vasùrötf_r
, (
_ªít
 *, **, c⁄° *, 
__VALIST
)

488 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 0))));

489 * 
_EXFUN
(
_va¢ùrötf_r
, (
_ªít
*, *, 
size_t
 *, c⁄° *, 
__VALIST
)

490 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 4, 0))));

491 * 
_EXFUN
(
_va¢¥ötf_r
, (
_ªít
*, *, 
size_t
 *, c⁄° *, 
__VALIST
)

492 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 4, 0))));

493 
_EXFUN
(
_va•rötf_r
, (
_ªít
 *, **, c⁄° *, 
__VALIST
)

494 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 0))));

495 
_EXFUN
(
_vdùrötf_r
, (
_ªít
 *, , c⁄° *, 
__VALIST
)

496 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 0))));

497 
_EXFUN
(
_vd¥ötf_r
, (
_ªít
 *, , c⁄° *
__ª°ri˘
, 
__VALIST
)

498 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 0))));

499 
_EXFUN
(
_vfùrötf_r
, (
_ªít
 *, 
FILE
 *, c⁄° *, 
__VALIST
)

500 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 0))));

501 
_EXFUN
(
_vfisˇnf_r
, (
_ªít
 *, 
FILE
 *, c⁄° *, 
__VALIST
)

502 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 3, 0))));

503 
_EXFUN
(
_vÂrötf_r
, (
_ªít
 *, 
FILE
 *
__ª°ri˘
, c⁄° *__ª°ri˘, 
__VALIST
)

504 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 0))));

505 
_EXFUN
(
_vfsˇnf_r
, (
_ªít
 *, 
FILE
 *
__ª°ri˘
, c⁄° *__ª°ri˘, 
__VALIST
)

506 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 3, 0))));

507 
_EXFUN
(
_vùrötf_r
, (
_ªít
 *, c⁄° *, 
__VALIST
)

508 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 0))));

509 
_EXFUN
(
_visˇnf_r
, (
_ªít
 *, c⁄° *, 
__VALIST
)

510 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 2, 0))));

511 
_EXFUN
(
_v¥ötf_r
, (
_ªít
 *, c⁄° *
__ª°ri˘
, 
__VALIST
)

512 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 2, 0))));

513 
_EXFUN
(
_vsˇnf_r
, (
_ªít
 *, c⁄° *
__ª°ri˘
, 
__VALIST
)

514 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 2, 0))));

515 
_EXFUN
(
_vsùrötf_r
, (
_ªít
 *, *, c⁄° *, 
__VALIST
)

516 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 0))));

517 
_EXFUN
(
_vsisˇnf_r
, (
_ªít
 *, c⁄° *, c⁄° *, 
__VALIST
)

518 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 3, 0))));

519 
_EXFUN
(
_v¢ùrötf_r
, (
_ªít
 *, *, 
size_t
, c⁄° *, 
__VALIST
)

520 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 4, 0))));

521 
_EXFUN
(
_v¢¥ötf_r
, (
_ªít
 *, *
__ª°ri˘
, 
size_t
, c⁄° *__ª°ri˘, 
__VALIST
)

522 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 4, 0))));

523 
_EXFUN
(
_v•rötf_r
, (
_ªít
 *, *
__ª°ri˘
, c⁄° *__ª°ri˘, 
__VALIST
)

524 
_ATTRIBUTE
 ((
__f‹m©__
 (
__¥ötf__
, 3, 0))));

525 
_EXFUN
(
_vssˇnf_r
, (
_ªít
 *, c⁄° *
__ª°ri˘
, c⁄° *__ª°ri˘, 
__VALIST
)

526 
_ATTRIBUTE
 ((
__f‹m©__
 (
__sˇnf__
, 3, 0))));

530 
_EXFUN
(
Âurge
, (
FILE
 *));

531 
ssize_t
 
_EXFUN
(
__gëdñim
, (**, 
size_t
 *, , 
FILE
 *));

532 
ssize_t
 
_EXFUN
(
__gëlöe
, (**, 
size_t
 *, 
FILE
 *));

534 #i‡
__MISC_VISIBLE


535 
_EXFUN
(
˛óªº_u∆ocked
, (
FILE
 *));

536 
_EXFUN
(
„of_u∆ocked
, (
FILE
 *));

537 
_EXFUN
(
„º‹_u∆ocked
, (
FILE
 *));

538 
_EXFUN
(
fûío_u∆ocked
, (
FILE
 *));

539 
_EXFUN
(
fÊush_u∆ocked
, (
FILE
 *));

540 
_EXFUN
(
fgëc_u∆ocked
, (
FILE
 *));

541 
_EXFUN
(
Âutc_u∆ocked
, (, 
FILE
 *));

542 
size_t
 
_EXFUN
(
‰ód_u∆ocked
, (
_PTR
 
__ª°ri˘
, size_à
_size
, size_à
_n
, 
FILE
 *__restrict));

543 
size_t
 
_EXFUN
(
fwrôe_u∆ocked
, (c⁄° 
_PTR
 
__ª°ri˘
 , size_à
_size
, size_à
_n
, 
FILE
 *));

546 #i‡
__GNU_VISIBLE


547 * 
_EXFUN
(
fgës_u∆ocked
, (*
__ª°ri˘
, , 
FILE
 *__restrict));

548 
_EXFUN
(
Âuts_u∆ocked
, (c⁄° *
__ª°ri˘
, 
FILE
 *__restrict));

551 #ifde‡
__LARGE64_FILES


552 #i‡!
deföed
(
__CYGWIN__
Ë|| deföed(
_COMPILING_NEWLIB
)

553 
FILE
 * 
_EXFUN
(
fd›í64
, (, const *));

554 
FILE
 * 
_EXFUN
(
f›í64
, (const *, const *));

555 
FILE
 * 
_EXFUN
(
‰e›í64
, (
_CONST
 *, _CONST *, FILE *));

556 
_off64_t
 
_EXFUN
(
·ñlo64
, (
FILE
 *));

557 
_off64_t
 
_EXFUN
(
f£eko64
, (
FILE
 *, _off64_t, ));

558 
_EXFUN
(
fgëpos64
, (
FILE
 *, 
_Âos64_t
 *));

559 
_EXFUN
(
f£ços64
, (
FILE
 *, c⁄° 
_Âos64_t
 *));

560 
FILE
 * 
_EXFUN
(
tmpfûe64
, ());

562 
FILE
 * 
_EXFUN
(
_fd›í64_r
, (
_ªít
 *, , const *));

563 
FILE
 * 
_EXFUN
(
_f›í64_r
, (
_ªít
 *,const *, const *));

564 
FILE
 * 
_EXFUN
(
_‰e›í64_r
, (
_ªít
 *, 
_CONST
 *, _CONST *, FILE *));

565 
_off64_t
 
_EXFUN
(
_·ñlo64_r
, (
_ªít
 *, 
FILE
 *));

566 
_off64_t
 
_EXFUN
(
_f£eko64_r
, (
_ªít
 *, 
FILE
 *, _off64_t, ));

567 
_EXFUN
(
_fgëpos64_r
, (
_ªít
 *, 
FILE
 *, 
_Âos64_t
 *));

568 
_EXFUN
(
_f£ços64_r
, (
_ªít
 *, 
FILE
 *, c⁄° 
_Âos64_t
 *));

569 
FILE
 * 
_EXFUN
(
_tmpfûe64_r
, (
_ªít
 *));

577 
_EXFUN
(
__§gë_r
, (
_ªít
 *, 
FILE
 *));

578 
_EXFUN
(
__swbuf_r
, (
_ªít
 *, , 
FILE
 *));

584 #i‡
__BSD_VISIBLE


585 #ifde‡
__LARGE64_FILES


586 
FILE
 *
_EXFUN
(
fun›í
,(c⁄° 
_PTR
 
__cookõ
,

587 (*
__ªad‚
)(
_PTR
 
__c
, *
__buf
,

588 
_READ_WRITE_BUFSIZE_TYPE
 
__n
),

589 (*
__wrôe‚
)(
_PTR
 
__c
, c⁄° *
__buf
,

590 
_READ_WRITE_BUFSIZE_TYPE
 
__n
),

591 
	$_Âos64_t
 (*
__£ek‚
)(
_PTR
 
__c
, 
_Âos64_t
 
__off
, 
__whí˚
),

592 (*
__˛o£‚
)(
_PTR
 
__c
)));

593 
FILE
 *
	`_EXFUN
(
_fun›í_r
,(
_ªít
 *, c⁄° 
_PTR
 
__cookõ
,

594 (*
__ªad‚
)(
_PTR
 
__c
, *
__buf
,

595 
_READ_WRITE_BUFSIZE_TYPE
 
__n
),

596 (*
__wrôe‚
)(
_PTR
 
__c
, c⁄° *
__buf
,

597 
_READ_WRITE_BUFSIZE_TYPE
 
__n
),

598 
	$_Âos64_t
 (*
__£ek‚
)(
_PTR
 
__c
, 
_Âos64_t
 
__off
, 
__whí˚
),

599 (*
__˛o£‚
)(
_PTR
 
__c
)));

601 
FILE
 *
	`_EXFUN
(
fun›í
,(c⁄° 
_PTR
 
__cookõ
,

602 (*
__ªad‚
)(
_PTR
 
__cookõ
, *
__buf
,

603 
_READ_WRITE_BUFSIZE_TYPE
 
__n
),

604 (*
__wrôe‚
)(
_PTR
 
__cookõ
, c⁄° *
__buf
,

605 
_READ_WRITE_BUFSIZE_TYPE
 
__n
),

606 
	$Âos_t
 (*
__£ek‚
)(
_PTR
 
__cookõ
, 
Âos_t
 
__off
, 
__whí˚
),

607 (*
__˛o£‚
)(
_PTR
 
__cookõ
)));

608 
FILE
 *
	`_EXFUN
(
_fun›í_r
,(
_ªít
 *, c⁄° 
_PTR
 
__cookõ
,

609 (*
__ªad‚
)(
_PTR
 
__cookõ
, *
__buf
,

610 
_READ_WRITE_BUFSIZE_TYPE
 
__n
),

611 (*
__wrôe‚
)(
_PTR
 
__cookõ
, c⁄° *
__buf
,

612 
_READ_WRITE_BUFSIZE_TYPE
 
__n
),

613 
	$Âos_t
 (*
__£ek‚
)(
_PTR
 
__cookõ
, 
Âos_t
 
__off
, 
__whí˚
),

614 (*
__˛o£‚
)(
_PTR
 
__cookõ
)));

617 
	#‰›í
(
__cookõ
, 
__‚
Ë
	`fun›í
(__cookie, __fn, ((*)())0, \

618 (
	`Âos_t
 (*)())0, ((*)())0)

	)

619 
	#fw›í
(
__cookõ
, 
__‚
Ë
	`fun›í
(__cookie, ((*)())0, __fn, \

620 (
	`Âos_t
 (*)())0, ((*)())0)

	)

623 #i‡
__GNU_VISIBLE


624 
ssize_t
 
	tcookõ_ªad_fun˘i⁄_t
(*
	t__cookõ
, *
	t__buf
, 
	tsize_t
 
	t__n
);

625 
ssize_t
 
	tcookõ_wrôe_fun˘i⁄_t
(*
	t__cookõ
, c⁄° *
	t__buf
,

626 
	tsize_t
 
	t__n
);

627 #ifde‡
__LARGE64_FILES


628 
	tcookõ_£ek_fun˘i⁄_t
(*
	t__cookõ
, 
	t_off64_t
 *
	t__off
,

629 
	t__whí˚
);

631 
	tcookõ_£ek_fun˘i⁄_t
(*
	t__cookõ
, 
	toff_t
 *
	t__off
, 
	t__whí˚
);

633 
	tcookõ_˛o£_fun˘i⁄_t
(*
	t__cookõ
);

638 
cookõ_ªad_fun˘i⁄_t
 *
ªad
;

639 
cookõ_wrôe_fun˘i⁄_t
 *
wrôe
;

640 
cookõ_£ek_fun˘i⁄_t
 *
£ek
;

641 
cookõ_˛o£_fun˘i⁄_t
 *
˛o£
;

642 } 
	tcookõ_io_fun˘i⁄s_t
;

643 
FILE
 *
	`_EXFUN
(
f›ícookõ
,(*
__cookõ
,

644 c⁄° *
__mode
, 
cookõ_io_fun˘i⁄s_t
 
__fun˘i⁄s
));

645 
FILE
 *
	`_EXFUN
(
_f›ícookõ_r
,(
_ªít
 *, *
__cookõ
,

646 c⁄° *
__mode
, 
cookõ_io_fun˘i⁄s_t
 
__fun˘i⁄s
));

649 #i‚de‡
__CUSTOM_FILE_IO__


654 
	#__sgëc_øw_r
(
__±r
, 
__f
Ë(--(__f)->
_r
 < 0 ? 
	`__§gë_r
(__±r, __fË: ()(*(__f)->
_p
++))

	)

656 #ifde‡
__SCLE


667 
_ELIDABLE_INLINE
 
	`__sgëc_r
(
_ªít
 *
__±r
, 
FILE
 *
__p
);

669 
_ELIDABLE_INLINE
 
	$__sgëc_r
(
_ªít
 *
__±r
, 
FILE
 *
__p
)

671 
__c
 = 
	`__sgëc_øw_r
(
__±r
, 
__p
);

672 i‡((
__p
->
_Êags
 & 
__SCLE
Ë&& (
__c
 == '\r'))

674 
__c2
 = 
	`__sgëc_øw_r
(
__±r
, 
__p
);

675 i‡(
__c2
 == '\n')

676 
__c
 = 
__c2
;

678 
	`ungëc
(
__c2
, 
__p
);

680  
__c
;

681 
	}
}

683 
	#__sgëc_r
(
__±r
, 
__p
Ë
	`__sgëc_øw_r
(__±r, __p)

	)

686 #ifde‡
__GNUC__


687 
_ELIDABLE_INLINE
 
	$__•utc_r
(
_ªít
 *
_±r
, 
_c
, 
FILE
 *
_p
) {

688 #ifde‡
__SCLE


689 i‡((
_p
->
_Êags
 & 
__SCLE
Ë&& 
_c
 == '\n')

690 
	`__•utc_r
 (
_±r
, '\r', 
_p
);

692 i‡(--
_p
->
_w
 >0 || (_p->_w >_p->
_lbfsize
 && ()
_c
 != '\n'))

693  (*
_p
->_p++ = 
_c
);

695  (
	`__swbuf_r
(
_±r
, 
_c
, 
_p
));

696 
	}
}

701 
	#__•utc_øw_r
(
__±r
, 
__c
, 
__p
) \

702 (--(
__p
)->
_w
 < 0 ? \

703 (
__p
)->
_w
 >(__p)->
_lbfsize
 ? \

704 (*(
__p
)->
_p
 = (
__c
)), *(__p)->_p != '\n' ? \

705 ()*(
__p
)->
_p
++ : \

706 
	`__swbuf_r
(
__±r
, '\n', 
__p
) : \

707 
	`__swbuf_r
(
__±r
, ()(
__c
), 
__p
) : \

708 (*(
__p
)->
_p
 = (
__c
), ()*(__p)->_p++))

	)

709 #ifde‡
__SCLE


710 
	#__•utc_r
(
__±r
, 
__c
, 
__p
) \

711 ((((
__p
)->
_Êags
 & 
__SCLE
Ë&& ((
__c
) == '\n')) \

712 ? 
	`__•utc_øw_r
(
__±r
, '\r', (
__p
)) : 0 , \

713 
	`__•utc_øw_r
((
__±r
), (
__c
), (
__p
)))

	)

715 
	#__•utc_r
(
__±r
, 
__c
, 
__p
Ë
	`__•utc_øw_r
(__±r, __c, __p)

	)

719 
	#__s„of
(
p
Ë(()((’)->
_Êags
 & 
__SEOF
Ë!0))

	)

720 
	#__s„º‹
(
p
Ë(()((’)->
_Êags
 & 
__SERR
Ë!0))

	)

721 
	#__s˛óªº
(
p
Ë(()(’)->
_Êags
 &~(
__SERR
|
__SEOF
)))

	)

722 
	#__sfûío
(
p
Ë(’)->
_fûe
)

	)

724 #i‚de‡
__˝lu•lus


725 #i‚de‡
_REENT_SMALL


726 
	#„of
(
p
Ë
	`__s„of
’)

	)

727 
	#„º‹
(
p
Ë
	`__s„º‹
’)

	)

728 
	#˛óªº
(
p
Ë
	`__s˛óªº
’)

	)

730 #i‡
__MISC_VISIBLE


731 
	#„of_u∆ocked
(
p
Ë
	`__s„of
’)

	)

732 
	#„º‹_u∆ocked
(
p
Ë
	`__s„º‹
’)

	)

733 
	#˛óªº_u∆ocked
(
p
Ë
	`__s˛óªº
’)

	)

738 
	#fûío
(
p
Ë
	`__sfûío
’)

	)

741 
__ölöe
 

742 
	$_gëch¨_u∆ocked
()

744 
_ªít
 *
_±r
;

746 
_±r
 = 
_REENT
;

747  (
	`__sgëc_r
(
_±r
, 
	`_°dö_r
(_ptr)));

748 
	}
}

750 
__ölöe
 

751 
	$_putch¨_u∆ocked
(
_c
)

753 
_ªít
 *
_±r
;

755 
_±r
 = 
_REENT
;

756  (
	`__•utc_r
(
_±r
, 
_c
, 
	`_°dout_r
(_ptr)));

757 
	}
}

759 #ifde‡
__SINGLE_THREAD__


760 
	#gëc
(
_p
Ë
	`__sgëc_r
(
_REENT
, _p)

	)

761 
	#putc
(
_c
, 
_p
Ë
	`__•utc_r
(
_REENT
, _c, _p)

	)

762 
	#gëch¨
(Ë
	`_gëch¨_u∆ocked
()

	)

763 
	#putch¨
(
_c
Ë
	`_putch¨_u∆ocked
(_c)

	)

766 #i‡
__MISC_VISIBLE
 || 
__POSIX_VISIBLE


767 
	#gëch¨_u∆ocked
(Ë
	`_gëch¨_u∆ocked
()

	)

768 
	#putch¨_u∆ocked
(
_c
Ë
	`_putch¨_u∆ocked
(_c)

	)

772 #i‡
__MISC_VISIBLE


774 
	#Á°_putc
(
x
,
p
Ë(--’)->
_w
 < 0 ? \

775 
	`__swbuf_r
(
_REENT
, ()(
x
), 
p
Ë=
EOF
 : (*’)->
_p
 = (x), (p)->_p++, 0))

	)

778 #i‡
__GNU_VISIBLE
 || (
__XSI_VISIBLE
 && __XSI_VISIBLE < 600)

779 
	#L_cu£rid
 9

	)

781 #i‡
__POSIX_VISIBLE


782 
	#L_˘îmid
 16

	)

787 
	#gëch¨
(Ë
	`gëc
(
°dö
)

	)

788 
	#putch¨
(
x
Ë
	`putc
(x, 
°dout
)

	)

790 #i‡
__MISC_VISIBLE
 || 
__POSIX_VISIBLE


791 
	#gëch¨_u∆ocked
(Ë
	`gëc_u∆ocked
(
°dö
)

	)

792 
	#putch¨_u∆ocked
(
x
Ë
	`putc_u∆ocked
(x, 
°dout
)

	)

797 
	g_END_STD_C


	@/usr/include/stdlib.h

7 #i‚de‡
_STDLIB_H_


8 
	#_STDLIB_H_


	)

10 
	~<machöe/õìÂ.h
>

11 
	~"_™si.h
"

13 
	#__√ed_size_t


	)

14 
	#__√ed_wch¨_t


	)

15 
	#__√ed_NULL


	)

16 
	~<°ddef.h
>

18 
	~<sys/ªít.h
>

19 
	~<sys/cdefs.h
>

20 
	~<machöe/°dlib.h
>

21 #i‚de‡
__STRICT_ANSI__


22 
	~<Æloˇ.h
>

25 #ifde‡
__CYGWIN__


26 
	~<cygwö/°dlib.h
>

29 #i‡
__GNU_VISIBLE


30 
	~<xloˇÀ.h
>

33 
_BEGIN_STD_C


37 
	mquŸ
;

38 
	mªm
;

39 } 
	tdiv_t
;

43 
	mquŸ
;

44 
	mªm
;

45 } 
	tldiv_t
;

47 #i‡
__ISO_C_VISIBLE
 >= 1999

50 
	mquŸ
;

51 
	mªm
;

52 } 
	tŒdiv_t
;

55 #i‚de‡
__com∑r_‚_t_deföed


56 
	#__com∑r_‚_t_deföed


	)

57 (*
	t__com∑r_‚_t
Ë(c⁄° 
	t_PTR
, const _PTR);

60 
	#EXIT_FAILURE
 1

	)

61 
	#EXIT_SUCCESS
 0

	)

63 
	#RAND_MAX
 
__RAND_MAX


	)

65 
	`_EXFUN
(
__loˇÀ_mb_cur_max
,(
_VOID
));

67 
	#MB_CUR_MAX
 
	`__loˇÀ_mb_cur_max
()

	)

69 
_VOID
 
	`_EXFUN
(
ab‹t
,(_VOIDË
	`_ATTRIBUTE
 ((
__n‹ëu∫__
)));

70 
	`_EXFUN
(
abs
,());

71 #i‡
__BSD_VISIBLE


72 
__uöt32_t
 
	`_EXFUN
(
¨c4øndom
, ());

73 
__uöt32_t
 
	`_EXFUN
(
¨c4øndom_unif‹m
, (__uint32_t));

74 
	`_EXFUN
(
¨c4øndom_buf
, (*, 
size_t
));

76 
	`_EXFUN
(
©exô
,(
	$_VOID
 (*
__func
)(
_VOID
)));

77 
	`_EXFUN
(
©of
,(c⁄° *
__≈å
));

78 #i‡
__MISC_VISIBLE


79 
	`_EXFUN
(
©off
,(c⁄° *
__≈å
));

81 
	`_EXFUN
(
©oi
,(c⁄° *
__≈å
));

82 
	`_EXFUN
(
_©oi_r
,(
_ªít
 *, c⁄° *
__≈å
));

83 
	`_EXFUN
(
©ﬁ
,(c⁄° *
__≈å
));

84 
	`_EXFUN
(
_©ﬁ_r
,(
_ªít
 *, c⁄° *
__≈å
));

85 
_PTR
 
	`_EXFUN
(
b£¨ch
,(c⁄° _PTR 
__key
,

86 c⁄° 
_PTR
 
__ba£
,

87 
size_t
 
__nmemb
,

88 
size_t
 
__size
,

89 
__com∑r_‚_t
 
_com∑r
));

90 
_PTR
 
	`_EXFUN_NOTHROW
(
ˇŒoc
,(
size_t
 
__nmemb
, size_à
__size
));

91 
div_t
 
	`_EXFUN
(
div
,(
__numî
, 
__díom
));

92 
_VOID
 
	`_EXFUN
(
exô
,(
__°©us
Ë
	`_ATTRIBUTE
 ((
__n‹ëu∫__
)));

93 
_VOID
 
	`_EXFUN_NOTHROW
(
‰ì
,(
_PTR
));

94 * 
	`_EXFUN
(
gëív
,(c⁄° *
__°rög
));

95 * 
	`_EXFUN
(
_gëív_r
,(
_ªít
 *, c⁄° *
__°rög
));

96 * 
	`_EXFUN
(
_födív
,(
_CONST
 *, *));

97 * 
	`_EXFUN
(
_födív_r
,(
_ªít
 *, 
_CONST
 *, *));

98 #i‡
__POSIX_VISIBLE
 >= 200809

99 *
sub›èrg
;

100 
	`_EXFUN
(
gësub›t
,(**, * const *, **));

102 
	`_EXFUN
(
œbs
,());

103 
ldiv_t
 
	`_EXFUN
(
ldiv
,(
__numî
, 
__díom
));

104 
_PTR
 
	`_EXFUN_NOTHROW
(
mÆloc
,(
size_t
 
__size
));

105 
	`_EXFUN
(
mbÀn
,(c⁄° *, 
size_t
));

106 
	`_EXFUN
(
_mbÀn_r
,(
_ªít
 *, c⁄° *, 
size_t
, 
_mb°©e_t
 *));

107 
	`_EXFUN
(
mbtowc
,(
wch¨_t
 *
__ª°ri˘
, c⁄° *__ª°ri˘, 
size_t
));

108 
	`_EXFUN
(
_mbtowc_r
,(
_ªít
 *, 
wch¨_t
 *
__ª°ri˘
, c⁄° *__ª°ri˘, 
size_t
, 
_mb°©e_t
 *));

109 
	`_EXFUN
(
w˘omb
,(*, 
wch¨_t
));

110 
	`_EXFUN
(
_w˘omb_r
,(
_ªít
 *, *, 
wch¨_t
, 
_mb°©e_t
 *));

111 
size_t
 
	`_EXFUN
(
mb°owcs
,(
wch¨_t
 *
__ª°ri˘
, const *__restrict, size_t));

112 
size_t
 
	`_EXFUN
(
_mb°owcs_r
,(
_ªít
 *, 
wch¨_t
 *
__ª°ri˘
, c⁄° *__ª°ri˘, size_t, 
_mb°©e_t
 *));

113 
size_t
 
	`_EXFUN
(
wc°ombs
,(*
__ª°ri˘
, c⁄° 
wch¨_t
 *__restrict, size_t));

114 
size_t
 
	`_EXFUN
(
_wc°ombs_r
,(
_ªít
 *, *
__ª°ri˘
, c⁄° 
wch¨_t
 *__ª°ri˘, size_t, 
_mb°©e_t
 *));

115 #i‚de‡
_REENT_ONLY


116 #i‡
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200809

117 * 
	`_EXFUN
(
mkdãmp
,(*));

119 #i‡
__GNU_VISIBLE


120 
	`_EXFUN
(
mko°emp
,(*, ));

121 
	`_EXFUN
(
mko°emps
,(*, , ));

123 #i‡
__MISC_VISIBLE
 || 
__POSIX_VISIBLE
 >200112 || 
__XSI_VISIBLE
 >= 4

124 
	`_EXFUN
(
mk°emp
,(*));

126 #i‡
__MISC_VISIBLE


127 
	`_EXFUN
(
mk°emps
,(*, ));

129 #i‡
__BSD_VISIBLE
 || (
__XSI_VISIBLE
 >4 && 
__POSIX_VISIBLE
 < 200112)

130 * 
	`_EXFUN
(
mkãmp
,(*Ë
	`_ATTRIBUTE
 ((
	`__dïªˇãd__
("the use of `mktemp' is dangerous; use `mkstemp' instead"))));

133 * 
	`_EXFUN
(
_mkdãmp_r
, (
_ªít
 *, *));

134 
	`_EXFUN
(
_mko°emp_r
, (
_ªít
 *, *, ));

135 
	`_EXFUN
(
_mko°emps_r
, (
_ªít
 *, *, , ));

136 
	`_EXFUN
(
_mk°emp_r
, (
_ªít
 *, *));

137 
	`_EXFUN
(
_mk°emps_r
, (
_ªít
 *, *, ));

138 * 
	`_EXFUN
(
_mkãmp_r
, (
_ªít
 *, *Ë
	`_ATTRIBUTE
 ((
	`__dïªˇãd__
("the use of `mktemp' is dangerous; use `mkstemp' instead"))));

139 
_VOID
 
	`_EXFUN
(
qs‹t
,(
_PTR
 
__ba£
, 
size_t
 
__nmemb
, size_à
__size
, 
__com∑r_‚_t
 
_com∑r
));

140 
	`_EXFUN
(
ønd
,(
_VOID
));

141 
_PTR
 
	`_EXFUN_NOTHROW
(
ªÆloc
,(_PTR 
__r
, 
size_t
 
__size
));

142 #i‡
__BSD_VISIBLE


143 *
	$ªÆloˇºay
(*, 
size_t
, size_tË
__ªsu…_u£_check
 
	$__Æloc_size
(2)

144 
	`__Æloc_size
(3);

145 
_PTR
 
	`_EXFUN
(
ªÆlocf
,(_PTR 
__r
, 
size_t
 
__size
));

147 #i‡
__BSD_VISIBLE
 || 
__XSI_VISIBLE
 >= 4

148 * 
	`_EXFUN
(
ªÆ∑th
, (c⁄° *
__ª°ri˘
 
∑th
, *__ª°ri˘ 
ªsﬁved_∑th
));

150 #i‡
__BSD_VISIBLE


151 
	`_EXFUN
(
Ωm©ch
, (c⁄° *
ª•⁄£
));

153 #i‡
__XSI_VISIBLE


154 
_VOID
 
	`_EXFUN
(
£tkey
, (c⁄° *
__key
));

156 
_VOID
 
	`_EXFUN
(
§™d
,(
__£ed
));

157 
	`_EXFUN
(
°πod
,(c⁄° *
__ª°ri˘
 
__n
, **__ª°ri˘ 
__íd_PTR
));

158 
	`_EXFUN
(
_°πod_r
,(
_ªít
 *,c⁄° *
__ª°ri˘
 
__n
, **__ª°ri˘ 
__íd_PTR
));

159 #i‡
__ISO_C_VISIBLE
 >= 1999

160 
	`_EXFUN
(
°πof
,(c⁄° *
__ª°ri˘
 
__n
, **__ª°ri˘ 
__íd_PTR
));

162 #i‡
__MISC_VISIBLE


164 #i‚de‡
°πodf


165 
	#°πodf
 
°πof


	)

168 
	`_EXFUN
(
°πﬁ
,(c⁄° *
__ª°ri˘
 
__n
, **__ª°ri˘ 
__íd_PTR
, 
__ba£
));

169 
	`_EXFUN
(
_°πﬁ_r
,(
_ªít
 *,c⁄° *
__ª°ri˘
 
__n
, **__ª°ri˘ 
__íd_PTR
, 
__ba£
));

170 
	`_EXFUN
(
°πoul
,(c⁄° *
__ª°ri˘
 
__n
, **__ª°ri˘ 
__íd_PTR
, 
__ba£
));

171 
	`_EXFUN
(
_°πoul_r
,(
_ªít
 *,c⁄° *
__ª°ri˘
 
__n
, **__ª°ri˘ 
__íd_PTR
, 
__ba£
));

173 #i‡
__GNU_VISIBLE


174 
	`°πod_l
 (c⁄° *
__ª°ri˘
, **__ª°ri˘, 
loˇÀ_t
);

175 
	`°πof_l
 (c⁄° *
__ª°ri˘
, **__ª°ri˘, 
loˇÀ_t
);

176 #ifde‡
_HAVE_LONG_DOUBLE


177 
	`°πﬁd_l
 (c⁄° *
__ª°ri˘
, **__restrict,

178 
loˇÀ_t
);

180 
	`°πﬁ_l
 (c⁄° *
__ª°ri˘
, **__ª°ri˘, , 
loˇÀ_t
);

181 
	`°πoul_l
 (c⁄° *
__ª°ri˘
, **__restrict, ,

182 
loˇÀ_t
 
__loc
);

183 
	`°πﬁl_l
 (c⁄° *
__ª°ri˘
, **__ª°ri˘, , 
loˇÀ_t
);

184 
	`°πouŒ_l
 (c⁄° *
__ª°ri˘
, **__restrict, ,

185 
loˇÀ_t
 
__loc
);

188 
	`_EXFUN
(
sy°em
,(c⁄° *
__°rög
));

190 #i‡
__SVID_VISIBLE
 || 
__XSI_VISIBLE
 >= 4

191 
	`_EXFUN
(
a64l
,(c⁄° *
__öput
));

192 * 
	`_EXFUN
(
l64a
,(
__öput
));

193 * 
	`_EXFUN
(
_l64a_r
,(
_ªít
 *,
__öput
));

195 #i‡
__MISC_VISIBLE


196 
	`_EXFUN
(
⁄_exô
,(
	$_VOID
 (*
__func
)(, 
_PTR
),_PTR 
__¨g
));

198 #i‡
__ISO_C_VISIBLE
 >= 1999

199 
_VOID
 
	`_EXFUN
(
_Exô
,(
__°©us
Ë
	`_ATTRIBUTE
 ((
__n‹ëu∫__
)));

201 #i‡
__SVID_VISIBLE
 || 
__XSI_VISIBLE


202 
	`_EXFUN
(
puãnv
,(*
__°rög
));

204 
	`_EXFUN
(
_puãnv_r
,(
_ªít
 *, *
__°rög
));

205 
_PTR
 
	`_EXFUN
(
_ªÆlocf_r
,(
_ªít
 *, _PTR, 
size_t
));

206 #i‡
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200112

207 
	`_EXFUN
(
£ãnv
,(c⁄° *
__°rög
, c⁄° *
__vÆue
, 
__ovîwrôe
));

209 
	`_EXFUN
(
_£ãnv_r
,(
_ªít
 *, c⁄° *
__°rög
, c⁄° *
__vÆue
, 
__ovîwrôe
));

211 #i‡
__XSI_VISIBLE
 >4 && 
__POSIX_VISIBLE
 < 200112

212 * 
	`_EXFUN
(
gcvt
,(,,*));

213 * 
	`_EXFUN
(
gcvtf
,(,,*));

214 * 
	`_EXFUN
(
fcvt
,(,,*,*));

215 * 
	`_EXFUN
(
fcvtf
,(,,*,*));

216 * 
	`_EXFUN
(
ecvt
,(,,*,*));

217 * 
	`_EXFUN
(
ecvtbuf
,(, , *, *, *));

218 * 
	`_EXFUN
(
fcvtbuf
,(, , *, *, *));

219 * 
	`_EXFUN
(
ecvtf
,(,,*,*));

221 * 
	`_EXFUN
(
__ôﬂ
,(, *, ));

222 * 
	`_EXFUN
(
__utﬂ
,(, *, ));

223 #i‡
__MISC_VISIBLE


224 * 
	`_EXFUN
(
ôﬂ
,(, *, ));

225 * 
	`_EXFUN
(
utﬂ
,(, *, ));

227 #i‡
__POSIX_VISIBLE


228 
	`_EXFUN
(
ønd_r
,(*
__£ed
));

231 #i‡
__SVID_VISIBLE
 || 
__XSI_VISIBLE


232 
	`_EXFUN
(
dønd48
,(
_VOID
));

233 
	`_EXFUN
(
_dønd48_r
,(
_ªít
 *));

234 
	`_EXFUN
(
î™d48
,([3]));

235 
	`_EXFUN
(
_î™d48_r
,(
_ªít
 *, [3]));

236 
	`_EXFUN
(
jønd48
,([3]));

237 
	`_EXFUN
(
_jønd48_r
,(
_ªít
 *, [3]));

238 
_VOID
 
	`_EXFUN
(
lc⁄g48
,([7]));

239 
_VOID
 
	`_EXFUN
(
_lc⁄g48_r
,(
_ªít
 *, [7]));

240 
	`_EXFUN
(
Ã™d48
,(
_VOID
));

241 
	`_EXFUN
(
_Ã™d48_r
,(
_ªít
 *));

242 
	`_EXFUN
(
mønd48
,(
_VOID
));

243 
	`_EXFUN
(
_mønd48_r
,(
_ªít
 *));

244 
	`_EXFUN
(
ƒ™d48
,([3]));

245 
	`_EXFUN
(
_ƒ™d48_r
,(
_ªít
 *, [3]));

247 
	`_EXFUN
(
£ed48
,([3]));

249 
	`_EXFUN
(
_£ed48_r
,(
_ªít
 *, [3]));

250 
_VOID
 
	`_EXFUN
(
§™d48
,());

251 
_VOID
 
	`_EXFUN
(
_§™d48_r
,(
_ªít
 *, ));

253 #i‡
__SVID_VISIBLE
 || 
__XSI_VISIBLE
 >4 || 
__BSD_VISIBLE


254 * 
	`_EXFUN
(
öô°©e
,(, *, 
size_t
));

255 
	`_EXFUN
(
øndom
,(
_VOID
));

256 * 
	`_EXFUN
(
£t°©e
,(*));

257 
_VOID
 
	`_EXFUN
(
§™dom
,());

259 #i‡
__ISO_C_VISIBLE
 >= 1999

260 
	`_EXFUN
(
©ﬁl
,(c⁄° *
__≈å
));

262 
	`_EXFUN
(
_©ﬁl_r
,(
_ªít
 *, c⁄° *
__≈å
));

263 #i‡
__ISO_C_VISIBLE
 >= 1999

264 
	`_EXFUN
(
Œabs
,());

265 
Œdiv_t
 
	`_EXFUN
(
Œdiv
,(
__numî
, 
__díom
));

266 
	`_EXFUN
(
°πﬁl
,(c⁄° *
__ª°ri˘
 
__n
, **__ª°ri˘ 
__íd_PTR
, 
__ba£
));

268 
	`_EXFUN
(
_°πﬁl_r
,(
_ªít
 *, c⁄° *
__ª°ri˘
 
__n
, **__ª°ri˘ 
__íd_PTR
, 
__ba£
));

269 #i‡
__ISO_C_VISIBLE
 >= 1999

270 
	`_EXFUN
(
°πouŒ
,(c⁄° *
__ª°ri˘
 
__n
, **__ª°ri˘ 
__íd_PTR
, 
__ba£
));

272 
	`_EXFUN
(
_°πouŒ_r
,(
_ªít
 *, c⁄° *
__ª°ri˘
 
__n
, **__ª°ri˘ 
__íd_PTR
, 
__ba£
));

274 #i‚de‡
__CYGWIN__


275 #i‡
__MISC_VISIBLE


276 
_VOID
 
	`_EXFUN
(
c‰ì
,(
_PTR
));

278 #i‡
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200112

279 
	`_EXFUN
(
un£ãnv
,(c⁄° *
__°rög
));

281 
	`_EXFUN
(
_un£ãnv_r
,(
_ªít
 *, c⁄° *
__°rög
));

284 #i‡
__POSIX_VISIBLE
 >= 200112

285 
	`_EXFUN
(
	$__n⁄nuŒ
 (1Ë
posix_memÆign
,(**, 
size_t
, size_t));

288 * 
	`_EXFUN
(
_dtﬂ_r
,(
_ªít
 *, , , , *, *, **));

289 #i‚de‡
__CYGWIN__


290 
_PTR
 
	`_EXFUN_NOTHROW
(
_mÆloc_r
,(
_ªít
 *, 
size_t
));

291 
_PTR
 
	`_EXFUN_NOTHROW
(
_ˇŒoc_r
,(
_ªít
 *, 
size_t
, size_t));

292 
_VOID
 
	`_EXFUN_NOTHROW
(
_‰ì_r
,(
_ªít
 *, 
_PTR
));

293 
_PTR
 
	`_EXFUN_NOTHROW
(
_ªÆloc_r
,(
_ªít
 *, _PTR, 
size_t
));

294 
_VOID
 
	`_EXFUN
(
_m°©s_r
,(
_ªít
 *, *));

296 
	`_EXFUN
(
_sy°em_r
,(
_ªít
 *, const *));

298 
_VOID
 
	`_EXFUN
(
__ïrötf
,(const *, const *, , const *));

304 #i‡
__GNU_VISIBLE


305 
_VOID
 
	`_EXFUN
(
qs‹t_r
,(
_PTR
 
__ba£
, 
size_t
 
__nmemb
, size_à
__size
, (*
_com∑r
)(c⁄° _PTR, c⁄° _PTR, _PTR), _PTR 
__thunk
));

306 #ñi‡
__BSD_VISIBLE


307 #ifde‡
__GNUC__


308 
_VOID
 
	`_EXFUN
(
qs‹t_r
,(
_PTR
 
__ba£
, 
size_t
 
__nmemb
, size_à
__size
, _PTR 
__thunk
, (*
_com∑r
)(_PTR, const _PTR, const _PTR)))

309 
	`__asm__
 (
	`__ASMNAME
 ("__bsd_qsort_r"));

311 
_VOID
 
	`_EXFUN
(
__bsd_qs‹t_r
,(
_PTR
 
__ba£
, 
size_t
 
__nmemb
, size_à
__size
, _PTR 
__thunk
, (*
_com∑r
)(_PTR, const _PTR, const _PTR)));

312 
	#qs‹t_r
 
__bsd_qs‹t_r


	)

317 #ifde‡
_HAVE_LONG_DOUBLE


318 
	`_°πﬁd_r
 (
_ªít
 *, c⁄° *
__ª°ri˘
, **__restrict);

319 #i‡
__ISO_C_VISIBLE
 >= 1999

320 
	`°πﬁd
 (c⁄° *
__ª°ri˘
, **__restrict);

327 #i‡
__ISO_C_VISIBLE
 >= 2011

328 * 
	$Æig√d_Æloc
(
size_t
, size_tË
__mÆloc_like
 
	$__Æloc_Æign
(1)

329 
	`__Æloc_size
(2);

330 
	`©_quick_exô
((*)());

331 
_N‹ëu∫
 

332 
	`quick_exô
();

335 
_END_STD_C


	@/usr/include/string.h

7 #i‚de‡
_STRING_H_


8 
	#_STRING_H_


	)

10 
	~"_™si.h
"

11 
	~<sys/ªít.h
>

12 
	~<sys/cdefs.h
>

13 
	~<sys/„©uªs.h
>

15 
	#__√ed_size_t


	)

16 
	#__√ed_NULL


	)

17 
	~<°ddef.h
>

19 #i‡
__POSIX_VISIBLE
 >= 200809

20 
	~<xloˇÀ.h
>

23 #i‡
__BSD_VISIBLE


24 
	~<°rögs.h
>

27 
_BEGIN_STD_C


29 
_PTR
 
_EXFUN
(
memchr
,(c⁄° _PTR, , 
size_t
));

30 
_EXFUN
(
memcmp
,(c⁄° 
_PTR
, c⁄° _PTR, 
size_t
));

31 
_PTR
 
_EXFUN
(
mem˝y
,(_PTR 
__ª°ri˘
, c⁄° _PTR __ª°ri˘, 
size_t
));

32 
_PTR
 
_EXFUN
(
memmove
,(_PTR, c⁄° _PTR, 
size_t
));

33 
_PTR
 
_EXFUN
(
mem£t
,(_PTR, , 
size_t
));

34 *
_EXFUN
(
°rˇt
,(*
__ª°ri˘
, const *__restrict));

35 *
_EXFUN
(
°rchr
,(const *, ));

36 
_EXFUN
(
°rcmp
,(const *, const *));

37 
_EXFUN
(
°rcﬁl
,(const *, const *));

38 *
_EXFUN
(
°r˝y
,(*
__ª°ri˘
, const *__restrict));

39 
size_t
 
_EXFUN
(
°rc•n
,(const *, const *));

40 *
_EXFUN
(
°ªº‹
,());

41 
size_t
 
_EXFUN
(
°æí
,(const *));

42 *
_EXFUN
(
°∫ˇt
,(*
__ª°ri˘
, c⁄° *__ª°ri˘, 
size_t
));

43 
_EXFUN
(
°∫cmp
,(c⁄° *, c⁄° *, 
size_t
));

44 *
_EXFUN
(
°∫˝y
,(*
__ª°ri˘
, c⁄° *__ª°ri˘, 
size_t
));

45 *
_EXFUN
(
°Ωbrk
,(const *, const *));

46 *
_EXFUN
(
°ºchr
,(const *, ));

47 
size_t
 
_EXFUN
(
°r•n
,(const *, const *));

48 *
_EXFUN
(
°r°r
,(const *, const *));

49 #i‚de‡
_REENT_ONLY


50 *
_EXFUN
(
°πok
,(*
__ª°ri˘
, const *__restrict));

52 
size_t
 
_EXFUN
(
°rx‰m
,(*
__ª°ri˘
, const *__restrict, size_t));

54 #i‡
__POSIX_VISIBLE
 >= 200809

55 
°rcﬁl_l
 (c⁄° *, c⁄° *, 
loˇÀ_t
);

56 *
°ªº‹_l
 (, 
loˇÀ_t
);

57 
size_t
 
°rx‰m_l
 (*
__ª°ri˘
, c⁄° *__ª°ri˘, size_t, 
loˇÀ_t
);

59 #i‡
__MISC_VISIBLE
 || 
__POSIX_VISIBLE


60 *
_EXFUN
(
°πok_r
,(*
__ª°ri˘
, const *__restrict, **__restrict));

62 #i‡
__BSD_VISIBLE


63 
_EXFUN
(
timögß„_bcmp
,(c⁄° *, c⁄° *, 
size_t
));

64 
_EXFUN
(
timögß„_memcmp
,(c⁄° *, c⁄° *, 
size_t
));

66 #i‡
__MISC_VISIBLE
 || 
__POSIX_VISIBLE


67 
_PTR
 
_EXFUN
(
memc˝y
,(_PTR 
__ª°ri˘
, c⁄° _PTR __ª°ri˘, , 
size_t
));

69 #i‡
__GNU_VISIBLE


70 
_PTR
 
_EXFUN
(
memp˝y
,(_PTR, c⁄° _PTR, 
size_t
));

71 
_PTR
 
_EXFUN
(
memmem
, (c⁄° _PTR, 
size_t
, const _PTR, size_t));

72 
_PTR
 
_EXFUN
(
memrchr
,(c⁄° _PTR, , 
size_t
));

73 
_PTR
 
_EXFUN
(
øwmemchr
,(const _PTR, ));

75 #i‡
__POSIX_VISIBLE
 >= 200809

76 *
_EXFUN
(
°p˝y
,(*
__ª°ri˘
, const *__restrict));

77 *
_EXFUN
(
°≤˝y
,(*
__ª°ri˘
, c⁄° *__ª°ri˘, 
size_t
));

79 #i‡
__GNU_VISIBLE


80 *
_EXFUN
(
°rˇ£°r
,(const *, const *));

81 *
_EXFUN
(
°rch∫ul
,(const *, ));

83 #i‡
__MISC_VISIBLE
 || 
__POSIX_VISIBLE
 >200809 || 
__XSI_VISIBLE
 >= 4

84 *
_EXFUN
(
°rdup
,(const *));

86 *
_EXFUN
(
_°rdup_r
,(
_ªít
 *, const *));

87 #i‡
__POSIX_VISIBLE
 >= 200809

88 *
_EXFUN
(
°∫dup
,(c⁄° *, 
size_t
));

90 *
_EXFUN
(
_°∫dup_r
,(
_ªít
 *, c⁄° *, 
size_t
));

96 #i‡
__GNU_VISIBLE


97 *
_EXFUN
(
°ªº‹_r
,(, *, 
size_t
));

98 #ñi‡
__POSIX_VISIBLE
 >= 200112

99 #ifde‡
__GNUC__


100 
_EXFUN
(
°ªº‹_r
,(, *, 
size_t
))

101 #ifde‡
__ASMNAME


102 
__asm__
 (
__ASMNAME
 ("__xpg_strerror_r"))

106 
_EXFUN
(
__xpg_°ªº‹_r
,(, *, 
size_t
));

107 
	#°ªº‹_r
 
__xpg_°ªº‹_r


	)

112 * 
_EXFUN
(
_°ªº‹_r
, (
_ªít
 *, , , *));

114 #i‡
__BSD_VISIBLE


115 
size_t
 
_EXFUN
(
°æˇt
,(*, const *, size_t));

116 
size_t
 
_EXFUN
(
°æ˝y
,(*, const *, size_t));

118 #i‡
__POSIX_VISIBLE
 >= 200809

119 
size_t
 
_EXFUN
(
°∫Àn
,(const *, size_t));

121 #i‡
__BSD_VISIBLE


122 *
_EXFUN
(
°r£p
,(**, const *));

124 #i‡
__BSD_VISIBLE


125 *
	$°∫°r
(c⁄° *, c⁄° *, 
size_t
Ë
__puª
;

128 #i‡
__MISC_VISIBLE


129 *
	`_EXFUN
(
°æwr
,(*));

130 *
	`_EXFUN
(
°ru¥
,(*));

133 #i‚de‡
DEFS_H


134 *
	`_EXFUN
(
°rsig«l
, (
__signo
));

137 #ifde‡
__CYGWIN__


138 
	`_EXFUN
(
°πosigno
, (c⁄° *
__«me
));

141 #i‡
__GNU_VISIBLE


142 
	`_EXFUN
(
°rvîscmp
,(const *, const *));

145 #i‡
__GNU_VISIBLE
 && 
	`deföed
(
__GNUC__
)

146 
	#°rdu∑
(
__s
) \

147 (
	`__exãnsi⁄__
 ({c⁄° *
__sö
 = (
__s
); \

148 
size_t
 
__Àn
 = 
	`°æí
 (
__sö
) + 1; \

149 * 
__sout
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
); \

150 (*Ë
	`mem˝y
 (
__sout
, 
__sö
, 
__Àn
);
	}
}))

	)

151 
	#°∫du∑
(
__s
, 
__n
) \

152 (
	`__exãnsi⁄__
 ({c⁄° *
__sö
 = (
__s
); \

153 
size_t
 
__Àn
 = 
	`°∫Àn
 (
__sö
, (
__n
)) + 1; \

154 *
__sout
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
); \

155 
__sout
[
__Àn
-1] = '\0'; \

156 (*Ë
	`mem˝y
 (
__sout
, 
__sö
, 
__Àn
-1);}))

	)

170 #i‡
__GNU_VISIBLE
 && !
deföed
(
ba£«me
)

171 
	#ba£«me
 
ba£«me


	)

172 *
_EXFUN
(
	$__n⁄nuŒ
 (1Ë
ba£«me
,(c⁄° *)Ë
	`__asm__
(
	`__ASMNAME
("__gnu_basename"));

175 
	~<sys/°rög.h
>

177 
_END_STD_C


	@/usr/include/sys/stat.h

1 #i‚def 
_SYS_STAT_H


2 
	#_SYS_STAT_H


	)

4 #ifde‡
__˝lu•lus


8 
	~<_™si.h
>

9 
	~<time.h
>

10 
	~<sys/cdefs.h
>

11 
	~<sys/ty≥s.h
>

12 
	~<sys/_time•ec.h
>

15 #i‚de‡
_STAT_H_


21 #ifde‡
__CYGWIN__


22 
	~<cygwö/°©.h
>

23 #ifde‡
_COMPILING_NEWLIB


24 
	#°©64
 
°©


	)

27 
	s°©


29 
dev_t
 
°_dev
;

30 
öo_t
 
°_öo
;

31 
mode_t
 
°_mode
;

32 
∆ök_t
 
°_∆ök
;

33 
uid_t
 
°_uid
;

34 
gid_t
 
°_gid
;

35 
dev_t
 
°_rdev
;

36 
off_t
 
°_size
;

37 #i‡
deföed
(
__πems__
)

38 
time•ec
 
°_©im
;

39 
time•ec
 
°_mtim
;

40 
time•ec
 
°_˘im
;

41 
blksize_t
 
°_blksize
;

42 
blk˙t_t
 
°_blocks
;

45 #i‡
deföed
(
__svr4__
Ë&& !deföed(
__PPC__
Ë&& !deföed(
__sun__
)

46 
time_t
 
°_©ime
;

47 
time_t
 
°_mtime
;

48 
time_t
 
°_˘ime
;

50 
time_t
 
°_©ime
;

51 
°_•¨e1
;

52 
time_t
 
°_mtime
;

53 
°_•¨e2
;

54 
time_t
 
°_˘ime
;

55 
°_•¨e3
;

56 
blksize_t
 
°_blksize
;

57 
blk˙t_t
 
°_blocks
;

58 
°_•¨e4
[2];

63 #i‡
deföed
(
__πems__
)

64 
	#°_©ime
 
°_©im
.
tv_£c


	)

65 
	#°_˘ime
 
°_˘im
.
tv_£c


	)

66 
	#°_mtime
 
°_mtim
.
tv_£c


	)

71 
	#_IFMT
 0170000

	)

72 
	#_IFDIR
 0040000

	)

73 
	#_IFCHR
 0020000

	)

74 
	#_IFBLK
 0060000

	)

75 
	#_IFREG
 0100000

	)

76 
	#_IFLNK
 0120000

	)

77 
	#_IFSOCK
 0140000

	)

78 
	#_IFIFO
 0010000

	)

80 
	#S_BLKSIZE
 1024

	)

82 
	#S_ISUID
 0004000

	)

83 
	#S_ISGID
 0002000

	)

84 
	#S_ISVTX
 0001000

	)

85 #i‡
__BSD_VISIBLE


86 
	#S_IREAD
 0000400

	)

87 
	#S_IWRITE
 0000200

	)

88 
	#S_IEXEC
 0000100

	)

89 
	#S_ENFMT
 0002000

	)

92 
	#S_IFMT
 
_IFMT


	)

93 
	#S_IFDIR
 
_IFDIR


	)

94 
	#S_IFCHR
 
_IFCHR


	)

95 
	#S_IFBLK
 
_IFBLK


	)

96 
	#S_IFREG
 
_IFREG


	)

97 
	#S_IFLNK
 
_IFLNK


	)

98 
	#S_IFSOCK
 
_IFSOCK


	)

99 
	#S_IFIFO
 
_IFIFO


	)

101 #ifde‡
_WIN32


104 
	#_S_IFMT
 
_IFMT


	)

105 
	#_S_IFDIR
 
_IFDIR


	)

106 
	#_S_IFCHR
 
_IFCHR


	)

107 
	#_S_IFIFO
 
_IFIFO


	)

108 
	#_S_IFREG
 
_IFREG


	)

109 
	#_S_IREAD
 0000400

	)

110 
	#_S_IWRITE
 0000200

	)

111 
	#_S_IEXEC
 0000100

	)

114 
	#S_IRWXU
 (
S_IRUSR
 | 
S_IWUSR
 | 
S_IXUSR
)

	)

115 
	#S_IRUSR
 0000400

	)

116 
	#S_IWUSR
 0000200

	)

117 
	#S_IXUSR
 0000100

	)

118 
	#S_IRWXG
 (
S_IRGRP
 | 
S_IWGRP
 | 
S_IXGRP
)

	)

119 
	#S_IRGRP
 0000040

	)

120 
	#S_IWGRP
 0000020

	)

121 
	#S_IXGRP
 0000010

	)

122 
	#S_IRWXO
 (
S_IROTH
 | 
S_IWOTH
 | 
S_IXOTH
)

	)

123 
	#S_IROTH
 0000004

	)

124 
	#S_IWOTH
 0000002

	)

125 
	#S_IXOTH
 0000001

	)

127 #i‡
__BSD_VISIBLE


128 
	#ACCESSPERMS
 (
S_IRWXU
 | 
S_IRWXG
 | 
S_IRWXO
Ë

	)

129 
	#ALLPERMS
 (
S_ISUID
 | 
S_ISGID
 | 
S_ISVTX
 | 
S_IRWXU
 | 
S_IRWXG
 | 
S_IRWXO
Ë

	)

130 
	#DEFFILEMODE
 (
S_IRUSR
 | 
S_IWUSR
 | 
S_IRGRP
 | 
S_IWGRP
 | 
S_IROTH
 | 
S_IWOTH
Ë

	)

133 
	#S_ISBLK
(
m
Ë(((m)&
_IFMT
Ë=
_IFBLK
)

	)

134 
	#S_ISCHR
(
m
Ë(((m)&
_IFMT
Ë=
_IFCHR
)

	)

135 
	#S_ISDIR
(
m
Ë(((m)&
_IFMT
Ë=
_IFDIR
)

	)

136 
	#S_ISFIFO
(
m
Ë(((m)&
_IFMT
Ë=
_IFIFO
)

	)

137 
	#S_ISREG
(
m
Ë(((m)&
_IFMT
Ë=
_IFREG
)

	)

138 
	#S_ISLNK
(
m
Ë(((m)&
_IFMT
Ë=
_IFLNK
)

	)

139 
	#S_ISSOCK
(
m
Ë(((m)&
_IFMT
Ë=
_IFSOCK
)

	)

141 #i‡
deföed
(
__CYGWIN__
)

143 
	#UTIME_NOW
 -2L

	)

144 
	#UTIME_OMIT
 -1L

	)

147 
_EXFUN
(
chmod
,–c⁄° *
__∑th
, 
mode_t
 
__mode
 ));

148 
_EXFUN
(
fchmod
,(
__fd
, 
mode_t
 
__mode
));

149 
_EXFUN
(
f°©
,–
__fd
, 
°©
 *
__sbuf
 ));

150 
_EXFUN
(
mkdú
,–c⁄° *
_∑th
, 
mode_t
 
__mode
 ));

151 
_EXFUN
(
mkfifo
,–c⁄° *
__∑th
, 
mode_t
 
__mode
 ));

152 
_EXFUN
(
°©
,–c⁄° *
__ª°ri˘
 
__∑th
, °© *__ª°ri˘ 
__sbuf
 ));

153 
mode_t
 
_EXFUN
(
umask
,–mode_à
__mask
 ));

155 #i‡
deföed
 (
__SPU__
Ë|| deföed(
__πems__
Ë|| deföed(
__CYGWIN__
Ë&& !deföed(
__INSIDE_CYGWIN__
)

156 
_EXFUN
(
l°©
,–c⁄° *
__ª°ri˘
 
__∑th
, 
°©
 *__ª°ri˘ 
__buf
 ));

157 
_EXFUN
(
mknod
,–c⁄° *
__∑th
, 
mode_t
 
__mode
, 
dev_t
 
__dev
 ));

160 #i‡
__ATFILE_VISIBLE
 && !
deföed
(
__INSIDE_CYGWIN__
)

161 
_EXFUN
(
fchmod©
, (, c⁄° *, 
mode_t
, ));

162 
_EXFUN
(
f°©©
, (, c⁄° *
__ª°ri˘
 , 
°©
 *__restrict, ));

163 
_EXFUN
(
mkdú©
, (, c⁄° *, 
mode_t
));

164 
_EXFUN
(
mkfifﬂt
, (, c⁄° *, 
mode_t
));

165 
_EXFUN
(
mknod©
, (, c⁄° *, 
mode_t
, 
dev_t
));

166 
_EXFUN
(
utimíßt
, (, c⁄° *, c⁄° 
time•ec
 *, ));

168 #i‡
__POSIX_VISIBLE
 >200809 && !
deföed
(
__INSIDE_CYGWIN__
)

169 
_EXFUN
(
futimís
, (, c⁄° 
time•ec
 *));

174 #ifde‡
_COMPILING_NEWLIB


175 
_EXFUN
(
_f°©
,–
__fd
, 
°©
 *
__sbuf
 ));

176 
_EXFUN
(
_°©
,–c⁄° *
__ª°ri˘
 
__∑th
, 
°©
 *__ª°ri˘ 
__sbuf
 ));

177 
_EXFUN
(
_mkdú
,–c⁄° *
_∑th
, 
mode_t
 
__mode
 ));

178 #ifde‡
__LARGE64_FILES


179 
°©64
;

180 
_EXFUN
(
_°©64
,–c⁄° *
__ª°ri˘
 
__∑th
, 
°©64
 *__ª°ri˘ 
__sbuf
 ));

181 
_EXFUN
(
_f°©64
,–
__fd
, 
°©64
 *
__sbuf
 ));

186 #ifde‡
__˝lu•lus


	@/usr/include/sys/types.h

18 #i‚de‡
_SYS_TYPES_H


20 
	~<_™si.h
>

21 
	~<sys/cdefs.h
>

22 
	~<machöe/_ty≥s.h
>

27 #i‡
___öt8_t_deföed


28 
__uöt8_t
 
	tu_öt8_t
;

30 #i‡
___öt16_t_deföed


31 
__uöt16_t
 
	tu_öt16_t
;

33 #i‡
___öt32_t_deföed


34 
__uöt32_t
 
	tu_öt32_t
;

36 #i‡
___öt64_t_deföed


37 
__uöt64_t
 
	tu_öt64_t
;

39 
	tªgi°î_t
;

40 
	#__BIT_TYPES_DEFINED__
 1

	)

42 #i‡
deföed
(
__πems__
Ë|| deföed(
__XMK__
)

50 #i‡
___öt64_t_deföed


51 
__uöt64_t
 
	tu_quad_t
;

52 
__öt64_t
 
	tquad_t
;

53 
quad_t
 * 
	tqaddr_t
;

58 #i‚de‡
__√ed_öây≥s


60 
	#_SYS_TYPES_H


	)

62 
	~<°ddef.h
>

63 
	~<sys/_ty≥s.h
>

64 
	~<sys/_°döt.h
>

66 #i‡
__BSD_VISIBLE


67 
	~<machöe/ídün.h
>

68 
	~<sys/£À˘.h
>

69 
	#phyßdr
 
phyßdr_t


	)

70 
	#quad
 
quad_t


	)

72 #i‚de‡
_IN_ADDR_T_DECLARED


73 
__uöt32_t
 
	tö_addr_t
;

74 
	#_IN_ADDR_T_DECLARED


	)

77 #i‚de‡
_IN_PORT_T_DECLARED


78 
__uöt16_t
 
	tö_p‹t_t
;

79 
	#_IN_PORT_T_DECLARED


	)

83 #i‡
__MISC_VISIBLE


84 #i‚de‡
_BSDTYPES_DEFINED


86 #i‚de‡
__u_ch¨_deföed


87 
	tu_ch¨
;

88 
	#__u_ch¨_deföed


	)

90 #i‚de‡
__u_sh‹t_deföed


91 
	tu_sh‹t
;

92 
	#__u_sh‹t_deföed


	)

94 #i‚de‡
__u_öt_deföed


95 
	tu_öt
;

96 
	#__u_öt_deföed


	)

98 #i‚de‡
__u_l⁄g_deföed


99 
	tu_l⁄g
;

100 
	#__u_l⁄g_deföed


	)

102 
	#_BSDTYPES_DEFINED


	)

106 #i‡
__MISC_VISIBLE


107 
	tush‹t
;

108 
	tuöt
;

109 
	tul⁄g
;

112 #i‚de‡
_BLKCNT_T_DECLARED


113 
__blk˙t_t
 
	tblk˙t_t
;

114 
	#_BLKCNT_T_DECLARED


	)

117 #i‚de‡
_BLKSIZE_T_DECLARED


118 
__blksize_t
 
	tblksize_t
;

119 
	#_BLKSIZE_T_DECLARED


	)

122 #i‡!
deföed
(
__˛ock_t_deföed
Ë&& !deföed(
_CLOCK_T_DECLARED
)

123 
_CLOCK_T_
 
	t˛ock_t
;

124 
	#__˛ock_t_deföed


	)

125 
	#_CLOCK_T_DECLARED


	)

128 #i‡!
deföed
(
__time_t_deföed
Ë&& !deföed(
_TIME_T_DECLARED
)

129 
_TIME_T_
 
	ttime_t
;

130 
	#__time_t_deföed


	)

131 
	#_TIME_T_DECLARED


	)

134 #i‚de‡
__daddr_t_deföed


135 
	tdaddr_t
;

136 
	#__daddr_t_deföed


	)

138 #i‚de‡
__ˇddr_t_deföed


139 * 
	tˇddr_t
;

140 
	#__ˇddr_t_deföed


	)

143 #i‚de‡
_FSBLKCNT_T_DECLARED


144 
__fsblk˙t_t
 
	tfsblk˙t_t
;

145 
__fsfû˙t_t
 
	tfsfû˙t_t
;

146 
	#_FSBLKCNT_T_DECLARED


	)

149 #i‚de‡
_ID_T_DECLARED


150 
__id_t
 
	tid_t
;

151 
	#_ID_T_DECLARED


	)

154 #i‚de‡
_INO_T_DECLARED


155 
__öo_t
 
	töo_t
;

156 
	#_INO_T_DECLARED


	)

159 #i‡
deföed
(
__i386__
Ë&& (deföed(
GO32
Ë|| deföed(
__MSDOS__
))

160 * 
	taddr_t
;

161 
	tvm_off£t_t
;

162 
	tvm_size_t
;

172 #i‚de‡
_OFF_T_DECLARED


173 
__off_t
 
	toff_t
;

174 
	#_OFF_T_DECLARED


	)

176 #i‚de‡
_DEV_T_DECLARED


177 
__dev_t
 
	tdev_t
;

178 
	#_DEV_T_DECLARED


	)

180 #i‚de‡
_UID_T_DECLARED


181 
__uid_t
 
	tuid_t
;

182 
	#_UID_T_DECLARED


	)

184 #i‚de‡
_GID_T_DECLARED


185 
__gid_t
 
	tgid_t
;

186 
	#_GID_T_DECLARED


	)

189 #i‚de‡
_PID_T_DECLARED


190 
__pid_t
 
	tpid_t
;

191 
	#_PID_T_DECLARED


	)

194 #i‚de‡
_KEY_T_DECLARED


195 
__key_t
 
	tkey_t
;

196 
	#_KEY_T_DECLARED


	)

199 #i‚de‡
_SSIZE_T_DECLARED


200 
_ssize_t
 
	tssize_t
;

201 
	#_SSIZE_T_DECLARED


	)

204 #i‚de‡
_MODE_T_DECLARED


205 
__mode_t
 
	tmode_t
;

206 
	#_MODE_T_DECLARED


	)

209 #i‚de‡
_NLINK_T_DECLARED


210 
__∆ök_t
 
	t∆ök_t
;

211 
	#_NLINK_T_DECLARED


	)

214 #i‡!
deföed
(
__˛ockid_t_deföed
Ë&& !deföed(
_CLOCKID_T_DECLARED
)

215 
__˛ockid_t
 
	t˛ockid_t
;

216 
	#__˛ockid_t_deföed


	)

217 
	#_CLOCKID_T_DECLARED


	)

220 #i‡!
deföed
(
__timî_t_deföed
Ë&& !deföed(
_TIMER_T_DECLARED
)

221 
__timî_t
 
	ttimî_t
;

222 
	#__timî_t_deföed


	)

223 
	#_TIMER_T_DECLARED


	)

226 #i‚de‡
_USECONDS_T_DECLARED


227 
__u£c⁄ds_t
 
	tu£c⁄ds_t
;

228 
	#_USECONDS_T_DECLARED


	)

231 #i‚de‡
_SUSECONDS_T_DECLARED


232 
__su£c⁄ds_t
 
	tsu£c⁄ds_t
;

233 
	#_SUSECONDS_T_DECLARED


	)

236 
__öt64_t
 
	tsbötime_t
;

238 
	~<sys/„©uªs.h
>

239 
	~<sys/_±hªadty≥s.h
>

240 
	~<machöe/ty≥s.h
>

244 #unde‡
__√ed_öây≥s


	@/usr/include/_ansi.h

12 #i‚def 
_ANSIDECL_H_


13 
	#_ANSIDECL_H_


	)

15 
	~<√wlib.h
>

16 
	~<sys/c⁄fig.h
>

22 #ifde‡
__STDC__


23 
	#_HAVE_STDC


	)

28 #ifde‡
__˝lu•lus


29 #i‡!(
deföed
(
_BEGIN_STD_C
Ë&& deföed(
_END_STD_C
))

30 #ifde‡
_HAVE_STD_CXX


31 
	#_BEGIN_STD_C
 
«me•a˚
 
°d
 { "C" {

	)

32 
	#_END_STD_C
 } }

	)

34 
	#_BEGIN_STD_C
 "C" {

	)

35 
	#_END_STD_C
 }

	)

37 #i‡
__GNUC_PREREQ
 (3, 3)

38 
	#_NOTHROW
 
	`__©åibuã__
 ((
__nŸhrow__
))

	)

40 
	#_NOTHROW
 
	`throw
()

	)

44 
	#_BEGIN_STD_C


	)

45 
	#_END_STD_C


	)

46 
	#_NOTHROW


	)

49 #ifde‡
_HAVE_STDC


50 
	#_PTR
 *

	)

51 
	#_AND
 ,

	)

52 
	#_NOARGS
 

	)

53 
	#_CONST
 c⁄°

	)

54 
	#_VOLATILE
 vﬁ©ûe

	)

55 
	#_SIGNED
 sig√d

	)

56 
	#_DOTS
 , ...

	)

57 
	#_VOID
 

	)

58 #ifde‡
__CYGWIN__


59 
	#_EXFUN_NOTHROW
(
«me
, 
¥Ÿo
Ë
__cde˛
Çamê¥Ÿÿ
_NOTHROW


	)

60 
	#_EXFUN
(
«me
, 
¥Ÿo
Ë
__cde˛
Çamê
	)
proto

61 
	#_EXPARM
(
«me
, 
¥Ÿo
Ë(* 
__cde˛
ÇameË
	)
proto

62 
	#_EXFNPTR
(
«me
, 
¥Ÿo
Ë(
__cde˛
 *ÇameË
	)
proto

64 
	#_EXFUN_NOTHROW
(
«me
, 
¥Ÿo
Ë«mê¥Ÿÿ
_NOTHROW


	)

65 
	#_EXFUN
(
«me
, 
¥Ÿo
Ë«mê
	)
proto

66 
	#_EXPARM
(
«me
, 
¥Ÿo
Ë(*ÇameË
	)
proto

67 
	#_EXFNPTR
(
«me
, 
¥Ÿo
Ë(*ÇameË
	)
proto

69 
	#_DEFUN
(
«me
, 
¨gli°
, 
¨gs
Ë
	`«me
◊rgs)

	)

70 
	#_DEFUN_VOID
(
«me
Ë
	`«me
(
_NOARGS
)

	)

71 
	#_CAST_VOID
 ()

	)

72 #i‚de‡
_LONG_DOUBLE


73 
	#_LONG_DOUBLE
 

	)

75 #i‚de‡
_PARAMS


76 
	#_PARAMS
(
∑ømli°
Ë
	)
paramlist

79 
	#_PTR
 *

	)

80 
	#_AND
 ;

	)

81 
	#_NOARGS


	)

82 
	#_CONST


	)

83 
	#_VOLATILE


	)

84 
	#_SIGNED


	)

85 
	#_DOTS


	)

86 
	#_VOID
 

	)

87 
	#_EXFUN
(
«me
, 
¥Ÿo
Ë
	`«me
()

	)

88 
	#_EXFUN_NOTHROW
(
«me
, 
¥Ÿo
Ë
	`«me
()

	)

89 
	#_DEFUN
(
«me
, 
¨gli°
, 
¨gs
Ë«mê¨gli°árgs;

	)

90 
	#_DEFUN_VOID
(
«me
Ë
	`«me
()

	)

91 
	#_CAST_VOID


	)

92 
	#_LONG_DOUBLE
 

	)

93 #i‚de‡
_PARAMS


94 
	#_PARAMS
(
∑ømli°
Ë()

	)

100 #ifde‡
__GNUC__


101 
	#_ATTRIBUTE
(
©ås
Ë
	`__©åibuã__
 (©ås)

	)

103 
	#_ATTRIBUTE
(
©ås
)

	)

121 #i‡
deföed
(
__GNUC__
Ë&& !deföed(
__GNUC_STDC_INLINE__
)

123 
	#_ELIDABLE_INLINE
 
__ölöe__
 
	`_ATTRIBUTE
 ((
__Æways_ölöe__
))

	)

127 
	#_ELIDABLE_INLINE
 
__ölöe__


	)

130 #i‡
__GNUC_PREREQ
 (3, 1)

131 
	#_NOINLINE
 
	`__©åibuã__
 ((
__noölöe__
))

	)

132 
	#_NOINLINE_STATIC
 
_NOINLINE
 

	)

136 
	#_NOINLINE


	)

137 
	#_NOINLINE_STATIC


	)

	@/usr/include/alloca.h

7 #i‚de‡
_NEWLIB_ALLOCA_H


8 
	#_NEWLIB_ALLOCA_H


	)

10 
	~"_™si.h
"

11 
	~<sys/ªít.h
>

13 #unde‡
Æloˇ


15 #ifde‡
__GNUC__


16 
	#Æloˇ
(
size
Ë
	`__buûtö_Æloˇ
(size)

	)

18 * 
_EXFUN
(
Æloˇ
,(
size_t
));

	@/usr/include/bits/wordsize.h

3 #i‚de‡
_WORDSIZE_H


4 
	#_WORDSIZE_H
 1

	)

5 #ifde‡
__x86_64__


6 
	#__WORDSIZE
 64

	)

7 
	#__WORDSIZE_COMPAT32
 1

	)

9 
	#__WORDSIZE
 32

	)

	@/usr/include/cygwin/stat.h

10 #i‚de‡
_CYGWIN_STAT_H


11 
	#_CYGWIN_STAT_H


	)

13 #ifde‡
__˝lu•lus


17 
	s°©


19 
dev_t
 
°_dev
;

20 
öo_t
 
°_öo
;

21 
mode_t
 
°_mode
;

22 
∆ök_t
 
°_∆ök
;

23 
uid_t
 
°_uid
;

24 
gid_t
 
°_gid
;

25 
dev_t
 
°_rdev
;

26 
off_t
 
°_size
;

27 
time°ruc_t
 
°_©im
;

28 
time°ruc_t
 
°_mtim
;

29 
time°ruc_t
 
°_˘im
;

30 
blksize_t
 
°_blksize
;

31 
blk˙t_t
 
°_blocks
;

32 
time°ruc_t
 
°_búthtim
;

35 #i‡
deföed
 (
__INSIDE_CYGWIN__
Ë|| deföed (
_COMPILING_NEWLIB
)

36 #i‚de‡
__x86_64__


37 
	s__°©32


39 
__dev16_t
 
°_dev
;

40 
__öo32_t
 
°_öo
;

41 
mode_t
 
°_mode
;

42 
∆ök_t
 
°_∆ök
;

43 
__uid16_t
 
°_uid
;

44 
__gid16_t
 
°_gid
;

45 
__dev16_t
 
°_rdev
;

46 
_off_t
 
°_size
;

47 
time°ruc_t
 
°_©im
;

48 
time°ruc_t
 
°_mtim
;

49 
time°ruc_t
 
°_˘im
;

50 
blksize_t
 
°_blksize
;

51 
__blk˙t32_t
 
°_blocks
;

52 
°_•¨e4
[2];

56 
f°©64
 (
fd
, 
°©
 *
buf
);

57 
°©64
 (c⁄° *
__ª°ri˘
 
fûe_«me
,

58 
°©
 *
__ª°ri˘
 
buf
);

59 
l°©64
 (c⁄° *
__ª°ri˘
 
fûe_«me
,

60 
°©
 *
__ª°ri˘
 
buf
);

64 
	#°_©ime
 
°_©im
.
tv_£c


	)

65 
	#°_mtime
 
°_mtim
.
tv_£c


	)

66 
	#°_˘ime
 
°_˘im
.
tv_£c


	)

67 
	#°_búthtime
 
°_búthtim
.
tv_£c


	)

72 
	#S_TYPEISMQ
(
buf
Ë(()(buf)->
°_mode
,0)

	)

73 
	#S_TYPEISSEM
(
buf
Ë(()(buf)->
°_mode
,0)

	)

74 
	#S_TYPEISSHM
(
buf
Ë(()(buf)->
°_mode
,0)

	)

76 #ifde‡
__˝lu•lus


	@/usr/include/cygwin/stdlib.h

9 #i‚de‡
_CYGWIN_STDLIB_H


10 
	#_CYGWIN_STDLIB_H


	)

12 
	~<sys/cdefs.h
>

13 
	~<cygwö/waô.h
>

15 #ifde‡
__˝lu•lus


20 c⁄° *
gë¥og«me
 ();

21 
£çrog«me
 (const *);

23 #i‡
__GNU_VISIBLE


24 *
ˇn⁄iˇlize_fûe_«me
 (const *);

26 #i‡
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200112

27 
un£ãnv
 (const *);

29 #i‡
__XSI_VISIBLE


30 *
±¢ame
 ();

31 
gø¡±
 ();

32 
u∆ock±
 ();

34 #i‡
__GNU_VISIBLE


35 
±¢ame_r
(, *, 
size_t
);

36 
gë±
 ();

39 #i‡
__XSI_VISIBLE
 >= 600

40 
posix_›í±
 ();

43 #ifde‡
_COMPILING_NEWLIB


44 
	#un£ãnv
 
UNUSED_un£ãnv


	)

45 
	#_un£ãnv_r
 
UNUSED__un£ãnv_r


	)

48 
_PTR
 
memÆign
 
_PARAMS
 ((
size_t
, size_t));

49 #i‡
__BSD_VISIBLE
 || (
__XSI_VISIBLE
 >4 && 
__POSIX_VISIBLE
 < 200112)

50 
_PTR
 
vÆloc
 
_PARAMS
 ((
size_t
));

53 #unde‡
_mÆloc_r


54 
	#_mÆloc_r
(
r
, 
s
Ë
	`mÆloc
 (s)

	)

55 #unde‡
_‰ì_r


56 
	#_‰ì_r
(
r
, 
p
Ë
	`‰ì
 (p)

	)

57 #unde‡
_ªÆloc_r


58 
	#_ªÆloc_r
(
r
, 
p
, 
s
Ë
	`ªÆloc
 (p, s)

	)

59 #unde‡
_ˇŒoc_r


60 
	#_ˇŒoc_r
(
r
, 
s1
, 
s2
Ë
	`ˇŒoc
 (s1, s2);

	)

61 #unde‡
_memÆign_r


62 
	#_memÆign_r
(
r
, 
s1
, 
s2
Ë
	`memÆign
 (s1, s2);

	)

63 #unde‡
_mÆlöfo_r


64 
	#_mÆlöfo_r
(
r
Ë
	`mÆlöfo
 ()

	)

65 #unde‡
_mÆloc_°©s_r


66 
	#_mÆloc_°©s_r
(
r
Ë
	`mÆloc_°©s
 ()

	)

67 #unde‡
_mÆl›t_r


68 
	#_mÆl›t_r
(
i1
, 
i2
Ë
	`mÆl›t
 (i1, i2)

	)

69 #unde‡
_mÆloc_ußbÀ_size_r


70 
	#_mÆloc_ußbÀ_size_r
(
r
, 
p
Ë
	`mÆloc_ußbÀ_size
 (p)

	)

71 #unde‡
_vÆloc_r


72 
	#_vÆloc_r
(
r
, 
s
Ë
	`vÆloc
 (s)

	)

73 #unde‡
_pvÆloc_r


74 
	#_pvÆloc_r
(
r
, 
s
Ë
	`pvÆloc
 (s)

	)

75 #unde‡
_mÆloc_åim_r


76 
	#_mÆloc_åim_r
(
r
, 
s
Ë
	`mÆloc_åim
 (s)

	)

77 #unde‡
_m°©s_r


78 
	#_m°©s_r
(
r
, 
p
Ë
	`m°©s
 (p)

	)

80 #i‡
__BSD_VISIBLE


81 
gëlﬂdavg
(
lﬂdavg
[], 
√Àm
);

84 #ifde‡
__˝lu•lus


	@/usr/include/features.h

9 #i‚de‡
_FEATURES_H


10 
	#_FEATURES_H


	)

12 
	~<sys/cdefs.h
>

13 
	~<sys/„©uªs.h
>

	@/usr/include/machine/_default_types.h

5 #i‚de‡
_MACHINE__DEFAULT_TYPES_H


6 
	#_MACHINE__DEFAULT_TYPES_H


	)

8 
	~<sys/„©uªs.h
>

13 #i‡
__GNUC_PREREQ
 (3, 3)

15 
	#__EXP
(
x
Ë
__
##x##
	)
__

18 
	#__EXP
(
x
Ë
	)
x

19 
	~<limôs.h
>

24 #i‡–
deföed
(
__LONG_LONG_MAX__
) && (__LONG_LONG_MAX__ > 0x7fffffff) ) \

25 || ( 
deföed
(
LLONG_MAX
Ë&& (
	gLLONG_MAX
 > 0x7fffffff) )

26 
	#__have_l⁄gl⁄g64
 1

	)

30 #i‡
__EXP
(
LONG_MAX
) > 0x7fffffff

31 
	#__have_l⁄g64
 1

	)

32 #ñi‡
__EXP
(
LONG_MAX
Ë=0x7ffffff‡&& !
deföed
(
__SPU__
)

33 
	#__have_l⁄g32
 1

	)

36 #ifde‡
__˝lu•lus


40 #ifde‡
__INT8_TYPE__


41 
__INT8_TYPE__
 
	t__öt8_t
;

42 #ifde‡
__UINT8_TYPE__


43 
__UINT8_TYPE__
 
	t__uöt8_t
;

45 
	t__INT8_TYPE__
 
	t__uöt8_t
;

47 
	#___öt8_t_deföed
 1

	)

48 #ñi‡
__EXP
(
SCHAR_MAX
) == 0x7f

49 sig√d 
	t__öt8_t
 ;

50 
	t__uöt8_t
 ;

51 
	#___öt8_t_deföed
 1

	)

54 #ifde‡
__INT16_TYPE__


55 
__INT16_TYPE__
 
	t__öt16_t
;

56 #ifde‡
__UINT16_TYPE__


57 
__UINT16_TYPE__
 
	t__uöt16_t
;

59 
	t__INT16_TYPE__
 
	t__uöt16_t
;

61 
	#___öt16_t_deföed
 1

	)

62 #ñi‡
__EXP
(
INT_MAX
) == 0x7fff

63 sig√d 
	t__öt16_t
;

64 
	t__uöt16_t
;

65 
	#___öt16_t_deföed
 1

	)

66 #ñi‡
__EXP
(
SHRT_MAX
) == 0x7fff

67 sig√d 
	t__öt16_t
;

68 
	t__uöt16_t
;

69 
	#___öt16_t_deföed
 1

	)

70 #ñi‡
__EXP
(
SCHAR_MAX
) == 0x7fff

71 sig√d 
	t__öt16_t
;

72 
	t__uöt16_t
;

73 
	#___öt16_t_deföed
 1

	)

76 #ifde‡
__INT32_TYPE__


77 
__INT32_TYPE__
 
	t__öt32_t
;

78 #ifde‡
__UINT32_TYPE__


79 
__UINT32_TYPE__
 
	t__uöt32_t
;

81 
	t__INT32_TYPE__
 
	t__uöt32_t
;

83 
	#___öt32_t_deföed
 1

	)

84 #ñi‡
__EXP
(
INT_MAX
) == 0x7fffffffL

85 sig√d 
	t__öt32_t
;

86 
	t__uöt32_t
;

87 
	#___öt32_t_deföed
 1

	)

88 #ñi‡
__EXP
(
LONG_MAX
) == 0x7fffffffL

89 sig√d 
	t__öt32_t
;

90 
	t__uöt32_t
;

91 
	#___öt32_t_deföed
 1

	)

92 #ñi‡
__EXP
(
SHRT_MAX
) == 0x7fffffffL

93 sig√d 
	t__öt32_t
;

94 
	t__uöt32_t
;

95 
	#___öt32_t_deföed
 1

	)

96 #ñi‡
__EXP
(
SCHAR_MAX
) == 0x7fffffffL

97 sig√d 
	t__öt32_t
;

98 
	t__uöt32_t
;

99 
	#___öt32_t_deföed
 1

	)

102 #ifde‡
__INT64_TYPE__


103 
__INT64_TYPE__
 
	t__öt64_t
;

104 #ifde‡
__UINT64_TYPE__


105 
__UINT64_TYPE__
 
	t__uöt64_t
;

107 
	t__INT64_TYPE__
 
	t__uöt64_t
;

109 
	#___öt64_t_deföed
 1

	)

110 #ñi‡
__EXP
(
LONG_MAX
) > 0x7fffffff

111 sig√d 
	t__öt64_t
;

112 
	t__uöt64_t
;

113 
	#___öt64_t_deföed
 1

	)

116 #ñi‡ 
deföed
(
__LONG_LONG_MAX__
) && (__LONG_LONG_MAX__ > 0x7fffffff)

117 sig√d 
	t__öt64_t
;

118 
	t__uöt64_t
;

119 
	#___öt64_t_deföed
 1

	)

122 #ñi‡ 
deföed
(
LLONG_MAX
) && (LLONG_MAX > 0x7fffffff)

123 sig√d 
	t__öt64_t
;

124 
	t__uöt64_t
;

125 
	#___öt64_t_deföed
 1

	)

127 #ñi‡ 
__EXP
(
INT_MAX
) > 0x7fffffff

128 sig√d 
	t__öt64_t
;

129 
	t__uöt64_t
;

130 
	#___öt64_t_deföed
 1

	)

133 #ifde‡
__INT_LEAST8_TYPE__


134 
__INT_LEAST8_TYPE__
 
	t__öt_Àa°8_t
;

135 #ifde‡
__UINT_LEAST8_TYPE__


136 
__UINT_LEAST8_TYPE__
 
	t__uöt_Àa°8_t
;

138 
	t__INT_LEAST8_TYPE__
 
	t__uöt_Àa°8_t
;

140 
	#___öt_Àa°8_t_deföed
 1

	)

141 #ñi‡
deföed
(
___öt8_t_deföed
)

142 
__öt8_t
 
	t__öt_Àa°8_t
;

143 
__uöt8_t
 
	t__uöt_Àa°8_t
;

144 
	#___öt_Àa°8_t_deföed
 1

	)

145 #ñi‡
deföed
(
___öt16_t_deföed
)

146 
__öt16_t
 
	t__öt_Àa°8_t
;

147 
__uöt16_t
 
	t__uöt_Àa°8_t
;

148 
	#___öt_Àa°8_t_deföed
 1

	)

149 #ñi‡
deföed
(
___öt32_t_deföed
)

150 
__öt32_t
 
	t__öt_Àa°8_t
;

151 
__uöt32_t
 
	t__uöt_Àa°8_t
;

152 
	#___öt_Àa°8_t_deföed
 1

	)

153 #ñi‡
deföed
(
___öt64_t_deföed
)

154 
__öt64_t
 
	t__öt_Àa°8_t
;

155 
__uöt64_t
 
	t__uöt_Àa°8_t
;

156 
	#___öt_Àa°8_t_deföed
 1

	)

159 #ifde‡
__INT_LEAST16_TYPE__


160 
__INT_LEAST16_TYPE__
 
	t__öt_Àa°16_t
;

161 #ifde‡
__UINT_LEAST16_TYPE__


162 
__UINT_LEAST16_TYPE__
 
	t__uöt_Àa°16_t
;

164 
	t__INT_LEAST16_TYPE__
 
	t__uöt_Àa°16_t
;

166 
	#___öt_Àa°16_t_deföed
 1

	)

167 #ñi‡
deföed
(
___öt16_t_deföed
)

168 
__öt16_t
 
	t__öt_Àa°16_t
;

169 
__uöt16_t
 
	t__uöt_Àa°16_t
;

170 
	#___öt_Àa°16_t_deföed
 1

	)

171 #ñi‡
deföed
(
___öt32_t_deföed
)

172 
__öt32_t
 
	t__öt_Àa°16_t
;

173 
__uöt32_t
 
	t__uöt_Àa°16_t
;

174 
	#___öt_Àa°16_t_deföed
 1

	)

175 #ñi‡
deföed
(
___öt64_t_deföed
)

176 
__öt64_t
 
	t__öt_Àa°16_t
;

177 
__uöt64_t
 
	t__uöt_Àa°16_t
;

178 
	#___öt_Àa°16_t_deföed
 1

	)

181 #ifde‡
__INT_LEAST32_TYPE__


182 
__INT_LEAST32_TYPE__
 
	t__öt_Àa°32_t
;

183 #ifde‡
__UINT_LEAST32_TYPE__


184 
__UINT_LEAST32_TYPE__
 
	t__uöt_Àa°32_t
;

186 
	t__INT_LEAST32_TYPE__
 
	t__uöt_Àa°32_t
;

188 
	#___öt_Àa°32_t_deföed
 1

	)

189 #ñi‡
deföed
(
___öt32_t_deföed
)

190 
__öt32_t
 
	t__öt_Àa°32_t
;

191 
__uöt32_t
 
	t__uöt_Àa°32_t
;

192 
	#___öt_Àa°32_t_deföed
 1

	)

193 #ñi‡
deföed
(
___öt64_t_deföed
)

194 
__öt64_t
 
	t__öt_Àa°32_t
;

195 
__uöt64_t
 
	t__uöt_Àa°32_t
;

196 
	#___öt_Àa°32_t_deföed
 1

	)

199 #ifde‡
__INT_LEAST64_TYPE__


200 
__INT_LEAST64_TYPE__
 
	t__öt_Àa°64_t
;

201 #ifde‡
__UINT_LEAST64_TYPE__


202 
__UINT_LEAST64_TYPE__
 
	t__uöt_Àa°64_t
;

204 
	t__INT_LEAST64_TYPE__
 
	t__uöt_Àa°64_t
;

206 
	#___öt_Àa°64_t_deföed
 1

	)

207 #ñi‡
deföed
(
___öt64_t_deföed
)

208 
__öt64_t
 
	t__öt_Àa°64_t
;

209 
__uöt64_t
 
	t__uöt_Àa°64_t
;

210 
	#___öt_Àa°64_t_deföed
 1

	)

213 #i‡
deföed
(
__INTMAX_TYPE__
)

214 
__INTMAX_TYPE__
 
	t__ötmax_t
;

215 #ñi‡
__have_l⁄gl⁄g64


216 sig√d 
	t__ötmax_t
;

218 sig√d 
	t__ötmax_t
;

221 #i‡
deföed
(
__UINTMAX_TYPE__
)

222 
__UINTMAX_TYPE__
 
	t__uötmax_t
;

223 #ñi‡
__have_l⁄gl⁄g64


224 
	t__uötmax_t
;

226 
	t__uötmax_t
;

229 #ifde‡
__INTPTR_TYPE__


230 
__INTPTR_TYPE__
 
	t__öçå_t
;

231 #ifde‡
__UINTPTR_TYPE__


232 
__UINTPTR_TYPE__
 
	t__uöçå_t
;

234 
	t__INTPTR_TYPE__
 
	t__uöçå_t
;

236 #ñi‡
deföed
(
__PTRDIFF_TYPE__
)

237 
__PTRDIFF_TYPE__
 
	t__öçå_t
;

238 
	t__PTRDIFF_TYPE__
 
	t__uöçå_t
;

240 
	t__öçå_t
;

241 
	t__uöçå_t
;

244 #unde‡
__EXP


246 #ifde‡
__˝lu•lus


	@/usr/include/machine/_types.h

3 #i‚de‡
_MACHINE__TYPES_H


4 
	#_MACHINE__TYPES_H


	)

6 
	~<machöe/_deÁu…_ty≥s.h
>

8 #i‡
deföed
 (
__INSIDE_CYGWIN__
Ë|| deföed (
_COMPILING_NEWLIB
)

9 
__öt32_t
 
	t__blk˙t32_t
;

10 
__öt16_t
 
	t__dev16_t
;

11 
__uöt16_t
 
	t__uid16_t
;

12 
__uöt16_t
 
	t__gid16_t
;

13 
__uöt32_t
 
	t__öo32_t
;

16 
	#__machöe_blk˙t_t_deföed


	)

17 
__öt64_t
 
	t__blk˙t_t
;

19 
	#__machöe_blksize_t_deföed


	)

20 
__öt32_t
 
	t__blksize_t
;

22 
	#__machöe_dev_t_deföed


	)

23 
__uöt32_t
 
	t__dev_t
;

25 
	#__machöe_fsblk˙t_t_deföed


	)

27 
	t__fsblk˙t_t
;

29 
	#__machöe_fsfû˙t_t_deföed


	)

31 
	t__fsfû˙t_t
;

33 
	#__machöe_uid_t_deföed


	)

34 
__uöt32_t
 
	t__uid_t
;

36 
	#__machöe_gid_t_deföed


	)

37 
__uöt32_t
 
	t__gid_t
;

39 
	#__machöe_öo_t_deföed


	)

40 
__uöt64_t
 
	t__öo_t
;

42 
	#__machöe_key_t_deföed


	)

43 
	t__key_t
;

45 
	#__machöe_ß_Ámûy_t_deföed


	)

46 
__uöt16_t
 
	t__ß_Ámûy_t
;

49 
	#__machöe_sockÀn_t_deföed


	)

50 
	t__sockÀn_t
;

	@/usr/include/machine/endian.h

1 #i‚de‡
__MACHINE_ENDIAN_H__


2 
	#__MACHINE_ENDIAN_H__


	)

4 
	~<sys/cdefs.h
>

5 
	~<sys/_ty≥s.h
>

6 
	~<machöe/_ídün.h
>

8 #i‡
_BYTE_ORDER
 =
_LITTLE_ENDIAN


9 
	#_QUAD_HIGHWORD
 1

	)

10 
	#_QUAD_LOWWORD
 0

	)

12 
	#_QUAD_HIGHWORD
 0

	)

13 
	#_QUAD_LOWWORD
 1

	)

16 #i‡
__BSD_VISIBLE


17 
	#LITTLE_ENDIAN
 
_LITTLE_ENDIAN


	)

18 
	#BIG_ENDIAN
 
_BIG_ENDIAN


	)

19 
	#PDP_ENDIAN
 
_PDP_ENDIAN


	)

20 
	#BYTE_ORDER
 
_BYTE_ORDER


	)

23 #ifde‡
__GNUC__


24 
	#__bsw≠16
(
_x
Ë
	`__buûtö_bsw≠16
(_x)

	)

25 
	#__bsw≠32
(
_x
Ë
	`__buûtö_bsw≠32
(_x)

	)

26 
	#__bsw≠64
(
_x
Ë
	`__buûtö_bsw≠64
(_x)

	)

28 
__ölöe
 
__uöt16_t


29 
	$__bsw≠16
(
__uöt16_t
 
_x
)

32  ((
__uöt16_t
)((
_x
 >> 8) | ((_x << 8) & 0xff00)));

33 
	}
}

35 
__ölöe
 
__uöt32_t


36 
	$__bsw≠32
(
__uöt32_t
 
_x
)

39  ((
__uöt32_t
)((
_x
 >> 24) | ((_x >> 8) & 0xff00) |

40 ((
_x
 << 8) & 0xff0000) | ((_x << 24) & 0xff000000)));

41 
	}
}

43 
__ölöe
 
__uöt64_t


44 
	$__bsw≠64
(
__uöt64_t
 
_x
)

47  ((
__uöt64_t
)((
_x
 >> 56) | ((_x >> 40) & 0xff00) |

48 ((
_x
 >> 24) & 0xff0000) | ((_x >> 8) & 0xff000000) |

49 ((
_x
 << 8Ë& ((
__uöt64_t
)0xff << 32)) |

50 ((
_x
 << 24Ë& ((
__uöt64_t
)0xff << 40)) |

51 ((
_x
 << 40Ë& ((
__uöt64_t
)0xff << 48)) | ((_x << 56))));

52 
	}
}

55 #i‚de‡
__machöe_ho°_to_‰om_√tw‹k_deföed


56 #i‡
_BYTE_ORDER
 =
_LITTLE_ENDIAN


57 
	#__ht⁄l
(
_x
Ë
	`__bsw≠32
(_x)

	)

58 
	#__ht⁄s
(
_x
Ë
	`__bsw≠16
(_x)

	)

59 
	#__¡ohl
(
_x
Ë
	`__bsw≠32
(_x)

	)

60 
	#__¡ohs
(
_x
Ë
	`__bsw≠16
(_x)

	)

62 
	#__ht⁄l
(
_x
Ë((
__uöt32_t
)(_x))

	)

63 
	#__ht⁄s
(
_x
Ë((
__uöt16_t
)(_x))

	)

64 
	#__¡ohl
(
_x
Ë((
__uöt32_t
)(_x))

	)

65 
	#__¡ohs
(
_x
Ë((
__uöt16_t
)(_x))

	)

	@/usr/include/machine/fastmath.h

1 #ifde‡
__sysv√cv70_èrgë


2 
EXFUN
(
Á°_sö
,());

3 
EXFUN
(
Á°_cos
,());

4 
EXFUN
(
Á°_èn
,());

6 
EXFUN
(
Á°_asö
,());

7 
EXFUN
(
Á°_acos
,());

8 
EXFUN
(
Á°_©™
,());

10 
EXFUN
(
Á°_söh
,());

11 
EXFUN
(
Á°_cosh
,());

12 
EXFUN
(
Á°_ènh
,());

14 
EXFUN
(
Á°_asöh
,());

15 
EXFUN
(
Á°_acosh
,());

16 
EXFUN
(
Á°_©™h
,());

18 
EXFUN
(
Á°_abs
,());

19 
EXFUN
(
Á°_sqπ
,());

20 
EXFUN
(
Á°_exp2
,());

21 
EXFUN
(
Á°_exp10
,());

22 
EXFUN
(
Á°_ex≥
,());

23 
EXFUN
(
Á°_log10
,());

24 
EXFUN
(
Á°_log2
,());

25 
EXFUN
(
Á°_loge
,());

28 
	#sö
(
x
Ë
	`Á°_sö
(x)

	)

29 
	#cos
(
x
Ë
	`Á°_cos
(x)

	)

30 
	#èn
(
x
Ë
	`Á°_èn
(x)

	)

31 
	#asö
(
x
Ë
	`Á°_asö
(x)

	)

32 
	#acos
(
x
Ë
	`Á°_acos
(x)

	)

33 
	#©™
(
x
Ë
	`Á°_©™
(x)

	)

34 
	#söh
(
x
Ë
	`Á°_söh
(x)

	)

35 
	#cosh
(
x
Ë
	`Á°_cosh
(x)

	)

36 
	#ènh
(
x
Ë
	`Á°_ènh
(x)

	)

37 
	#asöh
(
x
Ë
	`Á°_asöh
(x)

	)

38 
	#acosh
(
x
Ë
	`Á°_acosh
(x)

	)

39 
	#©™h
(
x
Ë
	`Á°_©™h
(x)

	)

40 
	#abs
(
x
Ë
	`Á°_abs
(x)

	)

41 
	#sqπ
(
x
Ë
	`Á°_sqπ
(x)

	)

42 
	#exp2
(
x
Ë
	`Á°_exp2
(x)

	)

43 
	#exp10
(
x
Ë
	`Á°_exp10
(x)

	)

44 
	#ex≥
(
x
Ë
	`Á°_ex≥
(x)

	)

45 
	#log10
(
x
Ë
	`Á°_log10
(x)

	)

46 
	#log2
(
x
Ë
	`Á°_log2
(x)

	)

47 
	#loge
(
x
Ë
	`Á°_loge
(x)

	)

49 #ifde‡
_HAVE_STDC


53 
EXFUN
(
Á°_söf
,());

54 
EXFUN
(
Á°_cosf
,());

55 
EXFUN
(
Á°_ènf
,());

57 
EXFUN
(
Á°_asöf
,());

58 
EXFUN
(
Á°_acosf
,());

59 
EXFUN
(
Á°_©™f
,());

61 
EXFUN
(
Á°_söhf
,());

62 
EXFUN
(
Á°_coshf
,());

63 
EXFUN
(
Á°_ènhf
,());

65 
EXFUN
(
Á°_asöhf
,());

66 
EXFUN
(
Á°_acoshf
,());

67 
EXFUN
(
Á°_©™hf
,());

69 
EXFUN
(
Á°_absf
,());

70 
EXFUN
(
Á°_sqπf
,());

71 
EXFUN
(
Á°_exp2f
,());

72 
EXFUN
(
Á°_exp10f
,());

73 
EXFUN
(
Á°_ex≥f
,());

74 
EXFUN
(
Á°_log10f
,());

75 
EXFUN
(
Á°_log2f
,());

76 
EXFUN
(
Á°_logef
,());

77 
	#söf
(
x
Ë
	`Á°_söf
(x)

	)

78 
	#cosf
(
x
Ë
	`Á°_cosf
(x)

	)

79 
	#ènf
(
x
Ë
	`Á°_ènf
(x)

	)

80 
	#asöf
(
x
Ë
	`Á°_asöf
(x)

	)

81 
	#acosf
(
x
Ë
	`Á°_acosf
(x)

	)

82 
	#©™f
(
x
Ë
	`Á°_©™f
(x)

	)

83 
	#söhf
(
x
Ë
	`Á°_söhf
(x)

	)

84 
	#coshf
(
x
Ë
	`Á°_coshf
(x)

	)

85 
	#ènhf
(
x
Ë
	`Á°_ènhf
(x)

	)

86 
	#asöhf
(
x
Ë
	`Á°_asöhf
(x)

	)

87 
	#acoshf
(
x
Ë
	`Á°_acoshf
(x)

	)

88 
	#©™hf
(
x
Ë
	`Á°_©™hf
(x)

	)

89 
	#absf
(
x
Ë
	`Á°_absf
(x)

	)

90 
	#sqπf
(
x
Ë
	`Á°_sqπf
(x)

	)

91 
	#exp2f
(
x
Ë
	`Á°_exp2f
(x)

	)

92 
	#exp10f
(
x
Ë
	`Á°_exp10f
(x)

	)

93 
	#ex≥f
(
x
Ë
	`Á°_ex≥f
(x)

	)

94 
	#log10f
(
x
Ë
	`Á°_log10f
(x)

	)

95 
	#log2f
(
x
Ë
	`Á°_log2f
(x)

	)

96 
	#logef
(
x
Ë
	`Á°_logef
(x)

	)

	@/usr/include/machine/ieeefp.h

1 #i‚de‡
__IEEE_BIG_ENDIAN


2 #i‚de‡
__IEEE_LITTLE_ENDIAN


53 #i‡(
deföed
(
__¨m__
Ë|| deföed(
__thumb__
)Ë&& !deföed(
__MAVERICK__
)

58 #ifde‡
__VFP_FP__


59 #ifde‡
__ARMEL__


60 
	#__IEEE_LITTLE_ENDIAN


	)

62 
	#__IEEE_BIG_ENDIAN


	)

65 
	#__IEEE_BIG_ENDIAN


	)

66 #ifde‡
__ARMEL__


67 
	#__IEEE_BYTES_LITTLE_ENDIAN


	)

72 #i‡
deföed
 (
__Ørch64__
)

73 #i‡
deföed
 (
__AARCH64EL__
)

74 
	#__IEEE_LITTLE_ENDIAN


	)

76 
	#__IEEE_BIG_ENDIAN


	)

80 #ifde‡
__ïùh™y__


81 
	#__IEEE_LITTLE_ENDIAN


	)

82 
	#Suddí_UndîÊow
 1

	)

85 #ifde‡
__hµa__


86 
	#__IEEE_BIG_ENDIAN


	)

89 #ifde‡
__nds32__


90 #ifde‡
__big_ídün__


91 
	#__IEEE_BIG_ENDIAN


	)

93 
	#__IEEE_LITTLE_ENDIAN


	)

97 #ifde‡
__SPU__


98 
	#__IEEE_BIG_ENDIAN


	)

100 
	#isföôe
(
__y
) \

101 (
	`__exãnsi⁄__
 ({
__cy
; \

102 ( (
__y
) ==  ()) ? (1) : \

103 (
__cy
 = 
	`Â˛assify
(
__y
)Ë!
FP_INFINITE
 && __cy !
FP_NAN
;}))

	)

105 
	#isöf
(
__x
Ë(( (__xË= ()Ë? (0Ë: 
	`__isöfd
(__x))

	)

106 
	#i¢™
(
__x
Ë(( (__xË= ()Ë? (0Ë: 
	`__i¢™d
(__x))

	)

113 
	#__õìÂ_i¢™f
(
x
Ë0

	)

114 
	#__õìÂ_isöff
(
x
Ë0

	)

115 
	#__õìÂ_föôef
(
x
Ë1

	)

118 #ifde‡
__•¨c__


119 #ifde‡
__LITTLE_ENDIAN_DATA__


120 
	#__IEEE_LITTLE_ENDIAN


	)

122 
	#__IEEE_BIG_ENDIAN


	)

126 #i‡
deföed
(
__m68k__
Ë|| deföed(
__mc68000__
)

127 
	#__IEEE_BIG_ENDIAN


	)

130 #i‡
deföed
(
__mc68hc11__
Ë|| deföed(
__mc68hc12__
Ë|| deföed(
__mc68hc1x__
)

131 
	#__IEEE_BIG_ENDIAN


	)

132 #ifde‡
__HAVE_SHORT_DOUBLE__


133 
	#_DOUBLE_IS_32BITS


	)

137 #i‡
deföed
 (
__H8300__
Ë|| deföed (
__H8300H__
Ë|| deföed (
__H8300S__
Ë|| deföed (
__H8500__
Ë|| deföed (
__H8300SX__
)

138 
	#__IEEE_BIG_ENDIAN


	)

139 
	#_FLOAT_ARG
 

	)

140 
	#_DOUBLE_IS_32BITS


	)

143 #i‡
deföed
 (
__xc16x__
Ë|| deföed (
__xc16xL__
Ë|| deföed (
__xc16xS__
)

144 
	#__IEEE_LITTLE_ENDIAN


	)

145 
	#_FLOAT_ARG
 

	)

146 
	#_DOUBLE_IS_32BITS


	)

150 #ifde‡
__sh__


151 #ifde‡
__LITTLE_ENDIAN__


152 
	#__IEEE_LITTLE_ENDIAN


	)

154 
	#__IEEE_BIG_ENDIAN


	)

156 #i‡
deföed
(
__SH2E__
Ë|| deföed(
__SH3E__
Ë|| deföed(
__SH4_SINGLE_ONLY__
Ë|| deföed(
__SH2A_SINGLE_ONLY__
)

157 
	#_DOUBLE_IS_32BITS


	)

161 #ifde‡
_AM29K


162 
	#__IEEE_BIG_ENDIAN


	)

165 #ifde‡
_WIN32


166 
	#__IEEE_LITTLE_ENDIAN


	)

169 #ifde‡
__i386__


170 
	#__IEEE_LITTLE_ENDIAN


	)

173 #ifde‡
__riscv


174 
	#__IEEE_LITTLE_ENDIAN


	)

177 #ifde‡
__i960__


178 
	#__IEEE_LITTLE_ENDIAN


	)

181 #ifde‡
__lm32__


182 
	#__IEEE_BIG_ENDIAN


	)

185 #ifde‡
__M32R__


186 
	#__IEEE_BIG_ENDIAN


	)

189 #i‡
deföed
(
_C4x
Ë|| deföed(
_C3x
)

190 
	#__IEEE_BIG_ENDIAN


	)

191 
	#_DOUBLE_IS_32BITS


	)

194 #ifde‡
__TMS320C6X__


195 #ifde‡
_BIG_ENDIAN


196 
	#__IEEE_BIG_ENDIAN


	)

198 
	#__IEEE_LITTLE_ENDIAN


	)

202 #ifde‡
__TIC80__


203 
	#__IEEE_LITTLE_ENDIAN


	)

206 #ifde‡
__MIPSEL__


207 
	#__IEEE_LITTLE_ENDIAN


	)

209 #ifde‡
__MIPSEB__


210 
	#__IEEE_BIG_ENDIAN


	)

213 #ifde‡
__MMIX__


214 
	#__IEEE_BIG_ENDIAN


	)

217 #ifde‡
__D30V__


218 
	#__IEEE_BIG_ENDIAN


	)

223 #ifde‡
__W65__


224 
	#__IEEE_LITTLE_ENDIAN


	)

225 
	#_DOUBLE_IS_32BITS


	)

228 #i‡
deföed
(
__Z8001__
Ë|| deföed(
__Z8002__
)

229 
	#__IEEE_BIG_ENDIAN


	)

232 #ifde‡
__m88k__


233 
	#__IEEE_BIG_ENDIAN


	)

236 #ifde‡
__mn10300__


237 
	#__IEEE_LITTLE_ENDIAN


	)

240 #ifde‡
__mn10200__


241 
	#__IEEE_LITTLE_ENDIAN


	)

242 
	#_DOUBLE_IS_32BITS


	)

245 #ifde‡
__v800


246 
	#__IEEE_LITTLE_ENDIAN


	)

249 #ifde‡
__v850


250 
	#__IEEE_LITTLE_ENDIAN


	)

253 #ifde‡
__D10V__


254 
	#__IEEE_BIG_ENDIAN


	)

255 #i‡
__DOUBLE__
 == 32

256 
	#_DOUBLE_IS_32BITS


	)

260 #ifde‡
__PPC__


261 #i‡(
deföed
(
_BIG_ENDIAN
Ë&& _BIG_ENDIANË|| (deföed(
_AIX
) && _AIX)

262 
	#__IEEE_BIG_ENDIAN


	)

264 #i‡(
deföed
(
_LITTLE_ENDIAN
Ë&& _LITTLE_ENDIANË|| (deföed(
__sun__
Ë&& __sun__Ë|| (deföed(
_WIN32
) && _WIN32)

265 
	#__IEEE_LITTLE_ENDIAN


	)

270 #ifde‡
__x°‹my16__


271 
	#__IEEE_LITTLE_ENDIAN


	)

274 #ifde‡
__¨c__


275 #ifde‡
__big_ídün__


276 
	#__IEEE_BIG_ENDIAN


	)

278 
	#__IEEE_LITTLE_ENDIAN


	)

282 #ifde‡
__CRX__


283 
	#__IEEE_LITTLE_ENDIAN


	)

286 #ifde‡
__‰30__


287 
	#__IEEE_BIG_ENDIAN


	)

290 #ifde‡
__FT32__


291 
	#__IEEE_LITTLE_ENDIAN


	)

294 #ifde‡
__mc‹e__


295 
	#__IEEE_BIG_ENDIAN


	)

298 #ifde‡
__mt__


299 
	#__IEEE_BIG_ENDIAN


	)

302 #ifde‡
__‰v__


303 
	#__IEEE_BIG_ENDIAN


	)

306 #ifde‡
__moxõ__


307 #ifde‡
__MOXIE_BIG_ENDIAN__


308 
	#__IEEE_BIG_ENDIAN


	)

310 
	#__IEEE_LITTLE_ENDIAN


	)

314 #ifde‡
__ü64__


315 #ifde‡
__BIG_ENDIAN__


316 
	#__IEEE_BIG_ENDIAN


	)

318 
	#__IEEE_LITTLE_ENDIAN


	)

322 #ifde‡
__AVR__


323 
	#__IEEE_LITTLE_ENDIAN


	)

324 
	#_DOUBLE_IS_32BITS


	)

327 #i‡
deföed
(
__‹1k__
Ë|| deföed(
__OR1K__
Ë|| deföed(
__OR1KND__
)

328 
	#__IEEE_BIG_ENDIAN


	)

331 #ifde‡
__IP2K__


332 
	#__IEEE_BIG_ENDIAN


	)

333 
	#__SMALL_BITFIELDS


	)

334 
	#_DOUBLE_IS_32BITS


	)

337 #ifde‡
__iq2000__


338 
	#__IEEE_BIG_ENDIAN


	)

341 #ifde‡
__MAVERICK__


342 #ifde‡
__ARMEL__


343 
	#__IEEE_LITTLE_ENDIAN


	)

345 
	#__IEEE_BIG_ENDIAN


	)

349 #ifde‡
__m32c__


350 
	#__IEEE_LITTLE_ENDIAN


	)

351 
	#__SMALL_BITFIELDS


	)

354 #ifde‡
__CRIS__


355 
	#__IEEE_LITTLE_ENDIAN


	)

358 #ifde‡
__BFIN__


359 
	#__IEEE_LITTLE_ENDIAN


	)

362 #ifde‡
__x86_64__


363 
	#__IEEE_LITTLE_ENDIAN


	)

366 #ifde‡
__mï__


367 #ifde‡
__LITTLE_ENDIAN__


368 
	#__IEEE_LITTLE_ENDIAN


	)

370 
	#__IEEE_BIG_ENDIAN


	)

374 #ifde‡
__MICROBLAZE__


375 #i‚de‡
__MICROBLAZEEL__


376 
	#__IEEE_BIG_ENDIAN


	)

378 
	#__IEEE_LITTLE_ENDIAN


	)

382 #ifde‡
__MSP430__


383 
	#__IEEE_LITTLE_ENDIAN


	)

384 
	#__SMALL_BITFIELDS


	)

387 #ifde‡
__RL78__


388 
	#__IEEE_LITTLE_ENDIAN


	)

389 
	#__SMALL_BITFIELDS


	)

390 #i‚de‡
__RL78_64BIT_DOUBLES__


391 
	#_DOUBLE_IS_32BITS


	)

395 #ifde‡
__RX__


397 #ifde‡
__RX_BIG_ENDIAN__


398 
	#__IEEE_BIG_ENDIAN


	)

400 
	#__IEEE_LITTLE_ENDIAN


	)

403 #i‚de‡
__RX_64BIT_DOUBLES__


404 
	#_DOUBLE_IS_32BITS


	)

407 #ifde‡
__RX_16BIT_INTS__


408 
	#__SMALL_BITFIELDS


	)

413 #i‡(
deföed
(
__CR16__
Ë|| deföed(
__CR16C__
Ë||deföed(
__CR16CP__
))

414 
	#__IEEE_LITTLE_ENDIAN


	)

415 
	#__SMALL_BITFIELDS


	)

418 #ifde‡
__NIOS2__


419 #ifde‡
__nios2_big_ídün__


420 
	#__IEEE_BIG_ENDIAN


	)

422 
	#__IEEE_LITTLE_ENDIAN


	)

426 #ifde‡
__VISIUM__


427 
	#__IEEE_BIG_ENDIAN


	)

430 #i‚de‡
__IEEE_BIG_ENDIAN


431 #i‚de‡
__IEEE_LITTLE_ENDIAN


432 #îr‹ 
Endü√ss
 
nŸ
 
de˛¨ed
!!

	@/usr/include/machine/stdlib.h

9 #i‚de‡
_MACHSTDLIB_H_


10 
	#_MACHSTDLIB_H_


	)

11 #ifde‡
__˝lu•lus


15 *
mkdãmp
 (*);

17 #ifde‡
__˝lu•lus


	@/usr/include/machine/types.h

10 #i‚de‡
_SYS_TYPES_H


14 #ifde‡
__˝lu•lus


19 
	~<ídün.h
>

20 
	~<bôs/w‹dsize.h
>

21 
	~<sys/_time•ec.h
>

23 #i‚de‡
__time•ec_t_deföed


24 
	#__time•ec_t_deföed


	)

25 
time•ec
 
	ttime•ec_t
;

28 #i‚de‡
__time°ruc_t_deföed


29 
	#__time°ruc_t_deföed


	)

30 
time•ec
 
	ttime°ruc_t
;

33 
__loff_t
 
	tloff_t
;

35 #i‡
deföed
 (
__INSIDE_CYGWIN__
Ë&& !deföed (
__x86_64__
)

36 
	s__Êock32
 {

37 
l_ty≥
;

38 
l_whí˚
;

39 
_off_t
 
l_°¨t
;

40 
_off_t
 
l_Àn
;

41 
l_pid
;

42 
l_xxx
;

46 
	sÊock
 {

47 
l_ty≥
;

48 
l_whí˚
;

49 
off_t
 
l_°¨t
;

50 
off_t
 
l_Àn
;

51 
pid_t
 
l_pid
;

54 #i‚de‡
__BIT_TYPES_DEFINED


55 
	#__BIT_TYPES_DEFINED__
 1

	)

57 #i‚de‡
__vm_off£t_t_deföed


58 
	#__vm_off£t_t_deföed


	)

59 
	tvm_off£t_t
;

62 #i‚de‡
__vm_size_t_deföed


63 
	#__vm_size_t_deföed


	)

64 
	tvm_size_t
;

67 #i‚de‡
__vm_obje˘_t_deföed


68 
	#__vm_obje˘_t_deföed


	)

69 *
	tvm_obje˘_t
;

72 #i‚de‡
__addr_t_deföed


73 
	#__addr_t_deföed


	)

74 *
	taddr_t
;

80 
	~<sys/sysma¸os.h
>

82 #ifde‡
__˝lu•lus


	@/usr/include/newlib.h

6 #i‚de‡
__NEWLIB_H__


8 
	#__NEWLIB_H__
 1

	)

14 
	~<_√wlib_vîsi⁄.h
>

18 
	#_WANT_IO_C99_FORMATS
 1

	)

21 
	#_WANT_IO_LONG_LONG
 1

	)

27 
	#_WANT_IO_LONG_DOUBLE
 1

	)

30 
	#_WANT_IO_POS_ARGS
 1

	)

37 
	#_MB_CAPABLE
 1

	)

40 
	#_MB_LEN_MAX
 8

	)

54 
	#_ATEXIT_DYNAMIC_ALLOC
 1

	)

57 
	#_HAVE_LONG_DOUBLE
 1

	)

60 
	#_HAVE_CC_INHIBIT_LOOP_TO_LIBCALL
 1

	)

66 
	#_FVWRITE_IN_STREAMIO
 1

	)

69 
	#_FSEEK_OPTIMIZATION
 1

	)

72 
	#_WIDE_ORIENT
 1

	)

75 
	#_UNBUF_STREAM_OPT
 1

	)

	@/usr/include/strings.h

29 #i‚de‡
_STRINGS_H_


30 
	#_STRINGS_H_


	)

32 
	~<sys/cdefs.h
>

33 
	~<sys/_ty≥s.h
>

35 #i‡
__POSIX_VISIBLE
 >= 200809

36 
	~<xloˇÀ.h
>

39 #i‚de‡
_SIZE_T_DECLARED


40 
__size_t
 
	tsize_t
;

41 
	#_SIZE_T_DECLARED


	)

44 
	g__BEGIN_DECLS


45 #i‡
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 <= 200112

46 
	$bcmp
(c⁄° *, c⁄° *, 
size_t
Ë
__puª
;

47 
	`bc›y
(c⁄° *, *, 
size_t
);

48 
	`bzîo
(*, 
size_t
);

50 #i‡
__BSD_VISIBLE


51 
	`ex∂icô_bzîo
(*, 
size_t
);

53 #i‡
__MISC_VISIBLE
 || 
__POSIX_VISIBLE
 < 200809 || 
__XSI_VISIBLE
 >= 700

54 
	$ffs
(Ë
__puª2
;

56 #i‡
__GNU_VISIBLE


57 
	$ff¶
(Ë
__puª2
;

58 
	$ff¶l
(Ë
__puª2
;

60 #i‡
__BSD_VISIBLE


61 
	$Ês
(Ë
__puª2
;

62 
	$Ê¶
(Ë
__puª2
;

63 
	$Ê¶l
(Ë
__puª2
;

65 #i‡
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 <= 200112

66 *
	$ödex
(c⁄° *, Ë
__puª
;

67 *
	$rödex
(c⁄° *, Ë
__puª
;

69 
	$°rˇ£cmp
(c⁄° *, c⁄° *Ë
__puª
;

70 
	$°∫ˇ£cmp
(c⁄° *, c⁄° *, 
size_t
Ë
__puª
;

72 #i‡
__POSIX_VISIBLE
 >= 200809

73 
	`°rˇ£cmp_l
 (c⁄° *, c⁄° *, 
loˇÀ_t
);

74 
	`°∫ˇ£cmp_l
 (c⁄° *, c⁄° *, 
size_t
, 
loˇÀ_t
);

76 
__END_DECLS


	@/usr/include/sys/_intsup.h

9 #i‚de‡
_SYS__INTSUP_H


10 
	#_SYS__INTSUP_H


	)

12 
	~<sys/„©uªs.h
>

14 #i‡
__GNUC_PREREQ
 (3, 2)

16 
	#__STDINT_EXP
(
x
Ë
__
##x##
	)
__

18 
	#__STDINT_EXP
(
x
Ë
	)
x

19 
	~<limôs.h
>

35 #¥agm®
push_ma¸o
("signed")

36 #¥agm®
push_ma¸o
("unsigned")

37 #¥agm®
push_ma¸o
("char")

38 #¥agm®
push_ma¸o
("short")

39 #¥agm®
push_ma¸o
("__int20")

40 #¥agm®
push_ma¸o
("int")

41 #¥agm®
push_ma¸o
("long")

47 #unde‡
__öt20


49 sig√d +0

	)

50 +0

	)

51 +0

	)

52 +1

	)

53 
	#__öt20
 +2

	)

54 +2

	)

55 +4

	)

56 #i‡(
__INTPTR_TYPE__
 == 8 || __INTPTR_TYPE__ == 10)

57 
	#_INTPTR_EQ_LONGLONG


	)

58 #ñi‡(
__INTPTR_TYPE__
 == 4 || __INTPTR_TYPE__ == 6)

59 
	#_INTPTR_EQ_LONG


	)

63 #ñi‡
__INTPTR_TYPE__
 == 2

64 
	#_INTPTR_EQ_INT


	)

65 #ñi‡(
__INTPTR_TYPE__
 == 1 || __INTPTR_TYPE__ == 3)

66 
	#_INTPTR_EQ_SHORT


	)

70 #i‡(
__INT32_TYPE__
 == 4 || __INT32_TYPE__ == 6)

71 
	#_INT32_EQ_LONG


	)

72 #ñi‡
__INT32_TYPE__
 == 2

78 #i‡(
__INT8_TYPE__
 == 0)

79 
	#__INT8
 "hh"

	)

80 #ñi‡(
__INT8_TYPE__
 == 1 || __INT8_TYPE__ == 3)

81 
	#__INT8
 "h"

	)

82 #ñi‡(
__INT8_TYPE__
 == 2)

83 
	#__INT8


	)

84 #ñi‡(
__INT8_TYPE__
 == 4 || __INT8_TYPE__ == 6)

85 
	#__INT8
 "l"

	)

86 #ñi‡(
__INT8_TYPE__
 == 8 || __INT8_TYPE__ == 10)

87 
	#__INT8
 "Œ"

	)

89 #i‡(
__INT16_TYPE__
 == 1 || __INT16_TYPE__ == 3)

90 
	#__INT16
 "h"

	)

91 #ñi‡(
__INT16_TYPE__
 == 2)

92 
	#__INT16


	)

93 #ñi‡(
__INT16_TYPE__
 == 4 || __INT16_TYPE__ == 6)

94 
	#__INT16
 "l"

	)

95 #ñi‡(
__INT16_TYPE__
 == 8 || __INT16_TYPE__ == 10)

96 
	#__INT16
 "Œ"

	)

98 #i‡(
__INT32_TYPE__
 == 2)

99 
	#__INT32


	)

100 #ñi‡(
__INT32_TYPE__
 == 4 || __INT32_TYPE__ == 6)

101 
	#__INT32
 "l"

	)

102 #ñi‡(
__INT32_TYPE__
 == 8 || __INT32_TYPE__ == 10)

103 
	#__INT32
 "Œ"

	)

105 #i‡(
__INT64_TYPE__
 == 2)

106 
	#__INT64


	)

107 #ñi‡(
__INT64_TYPE__
 == 4 || __INT64_TYPE__ == 6)

108 
	#__INT64
 "l"

	)

109 #ñi‡(
__INT64_TYPE__
 == 8 || __INT64_TYPE__ == 10)

110 
	#__INT64
 "Œ"

	)

112 #i‡(
__INT_FAST8_TYPE__
 == 0)

113 
	#__FAST8
 "hh"

	)

114 #ñi‡(
__INT_FAST8_TYPE__
 == 1 || __INT_FAST8_TYPE__ == 3)

115 
	#__FAST8
 "h"

	)

116 #ñi‡(
__INT_FAST8_TYPE__
 == 2)

117 
	#__FAST8


	)

118 #ñi‡(
__INT_FAST8_TYPE__
 == 4 || __INT_FAST8_TYPE__ == 6)

119 
	#__FAST8
 "l"

	)

120 #ñi‡(
__INT_FAST8_TYPE__
 == 8 || __INT_FAST8_TYPE__ == 10)

121 
	#__FAST8
 "Œ"

	)

123 #i‡(
__INT_FAST16_TYPE__
 == 1 || __INT_FAST16_TYPE__ == 3)

124 
	#__FAST16
 "h"

	)

125 #ñi‡(
__INT_FAST16_TYPE__
 == 2)

126 
	#__FAST16


	)

127 #ñi‡(
__INT_FAST16_TYPE__
 == 4 || __INT_FAST16_TYPE__ == 6)

128 
	#__FAST16
 "l"

	)

129 #ñi‡(
__INT_FAST16_TYPE__
 == 8 || __INT_FAST16_TYPE__ == 10)

130 
	#__FAST16
 "Œ"

	)

132 #i‡(
__INT_FAST32_TYPE__
 == 2)

133 
	#__FAST32


	)

134 #ñi‡(
__INT_FAST32_TYPE__
 == 4 || __INT_FAST32_TYPE__ == 6)

135 
	#__FAST32
 "l"

	)

136 #ñi‡(
__INT_FAST32_TYPE__
 == 8 || __INT_FAST32_TYPE__ == 10)

137 
	#__FAST32
 "Œ"

	)

139 #i‡(
__INT_FAST64_TYPE__
 == 2)

140 
	#__FAST64


	)

141 #ñi‡(
__INT_FAST64_TYPE__
 == 4 || __INT_FAST64_TYPE__ == 6)

142 
	#__FAST64
 "l"

	)

143 #ñi‡(
__INT_FAST64_TYPE__
 == 8 || __INT_FAST64_TYPE__ == 10)

144 
	#__FAST64
 "Œ"

	)

147 #i‡(
__INT_LEAST8_TYPE__
 == 0)

148 
	#__LEAST8
 "hh"

	)

149 #ñi‡(
__INT_LEAST8_TYPE__
 == 1 || __INT_LEAST8_TYPE__ == 3)

150 
	#__LEAST8
 "h"

	)

151 #ñi‡(
__INT_LEAST8_TYPE__
 == 2)

152 
	#__LEAST8


	)

153 #ñi‡(
__INT_LEAST8_TYPE__
 == 4 || __INT_LEAST8_TYPE__ == 6)

154 
	#__LEAST8
 "l"

	)

155 #ñi‡(
__INT_LEAST8_TYPE__
 == 8 || __INT_LEAST8_TYPE__ == 10)

156 
	#__LEAST8
 "Œ"

	)

158 #i‡(
__INT_LEAST16_TYPE__
 == 1 || __INT_LEAST16_TYPE__ == 3)

159 
	#__LEAST16
 "h"

	)

160 #ñi‡(
__INT_LEAST16_TYPE__
 == 2)

161 
	#__LEAST16


	)

162 #ñi‡(
__INT_LEAST16_TYPE__
 == 4 || __INT_LEAST16_TYPE__ == 6)

163 
	#__LEAST16
 "l"

	)

164 #ñi‡(
__INT_LEAST16_TYPE__
 == 8 || __INT_LEAST16_TYPE__ == 10)

165 
	#__LEAST16
 "Œ"

	)

167 #i‡(
__INT_LEAST32_TYPE__
 == 2)

168 
	#__LEAST32


	)

169 #ñi‡(
__INT_LEAST32_TYPE__
 == 4 || __INT_LEAST32_TYPE__ == 6)

170 
	#__LEAST32
 "l"

	)

171 #ñi‡(
__INT_LEAST32_TYPE__
 == 8 || __INT_LEAST32_TYPE__ == 10)

172 
	#__LEAST32
 "Œ"

	)

174 #i‡(
__INT_LEAST64_TYPE__
 == 2)

175 
	#__LEAST64


	)

176 #ñi‡(
__INT_LEAST64_TYPE__
 == 4 || __INT_LEAST64_TYPE__ == 6)

177 
	#__LEAST64
 "l"

	)

178 #ñi‡(
__INT_LEAST64_TYPE__
 == 8 || __INT_LEAST64_TYPE__ == 10)

179 
	#__LEAST64
 "Œ"

	)

187 #¥agm®
p›_ma¸o
("signed")

188 #¥agm®
p›_ma¸o
("unsigned")

189 #¥agm®
p›_ma¸o
("char")

190 #¥agm®
p›_ma¸o
("short")

191 #¥agm®
p›_ma¸o
("__int20")

192 #¥agm®
p›_ma¸o
("int")

193 #¥agm®
p›_ma¸o
("long")

	@/usr/include/sys/_pthreadtypes.h

10 #i‚de‡
_SYS__PTHREADTYPES_H_


11 
	#_SYS__PTHREADTYPES_H_


	)

13 #i‡!
deföed
(
__INSIDE_CYGWIN__
Ë|| !deföed(
__˝lu•lus
)

15 
	s__±hªad_t
 {
	m__dummy
;} *
	t±hªad_t
;

16 
	s__±hªad_muãx_t
 {
	m__dummy
;} *
	t±hªad_muãx_t
;

18 
	s__±hªad_key_t
 {
	m__dummy
;} *
	t±hªad_key_t
;

19 
	s__±hªad_©å_t
 {
	m__dummy
;} *
	t±hªad_©å_t
;

20 
	s__±hªad_muãx©å_t
 {
	m__dummy
;} *
	t±hªad_muãx©å_t
;

21 
	s__±hªad_c⁄d©å_t
 {
	m__dummy
;} *
	t±hªad_c⁄d©å_t
;

22 
	s__±hªad_c⁄d_t
 {
	m__dummy
;} *
	t±hªad_c⁄d_t
;

23 
	s__±hªad_b¨rõøâr_t
 {
	m__dummy
;} *
	t±hªad_b¨rõøâr_t
;

24 
	s__±hªad_b¨rõr_t
 {
	m__dummy
;} *
	t±hªad_b¨rõr_t
;

29 
±hªad_muãx_t
 
	mmuãx
;

30 
	m°©e
;

32 
	t±hªad_⁄˚_t
;

33 
	s__±hªad_•ölock_t
 {
	m__dummy
;} *
	t±hªad_•ölock_t
;

34 
	s__±hªad_rwlock_t
 {
	m__dummy
;} *
	t±hªad_rwlock_t
;

35 
	s__±hªad_rwlock©å_t
 {
	m__dummy
;} *
	t±hªad_rwlock©å_t
;

41 
˛ass
 
	t±hªad
 *
	t±hªad_t
;

42 
˛ass
 
	t±hªad_muãx
 *
	t±hªad_muãx_t
;

43 
˛ass
 
	t±hªad_key
 *
	t±hªad_key_t
;

44 
˛ass
 
	t±hªad_©å
 *
	t±hªad_©å_t
;

45 
˛ass
 
	t±hªad_muãx©å
 *
	t±hªad_muãx©å_t
;

46 
˛ass
 
	t±hªad_c⁄d©å
 *
	t±hªad_c⁄d©å_t
;

47 
˛ass
 
	t±hªad_c⁄d
 *
	t±hªad_c⁄d_t
;

48 
˛ass
 
	t±hªad_b¨rõr
 *
	t±hªad_b¨rõr_t
;

49 
˛ass
 
	t±hªad_b¨rõøâr
 *
	t±hªad_b¨rõøâr_t
;

50 
˛ass
 
	t±hªad_⁄˚
 
	t±hªad_⁄˚_t
;

51 
˛ass
 
	t±hªad_•ölock
 *
	t±hªad_•ölock_t
;

52 
˛ass
 
	t±hªad_rwlock
 *
	t±hªad_rwlock_t
;

53 
˛ass
 
	t±hªad_rwlock©å
 *
	t±hªad_rwlock©å_t
;

56 
˛ass
 
	t£m≠h‹e
 *
	t£m_t
;

	@/usr/include/sys/_stdint.h

9 #i‚de‡
_SYS__STDINT_H


10 
	#_SYS__STDINT_H


	)

12 
	~<machöe/_deÁu…_ty≥s.h
>

14 #ifde‡
__˝lu•lus


18 #ifde‡
___öt8_t_deföed


19 #i‚de‡
_INT8_T_DECLARED


20 
__öt8_t
 
	töt8_t
 ;

21 
	#_INT8_T_DECLARED


	)

23 #i‚de‡
_UINT8_T_DECLARED


24 
__uöt8_t
 
	tuöt8_t
 ;

25 
	#_UINT8_T_DECLARED


	)

27 
	#__öt8_t_deföed
 1

	)

30 #ifde‡
___öt16_t_deföed


31 #i‚de‡
_INT16_T_DECLARED


32 
__öt16_t
 
	töt16_t
 ;

33 
	#_INT16_T_DECLARED


	)

35 #i‚de‡
_UINT16_T_DECLARED


36 
__uöt16_t
 
	tuöt16_t
 ;

37 
	#_UINT16_T_DECLARED


	)

39 
	#__öt16_t_deföed
 1

	)

42 #ifde‡
___öt32_t_deföed


43 #i‚de‡
_INT32_T_DECLARED


44 
__öt32_t
 
	töt32_t
 ;

45 
	#_INT32_T_DECLARED


	)

47 #i‚de‡
_UINT32_T_DECLARED


48 
__uöt32_t
 
	tuöt32_t
 ;

49 
	#_UINT32_T_DECLARED


	)

51 
	#__öt32_t_deföed
 1

	)

54 #ifde‡
___öt64_t_deföed


55 #i‚de‡
_INT64_T_DECLARED


56 
__öt64_t
 
	töt64_t
 ;

57 
	#_INT64_T_DECLARED


	)

59 #i‚de‡
_UINT64_T_DECLARED


60 
__uöt64_t
 
	tuöt64_t
 ;

61 
	#_UINT64_T_DECLARED


	)

63 
	#__öt64_t_deföed
 1

	)

66 #i‚de‡
_INTMAX_T_DECLARED


67 
__ötmax_t
 
	tötmax_t
;

68 
	#_INTMAX_T_DECLARED


	)

71 #i‚de‡
_UINTMAX_T_DECLARED


72 
__uötmax_t
 
	tuötmax_t
;

73 
	#_UINTMAX_T_DECLARED


	)

76 #i‚de‡
_INTPTR_T_DECLARED


77 
__öçå_t
 
	töçå_t
;

78 
	#_INTPTR_T_DECLARED


	)

81 #i‚de‡
_UINTPTR_T_DECLARED


82 
__uöçå_t
 
	tuöçå_t
;

83 
	#_UINTPTR_T_DECLARED


	)

86 #ifde‡
__˝lu•lus


	@/usr/include/sys/_timespec.h

34 #i‚de‡
_SYS__TIMESPEC_H_


35 
	#_SYS__TIMESPEC_H_


	)

37 
	~<sys/_ty≥s.h
>

39 #i‡!
deföed
(
__time_t_deföed
Ë&& !deföed(
_TIME_T_DECLARED
)

40 
_TIME_T_
 
	ttime_t
;

41 
	#__time_t_deföed


	)

42 
	#_TIME_T_DECLARED


	)

45 
	stime•ec
 {

46 
time_t
 
	mtv_£c
;

47 
	mtv_n£c
;

	@/usr/include/sys/_types.h

19 #i‚def 
_SYS__TYPES_H


20 
	#_SYS__TYPES_H


	)

22 
	~<√wlib.h
>

23 
	~<sys/c⁄fig.h
>

24 
	~<machöe/_ty≥s.h
>

25 
	~<sys/lock.h
>

27 #i‚de‡
__machöe_blk˙t_t_deföed


28 
	t__blk˙t_t
;

31 #i‚de‡
__machöe_blksize_t_deföed


32 
	t__blksize_t
;

35 #i‚de‡
__machöe_fsblk˙t_t_deföed


36 
__uöt64_t
 
	t__fsblk˙t_t
;

39 #i‚de‡
__machöe_fsfû˙t_t_deföed


40 
__uöt32_t
 
	t__fsfû˙t_t
;

43 #i‚de‡
__machöe_off_t_deföed


44 
	t_off_t
;

47 #i‡
deföed
(
__XMK__
)

48 sig√d 
	t__pid_t
;

50 
	t__pid_t
;

53 #i‚de‡
__machöe_dev_t_deföed


54 
	t__dev_t
;

57 #i‚de‡
__machöe_uid_t_deföed


58 
	t__uid_t
;

60 #i‚de‡
__machöe_gid_t_deföed


61 
	t__gid_t
;

64 #i‚de‡
__machöe_id_t_deföed


65 
__uöt32_t
 
	t__id_t
;

68 #i‚de‡
__machöe_öo_t_deföed


69 #i‡(
deföed
(
__i386__
Ë&& (deföed(
GO32
Ë|| deföed(
__MSDOS__
))) || \

70 
deföed
(
__•¨c__
Ë|| 
	$deföed
(
__SPU__
)

71 
	t__öo_t
;

73 
	t__öo_t
;

77 #i‚de‡
__machöe_mode_t_deföed


78 #i‡
	`deföed
(
__i386__
Ë&& (deföed(
GO32
Ë|| deföed(
__MSDOS__
))

79 
	t__mode_t
;

81 #i‡
	`deföed
(
__•¨c__
Ë&& !deföed(
__•¨c_v9__
)

82 #ifde‡
__svr4__


83 
	t__mode_t
;

85 
	t__mode_t
;

88 
__uöt32_t
 
	t__mode_t
;

93 #i‚de‡
__machöe_off64_t_deföed


94 
__exãnsi⁄__
 
	t_off64_t
;

97 #i‡
	`deföed
(
__CYGWIN__
Ë&& !deföed(
__LP64__
)

98 
_off64_t
 
	t__off_t
;

100 
_off_t
 
	t__off_t
;

103 
_off64_t
 
	t__loff_t
;

105 #i‚de‡
__machöe_key_t_deföed


106 
	t__key_t
;

113 #i‚de‡
__machöe_Âos_t_deföed


114 
	t_Âos_t
;

118 #ifde‡
__LARGE64_FILES


119 #i‚de‡
__machöe_Âos64_t_deföed


120 
_off64_t
 
	t_Âos64_t
;

125 #unde‡
__size_t


127 #i‚de‡
__machöe_size_t_deföed


128 #ifde‡
__SIZE_TYPE__


129 
__SIZE_TYPE__
 
	t__size_t
;

131 #i‡
	`deföed
(
__INT_MAX__
) && __INT_MAX__ == 2147483647

132 
	t__size_t
;

134 
	t__size_t
;

139 #i‚de‡
__machöe_ssize_t_deföed


140 #ifde‡
__SIZE_TYPE__


144 sig√d

	)

145 
__SIZE_TYPE__
 
	t_ssize_t
;

148 #i‡
	`deföed
(
__INT_MAX__
) && __INT_MAX__ == 2147483647

149 
	t_ssize_t
;

151 
	t_ssize_t
;

156 
_ssize_t
 
	t__ssize_t
;

158 
	#__√ed_wöt_t


	)

159 
	~<°ddef.h
>

161 #i‚de‡
__machöe_mb°©e_t_deföed


165 
__cou¡
;

168 
wöt_t
 
__wch
;

169 
__wchb
[4];

170 } 
__vÆue
;

171 } 
	t_mb°©e_t
;

174 #i‚de‡
__machöe_Êock_t_deföed


175 
_LOCK_RECURSIVE_T
 
	t_Êock_t
;

178 #i‚de‡
__machöe_ic⁄v_t_deföed


180 *
	t_ic⁄v_t
;

183 #i‚de‡
__machöe_˛ock_t_deföed


184 
	#_CLOCK_T_
 

	)

187 
_CLOCK_T_
 
	t__˛ock_t
;

189 
	#_TIME_T_
 

	)

190 
_TIME_T_
 
	t__time_t
;

192 
	#_CLOCKID_T_
 

	)

193 
_CLOCKID_T_
 
	t__˛ockid_t
;

195 
	#_TIMER_T_
 

	)

196 
_TIMER_T_
 
	t__timî_t
;

198 #i‚de‡
__machöe_ß_Ámûy_t_deföed


199 
__uöt8_t
 
	t__ß_Ámûy_t
;

202 #i‚de‡
__machöe_sockÀn_t_deföed


203 
__uöt32_t
 
	t__sockÀn_t
;

206 
	t__∆ök_t
;

207 
	t__su£c⁄ds_t
;

208 
	t__u£c⁄ds_t
;

210 #ifde‡
__GNUCLIKE_BUILTIN_VARARGS


211 
__buûtö_va_li°
 
	t__va_li°
;

213 * 
	t__va_li°
;

	@/usr/include/sys/cdefs.h

40 #i‚def 
_SYS_CDEFS_H_


41 
	#_SYS_CDEFS_H_


	)

43 
	~<machöe/_deÁu…_ty≥s.h
>

44 
	~<sys/„©uªs.h
>

45 
	~<°ddef.h
>

47 
	#__PMT
(
¨gs
Ë
	)
args

48 
	#__DOTS
 , ...

	)

49 
	#__THROW


	)

51 #ifde‡
__GNUC__


52 
	#__ASMNAME
(
˙ame
Ë
	`__XSTRING
 (
__USER_LABEL_PREFIX__
Ë
	)
cname

55 
	#__±r_t
 *

	)

56 
	#__l⁄g_doubÀ_t
 

	)

58 
	#__©åibuã_mÆloc__


	)

59 
	#__©åibuã_puª__


	)

60 
	#__©åibuã_f‹m©_°rfm⁄__
(
a
,
b
)

	)

61 
	#__Êex¨r
 [0]

	)

63 #i‚de‡
__BOUNDED_POINTERS__


64 
	#__bounded


	)

65 
	#__unbounded


	)

66 
	#__±rvÆue


	)

72 #i‚def 
__has_©åibuã


73 
	#__has_©åibuã
(
x
Ë0

	)

75 #i‚def 
__has_exãnsi⁄


76 
	#__has_exãnsi⁄
 
__has_„©uª


	)

78 #i‚def 
__has_„©uª


79 
	#__has_„©uª
(
x
Ë0

	)

81 #i‚def 
__has_ö˛ude


82 
	#__has_ö˛ude
(
x
Ë0

	)

84 #i‚def 
__has_buûtö


85 
	#__has_buûtö
(
x
Ë0

	)

88 #i‡
deföed
(
__˝lu•lus
)

89 
	#__BEGIN_DECLS
 "C" {

	)

90 
	#__END_DECLS
 }

	)

92 
	#__BEGIN_DECLS


	)

93 
	#__END_DECLS


	)

102 #i‡
deföed
(
__GNUC__
Ë|| deföed(
__INTEL_COMPILER
)

104 #i‡
__GNUC__
 >3 || 
deföed
(
__INTEL_COMPILER
)

105 
	#__GNUCLIKE_ASM
 3

	)

106 
	#__GNUCLIKE_MATH_BUILTIN_CONSTANTS


	)

108 
	#__GNUCLIKE_ASM
 2

	)

110 
	#__GNUCLIKE___TYPEOF
 1

	)

111 
	#__GNUCLIKE___OFFSETOF
 1

	)

112 
	#__GNUCLIKE___SECTION
 1

	)

114 #i‚de‡
__INTEL_COMPILER


115 
	#__GNUCLIKE_CTOR_SECTION_HANDLING
 1

	)

118 
	#__GNUCLIKE_BUILTIN_CONSTANT_P
 1

	)

119 #i‡
deföed
(
__INTEL_COMPILER
Ë&& deföed(
__˝lu•lus
) && \

120 
__INTEL_COMPILER
 < 800

121 #unde‡
__GNUCLIKE_BUILTIN_CONSTANT_P


124 #i‡(
__GNUC_MINOR__
 > 95 || 
__GNUC__
 >= 3)

125 
	#__GNUCLIKE_BUILTIN_VARARGS
 1

	)

126 
	#__GNUCLIKE_BUILTIN_STDARG
 1

	)

127 
	#__GNUCLIKE_BUILTIN_VAALIST
 1

	)

130 #i‡
deföed
(
__GNUC__
)

131 
	#__GNUC_VA_LIST_COMPATIBILITY
 1

	)

137 #i‡
deföed
(
__GNUC__
)

138 
	#__compûî_memb¨
(Ë
__asm
 
	`__vﬁ©ûe
(" " : : : "mem‹y")

	)

141 #i‚de‡
__INTEL_COMPILER


142 
	#__GNUCLIKE_BUILTIN_NEXT_ARG
 1

	)

143 
	#__GNUCLIKE_MATH_BUILTIN_RELOPS


	)

146 
	#__GNUCLIKE_BUILTIN_MEMCPY
 1

	)

149 
	#__CC_SUPPORTS_INLINE
 1

	)

150 
	#__CC_SUPPORTS___INLINE
 1

	)

151 
	#__CC_SUPPORTS___INLINE__
 1

	)

153 
	#__CC_SUPPORTS___FUNC__
 1

	)

154 
	#__CC_SUPPORTS_WARNING
 1

	)

156 
	#__CC_SUPPORTS_VARADIC_XXX
 1

	)

158 
	#__CC_SUPPORTS_DYNAMIC_ARRAY_INIT
 1

	)

174 #i‡
deföed
(
__STDC__
Ë|| deföed(
__˝lu•lus
)

175 
	#__P
(
¥Ÿos
Ë¥Ÿo†

	)

176 
	#__CONCAT1
(
x
,
y
Ëx ## 
	)
y

177 
	#__CONCAT
(
x
,
y
Ë
	`__CONCAT1
(x,y)

	)

178 
	#__STRING
(
x
Ë#x

	)

179 
	#__XSTRING
(
x
Ë
	`__STRING
(xË

	)

181 
	#__c⁄°
 c⁄°

	)

182 
	#__sig√d
 sig√d

	)

183 
	#__vﬁ©ûe
 vﬁ©ûe

	)

184 #i‡
deföed
(
__˝lu•lus
)

185 
	#__ölöe
 
ölöe


	)

187 #i‡!(
deföed
(
__CC_SUPPORTS___INLINE
))

188 
	#__ölöe


	)

193 
	#__P
(
¥Ÿos
Ë(Ë

	)

194 
	#__CONCAT
(
x
,
y
Ëx 
	)
y

195 
	#__STRING
(
x
Ë"x"

	)

197 #i‡!
deföed
(
__CC_SUPPORTS___INLINE
)

198 
	#__c⁄°


	)

199 
	#__ölöe


	)

200 
	#__sig√d


	)

201 
	#__vﬁ©ûe


	)

210 #i‚def 
NO_ANSI_KEYWORDS


211 c⁄°

	)

212 
	#ölöe


	)

213 sig√d

	)

214 vﬁ©ûe

	)

228 #ifde‡
löt


229 
	#__dód2


	)

230 
	#__puª2


	)

231 
	#__unu£d


	)

232 
	#__∑cked


	)

233 
	#__Æig√d
(
x
)

	)

234 
	#__Æloc_Æign
(
x
)

	)

235 
	#__Æloc_size
(
x
)

	)

236 
	#__£˘i⁄
(
x
)

	)

237 
	#__wók_symbﬁ


	)

239 
	#__wók_symbﬁ
 
	`__©åibuã__
((
__wók__
))

	)

240 #i‡!
__GNUC_PREREQ__
(2, 5Ë&& !
deföed
(
__INTEL_COMPILER
)

241 
	#__dód2


	)

242 
	#__puª2


	)

243 
	#__unu£d


	)

245 #i‡
__GNUC__
 =2 && 
__GNUC_MINOR__
 >5 && __GNUC_MINOR__ < 7 && !
deföed
(
__INTEL_COMPILER
)

246 
	#__dód2
 
	`__©åibuã__
((
__n‹ëu∫__
))

	)

247 
	#__puª2
 
	`__©åibuã__
((
__c⁄°__
))

	)

248 
	#__unu£d


	)

251 #i‡
__GNUC_PREREQ__
(2, 7Ë|| 
deföed
(
__INTEL_COMPILER
)

252 
	#__dód2
 
	`__©åibuã__
((
__n‹ëu∫__
))

	)

253 
	#__puª2
 
	`__©åibuã__
((
__c⁄°__
))

	)

254 
	#__unu£d
 
	`__©åibuã__
((
__unu£d__
))

	)

255 
	#__u£d
 
	`__©åibuã__
((
__u£d__
))

	)

256 
	#__∑cked
 
	`__©åibuã__
((
__∑cked__
))

	)

257 
	#__Æig√d
(
x
Ë
	`__©åibuã__
((
	`__Æig√d__
(x)))

	)

258 
	#__£˘i⁄
(
x
Ë
	`__©åibuã__
((
	`__£˘i⁄__
(x)))

	)

260 #i‡
__GNUC_PREREQ__
(4, 3Ë|| 
__has_©åibuã
(
__Æloc_size__
)

261 
	#__Æloc_size
(
x
Ë
	`__©åibuã__
((
	`__Æloc_size__
(x)))

	)

263 
	#__Æloc_size
(
x
)

	)

265 #i‡
__GNUC_PREREQ__
(4, 9Ë|| 
__has_©åibuã
(
__Æloc_Æign__
)

266 
	#__Æloc_Æign
(
x
Ë
	`__©åibuã__
((
	`__Æloc_Æign__
(x)))

	)

268 
	#__Æloc_Æign
(
x
)

	)

272 #i‡!
__GNUC_PREREQ__
(2, 95)

273 
	#__Æignof
(
x
Ë
	`__off£tof
(°ru˘ { 
__a
; x 
__b
; }, __b)

	)

280 #i‡!
deföed
(
__STDC_VERSION__
Ë|| __STDC_VERSION__ < 201112L || deföed(
löt
)

282 #i‡!
__has_exãnsi⁄
(
c_Æig«s
)

283 #i‡(
deföed
(
__˝lu•lus
) && __cplusplus >= 201103L) || \

284 
	$__has_exãnsi⁄
(
cxx_Æig«s
)

285 
	#_Alig«s
(
x
Ë
	`Æig«s
(x)

	)

288 
	#_Alig«s
(
x
Ë
	`__Æig√d
(x)

	)

292 #i‡
	`deföed
(
__˝lu•lus
) && __cplusplus >= 201103L

293 
	#_Alignof
(
x
Ë
	`Æignof
(x)

	)

295 
	#_Alignof
(
x
Ë
	`__Æignof
(x)

	)

298 #i‡!
	`deföed
(
__˝lu•lus
Ë&& !
	`__has_exãnsi⁄
(
c_©omic
) && \

299 !
	$__has_exãnsi⁄
(
cxx_©omic
)

304 
	#_Atomic
(
T
Ë°ru˘ { T vﬁ©ûê
__vÆ
; }

	)

307 #i‡
	`deföed
(
__˝lu•lus
) && __cplusplus >= 201103L

308 
	#_N‹ëu∫
 [[
n‹ëu∫
]]

	)

310 
	#_N‹ëu∫
 
__dód2


	)

313 #i‡!
	`__has_exãnsi⁄
(
c_°©ic_as£π
)

314 #i‡(
	`deföed
(
__˝lu•lus
) && __cplusplus >= 201103L) || \

315 
	$__has_exãnsi⁄
(
cxx_°©ic_as£π
)

316 
	#_Sètic_as£π
(
x
, 
y
Ë
	`°©ic_as£π
(x, y)

	)

317 #ñi‡
	`__GNUC_PREREQ__
(4,6)

319 #ñi‡
	`deföed
(
__COUNTER__
)

320 
	#_Sètic_as£π
(
x
, 
y
Ë
	`__Sètic_as£π
(x, 
__COUNTER__
)

	)

321 
	#__Sètic_as£π
(
x
, 
y
Ë
	`___Sètic_as£π
(x, y)

	)

322 
	#___Sètic_as£π
(
x
, 
y
Ë
	t__as£π_
 ## 
	ty
[(x) ? 1 : -1] \

323 
	t__unu£d


	)

325 
	t_Sètic_as£π
(
	tx
, 
	ty
Ë
	t__hack


	)

329 #i‡!
	t__has_exãnsi⁄
(
	tc_thªad_loˇl
)

336 
	t__has_exãnsi⁄
(
	tcxx_thªad_loˇl
)

337 
	t_Thªad_loˇl
 
	tthªad_loˇl


	)

339 
	t_Thªad_loˇl
 
	t__thªad


	)

354 #i‡(
	tdeföed
(
	t__STDC_VERSION__
) && __STDC_VERSION__ >= 201112L) || \

355 
	t__has_exãnsi⁄
(
	tc_gíîic_£À˘i⁄s
)

356 
	t__gíîic
(
	tex¥
, 
	tt
, 
	tyes
, 
	tno
) \

357 
	t_Gíîic
(
	tex¥
, 
	tt
: 
	tyes
, : 
	tno
)

	)

358 #ñi‡
	t__GNUC_PREREQ__
(3, 1Ë&& !
	tdeföed
(
	t__˝lu•lus
)

359 
	t__gíîic
(
	tex¥
, 
	tt
, 
	tyes
, 
	tno
) \

360 
	t__buûtö_choo£_ex¥
( \

361 
	t__buûtö_ty≥s_com∑tibÀ_p
(
	t__ty≥of
(
	tex¥
), 
	tt
), 
	tyes
, 
	tno
)

	)

371 #i‡!
	tdeföed
(
	t__˝lu•lus
) && \

372 (
	tdeföed
(
	t__˛™g__
Ë|| 
	t__GNUC_PREREQ__
(4, 6)) && \

373 (!
	tdeföed
(
	t__STDC_VERSION__
) || (__STDC_VERSION__ >= 199901))

374 
	t__mö_size
(
	tx
Ë(x)

	)

376 
	t__mö_size
(
	tx
Ë(x)

	)

379 #i‡
	t__GNUC_PREREQ__
(2, 96)

380 
	t__mÆloc_like
 
	t__©åibuã__
((
	t__mÆloc__
))

	)

381 
	t__puª
 
	t__©åibuã__
((
	t__puª__
))

	)

383 
	t__mÆloc_like


	)

384 
	t__puª


	)

387 #i‡
	t__GNUC_PREREQ__
(3, 1Ë|| (
	tdeföed
(
	t__INTEL_COMPILER
) && __INTEL_COMPILER >= 800)

388 
	t__Æways_ölöe
 
	t__©åibuã__
((
	t__Æways_ölöe__
))

	)

390 
	t__Æways_ölöe


	)

393 #i‡
	t__GNUC_PREREQ__
(3, 1)

394 
	t__noölöe
 
	t__©åibuã__
 ((
	t__noölöe__
))

	)

396 
	t__noölöe


	)

399 #i‡
	t__GNUC_PREREQ__
(3, 3)

400 
	t__n⁄nuŒ
(
	tx
Ë
	t__©åibuã__
((
	t__n⁄nuŒ__
(x)))

	)

401 
	t__n⁄nuŒ_Æl
 
	t__©åibuã__
((
	t__n⁄nuŒ__
))

	)

403 
	t__n⁄nuŒ
(
	tx
)

	)

404 
	t__n⁄nuŒ_Æl


	)

407 #i‡
	t__GNUC_PREREQ__
(3, 4)

408 
	t__Á°ˇŒ
 
	t__©åibuã__
((
	t__Á°ˇŒ__
))

	)

409 
	t__ªsu…_u£_check
 
	t__©åibuã__
((
	t__w¨n_unu£d_ªsu…__
))

	)

411 
	t__Á°ˇŒ


	)

412 
	t__ªsu…_u£_check


	)

415 #i‡
	t__GNUC_PREREQ__
(4, 1)

416 
	t__ªtu∫s_twi˚
 
	t__©åibuã__
((
	t__ªtu∫s_twi˚__
))

	)

418 
	t__ªtu∫s_twi˚


	)

421 #i‡
	t__GNUC_PREREQ__
(4, 6Ë|| 
	t__has_buûtö
(
	t__buûtö_uƒóchabÀ
)

422 
	t__uƒóchabÀ
(Ë
	t__buûtö_uƒóchabÀ
()

	)

424 
	t__uƒóchabÀ
(Ë(()0)

	)

428 #i‡!
	t__GNUC_PREREQ__
(2, 7Ë&& !
	tdeföed
(
	t__INTEL_COMPILER
)

429 
	t__func__
 
	tNULL


	)

438 #i‡!(
	t__GNUC__
 =2 && 
	t__GNUC_MINOR__
 == 95)

439 #i‡!
	tdeföed
(
	t__STDC_VERSION__
Ë|| __STDC_VERSION__ < 199901 || deföed(
	tlöt
)

440 
	t__ª°ri˘


	)

442 
	t__ª°ri˘
 
	tª°ri˘


	)

474 #i‡
	t__GNUC_PREREQ__
(2, 96)

475 
	t__¥edi˘_åue
(
	texp
Ë
	t__buûtö_ex≥˘
(”xp), 1)

	)

476 
	t__¥edi˘_Ál£
(
	texp
Ë
	t__buûtö_ex≥˘
(”xp), 0)

	)

478 
	t__¥edi˘_åue
(
	texp
Ë”xp)

	)

479 
	t__¥edi˘_Ál£
(
	texp
Ë”xp)

	)

482 #i‡
	t__GNUC_PREREQ__
(4, 0)

483 
	t__nuŒ_£¡öñ
 
	t__©åibuã__
((
	t__£¡öñ__
))

	)

484 
	t__exp‹ãd
 
	t__©åibuã__
((
	t__visibûôy__
("deÁu…")))

	)

486 #i‚de‡
	t__CYGWIN__


487 
	t__hiddí
 
	t__©åibuã__
((
	t__visibûôy__
("hiddí")))

	)

489 
	t__hiddí


	)

492 
	t__nuŒ_£¡öñ


	)

493 
	t__exp‹ãd


	)

494 
	t__hiddí


	)

497 
	t__off£tof
(
	tty≥
, 
	tfõld
Ë
	toff£tof
—y≥, fõld)

	)

498 
	t__øngeof
(
	tty≥
, 
	t°¨t
, 
	tíd
) \

499 (
	t__off£tof
(
	tty≥
, 
	tíd
Ë- __off£tof—y≥, 
	t°¨t
))

	)

507 #i‡
	t__GNUC_PREREQ__
(3, 1)

508 
	t__c⁄èöîof
(
	tx
, 
	ts
, 
	tm
) ({ \

509 c⁄° vﬁ©ûê
	`__ty≥of
(((
s
 *)0)->
m
Ë*
__x
 = (
x
); \

510 
	`__DEQUALIFY
(
s
 *, (c⁄° vﬁ©ûê*)
__x
 - 
	`__off£tof
(s, 
m
));\

511 
	}
})

	)

513 
	t__c⁄èöîof
(
	tx
, 
	ts
, 
	tm
) \

514 
	t__DEQUALIFY
(
	ts
 *, (c⁄° vﬁ©ûê*)(
	tx
Ë- 
	t__off£tof
(s, 
	tm
))

	)

523 #i‡!
	t__GNUC_PREREQ__
(2, 7Ë&& !
	tdeföed
(
	t__INTEL_COMPILER
)

524 
	t__¥ötÊike
(
	tfmèrg
, 
	tfú°v¨¨g
)

	)

525 
	t__sˇnÊike
(
	tfmèrg
, 
	tfú°v¨¨g
)

	)

526 
	t__f‹m©_¨g
(
	tfmèrg
)

	)

527 
	t__°rfm⁄like
(
	tfmèrg
, 
	tfú°v¨¨g
)

	)

528 
	t__°r·imñike
(
	tfmèrg
, 
	tfú°v¨¨g
)

	)

530 
	t__¥ötÊike
(
	tfmèrg
, 
	tfú°v¨¨g
) \

531 
	t__©åibuã__
((
	t__f‹m©__
 (
	t__¥ötf__
, 
	tfmèrg
, 
	tfú°v¨¨g
)))

	)

532 
	t__sˇnÊike
(
	tfmèrg
, 
	tfú°v¨¨g
) \

533 
	t__©åibuã__
((
	t__f‹m©__
 (
	t__sˇnf__
, 
	tfmèrg
, 
	tfú°v¨¨g
)))

	)

534 
	t__f‹m©_¨g
(
	tfmèrg
Ë
	t__©åibuã__
((
	t__f‹m©_¨g__
 (fmèrg)))

	)

535 
	t__°rfm⁄like
(
	tfmèrg
, 
	tfú°v¨¨g
) \

536 
	t__©åibuã__
((
	t__f‹m©__
 (
	t__°rfm⁄__
, 
	tfmèrg
, 
	tfú°v¨¨g
)))

	)

537 
	t__°r·imñike
(
	tfmèrg
, 
	tfú°v¨¨g
) \

538 
	t__©åibuã__
((
	t__f‹m©__
 (
	t__°r·ime__
, 
	tfmèrg
, 
	tfú°v¨¨g
)))

	)

542 #i‡
	tdeföed
(
	t__FªeBSD_cc_vîsi⁄
) && __FreeBSD_cc_version >= 300001 && \

543 
	tdeföed
(
	t__GNUC__
Ë&& !deföed(
	t__INTEL_COMPILER
)

544 
	t__¥ötf0like
(
	tfmèrg
, 
	tfú°v¨¨g
) \

545 
	t__©åibuã__
((
	t__f‹m©__
 (
	t__¥ötf0__
, 
	tfmèrg
, 
	tfú°v¨¨g
)))

	)

547 
	t__¥ötf0like
(
	tfmèrg
, 
	tfú°v¨¨g
)

	)

550 #i‡
	tdeföed
(
	t__GNUC__
Ë|| deföed(
	t__INTEL_COMPILER
)

551 #i‚de‡
	t__INTEL_COMPILER


552 
	t__°r⁄g_ª„ªn˚
(
	tsym
,
	tÆüssym
) \

553 
	t__ty≥of
 (
	tsym
Ë
	tÆüssym
 
	t__©åibuã__
 ((
	t__Æüs__
 (#sym)))

	)

555 #ifde‡
	t__ELF__


556 #ifde‡
	t__STDC__


557 
	t__wók_ª„ªn˚
(
	tsym
,
	tÆüs
) \

558 
	t__asm__
(".weak " #alias); \

559 
	`__asm__
(".equ " #Æü†", " #sym)

	)

560 
	#__w¨n_ª„ªn˚s
(
sym
,
msg
) \

561 
	`__asm__
(".section .gnu.warning." #sym); \

562 
	`__asm__
(".asciz \"" 
msg
 "\""); \

563 
	`__asm__
(".¥evious")

	)

564 
	#__sym_com∑t
(
sym
,
im∂
,
vîid
) \

565 
	`__asm__
(".symvî " #im∂ ", " #sym "@" #vîid)

	)

566 
	#__sym_deÁu…
(
sym
,
im∂
,
vîid
) \

567 
	`__asm__
(".symvî " #im∂ ", " #sym "@@" #vîid)

	)

569 
	#__wók_ª„ªn˚
(
sym
,
Æüs
) \

570 
	`__asm__
(".weakálias"); \

571 
	`__asm__
(".equálüs, sym")

	)

572 
	#__w¨n_ª„ªn˚s
(
sym
,
msg
) \

573 
	`__asm__
(".section .gnu.warning.sym"); \

574 
	`__asm__
(".asciz \"msg\""); \

575 
	`__asm__
(".¥evious")

	)

576 
	#__sym_com∑t
(
sym
,
im∂
,
vîid
) \

577 
	`__asm__
(".symvî im∂, sym@vîid")

	)

578 
	#__sym_deÁu…
(
im∂
,
sym
,
vîid
) \

579 
	`__asm__
(".symvî im∂, sym@@vîid")

	)

582 #ifde‡
__STDC__


583 
	#__wók_ª„ªn˚
(
sym
,
Æüs
) \

584 
	`__asm__
(".stabs \"_" #alias "\",11,0,0,0"); \

585 
	`__asm__
(".°ab†\"_" #sym "\",1,0,0,0")

	)

586 
	#__w¨n_ª„ªn˚s
(
sym
,
msg
) \

587 
	`__asm__
(".°ab†\"" 
msg
 "\",30,0,0,0"); \

588 
	`__asm__
(".°ab†\"_" #sym "\",1,0,0,0")

	)

590 
	#__wók_ª„ªn˚
(
sym
,
Æüs
) \

591 
	`__asm__
(".stabs \"_/**/alias\",11,0,0,0"); \

592 
	`__asm__
(".°ab†\"_/**/sym\",1,0,0,0")

	)

593 
	#__w¨n_ª„ªn˚s
(
sym
,
msg
) \

594 
	`__asm__
(".stabs msg,30,0,0,0"); \

595 
	`__asm__
(".°ab†\"_/**/sym\",1,0,0,0")

	)

600 #i‚def 
__FBSDID


601 
	#__FBSDID
(
s
Ë
__hack


	)

604 #i‚def 
__RCSID


605 
	#__RCSID
(
s
Ë
__hack


	)

608 #i‚def 
__RCSID_SOURCE


609 
	#__RCSID_SOURCE
(
s
Ë
__hack


	)

612 #i‚def 
__SCCSID


613 
	#__SCCSID
(
s
Ë
__hack


	)

616 #i‚def 
__COPYRIGHT


617 
	#__COPYRIGHT
(
s
Ë
__hack


	)

620 #i‚def 
__DECONST


621 
	#__DECONST
(
ty≥
, 
v¨
Ë(—y≥)(
__uöçå_t
)(c⁄° *)(v¨))

	)

624 #i‚def 
__DEVOLATILE


625 
	#__DEVOLATILE
(
ty≥
, 
v¨
Ë(—y≥)(
__uöçå_t
)(vﬁ©ûê*)(v¨))

	)

628 #i‚def 
__DEQUALIFY


629 
	#__DEQUALIFY
(
ty≥
, 
v¨
Ë(—y≥)(
__uöçå_t
)(c⁄° vﬁ©ûê*)(v¨))

	)

635 #i‡!(
	`deföed
(
__˛™g__
Ë&& 
	`__has_„©uª
(
nuŒabûôy
))

636 
	#_N⁄nuŒ


	)

637 
	#_NuŒabÀ


	)

638 
	#_NuŒ_un•ecifõd


	)

639 
	#__NULLABILITY_PRAGMA_PUSH


	)

640 
	#__NULLABILITY_PRAGMA_POP


	)

642 
	#__NULLABILITY_PRAGMA_PUSH
 
	`_Pøgma
("clang diagnosticÖush") \

643 
	`_Pøgma
("˛™g dügno°i¯ign‹ed \"-WnuŒabûôy-com∂ëíess\"")

	)

644 
	#__NULLABILITY_PRAGMA_POP
 
	`_Pøgma
("˛™g dügno°i¯p›")

	)

654 #i‡
	`__has_©åibuã
(
__¨gumít_wôh_ty≥_èg__
) && \

655 
	`__has_©åibuã
(
__ty≥_èg_f‹_d©©y≥__
Ë&& !
	$deföed
(
löt
)

656 
	#__¨g_ty≥_èg
(
¨g_köd
, 
¨g_idx
, 
ty≥_èg_idx
) \

657 
	`__©åibuã__
((
	`__¨gumít_wôh_ty≥_èg__
(
¨g_köd
, 
¨g_idx
, 
ty≥_èg_idx
)))

	)

658 
	#__d©©y≥_ty≥_èg
(
köd
, 
ty≥
) \

659 
	`__©åibuã__
((
	`__ty≥_èg_f‹_d©©y≥__
(
köd
, 
ty≥
)))

	)

661 
	#__¨g_ty≥_èg
(
¨g_köd
, 
¨g_idx
, 
ty≥_èg_idx
)

	)

662 
	#__d©©y≥_ty≥_èg
(
köd
, 
ty≥
)

	)

677 #i‡
	`__has_exãnsi⁄
(
c_thªad_ß„ty_©åibuãs
)

678 
	#__lock_™nŸ©e
(
x
Ë
	`__©åibuã__
((x))

	)

680 
	#__lock_™nŸ©e
(
x
)

	)

686 
	#__lockabÀ
 
	`__lock_™nŸ©e
(
lockabÀ
)

	)

689 
	#__locks_ex˛usive
(...) \

690 
	`__lock_™nŸ©e
(
	`ex˛usive_lock_fun˘i⁄
(
__VA_ARGS__
))

	)

691 
	#__locks_sh¨ed
(...) \

692 
	`__lock_™nŸ©e
(
	`sh¨ed_lock_fun˘i⁄
(
__VA_ARGS__
))

	)

695 
	#__åylocks_ex˛usive
(...) \

696 
	`__lock_™nŸ©e
(
	`ex˛usive_åylock_fun˘i⁄
(
__VA_ARGS__
))

	)

697 
	#__åylocks_sh¨ed
(...) \

698 
	`__lock_™nŸ©e
(
	`sh¨ed_åylock_fun˘i⁄
(
__VA_ARGS__
))

	)

701 
	#__u∆ocks
(...Ë
	`__lock_™nŸ©e
(
	`u∆ock_fun˘i⁄
(
__VA_ARGS__
))

	)

704 
	#__as£πs_ex˛usive
(...) \

705 
	`__lock_™nŸ©e
(
	`as£π_ex˛usive_lock
(
__VA_ARGS__
))

	)

706 
	#__as£πs_sh¨ed
(...) \

707 
	`__lock_™nŸ©e
(
	`as£π_sh¨ed_lock
(
__VA_ARGS__
))

	)

710 
	#__ªquúes_ex˛usive
(...) \

711 
	`__lock_™nŸ©e
(
	`ex˛usive_locks_ªquúed
(
__VA_ARGS__
))

	)

712 
	#__ªquúes_sh¨ed
(...) \

713 
	`__lock_™nŸ©e
(
	`sh¨ed_locks_ªquúed
(
__VA_ARGS__
))

	)

714 
	#__ªquúes_u∆ocked
(...) \

715 
	`__lock_™nŸ©e
(
	`locks_ex˛uded
(
__VA_ARGS__
))

	)

718 
	#__no_lock_™Æysis
 
	`__lock_™nŸ©e
(
no_thªad_ß„ty_™Æysis
)

	)

721 
	#__gu¨ded_by
(
x
Ë
	`__lock_™nŸ©e
(
	`gu¨ded_by
(x))

	)

722 
	#__±_gu¨ded_by
(
x
Ë
	`__lock_™nŸ©e
(
	`±_gu¨ded_by
(x))

	)

	@/usr/include/sys/config.h

1 #i‚de‡
__SYS_CONFIG_H__


2 
	#__SYS_CONFIG_H__


	)

4 
	~<machöe/õìÂ.h
>

5 
	~<sys/„©uªs.h
>

7 #ifde‡
__Ørch64__


8 
	#MALLOC_ALIGNMENT
 16

	)

12 #i‡
deföed
(
__H8500__
Ë|| deföed(
__W65__
)

13 
	#__SMALL_BITFIELDS


	)

16 
	#H8300
 1

	)

20 #i‡
deföed
(
__Z8001__
Ë|| deföed(
__Z8002__
Ë|| deföed(
__H8500__
Ë|| deföed(
__W65__
Ë|| deföed (
__mn10200__
Ë|| deföed (
__AVR__
)

22 #unde‡
INT_MAX


23 #unde‡
UINT_MAX


24 
	#INT_MAX
 32767

	)

25 
	#UINT_MAX
 65535

	)

28 #i‡
deföed
 (
__H8300__
Ë|| deföed (
__H8300H__
Ë|| deföed(
__H8300S__
Ë|| deföed (
__H8300SX__
)

29 
	#__SMALL_BITFIELDS


	)

30 
	#H8300
 1

	)

31 #unde‡
INT_MAX


32 #unde‡
UINT_MAX


33 
	#INT_MAX
 
__INT_MAX__


	)

34 
	#UINT_MAX
 (
__INT_MAX__
 * 2U + 1)

	)

37 #i‡(
deföed
(
__CR16__
Ë|| deföed(
__CR16C__
Ë||deföed(
__CR16CP__
))

38 #i‚de‡
__INT32__


39 
	#__SMALL_BITFIELDS


	)

40 #unde‡
INT_MAX


41 #unde‡
UINT_MAX


42 
	#INT_MAX
 32767

	)

43 
	#UINT_MAX
 (
__INT_MAX__
 * 2U + 1)

	)

45 #unde‡
INT_MAX


46 #unde‡
UINT_MAX


47 
	#INT_MAX
 2147483647

	)

48 
	#UINT_MAX
 (
__INT_MAX__
 * 2U + 1)

	)

53 #i‡
deföed
 (
__xc16x__
Ë|| deföed (
__xc16xL__
Ë|| deföed (
__xc16xS__
)

54 
	#__SMALL_BITFIELDS


	)

57 #ifde‡
__W65__


58 
	#__SMALL_BITFIELDS


	)

61 #i‡
deföed
(
__D10V__
)

62 
	#__SMALL_BITFIELDS


	)

63 #unde‡
INT_MAX


64 #unde‡
UINT_MAX


65 
	#INT_MAX
 
__INT_MAX__


	)

66 
	#UINT_MAX
 (
__INT_MAX__
 * 2U + 1)

	)

67 
	#_POINTER_INT
 

	)

70 #i‡
deföed
(
__mc68hc11__
Ë|| deföed(
__mc68hc12__
Ë|| deföed(
__mc68hc1x__
)

71 #unde‡
INT_MAX


72 #unde‡
UINT_MAX


73 
	#INT_MAX
 
__INT_MAX__


	)

74 
	#UINT_MAX
 (
__INT_MAX__
 * 2U + 1)

	)

75 
	#_POINTER_INT
 

	)

78 #i‡
deföed
(
__m68k__
Ë|| deföed(
__mc68000__
Ë|| deföed(
__riscv
)

79 
	#_READ_WRITE_RETURN_TYPE
 
_ssize_t


	)

82 #ifde‡
___AM29K__


83 
	#_FLOAT_RET
 

	)

86 #ifde‡
__i386__


87 #i‚de‡
__unix__


89 
	#_FLOAT_RET
 

	)

91 #i‡
deföed
(
__löux__
Ë|| deföed(
__RDOS__
)

93 
	#__DYNAMIC_REENT__


	)

94 
	#HAVE_GETDATE


	)

95 
	#_READ_WRITE_RETURN_TYPE
 
_ssize_t


	)

96 
	#__LARGE64_FILES
 1

	)

98 
	#_LARGEFILE64_SOURCE
 1

	)

102 #ifde‡
__mn10200__


103 
	#__SMALL_BITFIELDS


	)

106 #ifde‡
__AVR__


107 
	#__SMALL_BITFIELDS


	)

108 
	#_POINTER_INT
 

	)

111 #ifde‡
__v850


112 
	#__ATTRIBUTE_IMPURE_PTR__
 
	`__©åibuã__
((
__sda__
))

	)

116 #i‡
deföed
(
__PPC__
)

117 #i‡
deföed
(
_CALL_SYSV
)

118 
	#__ATTRIBUTE_IMPURE_PTR__
 
	`__©åibuã__
((
	`__£˘i⁄__
(".sd©a")))

	)

120 #ifde‡
__SPE__


121 
	#_LONG_DOUBLE
 

	)

126 #i‡
deföed
 (
__MICROBLAZE__
)

127 #i‚de‡
_REENT_SMALL


128 
	#_REENT_SMALL


	)

131 #ifde‡
__XMK__


132 
	#_UNIX98_THREAD_MUTEX_ATTRIBUTES


	)

136 #i‡
deföed
(
__mùs__
Ë&& !deföed(
__πems__
)

137 
	#__ATTRIBUTE_IMPURE_PTR__
 
	`__©åibuã__
((
	`__£˘i⁄__
(".sd©a")))

	)

140 #ifde‡
__x°‹my16__


141 
	#__SMALL_BITFIELDS


	)

142 #unde‡
INT_MAX


143 #unde‡
UINT_MAX


144 
	#INT_MAX
 
__INT_MAX__


	)

145 
	#UINT_MAX
 (
__INT_MAX__
 * 2U + 1)

	)

146 
	#MALLOC_ALIGNMENT
 8

	)

147 
	#_POINTER_INT
 

	)

148 
	#__BUFSIZ__
 16

	)

149 
	#_REENT_SMALL


	)

152 #i‡
deföed
 
__MSP430__


153 #i‚de‡
_REENT_SMALL


154 
	#_REENT_SMALL


	)

157 
	#__BUFSIZ__
 256

	)

158 
	#__SMALL_BITFIELDS


	)

160 #ifde‡
__MSP430X_LARGE__


161 
	#_POINTER_INT
 

	)

163 
	#_POINTER_INT
 

	)

167 #ifde‡
__m32c__


168 
	#__SMALL_BITFIELDS


	)

169 #unde‡
INT_MAX


170 #unde‡
UINT_MAX


171 
	#INT_MAX
 
__INT_MAX__


	)

172 
	#UINT_MAX
 (
__INT_MAX__
 * 2U + 1)

	)

173 
	#MALLOC_ALIGNMENT
 8

	)

174 #i‡
deföed
(
__r8c_˝u__
Ë|| deföed(
__m16c_˝u__
)

175 
	#_POINTER_INT
 

	)

177 
	#_POINTER_INT
 

	)

179 
	#__BUFSIZ__
 16

	)

180 
	#_REENT_SMALL


	)

183 #ifde‡
__SPU__


184 
	#MALLOC_ALIGNMENT
 16

	)

185 
	#__CUSTOM_FILE_IO__


	)

188 #i‡
deföed
(
__‹1k__
Ë|| deföed(
__‹1knd__
)

189 
	#__DYNAMIC_REENT__


	)

197 #i‚de‡
__INT_MAX__


198 #ifde‡
INT_MAX


199 
	#__INT_MAX__
 
INT_MAX


	)

201 
	#__INT_MAX__
 2147483647

	)

205 #i‚de‡
__LONG_MAX__


206 #ifde‡
LONG_MAX


207 
	#__LONG_MAX__
 
LONG_MAX


	)

209 #i‡
deföed
 (
__Æpha__
Ë|| (deföed (
__•¨c__
Ë&& deföed(
__¨ch64__
)) \

210 || 
	$deföed
 (
__•¨cv9
)

211 
	#__LONG_MAX__
 9223372036854775807L

	)

213 
	#__LONG_MAX__
 2147483647L

	)

219 #i‚de‡
_POINTER_INT


220 
	#_POINTER_INT
 

	)

223 #ifde‡
__‰v__


224 
	#__ATTRIBUTE_IMPURE_PTR__
 
	`__©åibuã__
((
	`__£˘i⁄__
(".sd©a")))

	)

226 #unde‡
__RAND_MAX


227 #i‡
__INT_MAX__
 == 32767

228 
	#__RAND_MAX
 32767

	)

230 
	#__RAND_MAX
 0x7fffffff

	)

233 #i‡
	`deföed
(
__CYGWIN__
)

234 
	~<cygwö/c⁄fig.h
>

237 #i‡
	`deföed
(
__πems__
)

238 
	#__FILENAME_MAX__
 255

	)

239 
	#_READ_WRITE_RETURN_TYPE
 
_ssize_t


	)

240 
	#__DYNAMIC_REENT__


	)

241 
	#_REENT_GLOBAL_ATEXIT


	)

242 
	#_REENT_GLOBAL_STDIO_STREAMS


	)

245 #i‚de‡
__EXPORT


246 
	#__EXPORT


	)

249 #i‚de‡
__IMPORT


250 
	#__IMPORT


	)

256 #i‚de‡
_READ_WRITE_RETURN_TYPE


257 
	#_READ_WRITE_RETURN_TYPE
 

	)

262 #i‚de‡
_READ_WRITE_BUFSIZE_TYPE


263 
	#_READ_WRITE_BUFSIZE_TYPE
 

	)

266 #i‚de‡
__WCHAR_MAX__


267 #i‡
__INT_MAX__
 =32767 || 
	`deföed
 (
_WIN32
)

268 
	#__WCHAR_MAX__
 0xffffu

	)

274 #ifde‡
_WANT_REENT_SMALL


275 #i‚de‡
_REENT_SMALL


276 
	#_REENT_SMALL


	)

280 #ifde‡
_WANT_REENT_GLOBAL_STDIO_STREAMS


281 #i‚de‡
_REENT_GLOBAL_STDIO_STREAMS


282 
	#_REENT_GLOBAL_STDIO_STREAMS


	)

289 #ifde‡
_MB_EXTENDED_CHARSETS_ALL


290 
	#_MB_EXTENDED_CHARSETS_ISO
 1

	)

291 
	#_MB_EXTENDED_CHARSETS_WINDOWS
 1

	)

	@/usr/include/sys/dirent.h

9 #i‚de‡
_SYS_DIRENT_H


10 
	#_SYS_DIRENT_H


	)

12 
	~<sys/cdefs.h
>

13 
	~<sys/ty≥s.h
>

14 
	~<limôs.h
>

16 
	#__DIRENT_VERSION
 2

	)

18 #i‚de‡
__x86_64__


19 #¥agm®
∑ck
(
push
,4)

21 
	#_DIRENT_HAVE_D_TYPE


	)

22 
	sdúít


24 
uöt32_t
 
	m__d_vîsi⁄
;

25 
öo_t
 
	md_öo
;

26 
	md_ty≥
;

27 
	m__d_unu£d1
[3];

28 
__uöt32_t
 
	m__d_öã∫Æ1
;

29 
	md_«me
[
NAME_MAX
 + 1];

31 #i‚de‡
__x86_64__


32 #¥agm®
∑ck
(
p›
)

35 
	#d_fûío
 
d_öo


	)

37 #ifde‡
__x86_64__


38 
	#__DIRENT_COOKIE
 0xcdcd8484

	)

40 
	#__DIRENT_COOKIE
 0xdede4242

	)

43 #i‚de‡
__x86_64__


44 #¥agm®
∑ck
(
push
,4)

46 
	s__DIR


49 
	m__d_cookõ
;

50 
dúít
 *
	m__d_dúít
;

51 *
	m__d_dú«me
;

52 
__öt32_t
 
	m__d_posôi⁄
;

53 
	m__d_fd
;

54 
uöçå_t
 
	m__d_öã∫Æ
;

55 *
	m__h™dÀ
;

56 *
	m__fh
;

57 
	m__Êags
;

58 } 
	tDIR
;

59 #i‚de‡
__x86_64__


60 #¥agm®
∑ck
(
p›
)

63 
DIR
 *
›ídú
 (const *);

64 
DIR
 *
fd›ídú
 ();

65 
dúít
 *
ªaddú
 (
DIR
 *);

66 
ªaddú_r
 (
DIR
 * 
__ª°ri˘
, 
dúít
 * __restrict,

67 
dúít
 ** 
__ª°ri˘
);

68 
ªwöddú
 (
DIR
 *);

69 
˛o£dú
 (
DIR
 *);

71 
dúfd
 (
DIR
 *);

73 #i‡
__MISC_VISIBLE
 || 
__XSI_VISIBLE


74 #i‚de‡
__INSIDE_CYGWIN__


75 
ãŒdú
 (
DIR
 *);

76 
£ekdú
 (
DIR
 *, 
loc
);

80 #i‡
__MISC_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200809

81 
sˇndú
 (c⁄° *
__dú
,

82 
dúít
 ***
__«mñi°
,

83 (*
£À˘
Ë(c⁄° 
dúít
 *),

84 (*
com∑r
Ë(c⁄° 
dúít
 **, const dirent **));

85 
	`Æphas‹t
 (c⁄° 
dúít
 **
__a
, c⁄° dúíà**
__b
);

88 #i‡
__GNU_VISIBLE


89 
	`sˇndú©
 (
__dúfd
, c⁄° *
__dú
, 
dúít
 ***
__«mñi°
,

90 (*
£À˘
Ë(c⁄° 
dúít
 *),

91 (*
com∑r
Ë(c⁄° 
dúít
 **, const dirent **));

92 
	`vîsi⁄s‹t
 (c⁄° 
dúít
 **
__a
, c⁄° dúíà**
__b
);

95 #i‡
__BSD_VISIBLE


96 #ifde‡
_DIRENT_HAVE_D_TYPE


100 
DT_UNKNOWN
 = 0,

101 
	#DT_UNKNOWN
 
DT_UNKNOWN


	)

102 
DT_FIFO
 = 1,

103 
	#DT_FIFO
 
DT_FIFO


	)

104 
DT_CHR
 = 2,

105 
	#DT_CHR
 
DT_CHR


	)

106 
DT_DIR
 = 4,

107 
	#DT_DIR
 
DT_DIR


	)

108 
DT_BLK
 = 6,

109 
	#DT_BLK
 
DT_BLK


	)

110 
DT_REG
 = 8,

111 
	#DT_REG
 
DT_REG


	)

112 
DT_LNK
 = 10,

113 
	#DT_LNK
 
DT_LNK


	)

114 
DT_SOCK
 = 12,

115 
	#DT_SOCK
 
DT_SOCK


	)

116 
DT_WHT
 = 14

117 
	#DT_WHT
 
DT_WHT


	)

121 
	#IFTODT
(
mode
Ë(((modeË& 0170000Ë>> 12)

	)

122 
	#DTTOIF
(
dúty≥
Ë((dúty≥Ë<< 12)

	)

	@/usr/include/sys/errno.h

5 #i‚de‡
_SYS_ERRNO_H_


6 #ifde‡
__˝lu•lus


9 
	#_SYS_ERRNO_H_


	)

11 
	~<sys/ªít.h
>

13 #i‚de‡
_REENT_ONLY


14 
	#î∫o
 (*
	`__î∫o
())

	)

15 *
__î∫o
 
_PARAMS
 (());

20 
__IMPORT
 
_CONST
 * _CONST 
_sys_îæi°
[];

21 
__IMPORT
 
_sys_√º
;

22 #ifde‡
__CYGWIN__


23 
__IMPORT
 c⁄° * c⁄° 
sys_îæi°
[];

24 
__IMPORT
 
sys_√º
;

25 
__IMPORT
 *
¥ogøm_övoˇti⁄_«me
;

26 
__IMPORT
 *
¥ogøm_övoˇti⁄_sh‹t_«me
;

29 
	#__î∫o_r
(
±r
Ë(’å)->
_î∫o
)

	)

31 
	#EPERM
 1

	)

32 
	#ENOENT
 2

	)

33 
	#ESRCH
 3

	)

34 
	#EINTR
 4

	)

35 
	#EIO
 5

	)

36 
	#ENXIO
 6

	)

37 
	#E2BIG
 7

	)

38 
	#ENOEXEC
 8

	)

39 
	#EBADF
 9

	)

40 
	#ECHILD
 10

	)

41 
	#EAGAIN
 11

	)

42 
	#ENOMEM
 12

	)

43 
	#EACCES
 13

	)

44 
	#EFAULT
 14

	)

45 #ifde‡
__LINUX_ERRNO_EXTENSIONS__


46 
	#ENOTBLK
 15

	)

48 
	#EBUSY
 16

	)

49 
	#EEXIST
 17

	)

50 
	#EXDEV
 18

	)

51 
	#ENODEV
 19

	)

52 
	#ENOTDIR
 20

	)

53 
	#EISDIR
 21

	)

54 
	#EINVAL
 22

	)

55 
	#ENFILE
 23

	)

56 
	#EMFILE
 24

	)

57 
	#ENOTTY
 25

	)

58 
	#ETXTBSY
 26

	)

59 
	#EFBIG
 27

	)

60 
	#ENOSPC
 28

	)

61 
	#ESPIPE
 29

	)

62 
	#EROFS
 30

	)

63 
	#EMLINK
 31

	)

64 
	#EPIPE
 32

	)

65 
	#EDOM
 33

	)

66 
	#ERANGE
 34

	)

67 
	#ENOMSG
 35

	)

68 
	#EIDRM
 36

	)

69 #ifde‡
__LINUX_ERRNO_EXTENSIONS__


70 
	#ECHRNG
 37

	)

71 
	#EL2NSYNC
 38

	)

72 
	#EL3HLT
 39

	)

73 
	#EL3RST
 40

	)

74 
	#ELNRNG
 41

	)

75 
	#EUNATCH
 42

	)

76 
	#ENOCSI
 43

	)

77 
	#EL2HLT
 44

	)

79 
	#EDEADLK
 45

	)

80 
	#ENOLCK
 46

	)

81 #ifde‡
__LINUX_ERRNO_EXTENSIONS__


82 
	#EBADE
 50

	)

83 
	#EBADR
 51

	)

84 
	#EXFULL
 52

	)

85 
	#ENOANO
 53

	)

86 
	#EBADRQC
 54

	)

87 
	#EBADSLT
 55

	)

88 
	#EDEADLOCK
 56

	)

89 
	#EBFONT
 57

	)

91 
	#ENOSTR
 60

	)

92 
	#ENODATA
 61

	)

93 
	#ETIME
 62

	)

94 
	#ENOSR
 63

	)

95 #ifde‡
__LINUX_ERRNO_EXTENSIONS__


96 
	#ENONET
 64

	)

97 
	#ENOPKG
 65

	)

98 
	#EREMOTE
 66

	)

100 
	#ENOLINK
 67

	)

101 #ifde‡
__LINUX_ERRNO_EXTENSIONS__


102 
	#EADV
 68

	)

103 
	#ESRMNT
 69

	)

104 
	#ECOMM
 70

	)

106 
	#EPROTO
 71

	)

107 
	#EMULTIHOP
 74

	)

108 #ifde‡
__LINUX_ERRNO_EXTENSIONS__


109 
	#ELBIN
 75

	)

110 
	#EDOTDOT
 76

	)

112 
	#EBADMSG
 77

	)

113 
	#EFTYPE
 79

	)

114 #ifde‡
__LINUX_ERRNO_EXTENSIONS__


115 
	#ENOTUNIQ
 80

	)

116 
	#EBADFD
 81

	)

117 
	#EREMCHG
 82

	)

118 
	#ELIBACC
 83

	)

119 
	#ELIBBAD
 84

	)

120 
	#ELIBSCN
 85

	)

121 
	#ELIBMAX
 86

	)

122 
	#ELIBEXEC
 87

	)

124 
	#ENOSYS
 88

	)

125 #ifde‡
__CYGWIN__


126 
	#ENMFILE
 89

	)

128 
	#ENOTEMPTY
 90

	)

129 
	#ENAMETOOLONG
 91

	)

130 
	#ELOOP
 92

	)

131 
	#EOPNOTSUPP
 95

	)

132 
	#EPFNOSUPPORT
 96

	)

133 
	#ECONNRESET
 104

	)

134 
	#ENOBUFS
 105

	)

135 
	#EAFNOSUPPORT
 106

	)

136 
	#EPROTOTYPE
 107

	)

137 
	#ENOTSOCK
 108

	)

138 
	#ENOPROTOOPT
 109

	)

139 #ifde‡
__LINUX_ERRNO_EXTENSIONS__


140 
	#ESHUTDOWN
 110

	)

142 
	#ECONNREFUSED
 111

	)

143 
	#EADDRINUSE
 112

	)

144 
	#ECONNABORTED
 113

	)

145 
	#ENETUNREACH
 114

	)

146 
	#ENETDOWN
 115

	)

147 
	#ETIMEDOUT
 116

	)

148 
	#EHOSTDOWN
 117

	)

149 
	#EHOSTUNREACH
 118

	)

150 
	#EINPROGRESS
 119

	)

151 
	#EALREADY
 120

	)

152 
	#EDESTADDRREQ
 121

	)

153 
	#EMSGSIZE
 122

	)

154 
	#EPROTONOSUPPORT
 123

	)

155 #ifde‡
__LINUX_ERRNO_EXTENSIONS__


156 
	#ESOCKTNOSUPPORT
 124

	)

158 
	#EADDRNOTAVAIL
 125

	)

159 
	#ENETRESET
 126

	)

160 
	#EISCONN
 127

	)

161 
	#ENOTCONN
 128

	)

162 
	#ETOOMANYREFS
 129

	)

163 #ifde‡
__LINUX_ERRNO_EXTENSIONS__


164 
	#EPROCLIM
 130

	)

165 
	#EUSERS
 131

	)

167 
	#EDQUOT
 132

	)

168 
	#ESTALE
 133

	)

169 
	#ENOTSUP
 134

	)

170 #ifde‡
__LINUX_ERRNO_EXTENSIONS__


171 
	#ENOMEDIUM
 135

	)

173 #ifde‡
__CYGWIN__


174 
	#ENOSHARE
 136

	)

175 
	#ECASECLASH
 137

	)

177 
	#EILSEQ
 138

	)

178 
	#EOVERFLOW
 139

	)

179 
	#ECANCELED
 140

	)

180 
	#ENOTRECOVERABLE
 141

	)

181 
	#EOWNERDEAD
 142

	)

182 #ifde‡
__LINUX_ERRNO_EXTENSIONS__


183 
	#ESTRPIPE
 143

	)

185 
	#EWOULDBLOCK
 
EAGAIN


	)

187 
	#__ELASTERROR
 2000

	)

189 #ifde‡
__˝lu•lus


	@/usr/include/sys/features.h

21 #i‚de‡
_SYS_FEATURES_H


22 
	#_SYS_FEATURES_H


	)

24 #ifde‡
__˝lu•lus


28 
	~<_√wlib_vîsi⁄.h
>

31 #i‚de‡
__GNUC_PREREQ


32 #i‡
deföed
 
__GNUC__
 && deföed 
__GNUC_MINOR__


33 
	#__GNUC_PREREQ
(
maj
, 
mö
) \

34 ((
__GNUC__
 << 16Ë+ 
__GNUC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

36 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë0

	)

40 
	#__GNUC_PREREQ__
(
ma
, 
mi
Ë
	`__GNUC_PREREQ
(ma, mi)

	)

105 #ifde‡
_GNU_SOURCE


106 #unde‡
_ATFILE_SOURCE


107 
	#_ATFILE_SOURCE
 1

	)

108 #unde‡
_DEFAULT_SOURCE


109 
	#_DEFAULT_SOURCE
 1

	)

110 #unde‡
_ISOC99_SOURCE


111 
	#_ISOC99_SOURCE
 1

	)

112 #unde‡
_ISOC11_SOURCE


113 
	#_ISOC11_SOURCE
 1

	)

114 #unde‡
_POSIX_SOURCE


115 
	#_POSIX_SOURCE
 1

	)

116 #unde‡
_POSIX_C_SOURCE


117 
	#_POSIX_C_SOURCE
 200809L

	)

118 #unde‡
_XOPEN_SOURCE


119 
	#_XOPEN_SOURCE
 700

	)

120 #unde‡
_XOPEN_SOURCE_EXTENDED


121 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

124 #i‡
deföed
(
_BSD_SOURCE
Ë|| deföed(
_SVID_SOURCE
) || \

125 (!
deföed
(
__STRICT_ANSI__
Ë&& !deföed(
_ANSI_SOURCE
) && \

126 !
deföed
(
_ISOC99_SOURCE
Ë&& !deföed(
_POSIX_SOURCE
) && \

127 !
deföed
(
_POSIX_C_SOURCE
Ë&& !deföed(
_XOPEN_SOURCE
))

128 #unde‡
_DEFAULT_SOURCE


129 
	#_DEFAULT_SOURCE
 1

	)

132 #i‡
deföed
(
_DEFAULT_SOURCE
)

133 #unde‡
_POSIX_SOURCE


134 
	#_POSIX_SOURCE
 1

	)

135 #unde‡
_POSIX_C_SOURCE


136 
	#_POSIX_C_SOURCE
 200809L

	)

139 #i‡!
deföed
(
_POSIX_SOURCE
Ë&& !deföed(
_POSIX_C_SOURCE
) && \

140 ((!
deföed
(
__STRICT_ANSI__
Ë&& !deföed(
_ANSI_SOURCE
)) || \

141 (
_XOPEN_SOURCE
 - 0) >= 500)

142 
	#_POSIX_SOURCE
 1

	)

143 #i‡!
deföed
(
_XOPEN_SOURCE
) || (_XOPEN_SOURCE - 0) >= 700

144 
	#_POSIX_C_SOURCE
 200809L

	)

145 #ñi‡(
_XOPEN_SOURCE
 - 0) >= 600

146 
	#_POSIX_C_SOURCE
 200112L

	)

147 #ñi‡(
_XOPEN_SOURCE
 - 0) >= 500

148 
	#_POSIX_C_SOURCE
 199506L

	)

149 #ñi‡(
_XOPEN_SOURCE
 - 0) < 500

150 
	#_POSIX_C_SOURCE
 2

	)

154 #i‡
deföed
(
_POSIX_C_SOURCE
) && _POSIX_C_SOURCE >= 200809

155 #unde‡
_ATFILE_SOURCE


156 
	#_ATFILE_SOURCE
 1

	)

241 #ifde‡
_ATFILE_SOURCE


242 
	#__ATFILE_VISIBLE
 1

	)

244 
	#__ATFILE_VISIBLE
 0

	)

247 #ifde‡
_DEFAULT_SOURCE


248 
	#__BSD_VISIBLE
 1

	)

250 
	#__BSD_VISIBLE
 0

	)

253 #ifde‡
_GNU_SOURCE


254 
	#__GNU_VISIBLE
 1

	)

256 
	#__GNU_VISIBLE
 0

	)

259 #i‡
deföed
(
_ISOC11_SOURCE
) || \

260 (
__STDC_VERSION__
 - 0Ë>201112L || (
__˝lu•lus
 - 0) >= 201103L

261 
	#__ISO_C_VISIBLE
 2011

	)

262 #ñi‡
deföed
(
_ISOC99_SOURCE
Ë|| (
_POSIX_C_SOURCE
 - 0) >= 200112L || \

263 (
__STDC_VERSION__
 - 0Ë>199901L || 
deföed
(
__˝lu•lus
)

264 
	#__ISO_C_VISIBLE
 1999

	)

266 
	#__ISO_C_VISIBLE
 1990

	)

269 #i‡
deföed
(
_LARGEFILE_SOURCE
Ë|| (
_XOPEN_SOURCE
 - 0) >= 500

270 
	#__LARGEFILE_VISIBLE
 1

	)

272 
	#__LARGEFILE_VISIBLE
 0

	)

275 #ifde‡
_DEFAULT_SOURCE


276 
	#__MISC_VISIBLE
 1

	)

278 
	#__MISC_VISIBLE
 0

	)

281 #i‡(
_POSIX_C_SOURCE
 - 0) >= 200809L

282 
	#__POSIX_VISIBLE
 200809

	)

283 #ñi‡(
_POSIX_C_SOURCE
 - 0) >= 200112L

284 
	#__POSIX_VISIBLE
 200112

	)

285 #ñi‡(
_POSIX_C_SOURCE
 - 0) >= 199506L

286 
	#__POSIX_VISIBLE
 199506

	)

287 #ñi‡(
_POSIX_C_SOURCE
 - 0) >= 199309L

288 
	#__POSIX_VISIBLE
 199309

	)

289 #ñi‡(
_POSIX_C_SOURCE
 - 0Ë>2 || 
deföed
(
_XOPEN_SOURCE
)

290 
	#__POSIX_VISIBLE
 199209

	)

291 #ñi‡
deföed
(
_POSIX_SOURCE
Ë|| deföed(
_POSIX_C_SOURCE
)

292 
	#__POSIX_VISIBLE
 199009

	)

294 
	#__POSIX_VISIBLE
 0

	)

297 #ifde‡
_DEFAULT_SOURCE


298 
	#__SVID_VISIBLE
 1

	)

300 
	#__SVID_VISIBLE
 0

	)

303 #i‡(
_XOPEN_SOURCE
 - 0) >= 700

304 
	#__XSI_VISIBLE
 700

	)

305 #ñi‡(
_XOPEN_SOURCE
 - 0) >= 600

306 
	#__XSI_VISIBLE
 600

	)

307 #ñi‡(
_XOPEN_SOURCE
 - 0) >= 500

308 
	#__XSI_VISIBLE
 500

	)

309 #ñi‡
deföed
(
_XOPEN_SOURCE
Ë&& deföed(
_XOPEN_SOURCE_EXTENDED
)

310 
	#__XSI_VISIBLE
 4

	)

311 #ñi‡
deföed
(
_XOPEN_SOURCE
)

312 
	#__XSI_VISIBLE
 1

	)

314 
	#__XSI_VISIBLE
 0

	)

319 #ifde‡
__πems__


320 
	#_POSIX_JOB_CONTROL
 1

	)

321 
	#_POSIX_SAVED_IDS
 1

	)

322 
	#_POSIX_VERSION
 199309L

	)

323 
	#_POSIX_ASYNCHRONOUS_IO
 1

	)

324 
	#_POSIX_FSYNC
 1

	)

325 
	#_POSIX_MAPPED_FILES
 1

	)

326 
	#_POSIX_MEMLOCK
 1

	)

327 
	#_POSIX_MEMLOCK_RANGE
 1

	)

328 
	#_POSIX_MEMORY_PROTECTION
 1

	)

329 
	#_POSIX_MESSAGE_PASSING
 1

	)

330 
	#_POSIX_MONOTONIC_CLOCK
 200112L

	)

331 
	#_POSIX_CLOCK_SELECTION
 200112L

	)

332 
	#_POSIX_PRIORITIZED_IO
 1

	)

333 
	#_POSIX_PRIORITY_SCHEDULING
 1

	)

334 
	#_POSIX_REALTIME_SIGNALS
 1

	)

335 
	#_POSIX_SEMAPHORES
 1

	)

336 
	#_POSIX_SHARED_MEMORY_OBJECTS
 1

	)

337 
	#_POSIX_SYNCHRONIZED_IO
 1

	)

338 
	#_POSIX_TIMERS
 1

	)

339 
	#_POSIX_BARRIERS
 200112L

	)

340 
	#_POSIX_READER_WRITER_LOCKS
 200112L

	)

341 
	#_POSIX_SPIN_LOCKS
 200112L

	)

345 
	#_POSIX_THREADS
 1

	)

346 
	#_POSIX_THREAD_ATTR_STACKADDR
 1

	)

347 
	#_POSIX_THREAD_ATTR_STACKSIZE
 1

	)

348 
	#_POSIX_THREAD_PRIORITY_SCHEDULING
 1

	)

349 
	#_POSIX_THREAD_PRIO_INHERIT
 1

	)

350 
	#_POSIX_THREAD_PRIO_PROTECT
 1

	)

351 
	#_POSIX_THREAD_PROCESS_SHARED
 1

	)

352 
	#_POSIX_THREAD_SAFE_FUNCTIONS
 1

	)

355 
	#_POSIX_SPAWN
 1

	)

356 
	#_POSIX_TIMEOUTS
 1

	)

357 
	#_POSIX_CPUTIME
 1

	)

358 
	#_POSIX_THREAD_CPUTIME
 1

	)

359 
	#_POSIX_SPORADIC_SERVER
 1

	)

360 
	#_POSIX_THREAD_SPORADIC_SERVER
 1

	)

361 
	#_POSIX_DEVICE_CONTROL
 1

	)

362 
	#_POSIX_DEVCTL_DIRECTION
 1

	)

363 
	#_POSIX_INTERRUPT_CONTROL
 1

	)

364 
	#_POSIX_ADVISORY_INFO
 1

	)

367 
	#_UNIX98_THREAD_MUTEX_ATTRIBUTES
 1

	)

370 
	#_POSIX_26_VERSION
 200312L

	)

375 #ifde‡
__XMK__


376 
	#_POSIX_THREADS
 1

	)

377 
	#_POSIX_THREAD_PRIORITY_SCHEDULING
 1

	)

381 #ifde‡
__svr4__


382 
	#_POSIX_JOB_CONTROL
 1

	)

383 
	#_POSIX_SAVED_IDS
 1

	)

384 
	#_POSIX_VERSION
 199009L

	)

387 #ifde‡
__CYGWIN__


389 #i‡
__POSIX_VISIBLE
 >= 200809

390 
	#_POSIX_VERSION
 200809L

	)

391 
	#_POSIX2_VERSION
 200809L

	)

392 #ñi‡
__POSIX_VISIBLE
 >= 200112

393 
	#_POSIX_VERSION
 200112L

	)

394 
	#_POSIX2_VERSION
 200112L

	)

395 #ñi‡
__POSIX_VISIBLE
 >= 199506

396 
	#_POSIX_VERSION
 199506L

	)

397 
	#_POSIX2_VERSION
 199506L

	)

398 #ñi‡
__POSIX_VISIBLE
 >= 199309

399 
	#_POSIX_VERSION
 199309L

	)

400 
	#_POSIX2_VERSION
 199209L

	)

401 #ñi‡
__POSIX_VISIBLE
 >= 199209

402 
	#_POSIX_VERSION
 199009L

	)

403 
	#_POSIX2_VERSION
 199209L

	)

404 #ñi‡
__POSIX_VISIBLE


405 
	#_POSIX_VERSION
 199009L

	)

407 #i‡
__XSI_VISIBLE
 >= 4

408 
	#_XOPEN_VERSION
 
__XSI_VISIBLE


	)

411 
	#_POSIX_ADVISORY_INFO
 200809L

	)

413 
	#_POSIX_BARRIERS
 200809L

	)

414 
	#_POSIX_CHOWN_RESTRICTED
 1

	)

415 
	#_POSIX_CLOCK_SELECTION
 200809L

	)

416 
	#_POSIX_CPUTIME
 200809L

	)

417 
	#_POSIX_FSYNC
 200809L

	)

418 
	#_POSIX_IPV6
 200809L

	)

419 
	#_POSIX_JOB_CONTROL
 1

	)

420 
	#_POSIX_MAPPED_FILES
 200809L

	)

422 
	#_POSIX_MEMLOCK_RANGE
 200809L

	)

423 
	#_POSIX_MEMORY_PROTECTION
 200809L

	)

424 
	#_POSIX_MESSAGE_PASSING
 200809L

	)

425 
	#_POSIX_MONOTONIC_CLOCK
 200809L

	)

426 
	#_POSIX_NO_TRUNC
 1

	)

428 
	#_POSIX_PRIORITY_SCHEDULING
 200809L

	)

429 
	#_POSIX_RAW_SOCKETS
 200809L

	)

430 
	#_POSIX_READER_WRITER_LOCKS
 200809L

	)

431 
	#_POSIX_REALTIME_SIGNALS
 200809L

	)

432 
	#_POSIX_REGEXP
 1

	)

433 
	#_POSIX_SAVED_IDS
 1

	)

434 
	#_POSIX_SEMAPHORES
 200809L

	)

435 
	#_POSIX_SHARED_MEMORY_OBJECTS
 200809L

	)

436 
	#_POSIX_SHELL
 1

	)

437 
	#_POSIX_SPAWN
 200809L

	)

438 
	#_POSIX_SPIN_LOCKS
 200809L

	)

440 
	#_POSIX_SYNCHRONIZED_IO
 200809L

	)

441 
	#_POSIX_THREAD_ATTR_STACKADDR
 200809L

	)

442 
	#_POSIX_THREAD_ATTR_STACKSIZE
 200809L

	)

443 
	#_POSIX_THREAD_CPUTIME
 200809L

	)

446 
	#_POSIX_THREAD_PRIORITY_SCHEDULING
 200809L

	)

447 
	#_POSIX_THREAD_PROCESS_SHARED
 200809L

	)

448 
	#_POSIX_THREAD_SAFE_FUNCTIONS
 200809L

	)

450 
	#_POSIX_THREADS
 200809L

	)

452 
	#_POSIX_TIMERS
 200809L

	)

458 
	#_POSIX_VDISABLE
 '\0'

	)

460 #i‡
__POSIX_VISIBLE
 >= 2

461 
	#_POSIX2_C_VERSION
 
_POSIX2_VERSION


	)

462 
	#_POSIX2_C_BIND
 
_POSIX2_VERSION


	)

463 
	#_POSIX2_C_DEV
 
_POSIX2_VERSION


	)

464 
	#_POSIX2_CHAR_TERM
 
_POSIX2_VERSION


	)

474 
	#_POSIX2_SW_DEV
 
_POSIX2_VERSION


	)

475 
	#_POSIX2_UPE
 
_POSIX2_VERSION


	)

478 
	#_POSIX_V6_ILP32_OFF32
 -1

	)

479 #ifde‡
__LP64__


480 
	#_POSIX_V6_ILP32_OFFBIG
 -1

	)

481 
	#_POSIX_V6_LP64_OFF64
 1

	)

482 
	#_POSIX_V6_LPBIG_OFFBIG
 1

	)

484 
	#_POSIX_V6_ILP32_OFFBIG
 1

	)

485 
	#_POSIX_V6_LP64_OFF64
 -1

	)

486 
	#_POSIX_V6_LPBIG_OFFBIG
 -1

	)

488 
	#_POSIX_V7_ILP32_OFF32
 
_POSIX_V6_ILP32_OFF32


	)

489 
	#_POSIX_V7_ILP32_OFFBIG
 
_POSIX_V6_ILP32_OFFBIG


	)

490 
	#_POSIX_V7_LP64_OFF64
 
_POSIX_V6_LP64_OFF64


	)

491 
	#_POSIX_V7_LPBIG_OFFBIG
 
_POSIX_V6_LPBIG_OFFBIG


	)

492 
	#_XBS5_ILP32_OFF32
 
_POSIX_V6_ILP32_OFF32


	)

493 
	#_XBS5_ILP32_OFFBIG
 
_POSIX_V6_ILP32_OFFBIG


	)

494 
	#_XBS5_LP64_OFF64
 
_POSIX_V6_LP64_OFF64


	)

495 
	#_XBS5_LPBIG_OFFBIG
 
_POSIX_V6_LPBIG_OFFBIG


	)

497 #i‡
__XSI_VISIBLE


498 
	#_XOPEN_CRYPT
 1

	)

499 
	#_XOPEN_ENH_I18N
 1

	)

503 
	#_XOPEN_SHM
 1

	)

510 
	#__STDC_ISO_10646__
 200910L

	)

514 #ifde‡
__˝lu•lus


	@/usr/include/sys/reent.h

7 #i‚de‡
_SYS_REENT_H_


8 #ifde‡
__˝lu•lus


11 
	#_SYS_REENT_H_


	)

13 
	~<_™si.h
>

14 
	~<°ddef.h
>

15 
	~<sys/_ty≥s.h
>

17 
	#_NULL
 0

	)

19 #i‚de‡
__L⁄g


20 #i‡
__LONG_MAX__
 == 2147483647L

21 
	#__L⁄g
 

	)

22 
	t__L⁄g
 
	t__UL⁄g
;

23 #ñi‡
__INT_MAX__
 == 2147483647

24 
	#__L⁄g
 

	)

25 
	t__L⁄g
 
	t__UL⁄g
;

29 #i‡!
deföed
–
__L⁄g
)

30 
	~<sys/ty≥s.h
>

33 #i‚de‡
__L⁄g


34 
	#__L⁄g
 
__öt32_t


	)

35 
__uöt32_t
 
	t__UL⁄g
;

38 
_ªít
;

40 
__loˇÀ_t
;

47 
	s_Bigöt


49 
_Bigöt
 *
_√xt
;

50 
_k
, 
_maxwds
, 
_sign
, 
_wds
;

51 
__UL⁄g
 
_x
[1];

55 
	s__tm


57 
__tm_£c
;

58 
__tm_mö
;

59 
__tm_hour
;

60 
__tm_mday
;

61 
__tm_m⁄
;

62 
__tm_yór
;

63 
__tm_wday
;

64 
__tm_yday
;

65 
__tm_isd°
;

72 
	#_ATEXIT_SIZE
 32

	)

74 
	s_⁄_exô_¨gs
 {

75 * 
_‚¨gs
[
_ATEXIT_SIZE
];

76 * 
_dso_h™dÀ
[
_ATEXIT_SIZE
];

78 
__UL⁄g
 
_‚ty≥s
;

81 
__UL⁄g
 
_is_cxa
;

84 #ifde‡
_REENT_SMALL


85 
	s_©exô
 {

86 
_©exô
 *
_√xt
;

87 
_öd
;

88 (*
_‚s
[
_ATEXIT_SIZE
])();

89 
_⁄_exô_¨gs
 * 
_⁄_exô_¨gs_±r
;

91 
	#_ATEXIT_INIT
 {
_NULL
, 0, {_NULL}, _NULL}

	)

93 
	s_©exô
 {

94 
_©exô
 *
_√xt
;

95 
_öd
;

97 (*
_‚s
[
_ATEXIT_SIZE
])();

98 
_⁄_exô_¨gs
 _on_exit_args;

100 
	#_ATEXIT_INIT
 {
_NULL
, 0, {_NULL}, {{_NULL}, {_NULL}, 0, 0}}

	)

103 #ifde‡
_REENT_GLOBAL_ATEXIT


104 
	#_REENT_INIT_ATEXIT


	)

106 
	#_REENT_INIT_ATEXIT
 \

107 
_NULL
, 
_ATEXIT_INIT
,

	)

117 
	s__sbuf
 {

118 *
_ba£
;

119 
_size
;

147 #ifde‡
_REENT_SMALL


153 
	s__sFILE_Áke
 {

154 *
_p
;

155 
_r
;

156 
_w
;

157 
_Êags
;

158 
_fûe
;

159 
__sbuf
 
_bf
;

160 
_lbfsize
;

162 
_ªít
 *
_d©a
;

168 
_VOID
 
_EXFUN
(
__söô
,(
_ªít
 *));

170 
	#_REENT_SMALL_CHECK_INIT
(
±r
) \

173 i‡((
±r
Ë&& !’å)->
__sdidöô
) \

174 
	`__söô
 (
±r
); \

176 0)

	)

178 
	#_REENT_SMALL_CHECK_INIT
(
±r
Ë

	)

181 
	s__sFILE
 {

182 *
	g_p
;

183 
	g_r
;

184 
	g_w
;

185 
	g_Êags
;

186 
	g_fûe
;

187 
__sbuf
 
	g_bf
;

188 
	g_lbfsize
;

190 #ifde‡
_REENT_SMALL


191 
_ªít
 *
	g_d©a
;

195 
_PTR
 
	g_cookõ
;

197 
_READ_WRITE_RETURN_TYPE
 
_EXFNPTR
(
_ªad
, (
_ªít
 *, 
_PTR
,

198 *, 
_READ_WRITE_BUFSIZE_TYPE
));

199 
_READ_WRITE_RETURN_TYPE
 
_EXFNPTR
(
_wrôe
, (
_ªít
 *, 
_PTR
,

201 
_READ_WRITE_BUFSIZE_TYPE
));

202 
_Âos_t
 
_EXFNPTR
(
_£ek
, (
_ªít
 *, 
_PTR
, _fpos_t, ));

203 
_EXFNPTR
(
_˛o£
, (
_ªít
 *, 
_PTR
));

206 
__sbuf
 
	g_ub
;

207 *
	g_up
;

208 
	g_ur
;

211 
	g_ubuf
[3];

212 
	g_nbuf
[1];

215 
__sbuf
 
	g_lb
;

218 
	g_blksize
;

219 
_off_t
 
	g_off£t
;

221 #i‚de‡
_REENT_SMALL


222 
_ªít
 *
	g_d©a
;

225 #i‚de‡
__SINGLE_THREAD__


226 
_Êock_t
 
	g_lock
;

228 
_mb°©e_t
 
	g_mb°©e
;

229 
	g_Êags2
;

232 #ifde‡
__CUSTOM_FILE_IO__


235 
	~<sys/cu°om_fûe.h
>

238 #ifde‡
__LARGE64_FILES


239 
	s__sFILE64
 {

240 *
	g_p
;

241 
	g_r
;

242 
	g_w
;

243 
	g_Êags
;

244 
	g_fûe
;

245 
__sbuf
 
	g_bf
;

246 
	g_lbfsize
;

248 
_ªít
 *
	g_d©a
;

251 
_PTR
 
	g_cookõ
;

253 
_READ_WRITE_RETURN_TYPE
 
_EXFNPTR
(
_ªad
, (
_ªít
 *, 
_PTR
,

254 *, 
_READ_WRITE_BUFSIZE_TYPE
));

255 
_READ_WRITE_RETURN_TYPE
 
_EXFNPTR
(
_wrôe
, (
_ªít
 *, 
_PTR
,

257 
_READ_WRITE_BUFSIZE_TYPE
));

258 
_Âos_t
 
_EXFNPTR
(
_£ek
, (
_ªít
 *, 
_PTR
, _fpos_t, ));

259 
_EXFNPTR
(
_˛o£
, (
_ªít
 *, 
_PTR
));

262 
__sbuf
 
	g_ub
;

263 *
	g_up
;

264 
	g_ur
;

267 
	g_ubuf
[3];

268 
	g_nbuf
[1];

271 
__sbuf
 
	g_lb
;

274 
	g_blksize
;

275 
	g_Êags2
;

277 
_off64_t
 
	g_off£t
;

278 
_Âos64_t
 
_EXFNPTR
(
_£ek64
, (
_ªít
 *, 
_PTR
, _fpos64_t, ));

280 #i‚de‡
__SINGLE_THREAD__


281 
_Êock_t
 
	g_lock
;

283 
_mb°©e_t
 
	g_mb°©e
;

285 
__sFILE64
 
	t__FILE
;

287 
__sFILE
 
	t__FILE
;

291 
	s_glue


293 
_glue
 *
	g_√xt
;

294 
	g_niobs
;

295 
__FILE
 *
	g_iobs
;

312 
	#_RAND48_SEED_0
 (0x330e)

	)

313 
	#_RAND48_SEED_1
 (0xabcd)

	)

314 
	#_RAND48_SEED_2
 (0x1234)

	)

315 
	#_RAND48_MULT_0
 (0xe66d)

	)

316 
	#_RAND48_MULT_1
 (0xdìc)

	)

317 
	#_RAND48_MULT_2
 (0x0005)

	)

318 
	#_RAND48_ADD
 (0x000b)

	)

319 
	s_ønd48
 {

320 
	g_£ed
[3];

321 
	g_mu…
[3];

322 
	g_add
;

323 #ifde‡
_REENT_SMALL


325 
__exãnsi⁄__
 
	g_ønd_√xt
;

330 
	#_REENT_EMERGENCY_SIZE
 25

	)

331 
	#_REENT_ASCTIME_SIZE
 26

	)

332 
	#_REENT_SIGNAL_SIZE
 24

	)

342 #ifde‡
_REENT_SMALL


344 
	s_m¥ec


347 
_Bigöt
 *
	g_ªsu…
;

348 
	g_ªsu…_k
;

349 
_Bigöt
 *
	g_p5s
;

350 
_Bigöt
 **
	g_‰ìli°
;

354 
	s_misc_ªít


357 *
	g_°πok_œ°
;

358 
_mb°©e_t
 
	g_mbÀn_°©e
;

359 
_mb°©e_t
 
	g_w˘omb_°©e
;

360 
_mb°©e_t
 
	g_mbtowc_°©e
;

361 
	g_l64a_buf
[8];

362 
	g_gëd©e_îr
;

363 
_mb°©e_t
 
	g_mbæí_°©e
;

364 
_mb°©e_t
 
	g_mbπowc_°©e
;

365 
_mb°©e_t
 
	g_mb§towcs_°©e
;

366 
_mb°©e_t
 
	g_w¸tomb_°©e
;

367 
_mb°©e_t
 
	g_wc§tombs_°©e
;

372 
	s_ªít


376 
	g_î∫o
;

381 
__FILE
 *
	g_°dö
, *
	g_°dout
, *
	g_°dîr
;

383 
	g_öc
;

385 *
	g_emîgícy
;

387 
	g__sdidöô
;

389 
	g_un•ecifõd_loˇÀ_öfo
;

390 
__loˇÀ_t
 *
	g_loˇÀ
;

392 
_m¥ec
 *
	g_mp
;

394 
_EXFNPTR
(
__˛ónup
, (
_ªít
 *));

396 
	g_gamma_signgam
;

399 
	g_cvéí
;

400 *
	g_cvtbuf
;

402 
_ønd48
 *
	g_r48
;

403 
__tm
 *
	g_loˇ…ime_buf
;

404 *
	g_as˘ime_buf
;

407 (**(
	g_sig_func
))();

409 #i‚de‡
_REENT_GLOBAL_ATEXIT


411 
_©exô
 *
	g_©exô
;

412 
_©exô
 
	g_©exô0
;

415 
_glue
 
	g__sglue
;

416 
__FILE
 *
	g__sf
;

417 
_misc_ªít
 *
	g_misc
;

418 *
	g_sig«l_buf
;

421 c⁄° 
__sFILE_Áke
 
__sf_Áke_°dö
;

422 c⁄° 
__sFILE_Áke
 
__sf_Áke_°dout
;

423 c⁄° 
__sFILE_Áke
 
__sf_Áke_°dîr
;

425 
	#_REENT_INIT
(
v¨
) \

427 (
__FILE
 *)&
__sf_Áke_°dö
, \

428 (
__FILE
 *)&
__sf_Áke_°dout
, \

429 (
__FILE
 *)&
__sf_Áke_°dîr
, \

431 
_NULL
, \

434 
_NULL
, \

435 
_NULL
, \

436 
_NULL
, \

439 
_NULL
, \

440 
_NULL
, \

441 
_NULL
, \

442 
_NULL
, \

443 
_NULL
, \

444 
_REENT_INIT_ATEXIT
 \

445 {
_NULL
, 0, _NULL}, \

446 
_NULL
, \

447 
_NULL
, \

448 
_NULL
 \

449 }

	)

451 
	#_REENT_INIT_PTR_ZEROED
(
v¨
) \

452 { (
v¨
)->
_°dö
 = (
__FILE
 *)&
__sf_Áke_°dö
; \

453 (
v¨
)->
_°dout
 = (
__FILE
 *)&
__sf_Áke_°dout
; \

454 (
v¨
)->
_°dîr
 = (
__FILE
 *)&
__sf_Áke_°dîr
; \

455 }

	)

458 #ifde‡
_REENT_CHECK_DEBUG


459 
	~<as£π.h
>

460 
	#__ªít_as£π
(
x
Ë
	`as£π
(x)

	)

462 
	#__ªít_as£π
(
x
Ë(()0)

	)

465 #ifde‡
__CUSTOM_FILE_IO__


466 #îr‹ 
Cu°om
 
FILE
 
I
/
O
 
™d
 
_REENT_SMALL
 
nŸ
 
cuºíéy
 
suµ‹ãd
.

470 
	#_REENT_CHECK
(
v¨
, 
wh©
, 
ty≥
, 
size
, 
öô
) do { \

471 
_ªít
 *
_r
 = (
v¨
); \

472 i‡(
_r
->
wh©
 =
NULL
) { \

473 
_r
->
wh©
 = (
ty≥
)
	`mÆloc
(
size
); \

474 
	`__ªít_as£π
(
_r
->
wh©
); \

475 
öô
; \

477 } 0)

	)

479 
	#_REENT_CHECK_TM
(
v¨
) \

480 
	`_REENT_CHECK
(
v¨
, 
_loˇ…ime_buf
, 
__tm
 *,  *((var)->_localtime_buf), \

481  )

	)

483 
	#_REENT_CHECK_ASCTIME_BUF
(
v¨
) \

484 
	`_REENT_CHECK
(
v¨
, 
_as˘ime_buf
, *, 
_REENT_ASCTIME_SIZE
, \

485 
	`mem£t
((
v¨
)->
_as˘ime_buf
, 0, 
_REENT_ASCTIME_SIZE
))

	)

488 
	#_REENT_INIT_RAND48
(
v¨
) do { \

489 
_ªít
 *
_r
 = (
v¨
); \

490 
_r
->
_r48
->
_£ed
[0] = 
_RAND48_SEED_0
; \

491 
_r
->
_r48
->
_£ed
[1] = 
_RAND48_SEED_1
; \

492 
_r
->
_r48
->
_£ed
[2] = 
_RAND48_SEED_2
; \

493 
_r
->
_r48
->
_mu…
[0] = 
_RAND48_MULT_0
; \

494 
_r
->
_r48
->
_mu…
[1] = 
_RAND48_MULT_1
; \

495 
_r
->
_r48
->
_mu…
[2] = 
_RAND48_MULT_2
; \

496 
_r
->
_r48
->
_add
 = 
_RAND48_ADD
; \

497 
_r
->
_r48
->
_ønd_√xt
 = 1; \

498 } 0)

	)

499 
	#_REENT_CHECK_RAND48
(
v¨
) \

500 
	`_REENT_CHECK
(
v¨
, 
_r48
, 
_ønd48
 *,  *((v¨)->_r48), 
	`_REENT_INIT_RAND48
((v¨)))

	)

502 
	#_REENT_INIT_MP
(
v¨
) do { \

503 
_ªít
 *
_r
 = (
v¨
); \

504 
_r
->
_mp
->
_ªsu…_k
 = 0; \

505 
_r
->
_mp
->
_ªsu…
 = _r->_mp->
_p5s
 = 
_NULL
; \

506 
_r
->
_mp
->
_‰ìli°
 = 
_NULL
; \

507 } 0)

	)

508 
	#_REENT_CHECK_MP
(
v¨
) \

509 
	`_REENT_CHECK
(
v¨
, 
_mp
, 
_m¥ec
 *,  *((v¨)->_mp), 
	`_REENT_INIT_MP
(v¨))

	)

511 
	#_REENT_CHECK_EMERGENCY
(
v¨
) \

512 
	`_REENT_CHECK
(
v¨
, 
_emîgícy
, *, 
_REENT_EMERGENCY_SIZE
, )

	)

514 
	#_REENT_INIT_MISC
(
v¨
) do { \

515 
_ªít
 *
_r
 = (
v¨
); \

516 
_r
->
_misc
->
_°πok_œ°
 = 
_NULL
; \

517 
_r
->
_misc
->
_mbÀn_°©e
.
__cou¡
 = 0; \

518 
_r
->
_misc
->
_mbÀn_°©e
.
__vÆue
.
__wch
 = 0; \

519 
_r
->
_misc
->
_w˘omb_°©e
.
__cou¡
 = 0; \

520 
_r
->
_misc
->
_w˘omb_°©e
.
__vÆue
.
__wch
 = 0; \

521 
_r
->
_misc
->
_mbtowc_°©e
.
__cou¡
 = 0; \

522 
_r
->
_misc
->
_mbtowc_°©e
.
__vÆue
.
__wch
 = 0; \

523 
_r
->
_misc
->
_mbæí_°©e
.
__cou¡
 = 0; \

524 
_r
->
_misc
->
_mbæí_°©e
.
__vÆue
.
__wch
 = 0; \

525 
_r
->
_misc
->
_mbπowc_°©e
.
__cou¡
 = 0; \

526 
_r
->
_misc
->
_mbπowc_°©e
.
__vÆue
.
__wch
 = 0; \

527 
_r
->
_misc
->
_mb§towcs_°©e
.
__cou¡
 = 0; \

528 
_r
->
_misc
->
_mb§towcs_°©e
.
__vÆue
.
__wch
 = 0; \

529 
_r
->
_misc
->
_w¸tomb_°©e
.
__cou¡
 = 0; \

530 
_r
->
_misc
->
_w¸tomb_°©e
.
__vÆue
.
__wch
 = 0; \

531 
_r
->
_misc
->
_wc§tombs_°©e
.
__cou¡
 = 0; \

532 
_r
->
_misc
->
_wc§tombs_°©e
.
__vÆue
.
__wch
 = 0; \

533 
_r
->
_misc
->
_l64a_buf
[0] = '\0'; \

534 
_r
->
_misc
->
_gëd©e_îr
 = 0; \

535 } 0)

	)

536 
	#_REENT_CHECK_MISC
(
v¨
) \

537 
	`_REENT_CHECK
(
v¨
, 
_misc
, 
_misc_ªít
 *,  *((v¨)->_misc), 
	`_REENT_INIT_MISC
(v¨))

	)

539 
	#_REENT_CHECK_SIGNAL_BUF
(
v¨
) \

540 
	`_REENT_CHECK
(
v¨
, 
_sig«l_buf
, *, 
_REENT_SIGNAL_SIZE
, )

	)

542 
	#_REENT_SIGNGAM
(
±r
Ë(’å)->
_gamma_signgam
)

	)

543 
	#_REENT_RAND_NEXT
(
±r
Ë(’å)->
_r48
->
_ønd_√xt
)

	)

544 
	#_REENT_RAND48_SEED
(
±r
Ë(’å)->
_r48
->
_£ed
)

	)

545 
	#_REENT_RAND48_MULT
(
±r
Ë(’å)->
_r48
->
_mu…
)

	)

546 
	#_REENT_RAND48_ADD
(
±r
Ë(’å)->
_r48
->
_add
)

	)

547 
	#_REENT_MP_RESULT
(
±r
Ë(’å)->
_mp
->
_ªsu…
)

	)

548 
	#_REENT_MP_RESULT_K
(
±r
Ë(’å)->
_mp
->
_ªsu…_k
)

	)

549 
	#_REENT_MP_P5S
(
±r
Ë(’å)->
_mp
->
_p5s
)

	)

550 
	#_REENT_MP_FREELIST
(
±r
Ë(’å)->
_mp
->
_‰ìli°
)

	)

551 
	#_REENT_ASCTIME_BUF
(
±r
Ë(’å)->
_as˘ime_buf
)

	)

552 
	#_REENT_TM
(
±r
Ë(’å)->
_loˇ…ime_buf
)

	)

553 
	#_REENT_EMERGENCY
(
±r
Ë(’å)->
_emîgícy
)

	)

554 
	#_REENT_STRTOK_LAST
(
±r
Ë(’å)->
_misc
->
_°πok_œ°
)

	)

555 
	#_REENT_MBLEN_STATE
(
±r
Ë(’å)->
_misc
->
_mbÀn_°©e
)

	)

556 
	#_REENT_MBTOWC_STATE
(
±r
)(’å)->
_misc
->
_mbtowc_°©e
)

	)

557 
	#_REENT_WCTOMB_STATE
(
±r
)(’å)->
_misc
->
_w˘omb_°©e
)

	)

558 
	#_REENT_MBRLEN_STATE
(
±r
Ë(’å)->
_misc
->
_mbæí_°©e
)

	)

559 
	#_REENT_MBRTOWC_STATE
(
±r
Ë(’å)->
_misc
->
_mbπowc_°©e
)

	)

560 
	#_REENT_MBSRTOWCS_STATE
(
±r
Ë(’å)->
_misc
->
_mb§towcs_°©e
)

	)

561 
	#_REENT_WCRTOMB_STATE
(
±r
Ë(’å)->
_misc
->
_w¸tomb_°©e
)

	)

562 
	#_REENT_WCSRTOMBS_STATE
(
±r
Ë(’å)->
_misc
->
_wc§tombs_°©e
)

	)

563 
	#_REENT_L64A_BUF
(
±r
Ë(’å)->
_misc
->
_l64a_buf
)

	)

564 
	#_REENT_GETDATE_ERR_P
(
±r
Ë(&(’å)->
_misc
->
_gëd©e_îr
))

	)

565 
	#_REENT_SIGNAL_BUF
(
±r
Ë(’å)->
_sig«l_buf
)

	)

569 
	s_ªít


571 
	g_î∫o
;

576 
__FILE
 *
	g_°dö
, *
	g_°dout
, *
	g_°dîr
;

578 
	g_öc
;

579 
	g_emîgícy
[
_REENT_EMERGENCY_SIZE
];

582 
	g_un•ecifõd_loˇÀ_öfo
;

583 
__loˇÀ_t
 *
	g_loˇÀ
;

585 
	g__sdidöô
;

587 
_EXFNPTR
(
__˛ónup
, (
_ªít
 *));

590 
_Bigöt
 *
	g_ªsu…
;

591 
	g_ªsu…_k
;

592 
_Bigöt
 *
	g_p5s
;

593 
_Bigöt
 **
	g_‰ìli°
;

596 
	g_cvéí
;

597 *
	g_cvtbuf
;

603 
	g_unu£d_ønd
;

604 * 
	g_°πok_œ°
;

605 
	g_as˘ime_buf
[
_REENT_ASCTIME_SIZE
];

606 
__tm
 
	g_loˇ…ime_buf
;

607 
	g_gamma_signgam
;

608 
__exãnsi⁄__
 
	g_ønd_√xt
;

609 
_ønd48
 
	g_r48
;

610 
_mb°©e_t
 
	g_mbÀn_°©e
;

611 
_mb°©e_t
 
	g_mbtowc_°©e
;

612 
_mb°©e_t
 
	g_w˘omb_°©e
;

613 
	g_l64a_buf
[8];

614 
	g_sig«l_buf
[
_REENT_SIGNAL_SIZE
];

615 
	g_gëd©e_îr
;

616 
_mb°©e_t
 
	g_mbæí_°©e
;

617 
_mb°©e_t
 
	g_mbπowc_°©e
;

618 
_mb°©e_t
 
	g_mb§towcs_°©e
;

619 
_mb°©e_t
 
	g_w¸tomb_°©e
;

620 
_mb°©e_t
 
	g_wc§tombs_°©e
;

621 
	g_h_î∫o
;

622 } 
	g_ªít
;

628 
	#_N_LISTS
 30

	)

629 * 
	g_√xtf
[
_N_LISTS
];

630 
	g_nmÆloc
[
_N_LISTS
];

631 } 
	g_unu£d
;

632 } 
	g_√w
;

634 #i‚de‡
_REENT_GLOBAL_ATEXIT


636 
_©exô
 *
	g_©exô
;

637 
_©exô
 
	g_©exô0
;

641 (**(
	g_sig_func
))();

646 
_glue
 
	g__sglue
;

647 #i‚de‡
_REENT_GLOBAL_STDIO_STREAMS


648 
__FILE
 
	g__sf
[3];

652 #ifde‡
_REENT_GLOBAL_STDIO_STREAMS


653 
__FILE
 
__sf
[3];

654 
	#_REENT_STDIO_STREAM
(
v¨
, 
ödex
Ë&
__sf
[ödex]

	)

656 
	#_REENT_STDIO_STREAM
(
v¨
, 
ödex
Ë&(v¨)->
__sf
[ödex]

	)

659 
	#_REENT_INIT
(
v¨
) \

661 
	`_REENT_STDIO_STREAM
(&(
v¨
), 0), \

662 
	`_REENT_STDIO_STREAM
(&(
v¨
), 1), \

663 
	`_REENT_STDIO_STREAM
(&(
v¨
), 2), \

667 
_NULL
, \

669 
_NULL
, \

670 
_NULL
, \

672 
_NULL
, \

673 
_NULL
, \

675 
_NULL
, \

679 
_NULL
, \

685 {
_RAND48_SEED_0
, 
_RAND48_SEED_1
, 
_RAND48_SEED_2
}, \

686 {
_RAND48_MULT_0
, 
_RAND48_MULT_1
, 
_RAND48_MULT_2
}, \

687 
_RAND48_ADD
 \

702 
_REENT_INIT_ATEXIT
 \

703 
_NULL
, \

704 {
_NULL
, 0, _NULL} \

705 }

	)

707 
	#_REENT_INIT_PTR_ZEROED
(
v¨
) \

708 { (
v¨
)->
_°dö
 = 
	`_REENT_STDIO_STREAM
(var, 0); \

709 (
v¨
)->
_°dout
 = 
	`_REENT_STDIO_STREAM
(var, 1); \

710 (
v¨
)->
_°dîr
 = 
	`_REENT_STDIO_STREAM
(var, 2); \

711 (
v¨
)->
_√w
.
_ªít
.
_ønd_√xt
 = 1; \

712 (
v¨
)->
_√w
.
_ªít
.
_r48
.
_£ed
[0] = 
_RAND48_SEED_0
; \

713 (
v¨
)->
_√w
.
_ªít
.
_r48
.
_£ed
[1] = 
_RAND48_SEED_1
; \

714 (
v¨
)->
_√w
.
_ªít
.
_r48
.
_£ed
[2] = 
_RAND48_SEED_2
; \

715 (
v¨
)->
_√w
.
_ªít
.
_r48
.
_mu…
[0] = 
_RAND48_MULT_0
; \

716 (
v¨
)->
_√w
.
_ªít
.
_r48
.
_mu…
[1] = 
_RAND48_MULT_1
; \

717 (
v¨
)->
_√w
.
_ªít
.
_r48
.
_mu…
[2] = 
_RAND48_MULT_2
; \

718 (
v¨
)->
_√w
.
_ªít
.
_r48
.
_add
 = 
_RAND48_ADD
; \

719 }

	)

721 
	#_REENT_CHECK_RAND48
(
±r
Ë

	)

722 
	#_REENT_CHECK_MP
(
±r
Ë

	)

723 
	#_REENT_CHECK_TM
(
±r
Ë

	)

724 
	#_REENT_CHECK_ASCTIME_BUF
(
±r
Ë

	)

725 
	#_REENT_CHECK_EMERGENCY
(
±r
Ë

	)

726 
	#_REENT_CHECK_MISC
(
±r
Ë

	)

727 
	#_REENT_CHECK_SIGNAL_BUF
(
±r
Ë

	)

729 
	#_REENT_SIGNGAM
(
±r
Ë(’å)->
_√w
.
_ªít
.
_gamma_signgam
)

	)

730 
	#_REENT_RAND_NEXT
(
±r
Ë(’å)->
_√w
.
_ªít
.
_ønd_√xt
)

	)

731 
	#_REENT_RAND48_SEED
(
±r
Ë(’å)->
_√w
.
_ªít
.
_r48
.
_£ed
)

	)

732 
	#_REENT_RAND48_MULT
(
±r
Ë(’å)->
_√w
.
_ªít
.
_r48
.
_mu…
)

	)

733 
	#_REENT_RAND48_ADD
(
±r
Ë(’å)->
_√w
.
_ªít
.
_r48
.
_add
)

	)

734 
	#_REENT_MP_RESULT
(
±r
Ë(’å)->
_ªsu…
)

	)

735 
	#_REENT_MP_RESULT_K
(
±r
Ë(’å)->
_ªsu…_k
)

	)

736 
	#_REENT_MP_P5S
(
±r
Ë(’å)->
_p5s
)

	)

737 
	#_REENT_MP_FREELIST
(
±r
Ë(’å)->
_‰ìli°
)

	)

738 
	#_REENT_ASCTIME_BUF
(
±r
Ë(’å)->
_√w
.
_ªít
.
_as˘ime_buf
)

	)

739 
	#_REENT_TM
(
±r
Ë(&’å)->
_√w
.
_ªít
.
_loˇ…ime_buf
)

	)

740 
	#_REENT_EMERGENCY
(
±r
Ë(’å)->
_emîgícy
)

	)

741 
	#_REENT_STRTOK_LAST
(
±r
Ë(’å)->
_√w
.
_ªít
.
_°πok_œ°
)

	)

742 
	#_REENT_MBLEN_STATE
(
±r
Ë(’å)->
_√w
.
_ªít
.
_mbÀn_°©e
)

	)

743 
	#_REENT_MBTOWC_STATE
(
±r
)(’å)->
_√w
.
_ªít
.
_mbtowc_°©e
)

	)

744 
	#_REENT_WCTOMB_STATE
(
±r
)(’å)->
_√w
.
_ªít
.
_w˘omb_°©e
)

	)

745 
	#_REENT_MBRLEN_STATE
(
±r
)(’å)->
_√w
.
_ªít
.
_mbæí_°©e
)

	)

746 
	#_REENT_MBRTOWC_STATE
(
±r
)(’å)->
_√w
.
_ªít
.
_mbπowc_°©e
)

	)

747 
	#_REENT_MBSRTOWCS_STATE
(
±r
)(’å)->
_√w
.
_ªít
.
_mb§towcs_°©e
)

	)

748 
	#_REENT_WCRTOMB_STATE
(
±r
)(’å)->
_√w
.
_ªít
.
_w¸tomb_°©e
)

	)

749 
	#_REENT_WCSRTOMBS_STATE
(
±r
)(’å)->
_√w
.
_ªít
.
_wc§tombs_°©e
)

	)

750 
	#_REENT_L64A_BUF
(
±r
Ë(’å)->
_√w
.
_ªít
.
_l64a_buf
)

	)

751 
	#_REENT_SIGNAL_BUF
(
±r
Ë(’å)->
_√w
.
_ªít
.
_sig«l_buf
)

	)

752 
	#_REENT_GETDATE_ERR_P
(
±r
Ë(&(’å)->
_√w
.
_ªít
.
_gëd©e_îr
))

	)

756 
	#_REENT_INIT_PTR
(
v¨
) \

757 { 
	`mem£t
((
v¨
), 0, (*(var))); \

758 
	`_REENT_INIT_PTR_ZEROED
(
v¨
); \

759 }

	)

764 
	#_Kmax
 ( (
size_t
Ë<< 3)

	)

771 #i‚de‡
__ATTRIBUTE_IMPURE_PTR__


772 
	#__ATTRIBUTE_IMPURE_PTR__


	)

775 
_ªít
 *
_impuª_±r
 
__ATTRIBUTE_IMPURE_PTR__
;

776 
_ªít
 *
_CONST
 
_globÆ_impuª_±r
 
__ATTRIBUTE_IMPURE_PTR__
;

778 
_ª˛aim_ªít
 
_PARAMS
 ((
_ªít
 *));

782 #i‡
deföed
(
__DYNAMIC_REENT__
Ë&& !deföed(
__SINGLE_THREAD__
)

783 #i‚de‡
__gëªít


784 
_ªít
 * 
_EXFUN
(
__gëªít
, ());

786 
	#_REENT
 (
	`__gëªít
())

	)

788 
	#_REENT
 
_impuª_±r


	)

791 
	#_GLOBAL_REENT
 
_globÆ_impuª_±r


	)

793 #ifde‡
_REENT_GLOBAL_ATEXIT


794 
_©exô
 *
_globÆ_©exô
;

795 
	#_GLOBAL_ATEXIT
 
_globÆ_©exô


	)

797 
	#_GLOBAL_ATEXIT
 (
_GLOBAL_REENT
->
_©exô
)

	)

800 #ifde‡
__˝lu•lus


	@/usr/include/sys/select.h

12 #i‚de‡
_SYS_SELECT_H


13 
	#_SYS_SELECT_H


	)

22 #i‡!(
deföed
 (
_WINSOCK_H
Ë|| deföed (
_WINSOCKAPI_
Ë|| deföed (
__USE_W32_SOCKETS
))

24 
	~<sys/cdefs.h
>

25 
	~<sys/_sig£t.h
>

26 
	~<sys/_timevÆ.h
>

27 
	~<sys/time•ec.h
>

29 #i‡!
deföed
(
_SIGSET_T_DECLARED
)

30 
	#_SIGSET_T_DECLARED


	)

31 
__sig£t_t
 
	tsig£t_t
;

34 
	#_SYS_TYPES_FD_SET


	)

41 #i‚def 
FD_SETSIZE


42 
	#FD_SETSIZE
 64

	)

45 
	tfd_mask
;

46 
	#NFDBITS
 ( (
fd_mask
Ë* 8Ë

	)

47 #i‚def 
_howm™y


48 
	#_howm™y
(
x
,
y
Ë(((x)+((y)-1))/(y))

	)

53 
	s_ty≥s_fd_£t
 {

54 
fd_mask
 
	mfds_bôs
[
_howm™y
(
FD_SETSIZE
, 
NFDBITS
)];

55 } 
	t_ty≥s_fd_£t
;

57 
	#fd_£t
 
_ty≥s_fd_£t


	)

59 
	#FD_SET
(
n
, 
p
Ë(’)->
fds_bôs
[“)/
NFDBITS
] |(1L << (“Ë% NFDBITS)))

	)

60 
	#FD_CLR
(
n
, 
p
Ë(’)->
fds_bôs
[“)/
NFDBITS
] &~(1L << (“Ë% NFDBITS)))

	)

61 
	#FD_ISSET
(
n
, 
p
Ë(’)->
fds_bôs
[“)/
NFDBITS
] & (1L << (“Ë% NFDBITS)))

	)

62 
	#FD_ZERO
(
p
Ë(
	`__exãnsi⁄__
 ()({ \

63 
size_t
 
__i
; \

64 *
__tmp
 = (*)
p
; \

65 
__i
 = 0; __ò<  (*(
p
)); ++__i) \

66 *
__tmp
++ = 0; \

67 }))

	)

69 #i‡!
deföed
 (
__INSIDE_CYGWIN_NET__
)

71 
__BEGIN_DECLS


73 
£À˘
 
__P
 ((
__n
, 
fd_£t
 *
__ªadfds
, fd_£à*
__wrôefds
,

74 
fd_£t
 *
__ex˚±fds
, 
timevÆ
 *
__timeout
));

75 #i‡
__POSIX_VISIBLE
 >= 200112

76 
p£À˘
 
__P
 ((
__n
, 
fd_£t
 *
__ªadfds
, fd_£à*
__wrôefds
,

77 
fd_£t
 *
__ex˚±fds
, c⁄° 
time•ec
 *
__timeout
,

78 c⁄° 
sig£t_t
 *
__£t
));

81 
	g__END_DECLS


	@/usr/include/sys/stdio.h

9 #i‚de‡
_SYS_STDIO_H_


10 
	#_SYS_STDIO_H_


	)

12 
	~<sys/cdefs.h
>

13 
	~<sys/lock.h
>

18 #i‡!
deföed
(
__SINGLE_THREAD__
)

19 #i‡!
deföed
(
_Êockfûe
)

20 
	#_Êockfûe
(
Â
Ë({ i‡(!((Â)->
_Êags
 & 
__SSTR
)) \

21 
	`__cygwö_lock_lock
 ((
_LOCK_T
 *)&(
Â
)->
_lock
); })

	)

23 #i‡!
deföed
(
_·rylockfûe
)

24 
	#_·rylockfûe
(
Â
Ë(((Â)->
_Êags
 & 
__SSTR
) ? 0 : \

25 
	`__cygwö_lock_åylock
 ((
_LOCK_T
 *)&(
Â
)->
_lock
))

	)

27 #i‡!
deföed
(
_fu∆ockfûe
)

28 
	#_fu∆ockfûe
(
Â
Ë({ i‡(!((Â)->
_Êags
 & 
__SSTR
)) \

29 
	`__cygwö_lock_u∆ock
 ((
_LOCK_T
 *)&(
Â
)->
_lock
); })

	)

33 
__BEGIN_DECLS


35 
ssize_t
 
_EXFUN
(
gëlöe
, (**, 
size_t
 *, 
FILE
 *));

36 
ssize_t
 
_EXFUN
(
gëdñim
, (**, 
size_t
 *, , 
FILE
 *));

38 
	g__END_DECLS


	@/usr/include/sys/string.h

	@/usr/include/time.h

7 #i‚de‡
_TIME_H_


8 
	#_TIME_H_


	)

10 
	~"_™si.h
"

11 
	~<sys/cdefs.h
>

12 
	~<sys/ªít.h
>

14 
	#__√ed_size_t


	)

15 
	#__√ed_NULL


	)

16 
	~<°ddef.h
>

19 
	~<machöe/time.h
>

21 #i‚de‡
_CLOCKS_PER_SEC_


22 
	#_CLOCKS_PER_SEC_
 1000

	)

25 
	#CLOCKS_PER_SEC
 
_CLOCKS_PER_SEC_


	)

26 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

28 
	~<sys/ty≥s.h
>

29 
	~<sys/time•ec.h
>

31 #i‡
__POSIX_VISIBLE
 >= 200809

32 
	~<xloˇÀ.h
>

35 
_BEGIN_STD_C


37 
	stm


39 
	mtm_£c
;

40 
	mtm_mö
;

41 
	mtm_hour
;

42 
	mtm_mday
;

43 
	mtm_m⁄
;

44 
	mtm_yór
;

45 
	mtm_wday
;

46 
	mtm_yday
;

47 
	mtm_isd°
;

48 #ifde‡
__TM_GMTOFF


49 
	m__TM_GMTOFF
;

51 #ifde‡
__TM_ZONE


52 c⁄° *
	m__TM_ZONE
;

56 
˛ock_t
 
_EXFUN
(
˛ock
, ());

57 
_EXFUN
(
dif·ime
, (
time_t
 
_time2
,Åime_à
_time1
));

58 
time_t
 
_EXFUN
(
mktime
, (
tm
 *
_timïå
));

59 
time_t
 
_EXFUN
(
time
, (time_à*
_timî
));

60 #i‚de‡
_REENT_ONLY


61 *
_EXFUN
(
as˘ime
, (c⁄° 
tm
 *
_tblock
));

62 *
_EXFUN
(
˘ime
, (c⁄° 
time_t
 *
_time
));

63 
tm
 *
_EXFUN
(
gmtime
, (c⁄° 
time_t
 *
_timî
));

64 
tm
 *
_EXFUN
(
loˇ…ime
,(c⁄° 
time_t
 *
_timî
));

66 
size_t
 
_EXFUN
(
°r·ime
, (*
__ª°ri˘
 
_s
,

67 
size_t
 
_maxsize
, c⁄° *
__ª°ri˘
 
_fmt
,

68 c⁄° 
tm
 *
__ª°ri˘
 
_t
));

70 #i‡
__POSIX_VISIBLE
 >= 200809

71 
size_t
 
°r·ime_l
 (*
__ª°ri˘
 
_s
, size_à
_maxsize
,

72 c⁄° *
__ª°ri˘
 
_fmt
,

73 c⁄° 
tm
 *
__ª°ri˘
 
_t
, 
loˇÀ_t
 
_l
);

76 *
_EXFUN
(
as˘ime_r
, (c⁄° 
tm
 *
__ª°ri˘
,

77 *
__ª°ri˘
));

78 *
_EXFUN
(
˘ime_r
, (c⁄° 
time_t
 *, *));

79 
tm
 *
_EXFUN
(
gmtime_r
, (c⁄° 
time_t
 *
__ª°ri˘
,

80 
tm
 *
__ª°ri˘
));

81 
tm
 *
_EXFUN
(
loˇ…ime_r
, (c⁄° 
time_t
 *
__ª°ri˘
,

82 
tm
 *
__ª°ri˘
));

84 
	g_END_STD_C


86 #ifde‡
__˝lu•lus


90 #i‡
__XSI_VISIBLE


91 *
_EXFUN
(
°Ωtime
, (c⁄° *
__ª°ri˘
,

92 c⁄° *
__ª°ri˘
,

93 
tm
 *
__ª°ri˘
));

95 #i‡
__GNU_VISIBLE


96 *
°Ωtime_l
 (c⁄° *
__ª°ri˘
, const *__restrict,

97 
tm
 *
__ª°ri˘
, 
loˇÀ_t
);

100 #i‡
__POSIX_VISIBLE


101 
_VOID
 
_EXFUN
(
tz£t
, (_VOID));

103 
_VOID
 
_EXFUN
(
_tz£t_r
, (
_ªít
 *));

105 
	s__tzruÀ_°ru˘


107 
	gch
;

108 
	gm
;

109 
	gn
;

110 
	gd
;

111 
	gs
;

112 
time_t
 
	gch™ge
;

113 
	goff£t
;

114 } 
	t__tzruÀ_ty≥
;

116 
	s__tzöfo_°ru˘


118 
	g__tzn‹th
;

119 
	g__tzyór
;

120 
__tzruÀ_ty≥
 
	g__tzruÀ
[2];

121 } 
	t__tzöfo_ty≥
;

123 
__tzöfo_ty≥
 *
_EXFUN
 (
__gëtzöfo
, (
_VOID
));

127 #ifde‡
HAVE_GETDATE


128 #i‡
__XSI_VISIBLE
 >= 4

129 #i‚de‡
_REENT_ONLY


130 
	#gëd©e_îr
 (*
	`__gëd©e_îr
())

	)

131 *
_EXFUN
(
__gëd©e_îr
,(
_VOID
));

133 
tm
 * 
_EXFUN
(
gëd©e
, (const *));

146 #i‡
__GNU_VISIBLE


148 
_EXFUN
(
gëd©e_r
, (c⁄° *, 
tm
 *));

153 #i‡
__SVID_VISIBLE
 || 
__XSI_VISIBLE


154 
__IMPORT
 
_timez⁄e
;

155 
__IMPORT
 
_daylight
;

157 #i‡
__POSIX_VISIBLE


158 
__IMPORT
 *
_tz«me
[2];

161 #i‚de‡
tz«me


162 
	#tz«me
 
_tz«me


	)

166 #ifde‡
__˝lu•lus


170 
	~<sys/„©uªs.h
>

172 #ifde‡
__CYGWIN__


173 
	~<cygwö/time.h
>

176 #i‡
deföed
(
_POSIX_TIMERS
)

178 
	~<sig«l.h
>

180 #ifde‡
__˝lu•lus


186 
_EXFUN
(
˛ock_£âime
, (
˛ockid_t
 
˛ock_id
, c⁄° 
time•ec
 *
ç
));

187 
_EXFUN
(
˛ock_gëtime
, (
˛ockid_t
 
˛ock_id
, 
time•ec
 *
ç
));

188 
_EXFUN
(
˛ock_gëªs
, (
˛ockid_t
 
˛ock_id
, 
time•ec
 *
ªs
));

192 
_EXFUN
(
timî_¸óã
,

193 (
˛ockid_t
 
˛ock_id
,

194 
sigevít
 *
__ª°ri˘
 
evp
,

195 
timî_t
 *
__ª°ri˘
 
timîid
));

199 
_EXFUN
(
timî_dñëe
, (
timî_t
 
timîid
));

203 
_EXFUN
(
timî_£âime
,

204 (
timî_t
 
timîid
, 
Êags
,

205 c⁄° 
ôimî•ec
 *
__ª°ri˘
 
vÆue
,

206 
ôimî•ec
 *
__ª°ri˘
 
ovÆue
));

207 
_EXFUN
(
timî_gëtime
, (
timî_t
 
timîid
, 
ôimî•ec
 *
vÆue
));

208 
_EXFUN
(
timî_gëovîrun
, (
timî_t
 
timîid
));

212 
_EXFUN
(
«no¶ìp
, (c⁄° 
time•ec
 *
rqç
, time•e¯*
rmç
));

214 #ifde‡
__˝lu•lus


219 #i‡
deföed
(
_POSIX_CLOCK_SELECTION
)

221 #ifde‡
__˝lu•lus


225 
_EXFUN
(
˛ock_«no¶ìp
,

226 (
˛ockid_t
 
˛ock_id
, 
Êags
, c⁄° 
time•ec
 *
rqç
,

227 
time•ec
 *
rmç
));

229 #ifde‡
__˝lu•lus


235 #ifde‡
__˝lu•lus


243 
	#CLOCK_ENABLED
 1

	)

244 
	#CLOCK_DISABLED
 0

	)

248 
	#CLOCK_ALLOWED
 1

	)

251 
	#CLOCK_DISALLOWED
 0

	)

257 
	#CLOCK_REALTIME
 (
˛ockid_t
)1

	)

262 
	#TIMER_ABSTIME
 4

	)

266 #i‡
deföed
(
_POSIX_CPUTIME
)

272 
	#CLOCK_PROCESS_CPUTIME_ID
 (
˛ockid_t
)2

	)

276 #i‡
deföed
(
_POSIX_THREAD_CPUTIME
)

282 
	#CLOCK_THREAD_CPUTIME_ID
 (
˛ockid_t
)3

	)

286 #i‡
deföed
(
_POSIX_MONOTONIC_CLOCK
)

292 
	#CLOCK_MONOTONIC
 (
˛ockid_t
)4

	)

296 #i‡
deföed
(
_POSIX_CPUTIME
)

300 
_EXFUN
(
˛ock_gë˝u˛ockid
, (
pid_t
 
pid
, 
˛ockid_t
 *
˛ock_id
));

304 #i‡
deföed
(
_POSIX_CPUTIME
Ë|| deföed(
_POSIX_THREAD_CPUTIME
)

308 
_EXFUN
(
˛ock_£ã«bÀ_©å
, (
˛ockid_t
 
˛ock_id
, 
©å
));

309 
_EXFUN
(
˛ock_gëíabÀ_©å
, (
˛ockid_t
 
˛ock_id
, *
©å
));

313 #ifde‡
__˝lu•lus


	@/usr/include/wchar.h

1 #i‚de‡
_WCHAR_H_


2 
	#_WCHAR_H_


	)

4 
	~<_™si.h
>

6 
	~<sys/ªít.h
>

8 
	#__√ed_size_t


	)

9 
	#__√ed_wch¨_t


	)

10 
	#__√ed_wöt_t


	)

11 
	#__√ed_NULL


	)

12 
	~<°ddef.h
>

15 
	~<sys/_ty≥s.h
>

16 
	~<sys/cdefs.h
>

18 
	~<sys/„©uªs.h
>

21 
	#__√ed___va_li°


	)

22 
	~<°d¨g.h
>

25 #i‡
__POSIX_VISIBLE
 >200809 || 
__XSI_VISIBLE


26 #ifde‡
__GNUC__


27 #i‚de‡
_VA_LIST_DEFINED


28 
__gnuc_va_li°
 
	tva_li°
;

29 
	#_VA_LIST_DEFINED


	)

32 
	~<°d¨g.h
>

36 #i‡
__XSI_VISIBLE
 && !
__GNU_VISIBLE


37 
	~<w˘y≥.h
>

40 #i‚de‡
WEOF


41 
	#WEOF
 ((
wöt_t
)-1)

	)

45 #i‚de‡
WCHAR_MIN


46 #ifde‡
__WCHAR_MIN__


47 
	#WCHAR_MIN
 
__WCHAR_MIN__


	)

48 #ñi‡
deföed
(
__WCHAR_UNSIGNED__
Ë|| (
L
'\0' - 1 > 0)

49 
	#WCHAR_MIN
 (0 + 
L
'\0')

	)

51 
	#WCHAR_MIN
 (-0x7ffffff‡- 1 + 
L
'\0')

	)

56 #i‚de‡
WCHAR_MAX


57 #ifde‡
__WCHAR_MAX__


58 
	#WCHAR_MAX
 
__WCHAR_MAX__


	)

59 #ñi‡
deföed
(
__WCHAR_UNSIGNED__
Ë|| (
L
'\0' - 1 > 0)

60 
	#WCHAR_MAX
 (0xffffffffu + 
L
'\0')

	)

62 
	#WCHAR_MAX
 (0x7ffffff‡+ 
L
'\0')

	)

66 #i‡
__POSIX_VISIBLE
 >= 200809

67 
	~<xloˇÀ.h
>

70 
	g_BEGIN_STD_C


72 #i‡
__POSIX_VISIBLE
 >200809 || 
_XSI_VISIBLE


74 #i‡!
deföed
(
__FILE_deföed
)

75 
__FILE
 
	tFILE
;

76 
	#__FILE_deföed


	)

82 
	gtm
;

84 #i‚de‡
_MBSTATE_T


85 
	#_MBSTATE_T


	)

86 
_mb°©e_t
 
	tmb°©e_t
;

89 
wöt_t
 
_EXFUN
(
btowc
, ());

90 
_EXFUN
(
w˘ob
, (
wöt_t
));

91 
size_t
 
_EXFUN
(
mbæí
, (c⁄° *
__ª°ri˘
, size_t, 
mb°©e_t
 *__restrict));

92 
size_t
 
_EXFUN
(
mbπowc
, (
wch¨_t
 *
__ª°ri˘
, const *__restrict, size_t,

93 
mb°©e_t
 *
__ª°ri˘
));

94 
size_t
 
_EXFUN
(
_mbπowc_r
, (
_ªít
 *, 
wch¨_t
 * , const * ,

95 
size_t
, 
mb°©e_t
 *));

96 
_EXFUN
(
mbsöô
, (c⁄° 
mb°©e_t
 *));

97 #i‡
__POSIX_VISIBLE
 >= 200809

98 
size_t
 
_EXFUN
(
mb¢πowcs
, (
wch¨_t
 *
__ª°ri˘
, const **__restrict,

99 
size_t
, size_t, 
mb°©e_t
 *
__ª°ri˘
));

101 
size_t
 
_EXFUN
(
_mb¢πowcs_r
, (
_ªít
 *, 
wch¨_t
 * , const ** ,

102 
size_t
, size_t, 
mb°©e_t
 *));

103 
size_t
 
_EXFUN
(
mb§towcs
, (
wch¨_t
 *
__ª°ri˘
, const **__restrict, size_t,

104 
mb°©e_t
 *
__ª°ri˘
));

105 
size_t
 
_EXFUN
(
_mb§towcs_r
, (
_ªít
 *, 
wch¨_t
 * , c⁄° ** , size_t, 
mb°©e_t
 *));

106 
size_t
 
_EXFUN
(
w¸tomb
, (*
__ª°ri˘
, 
wch¨_t
, 
mb°©e_t
 *__restrict));

107 
size_t
 
_EXFUN
(
_w¸tomb_r
, (
_ªít
 *, * , 
wch¨_t
, 
mb°©e_t
 *));

108 #i‡
__POSIX_VISIBLE
 >= 200809

109 
size_t
 
_EXFUN
(
wc¢πombs
, (*
__ª°ri˘
, c⁄° 
wch¨_t
 **__restrict,

110 
size_t
, size_t, 
mb°©e_t
 *
__ª°ri˘
));

112 
size_t
 
_EXFUN
(
_wc¢πombs_r
, (
_ªít
 *, * , c⁄° 
wch¨_t
 ** ,

113 
size_t
, size_t, 
mb°©e_t
 *));

114 
size_t
 
_EXFUN
(
wc§tombs
, (*
__ª°ri˘
, c⁄° 
wch¨_t
 **__restrict,

115 
size_t
, 
mb°©e_t
 *
__ª°ri˘
));

116 
size_t
 
_EXFUN
(
_wc§tombs_r
, (
_ªít
 *, * , c⁄° 
wch¨_t
 ** ,

117 
size_t
, 
mb°©e_t
 *));

118 #i‡
__POSIX_VISIBLE
 >= 200809

119 
_EXFUN
(
wcsˇ£cmp
, (c⁄° 
wch¨_t
 *, const wchar_t *));

121 
wch¨_t
 *
_EXFUN
(
wcsˇt
, (wch¨_à*
__ª°ri˘
, const wchar_t *__restrict));

122 
wch¨_t
 *
_EXFUN
(
wcschr
, (const wchar_t *, wchar_t));

123 
_EXFUN
(
wcscmp
, (c⁄° 
wch¨_t
 *, const wchar_t *));

124 
_EXFUN
(
wcscﬁl
, (c⁄° 
wch¨_t
 *, const wchar_t *));

125 
wch¨_t
 *
_EXFUN
(
wcs˝y
, (wch¨_à*
__ª°ri˘
, const wchar_t *__restrict));

126 #i‡
__POSIX_VISIBLE
 >= 200809

127 
wch¨_t
 *
_EXFUN
(
w˝˝y
, (wch¨_à*
__ª°ri˘
,

128 c⁄° 
wch¨_t
 *
__ª°ri˘
));

129 
wch¨_t
 *
_EXFUN
(
wcsdup
, (const wchar_t *));

131 
wch¨_t
 *
_EXFUN
(
_wcsdup_r
, (
_ªít
 *, const wchar_t * ));

132 
size_t
 
_EXFUN
(
wcsc•n
, (c⁄° 
wch¨_t
 *, const wchar_t *));

133 
size_t
 
_EXFUN
(
wcs·ime
, (
wch¨_t
 *
__ª°ri˘
, size_t,

134 c⁄° 
wch¨_t
 *
__ª°ri˘
, c⁄° 
tm
 *__restrict));

135 #i‡
__GNU_VISIBLE


136 
size_t
 
wcs·ime_l
 (
wch¨_t
 *
__ª°ri˘
, size_t, const wchar_t *__restrict,

137 c⁄° 
tm
 *
__ª°ri˘
, 
loˇÀ_t
);

139 
size_t
 
_EXFUN
(
wc¶ˇt
, (
wch¨_t
 *, const wchar_t *, size_t));

140 
size_t
 
_EXFUN
(
wc¶˝y
, (
wch¨_t
 *, const wchar_t *, size_t));

141 
size_t
 
_EXFUN
(
wc¶í
, (c⁄° 
wch¨_t
 *));

142 #i‡
__POSIX_VISIBLE
 >= 200809

143 
_EXFUN
(
wc¢ˇ£cmp
, (c⁄° 
wch¨_t
 *, c⁄° wch¨_à*, 
size_t
));

145 
wch¨_t
 *
_EXFUN
(
wc¢ˇt
, (wch¨_à*
__ª°ri˘
,

146 c⁄° 
wch¨_t
 *
__ª°ri˘
, 
size_t
));

147 
_EXFUN
(
wc¢cmp
, (c⁄° 
wch¨_t
 *, c⁄° wch¨_à*, 
size_t
));

148 
wch¨_t
 *
_EXFUN
(
wc¢˝y
, (wch¨_à*
__ª°ri˘
,

149 c⁄° 
wch¨_t
 *
__ª°ri˘
, 
size_t
));

150 #i‡
__POSIX_VISIBLE
 >= 200809

151 
wch¨_t
 *
_EXFUN
(
w˝n˝y
, (wch¨_à*
__ª°ri˘
,

152 c⁄° 
wch¨_t
 *
__ª°ri˘
, 
size_t
));

153 
size_t
 
_EXFUN
(
wc¢Àn
, (c⁄° 
wch¨_t
 *, size_t));

155 
wch¨_t
 *
_EXFUN
(
wc•brk
, (const wchar_t *, const wchar_t *));

156 
wch¨_t
 *
_EXFUN
(
wc§chr
, (const wchar_t *, wchar_t));

157 
size_t
 
_EXFUN
(
wcs•n
, (c⁄° 
wch¨_t
 *, const wchar_t *));

158 
wch¨_t
 *
_EXFUN
(
wcs°r
, (c⁄° wch¨_à*
__ª°ri˘
,

159 c⁄° 
wch¨_t
 *
__ª°ri˘
));

160 
wch¨_t
 *
_EXFUN
(
wc°ok
, (wch¨_à*
__ª°ri˘
, const wchar_t *__restrict,

161 
wch¨_t
 **
__ª°ri˘
));

162 
_EXFUN
(
wc°od
, (c⁄° 
wch¨_t
 *
__ª°ri˘
, wchar_t **__restrict));

163 
_EXFUN
(
_wc°od_r
, (
_ªít
 *, c⁄° 
wch¨_t
 *, wchar_t **));

164 #i‡
__ISO_C_VISIBLE
 >= 1999

165 
_EXFUN
(
wc°of
, (c⁄° 
wch¨_t
 *
__ª°ri˘
, wchar_t **__restrict));

167 
_EXFUN
(
_wc°of_r
, (
_ªít
 *, c⁄° 
wch¨_t
 *, wchar_t **));

168 #i‡
__XSI_VISIBLE


169 
_EXFUN
(
wcswidth
, (c⁄° 
wch¨_t
 *, 
size_t
));

171 
size_t
 
_EXFUN
(
wcsx‰m
, (
wch¨_t
 *
__ª°ri˘
, const wchar_t *__restrict,

172 
size_t
));

173 #i‡
__POSIX_VISIBLE
 >= 200809

174 
wcsˇ£cmp_l
 (c⁄° 
wch¨_t
 *, c⁄° wch¨_à*, 
loˇÀ_t
);

175 
wc¢ˇ£cmp_l
 (c⁄° 
wch¨_t
 *, c⁄° wch¨_à*, 
size_t
, 
loˇÀ_t
);

176 
wcscﬁl_l
 (c⁄° 
wch¨_t
 *, c⁄° wch¨_à*, 
loˇÀ_t
);

177 
size_t
 
wcsx‰m_l
 (
wch¨_t
 *
__ª°ri˘
, const wchar_t *__restrict, size_t,

178 
loˇÀ_t
);

181 #i‡
__XSI_VISIBLE


182 
_EXFUN
(
wcwidth
, (c⁄° 
wch¨_t
));

184 
wch¨_t
 *
_EXFUN
(
wmemchr
, (c⁄° wch¨_à*, wch¨_t, 
size_t
));

185 
_EXFUN
(
wmemcmp
, (c⁄° 
wch¨_t
 *, c⁄° wch¨_à*, 
size_t
));

186 
wch¨_t
 *
_EXFUN
(
wmem˝y
, (wch¨_à*
__ª°ri˘
, const wchar_t *__restrict,

187 
size_t
));

188 
wch¨_t
 *
_EXFUN
(
wmemmove
, (wch¨_à*, c⁄° wch¨_à*, 
size_t
));

189 
wch¨_t
 *
_EXFUN
(
wmem£t
, (wch¨_à*, wch¨_t, 
size_t
));

191 
_EXFUN
(
wc°ﬁ
, (c⁄° 
wch¨_t
 *
__ª°ri˘
, wchar_t **__restrict, ));

192 #i‡
__ISO_C_VISIBLE
 >= 1999

193 
_EXFUN
(
wc°ﬁl
, (c⁄° 
wch¨_t
 *
__ª°ri˘
, wchar_t **__restrict,

196 
_EXFUN
(
wc°oul
, (c⁄° 
wch¨_t
 *
__ª°ri˘
, wchar_t **__restrict,

198 #i‡
__ISO_C_VISIBLE
 >= 1999

199 
_EXFUN
(
wc°ouŒ
, (c⁄° 
wch¨_t
 *
__ª°ri˘
,

200 
wch¨_t
 **
__ª°ri˘
, ));

202 
_EXFUN
(
_wc°ﬁ_r
, (
_ªít
 *, c⁄° 
wch¨_t
 *, wchar_t **, ));

203 
_EXFUN
(
_wc°ﬁl_r
, (
_ªít
 *, c⁄° 
wch¨_t
 *, wchar_t **, ));

204 
_EXFUN
(
_wc°oul_r
, (
_ªít
 *, c⁄° 
wch¨_t
 *, wchar_t **, ));

205 
_EXFUN
(
_wc°ouŒ_r
, (
_ªít
 *, c⁄° 
wch¨_t
 *, wchar_t **, ));

206 #i‡
__ISO_C_VISIBLE
 >= 1999

207 
_EXFUN
(
wc°ﬁd
, (c⁄° 
wch¨_t
 *, wchar_t **));

210 #i‡
__GNU_VISIBLE


211 
wc°ﬁ_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
, wch¨_à**__ª°ri˘, , 
loˇÀ_t
);

212 
wc°ﬁl_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
, wchar_t **__restrict, ,

213 
loˇÀ_t
);

214 
wc°oul_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
, wchar_t **__restrict, ,

215 
loˇÀ_t
);

216 
wc°ouŒ_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
, wchar_t **__restrict,

217 , 
loˇÀ_t
);

218 
wc°od_l
 (c⁄° 
wch¨_t
 *, wch¨_à**, 
loˇÀ_t
);

219 
wc°of_l
 (c⁄° 
wch¨_t
 *, wch¨_à**, 
loˇÀ_t
);

220 
wc°ﬁd_l
 (c⁄° 
wch¨_t
 *, wch¨_à**, 
loˇÀ_t
);

223 
wöt_t
 
_EXFUN
(
fgëwc
, (
__FILE
 *));

224 
wch¨_t
 *
_EXFUN
(
fgëws
, (wch¨_à*
__ª°ri˘
, , 
__FILE
 *__restrict));

225 
wöt_t
 
_EXFUN
(
Âutwc
, (
wch¨_t
, 
__FILE
 *));

226 
_EXFUN
(
Âutws
, (c⁄° 
wch¨_t
 *
__ª°ri˘
, 
__FILE
 *__restrict));

227 #i‡
__ISO_C_VISIBLE
 >1999 || 
__XSI_VISIBLE
 >= 500

228 
_EXFUN
 (
fwide
, (
__FILE
 *, ));

230 
wöt_t
 
_EXFUN
 (
gëwc
, (
__FILE
 *));

231 
wöt_t
 
_EXFUN
 (
gëwch¨
, ());

232 
wöt_t
 
_EXFUN
(
putwc
, (
wch¨_t
, 
__FILE
 *));

233 
wöt_t
 
_EXFUN
(
putwch¨
, (
wch¨_t
));

234 
wöt_t
 
_EXFUN
 (
ungëwc
, (wöt_à
wc
, 
__FILE
 *));

236 
wöt_t
 
_EXFUN
(
_fgëwc_r
, (
_ªít
 *, 
__FILE
 *));

237 
wöt_t
 
_EXFUN
(
_fgëwc_u∆ocked_r
, (
_ªít
 *, 
__FILE
 *));

238 
wch¨_t
 *
_EXFUN
(
_fgëws_r
, (
_ªít
 *, wch¨_à*, , 
__FILE
 *));

239 
wch¨_t
 *
_EXFUN
(
_fgëws_u∆ocked_r
, (
_ªít
 *, wch¨_à*, , 
__FILE
 *));

240 
wöt_t
 
_EXFUN
(
_Âutwc_r
, (
_ªít
 *, 
wch¨_t
, 
__FILE
 *));

241 
wöt_t
 
_EXFUN
(
_Âutwc_u∆ocked_r
, (
_ªít
 *, 
wch¨_t
, 
__FILE
 *));

242 
_EXFUN
(
_Âutws_r
, (
_ªít
 *, c⁄° 
wch¨_t
 *, 
__FILE
 *));

243 
_EXFUN
(
_Âutws_u∆ocked_r
, (
_ªít
 *, c⁄° 
wch¨_t
 *, 
__FILE
 *));

244 
_EXFUN
 (
_fwide_r
, (
_ªít
 *, 
__FILE
 *, ));

245 
wöt_t
 
_EXFUN
 (
_gëwc_r
, (
_ªít
 *, 
__FILE
 *));

246 
wöt_t
 
_EXFUN
 (
_gëwc_u∆ocked_r
, (
_ªít
 *, 
__FILE
 *));

247 
wöt_t
 
_EXFUN
 (
_gëwch¨_r
, (
_ªít
 *
±r
));

248 
wöt_t
 
_EXFUN
 (
_gëwch¨_u∆ocked_r
, (
_ªít
 *
±r
));

249 
wöt_t
 
_EXFUN
(
_putwc_r
, (
_ªít
 *, 
wch¨_t
, 
__FILE
 *));

250 
wöt_t
 
_EXFUN
(
_putwc_u∆ocked_r
, (
_ªít
 *, 
wch¨_t
, 
__FILE
 *));

251 
wöt_t
 
_EXFUN
(
_putwch¨_r
, (
_ªít
 *, 
wch¨_t
));

252 
wöt_t
 
_EXFUN
(
_putwch¨_u∆ocked_r
, (
_ªít
 *, 
wch¨_t
));

253 
wöt_t
 
_EXFUN
 (
_ungëwc_r
, (
_ªít
 *, wöt_à
wc
, 
__FILE
 *));

255 #i‡
__GNU_VISIBLE


256 
wöt_t
 
_EXFUN
(
fgëwc_u∆ocked
, (
__FILE
 *));

257 
wch¨_t
 *
_EXFUN
(
fgëws_u∆ocked
, (wch¨_à*
__ª°ri˘
, , 
__FILE
 *__restrict));

258 
wöt_t
 
_EXFUN
(
Âutwc_u∆ocked
, (
wch¨_t
, 
__FILE
 *));

259 
_EXFUN
(
Âutws_u∆ocked
, (c⁄° 
wch¨_t
 *
__ª°ri˘
, 
__FILE
 *__restrict));

260 
wöt_t
 
_EXFUN
(
gëwc_u∆ocked
, (
__FILE
 *));

261 
wöt_t
 
_EXFUN
(
gëwch¨_u∆ocked
, ());

262 
wöt_t
 
_EXFUN
(
putwc_u∆ocked
, (
wch¨_t
, 
__FILE
 *));

263 
wöt_t
 
_EXFUN
(
putwch¨_u∆ocked
, (
wch¨_t
));

266 #i‡
__POSIX_VISIBLE
 >= 200809

267 
__FILE
 *
_EXFUN
 (
›í_wmem°ªam
, (
wch¨_t
 **, 
size_t
 *));

269 
__FILE
 *
_EXFUN
 (
_›í_wmem°ªam_r
, (
_ªít
 *, 
wch¨_t
 **, 
size_t
 *));

271 #i‚de‡
__VALIST


272 #ifde‡
__GNUC__


273 
	#__VALIST
 
__gnuc_va_li°


	)

275 
	#__VALIST
 *

	)

279 #i‡
__ISO_C_VISIBLE
 >1999 || 
__XSI_VISIBLE
 >= 500

280 
_EXFUN
(
fw¥ötf
, (
__FILE
 *
__ª°ri˘
, c⁄° 
wch¨_t
 *__restrict, ...));

281 
_EXFUN
(
sw¥ötf
, (
wch¨_t
 *
__ª°ri˘
, 
size_t
,

282 c⁄° 
wch¨_t
 *
__ª°ri˘
, ...));

283 
_EXFUN
(
vfw¥ötf
, (
__FILE
 *
__ª°ri˘
, c⁄° 
wch¨_t
 *__restrict,

284 
__VALIST
));

285 
_EXFUN
(
vsw¥ötf
, (
wch¨_t
 *
__ª°ri˘
, 
size_t
,

286 c⁄° 
wch¨_t
 *
__ª°ri˘
, 
__VALIST
));

287 
_EXFUN
(
vw¥ötf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
, 
__VALIST
));

288 
_EXFUN
(
w¥ötf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
, ...));

291 
_EXFUN
(
_fw¥ötf_r
, (
_ªít
 *, 
__FILE
 *, c⁄° 
wch¨_t
 *, ...));

292 
_EXFUN
(
_sw¥ötf_r
, (
_ªít
 *, 
wch¨_t
 *, 
size_t
, const wchar_t *, ...));

293 
_EXFUN
(
_vfw¥ötf_r
, (
_ªít
 *, 
__FILE
 *, c⁄° 
wch¨_t
 *, 
__VALIST
));

294 
_EXFUN
(
_vsw¥ötf_r
, (
_ªít
 *, 
wch¨_t
 *, 
size_t
, c⁄° wch¨_à*, 
__VALIST
));

295 
_EXFUN
(
_vw¥ötf_r
, (
_ªít
 *, c⁄° 
wch¨_t
 *, 
__VALIST
));

296 
_EXFUN
(
_w¥ötf_r
, (
_ªít
 *, c⁄° 
wch¨_t
 *, ...));

298 #i‡
__ISO_C_VISIBLE
 >1999 || 
__XSI_VISIBLE
 >= 500

299 
_EXFUN
(
fwsˇnf
, (
__FILE
 *
__ª°ri˘
, c⁄° 
wch¨_t
 *__restrict, ...));

300 
_EXFUN
(
swsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
,

301 c⁄° 
wch¨_t
 *
__ª°ri˘
, ...));

302 
_EXFUN
(
vfwsˇnf
, (
__FILE
 *
__ª°ri˘
, c⁄° 
wch¨_t
 *__restrict,

303 
__VALIST
));

304 
_EXFUN
(
vswsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
, const wchar_t *__restrict,

305 
__VALIST
));

306 
_EXFUN
(
vwsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
, 
__VALIST
));

307 
_EXFUN
(
wsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
, ...));

310 
_EXFUN
(
_fwsˇnf_r
, (
_ªít
 *, 
__FILE
 *, c⁄° 
wch¨_t
 *, ...));

311 
_EXFUN
(
_swsˇnf_r
, (
_ªít
 *, c⁄° 
wch¨_t
 *, const wchar_t *, ...));

312 
_EXFUN
(
_vfwsˇnf_r
, (
_ªít
 *, 
__FILE
 *, c⁄° 
wch¨_t
 *, 
__VALIST
));

313 
_EXFUN
(
_vswsˇnf_r
, (
_ªít
 *, c⁄° 
wch¨_t
 *, c⁄° wch¨_à*, 
__VALIST
));

314 
_EXFUN
(
_vwsˇnf_r
, (
_ªít
 *, c⁄° 
wch¨_t
 *, 
__VALIST
));

315 
_EXFUN
(
_wsˇnf_r
, (
_ªít
 *, c⁄° 
wch¨_t
 *, ...));

317 
	#gëwc
(
Â
Ë
	`fgëwc
(Â)

	)

318 
	#putwc
(
wc
,
Â
Ë
	`Âutwc
((wc), (Â))

	)

319 
	#gëwch¨
(Ë
	`fgëwc
(
_REENT
->
_°dö
)

	)

320 
	#putwch¨
(
wc
Ë
	`Âutwc
((wc), 
_REENT
->
_°dout
)

	)

322 #i‡
__GNU_VISIBLE


323 
	#gëwc_u∆ocked
(
Â
Ë
	`fgëwc_u∆ocked
(Â)

	)

324 
	#putwc_u∆ocked
(
wc
,
Â
Ë
	`Âutwc_u∆ocked
((wc), (Â))

	)

325 
	#gëwch¨_u∆ocked
(Ë
	`fgëwc_u∆ocked
(
_REENT
->
_°dö
)

	)

326 
	#putwch¨_u∆ocked
(
wc
Ë
	`Âutwc_u∆ocked
((wc), 
_REENT
->
_°dout
)

	)

329 
	g_END_STD_C


	@/usr/include/xlocale.h

3 #i‚def 
_XLOCALE_H


4 
	#_XLOCALE_H


	)

6 
	~<√wlib.h
>

7 
	~<sys/c⁄fig.h
>

9 
	g__loˇÀ_t
;

10 
__loˇÀ_t
 *
	tloˇÀ_t
;

	@/usr/include/_newlib_version.h

3 #i‚de‡
_NEWLIB_VERSION_H__


4 
	#_NEWLIB_VERSION_H__
 1

	)

6 
	#_NEWLIB_VERSION
 "2.5.0"

	)

7 
	#__NEWLIB__
 2

	)

8 
	#__NEWLIB_MINOR__
 5

	)

9 
	#__NEWLIB_PATCHLEVEL__
 0

	)

	@/usr/include/cygwin/config.h

14 #i‚de‡
_CYGWIN_CONFIG_H


15 #ifde‡
__˝lu•lus


18 
	#_CYGWIN_CONFIG_H


	)

20 
	#__DYNAMIC_REENT__


	)

38 #i‡
deföed
 (
_COMPILING_NEWLIB
Ë|| deföed (
__INSIDE_CYGWIN__
)

39 #ifde‡
__x86_64__


40 
	~"../ésoff£ts64.h
"

42 
	~"../ésoff£ts.h
"

44 
__©åibuã__
((
__gnu_ölöe__
))

45 
ölöe
 
_ªít
 *
__gëªít
 ()

47 *
ªt
;

48 #ifde‡
__x86_64__


49 
__asm
 
__vﬁ©ûe__
 ("movq %%gs:8,%0" : "Ù" (
ªt
));

51 
__asm
 
__vﬁ©ûe__
 ("mov»%%fs:4,%0" : "Ù" (
ªt
));

53  (
_ªít
 *Ë(
ªt
 + 
és_loˇl_˛ib
);

57 #ifde‡
__x86_64__


58 
	#__SYMBOL_PREFIX


	)

60 
	#__SYMBOL_PREFIX
 "_"

	)

62 
	#_SYMSTR
(
x
Ë
__SYMBOL_PREFIX
 #x

	)

64 
	#__FILENAME_MAX__
 4096

	)

69 
	#_READ_WRITE_RETURN_TYPE
 
_ssize_t


	)

70 
	#_READ_WRITE_BUFSIZE_TYPE
 
size_t


	)

71 
	#__LARGE64_FILES
 1

	)

72 
	#__USE_INTERNAL_STAT64
 1

	)

73 
	#__LINUX_ERRNO_EXTENSIONS__
 1

	)

74 
	#_MB_EXTENDED_CHARSETS_ALL
 1

	)

75 
	#__HAVE_LOCALE_INFO__
 1

	)

76 
	#__HAVE_LOCALE_INFO_EXTENDED__
 1

	)

77 
	#_WANT_C99_TIME_FORMATS
 1

	)

78 
	#_GLIBC_EXTENSION
 1

	)

79 
	#_STDIO_BSD_SEMANTICS
 1

	)

80 
	#__TM_GMTOFF
 
tm_gmtoff


	)

81 
	#__TM_ZONE
 
tm_z⁄e


	)

83 #i‡
deföed
(
__INSIDE_CYGWIN__
Ë|| deföed(
_COMPILING_NEWLIB
)

84 
	#__EXPORT
 
	`__de˛•ec
(
dŒexp‹t
)

	)

85 
	#__IMPORT


	)

87 
	#__EXPORT


	)

88 
	#__IMPORT
 
	`__de˛•ec
(
dŒimp‹t
)

	)

91 #i‚de‡
__WCHAR_MAX__


92 
	#__WCHAR_MAX__
 0xffffu

	)

95 
	#DEFAULT_LOCALE
 "C.UTF-8"

	)

97 #ifde‡
__˝lu•lus


	@/usr/include/cygwin/time.h

9 #i‚de‡
_CYGWIN_TIME_H


10 
	#_CYGWIN_TIME_H


	)

11 #ifde‡
__˝lu•lus


17 
__cde˛
 
˛ock_£åes
 (
˛ockid_t
, 
time•ec
 *);

20 
time_t
 
__cde˛
 
timñoˇl
 (
tm
 *);

21 
time_t
 
__cde˛
 
timegm
 (
tm
 *);

23 
	#TIMER_RELTIME
 0

	)

25 #i‡
__SVID_VISIBLE


26 
°ime
 (c⁄° 
time_t
 *);

29 #i‡
__SVID_VISIBLE
 || 
__XSI_VISIBLE


30 
daylight
 
__asm__
 (
_SYMSTR
 (
_daylight
));

32 #i‚de‡
__timez⁄efunc__


33 
timez⁄e
 
__asm__
 (
_SYMSTR
 (
_timez⁄e
));

38 #ifde‡
__˝lu•lus


	@/usr/include/cygwin/wait.h

9 #i‚de‡
_CYGWIN_WAIT_H


10 
	#_CYGWIN_WAIT_H


	)

12 
	#WAIT_ANY
 (
pid_t
)-1

	)

13 
	#WAIT_MYPGRP
 (
pid_t
)0

	)

15 
	#WNOHANG
 1

	)

16 
	#WUNTRACED
 2

	)

17 
	#WCONTINUED
 8

	)

18 
	#__W_CONTINUED
 0xffff

	)

21 
	#__waô_°©us_to_öt
(
w
Ë(w)

	)

32 
	#WIFEXITED
(
w
Ë((
	`__waô_°©us_to_öt
(wË& 0xffË=0)

	)

33 
	#WIFSIGNALED
(
w
Ë((
	`__waô_°©us_to_öt
(w) & 0x7f) > 0 \

34 && ((
	`__waô_°©us_to_öt
(
w
Ë& 0x7fË< 0x7f))

	)

35 
	#WIFSTOPPED
(
w
Ë((
	`__waô_°©us_to_öt
(wË& 0xffË=0x7f)

	)

36 
	#WIFCONTINUED
(
w
Ë((
	`__waô_°©us_to_öt
(wË& 0xffffË=
__W_CONTINUED
)

	)

37 
	#WEXITSTATUS
(
w
Ë((
	`__waô_°©us_to_öt
(wË>> 8Ë& 0xff)

	)

38 
	#WTERMSIG
(
w
Ë(
	`__waô_°©us_to_öt
(wË& 0x7f)

	)

39 
	#WSTOPSIG
 
WEXITSTATUS


	)

40 
	#WCOREDUMP
(
w
Ë(
	`WIFSIGNALED
(wË&& (
	`__waô_°©us_to_öt
(wË& 0x80))

	)

	@/usr/include/endian.h

9 #i‚de‡
_ENDIAN_H_


10 
	#_ENDIAN_H_


	)

12 
	~<sys/c⁄fig.h
>

13 
	~<machöe/ídün.h
>

16 #i‚de‡
LITTLE_ENDIAN


17 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

19 #i‚de‡
BIG_ENDIAN


20 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

22 #i‚de‡
PDP_ENDIAN


23 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

25 #i‚de‡
BYTE_ORDER


26 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

30 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


31 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËLO, 
	)
HI

32 #ñi‡
__BYTE_ORDER
 =
__BIG_ENDIAN


33 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËHI, 
	)
LO

36 #i‡
__BSD_VISIBLE


38 
	~<bôs/byãsw≠.h
>

40 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


42 
	#htobe16
(
x
Ë
	`__bsw≠_16
(x)

	)

43 
	#htobe32
(
x
Ë
	`__bsw≠_32
(x)

	)

44 
	#htobe64
(
x
Ë
	`__bsw≠_64
(x)

	)

46 
	#be16toh
(
x
Ë
	`__bsw≠_16
(x)

	)

47 
	#be32toh
(
x
Ë
	`__bsw≠_32
(x)

	)

48 
	#be64toh
(
x
Ë
	`__bsw≠_64
(x)

	)

50 
	#htﬁe16
(
x
Ë(x)

	)

51 
	#htﬁe32
(
x
Ë(x)

	)

52 
	#htﬁe64
(
x
Ë(x)

	)

54 
	#À16toh
(
x
Ë(x)

	)

55 
	#À32toh
(
x
Ë(x)

	)

56 
	#À64toh
(
x
Ë(x)

	)

60 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


62 
	#htobe16
(
x
Ë(x)

	)

63 
	#htobe32
(
x
Ë(x)

	)

64 
	#htobe64
(
x
Ë(x)

	)

66 
	#be16toh
(
x
Ë(x)

	)

67 
	#be32toh
(
x
Ë(x)

	)

68 
	#be64toh
(
x
Ë(x)

	)

70 
	#htﬁe16
(
x
Ë
	`__bsw≠_16
(x)

	)

71 
	#htﬁe32
(
x
Ë
	`__bsw≠_32
(x)

	)

72 
	#htﬁe64
(
x
Ë
	`__bsw≠_64
(x)

	)

74 
	#À16toh
(
x
Ë
	`__bsw≠_16
(x)

	)

75 
	#À32toh
(
x
Ë
	`__bsw≠_32
(x)

	)

76 
	#À64toh
(
x
Ë
	`__bsw≠_64
(x)

	)

	@/usr/include/machine/_endian.h

9 #i‚de‡
__MACHINE_ENDIAN_H__


13 
	~<_™si.h
>

14 
	~<bôs/ídün.h
>

16 
	#_LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

17 
	#_BIG_ENDIAN
 
__BIG_ENDIAN


	)

18 
	#_PDP_ENDIAN
 
__PDP_ENDIAN


	)

19 
	#_BYTE_ORDER
 
__BYTE_ORDER


	)

21 
	#__machöe_ho°_to_‰om_√tw‹k_deföed


	)

23 
_ELIDABLE_INLINE
 
__uöt32_t
 
__¡ohl
(__uint32_t);

24 
_ELIDABLE_INLINE
 
__uöt16_t
 
__¡ohs
(__uint16_t);

26 
_ELIDABLE_INLINE
 
__uöt32_t


27 
	$__¡ohl
(
__uöt32_t
 
_x
)

29 
	`__asm__
("bsw≠ %0" : "Ù" (
_x
) : "0" (_x));

30  
_x
;

31 
	}
}

33 
_ELIDABLE_INLINE
 
__uöt16_t


34 
	$__¡ohs
(
__uöt16_t
 
_x
)

36 
	`__asm__
("xchgb %b0,%h0"

37 : "=Q" (
_x
)

38 : "0" (
_x
));

39  
_x
;

40 
	}
}

42 
	#__ht⁄l
(
_x
Ë
	`__¡ohl
(_x)

	)

43 
	#__ht⁄s
(
_x
Ë
	`__¡ohs
(_x)

	)

	@/usr/include/machine/time.h

1 #i‚def 
_MACHTIME_H_


2 
	#_MACHTIME_H_


	)

4 #i‡
deföed
(
__πems__
Ë|| deföed(
__VISIUM__
Ë|| deföed(
__riscv
)

5 
	#_CLOCKS_PER_SEC_
 1000000

	)

6 #ñi‡
deföed
(
__Ørch64__
Ë|| deföed(
__¨m__
Ë|| deföed(
__thumb__
)

7 
	#_CLOCKS_PER_SEC_
 100

	)

10 #ifde‡
__SPU__


11 
	~<sys/_time•ec.h
>

12 
«no¶ìp
 (c⁄° 
time•ec
 *, timespec *);

	@/usr/include/signal.h

1 #i‚de‡
_SIGNAL_H_


2 
	#_SIGNAL_H_


	)

4 
	~"_™si.h
"

5 
	~<sys/cdefs.h
>

6 
	~<sys/sig«l.h
>

8 
_BEGIN_STD_C


10 
	tsig_©omic_t
;

11 #i‡
__BSD_VISIBLE


12 
_sig_func_±r
 
	tsig_t
;

14 #i‡
__GNU_VISIBLE


15 
_sig_func_±r
 
	tsigh™dÀr_t
;

18 
	#SIG_DFL
 ((
_sig_func_±r
)0Ë

	)

19 
	#SIG_IGN
 ((
_sig_func_±r
)1Ë

	)

20 
	#SIG_ERR
 ((
_sig_func_±r
)-1Ë

	)

22 
	g_ªít
;

24 
_sig_func_±r
 
_EXFUN
(
_sig«l_r
, (
_ªít
 *, , _sig_func_ptr));

25 
_EXFUN
(
_øi£_r
, (
_ªít
 *, ));

27 #i‚de‡
_REENT_ONLY


28 
_sig_func_±r
 
_EXFUN
(
sig«l
, (, _sig_func_ptr));

29 
_EXFUN
(
øi£
, ());

30 
_EXFUN
(
psig«l
, (, const *));

33 
	g_END_STD_C


	@/usr/include/sys/_sigset.h

38 #i‚de‡
_SYS__SIGSET_H_


39 
	#_SYS__SIGSET_H_


	)

41 
	t__sig£t_t
;

	@/usr/include/sys/_timeval.h

29 #i‚de‡
_SYS__TIMEVAL_H_


30 
	#_SYS__TIMEVAL_H_


	)

32 
	~<sys/_ty≥s.h
>

34 #i‚de‡
_SUSECONDS_T_DECLARED


35 
__su£c⁄ds_t
 
	tsu£c⁄ds_t
;

36 
	#_SUSECONDS_T_DECLARED


	)

39 #i‡!
deföed
(
__time_t_deföed
Ë&& !deföed(
_TIME_T_DECLARED
)

40 
_TIME_T_
 
	ttime_t
;

41 
	#__time_t_deföed


	)

42 
	#_TIME_T_DECLARED


	)

46 #i‚de‡
_TIMEVAL_DEFINED


47 
	#_TIMEVAL_DEFINED


	)

52 
	stimevÆ
 {

53 
time_t
 
	mtv_£c
;

54 
su£c⁄ds_t
 
	mtv_u£c
;

57 #i‡
__BSD_VISIBLE


58 #i‚de‡
_KERNEL


60 
	#timî˛ór
(
tvp
Ë(—vp)->
tv_£c
 = (tvp)->
tv_u£c
 = 0)

	)

61 
	#timîis£t
(
tvp
Ë(—vp)->
tv_£c
 || (tvp)->
tv_u£c
)

	)

62 
	#timîcmp
(
tvp
, 
uvp
, 
cmp
) \

63 (((
tvp
)->
tv_£c
 =(
uvp
)->tv_sec) ? \

64 ((
tvp
)->
tv_u£c
 
	`cmp
 (
uvp
)->tv_usec) : \

65 ((
tvp
)->
tv_£c
 
	`cmp
 (
uvp
)->tv_£c))

	)

66 
	#timîadd
(
tvp
, 
uvp
, 
vvp
) \

68 (
vvp
)->
tv_£c
 = (
tvp
)->tv_£¯+ (
uvp
)->tv_sec; \

69 (
vvp
)->
tv_u£c
 = (
tvp
)->tv_u£¯+ (
uvp
)->tv_usec; \

70 i‡((
vvp
)->
tv_u£c
 >= 1000000) { \

71 (
vvp
)->
tv_£c
++; \

72 (
vvp
)->
tv_u£c
 -= 1000000; \

74 } 0)

	)

75 
	#timîsub
(
tvp
, 
uvp
, 
vvp
) \

77 (
vvp
)->
tv_£c
 = (
tvp
)->tv_£¯- (
uvp
)->tv_sec; \

78 (
vvp
)->
tv_u£c
 = (
tvp
)->tv_u£¯- (
uvp
)->tv_usec; \

79 i‡((
vvp
)->
tv_u£c
 < 0) { \

80 (
vvp
)->
tv_£c
--; \

81 (
vvp
)->
tv_u£c
 += 1000000; \

83 } 0)

	)

	@/usr/include/sys/custom_file.h

1 #îr‹ 
Sy°em
-
•ecific
 
cu°om_fûe
.
h
 
is
 
missög
.

	@/usr/include/sys/lock.h

9 #i‚de‡
_SYS_LOCK_H_


10 
	#_SYS_LOCK_H_


	)

12 *
	t_LOCK_T
;

13 
	#_LOCK_RECURSIVE_T
 
_LOCK_T


	)

19 
	#_LOCK_T_RECURSIVE_INITIALIZER
 ((
_LOCK_T
)18)

	)

20 
	#_LOCK_T_INITIALIZER
 ((
_LOCK_T
)19)

	)

22 
	#__LOCK_INIT
(
CLASS
,
NAME
) \

23 
CLASS
 
_LOCK_T
 
NAME
 = 
_LOCK_T_INITIALIZER
;

	)

24 
	#__LOCK_INIT_RECURSIVE
(
CLASS
,
NAME
) \

25 
CLASS
 
_LOCK_T
 
NAME
 = 
_LOCK_T_RECURSIVE_INITIALIZER
;

	)

27 
	#__lock_öô
(
__lock
Ë
	`__cygwö_lock_öô
(&__lock)

	)

28 
	#__lock_öô_ªcursive
(
__lock
Ë
	`__cygwö_lock_öô_ªcursive
(&__lock)

	)

29 
	#__lock_˛o£
(
__lock
Ë
	`__cygwö_lock_föi
(&__lock)

	)

30 
	#__lock_˛o£_ªcursive
(
__lock
Ë
	`__cygwö_lock_föi
(&__lock)

	)

31 
	#__lock_acquúe
(
__lock
Ë
	`__cygwö_lock_lock
(&__lock)

	)

32 
	#__lock_acquúe_ªcursive
(
__lock
Ë
	`__cygwö_lock_lock
(&__lock)

	)

33 
	#__lock_åy_acquúe
(
lock
Ë
	`__cygwö_lock_åylock
(&
__lock
)

	)

34 
	#__lock_åy_acquúe_ªcursive
(
lock
Ë
	`__cygwö_lock_åylock
(&
__lock
)

	)

35 
	#__lock_ªÀa£
(
__lock
Ë
	`__cygwö_lock_u∆ock
(&__lock)

	)

36 
	#__lock_ªÀa£_ªcursive
(
__lock
Ë
	`__cygwö_lock_u∆ock
(&__lock)

	)

38 #ifde‡
__˝lu•lus


42 
__cygwö_lock_öô
(
_LOCK_T
 *);

43 
__cygwö_lock_öô_ªcursive
(
_LOCK_T
 *);

44 
__cygwö_lock_föi
(
_LOCK_T
 *);

45 
__cygwö_lock_lock
(
_LOCK_T
 *);

46 
__cygwö_lock_åylock
(
_LOCK_T
 *);

47 
__cygwö_lock_u∆ock
(
_LOCK_T
 *);

48 #ifde‡
__˝lu•lus


	@/usr/include/sys/sysmacros.h

9 #i‚de‡
_SYS_SYSMACROS_H


10 
	#_SYS_SYSMACROS_H


	)

12 
	~<sys/ty≥s.h
>

14 
_ELIDABLE_INLINE
 
gnu_dev_maj‹
(
dev_t
);

15 
_ELIDABLE_INLINE
 
gnu_dev_mö‹
(
dev_t
);

16 
_ELIDABLE_INLINE
 
dev_t
 
gnu_dev_makedev
(, );

18 
_ELIDABLE_INLINE
 

19 
	$gnu_dev_maj‹
(
dev_t
 
dev
)

21  ()(((
dev
) >> 16) & 0xffff);

22 
	}
}

24 
_ELIDABLE_INLINE
 

25 
	$gnu_dev_mö‹
(
dev_t
 
dev
)

27  ()((
dev
) & 0xffff);

28 
	}
}

30 
_ELIDABLE_INLINE
 
dev_t


31 
	$gnu_dev_makedev
(
maj
, 
mö
)

33  (((
maj
Ë<< 16Ë| ((
mö
) & 0xffff));

34 
	}
}

36 
	#maj‹
(
dev
Ë
	`gnu_dev_maj‹
(dev)

	)

37 
	#mö‹
(
dev
Ë
	`gnu_dev_mö‹
(dev)

	)

38 
	#makedev
(
maj
, 
mö
Ë
	`gnu_dev_makedev
(maj, mö)

	)

	@/usr/include/sys/timespec.h

34 #i‚de‡
_SYS_TIMESPEC_H_


35 
	#_SYS_TIMESPEC_H_


	)

37 
	~<sys/cdefs.h
>

38 
	~<sys/_time•ec.h
>

40 #i‡
__BSD_VISIBLE


41 
	#TIMEVAL_TO_TIMESPEC
(
tv
, 
ts
) \

43 (
ts
)->
tv_£c
 = (
tv
)->tv_sec; \

44 (
ts
)->
tv_n£c
 = (
tv
)->
tv_u£c
 * 1000; \

45 } 0)

	)

46 
	#TIMESPEC_TO_TIMEVAL
(
tv
, 
ts
) \

48 (
tv
)->
tv_£c
 = (
ts
)->tv_sec; \

49 (
tv
)->
tv_u£c
 = (
ts
)->
tv_n£c
 / 1000; \

50 } 0)

	)

58 
	sôimî•ec
 {

59 
time•ec
 
	mô_öãrvÆ
;

60 
time•ec
 
	mô_vÆue
;

	@/usr/include/wctype.h

1 #i‚de‡
_WCTYPE_H_


2 
	#_WCTYPE_H_


	)

4 
	~<_™si.h
>

5 
	~<sys/_ty≥s.h
>

7 
	#__√ed_wöt_t


	)

8 
	~<°ddef.h
>

10 #i‡
__POSIX_VISIBLE
 >= 200809

11 
	~<xloˇÀ.h
>

14 #i‚de‡
WEOF


15 
	#WEOF
 ((
wöt_t
)-1)

	)

18 
	g_BEGIN_STD_C


20 #i‚de‡
_WCTYPE_T


21 
	#_WCTYPE_T


	)

22 
	tw˘y≥_t
;

25 #i‚de‡
_WCTRANS_T


26 
	#_WCTRANS_T


	)

27 
	tw˘øns_t
;

30 
_EXFUN
(
iswÆpha
, (
wöt_t
));

31 
_EXFUN
(
iswÆnum
, (
wöt_t
));

32 #i‡
__ISO_C_VISIBLE
 >= 1999

33 
_EXFUN
(
iswbœnk
, (
wöt_t
));

35 
_EXFUN
(
isw˙ål
, (
wöt_t
));

36 
_EXFUN
(
isw˘y≥
, (
wöt_t
, 
w˘y≥_t
));

37 
_EXFUN
(
iswdigô
, (
wöt_t
));

38 
_EXFUN
(
iswgøph
, (
wöt_t
));

39 
_EXFUN
(
iswlowî
, (
wöt_t
));

40 
_EXFUN
(
isw¥öt
, (
wöt_t
));

41 
_EXFUN
(
iswpun˘
, (
wöt_t
));

42 
_EXFUN
(
isw•a˚
, (
wöt_t
));

43 
_EXFUN
(
iswuµî
, (
wöt_t
));

44 
_EXFUN
(
iswxdigô
, (
wöt_t
));

45 
wöt_t
 
_EXFUN
(
tow˘øns
, (wöt_t, 
w˘øns_t
));

46 
wöt_t
 
_EXFUN
(
towuµî
, (wint_t));

47 
wöt_t
 
_EXFUN
(
towlowî
, (wint_t));

48 
w˘øns_t
 
_EXFUN
(
w˘øns
, (const *));

49 
w˘y≥_t
 
_EXFUN
(
w˘y≥
, (const *));

51 #i‡
__POSIX_VISIBLE
 >= 200809

52 
iswÆpha_l
 (
wöt_t
, 
loˇÀ_t
);

53 
iswÆnum_l
 (
wöt_t
, 
loˇÀ_t
);

54 
iswbœnk_l
 (
wöt_t
, 
loˇÀ_t
);

55 
isw˙ål_l
 (
wöt_t
, 
loˇÀ_t
);

56 
isw˘y≥_l
 (
wöt_t
, 
w˘y≥_t
, 
loˇÀ_t
);

57 
iswdigô_l
 (
wöt_t
, 
loˇÀ_t
);

58 
iswgøph_l
 (
wöt_t
, 
loˇÀ_t
);

59 
iswlowî_l
 (
wöt_t
, 
loˇÀ_t
);

60 
isw¥öt_l
 (
wöt_t
, 
loˇÀ_t
);

61 
iswpun˘_l
 (
wöt_t
, 
loˇÀ_t
);

62 
isw•a˚_l
 (
wöt_t
, 
loˇÀ_t
);

63 
iswuµî_l
 (
wöt_t
, 
loˇÀ_t
);

64 
iswxdigô_l
 (
wöt_t
, 
loˇÀ_t
);

65 
wöt_t
 
tow˘øns_l
 (wöt_t, 
w˘øns_t
, 
loˇÀ_t
);

66 
wöt_t
 
towuµî_l
 (wöt_t, 
loˇÀ_t
);

67 
wöt_t
 
towlowî_l
 (wöt_t, 
loˇÀ_t
);

68 
w˘øns_t
 
w˘øns_l
 (c⁄° *, 
loˇÀ_t
);

69 
w˘y≥_t
 
w˘y≥_l
 (c⁄° *, 
loˇÀ_t
);

72 
	g_END_STD_C


	@/usr/include/bits/byteswap.h

9 #i‚de‡
_BITS_BYTESWAP_H


10 
	#_BITS_BYTESWAP_H


	)

12 #ifde‡
__˝lu•lus


16 
__ölöe
 

17 
__bsw≠_16
 (
__x
)

19  (
__x
 >> 8) | (__x << 8);

22 
__ölöe
 

23 
__bsw≠_32
 (
__x
)

25  (
__bsw≠_16
 (
__x
 & 0xffff) << 16) | (__bswap_16 (__x >> 16));

28 
__ölöe
 

29 
__bsw≠_64
 (
__x
)

31  (((Ë
__bsw≠_32
 (
__x
 & 0xffffffffull)) << 32) | (__bswap_32 (__x >> 32));

34 #ifde‡
__˝lu•lus


	@/usr/include/bits/endian.h

9 #i‚de‡
_BITS_ENDIAN_H_


10 
	#_BITS_ENDIAN_H_


	)

12 #i‚de‡
__BIG_ENDIAN


13 
	#__BIG_ENDIAN
 4321

	)

15 #i‚de‡
__LITTLE_ENDIAN


16 
	#__LITTLE_ENDIAN
 1234

	)

19 #i‚de‡
__BYTE_ORDER


20 
	#__BYTE_ORDER
 
__LITTLE_ENDIAN


	)

	@/usr/include/sys/signal.h

3 #i‚de‡
_SYS_SIGNAL_H


4 
	#_SYS_SIGNAL_H


	)

5 #ifde‡
__˝lu•lus


9 
	~"_™si.h
"

10 
	~<sys/cdefs.h
>

11 
	~<sys/„©uªs.h
>

12 
	~<sys/ty≥s.h
>

13 
	~<sys/_sig£t.h
>

14 
	~<sys/_time•ec.h
>

16 #i‡!
deföed
(
_SIGSET_T_DECLARED
)

17 
	#_SIGSET_T_DECLARED


	)

18 
__sig£t_t
 
	tsig£t_t
;

21 #i‡
deföed
(
__CYGWIN__
)

22 
	~<cygwö/sig«l.h
>

25 #i‡
deföed
(
_POSIX_REALTIME_SIGNALS
Ë|| 
__POSIX_VISIBLE
 >= 199309

30 
	#SIGEV_NONE
 1

	)

32 
	#SIGEV_SIGNAL
 2

	)

35 
	#SIGEV_THREAD
 3

	)

42 
	usigvÆ
 {

43 
sivÆ_öt
;

44 *
sivÆ_±r
;

47 
	ssigevít
 {

48 
sigev_nŸify
;

49 
sigev_signo
;

50 
sigvÆ
 
sigev_vÆue
;

52 #i‡
deföed
(
_POSIX_THREADS
)

53 (*
sigev_nŸify_fun˘i⁄
)–
sigvÆ
 );

55 
±hªad_©å_t
 *
sigev_nŸify_©åibuãs
;

62 
	#SI_USER
 1

	)

63 
	#SI_QUEUE
 2

	)

64 
	#SI_TIMER
 3

	)

65 
	#SI_ASYNCIO
 4

	)

66 
	#SI_MESGQ
 5

	)

69 
si_signo
;

70 
si_code
;

71 
sigvÆ
 
si_vÆue
;

72 } 
	tsigöfo_t
;

75 #i‡
deföed
(
__πems__
)

79 
	#SA_NOCLDSTOP
 0x1

	)

80 
	#SA_SIGINFO
 0x2

	)

82 #i‡
__BSD_VISIBLE
 || 
__XSI_VISIBLE
 >4 || 
__POSIX_VISIBLE
 >= 200809

83 
	#SA_ONSTACK
 0x4

	)

95 (*
_sig_func_±r
)();

97 
	ssiga˘i⁄
 {

98 
ß_Êags
;

99 
sig£t_t
 
ß_mask
;

103 
_sig_func_±r
 
_h™dÀr
;

104 #i‡
deföed
(
_POSIX_REALTIME_SIGNALS
)

105 (*
_siga˘i⁄
)–, 
sigöfo_t
 *, * );

107 } 
_sig«l_h™dÀrs
;

110 
	#ß_h™dÀr
 
_sig«l_h™dÀrs
.
_h™dÀr


	)

111 #i‡
deföed
(
_POSIX_REALTIME_SIGNALS
)

112 
	#ß_siga˘i⁄
 
_sig«l_h™dÀrs
.
_siga˘i⁄


	)

117 
	#SA_NOCLDSTOP
 1

	)

119 (*
_sig_func_±r
)();

121 
	ssiga˘i⁄


123 
_sig_func_±r
 
ß_h™dÀr
;

124 
sig£t_t
 
ß_mask
;

125 
ß_Êags
;

130 #i‡
__BSD_VISIBLE
 || 
__XSI_VISIBLE
 >4 || 
__POSIX_VISIBLE
 >= 200809

135 #i‚def 
MINSIGSTKSZ


136 
	#MINSIGSTKSZ
 2048

	)

138 #i‚def 
SIGSTKSZ


139 
	#SIGSTKSZ
 8192

	)

145 
	#SS_ONSTACK
 0x1

	)

146 
	#SS_DISABLE
 0x2

	)

153 
	ssigÆt°ack
 {

154 *
ss_•
;

155 
ss_Êags
;

156 
size_t
 
ss_size
;

157 } 
	t°ack_t
;

159 #i‡
__POSIX_VISIBLE


160 
	#SIG_SETMASK
 0

	)

161 
	#SIG_BLOCK
 1

	)

162 
	#SIG_UNBLOCK
 2

	)

164 
_EXFUN
(
sig¥ocmask
, (
how
, c⁄° 
sig£t_t
 *
£t
, sig£t_à*
o£t
));

167 #i‡
__POSIX_VISIBLE
 >= 199506

168 
_EXFUN
(
±hªad_sigmask
, (
how
, c⁄° 
sig£t_t
 *
£t
, sig£t_à*
o£t
));

171 #i‡
deföed
(
__CYGWIN__
Ë|| deföed(
__πems__
)

172 #ifde‡
_COMPILING_NEWLIB


173 
_EXFUN
(
_kûl
, (
pid_t
, ));

177 #i‡
__POSIX_VISIBLE


178 
_EXFUN
(
kûl
, (
pid_t
, ));

181 #i‡
__BSD_VISIBLE
 || 
__XSI_VISIBLE
 >= 4

182 
_EXFUN
(
kûÕg
, (
pid_t
, ));

184 #i‡
__POSIX_VISIBLE


185 
_EXFUN
(
siga˘i⁄
, (, const sigaction *, sigaction *));

186 
_EXFUN
(
sigadd£t
, (
sig£t_t
 *, const ));

187 
_EXFUN
(
sigdñ£t
, (
sig£t_t
 *, const ));

188 
_EXFUN
(
sigismembî
, (c⁄° 
sig£t_t
 *, ));

189 
_EXFUN
(
sigfûl£t
, (
sig£t_t
 *));

190 
_EXFUN
(
sigem±y£t
, (
sig£t_t
 *));

191 
_EXFUN
(
sig≥ndög
, (
sig£t_t
 *));

192 
_EXFUN
(
sigsu•íd
, (c⁄° 
sig£t_t
 *));

193 
_EXFUN
(
sigwaô
, (c⁄° 
sig£t_t
 *
£t
, *
sig
));

195 #i‡!
deföed
(
__CYGWIN__
Ë&& !deföed(
__πems__
)

199 
	#sigadd£t
(
wh©
,
sig
Ë(*(wh©Ë|(1<<(sig)), 0)

	)

200 
	#sigdñ£t
(
wh©
,
sig
Ë(*(wh©Ë&~(1<<(sig)), 0)

	)

201 
	#sigem±y£t
(
wh©
Ë(*(wh©Ë0, 0)

	)

202 
	#sigfûl£t
(
wh©
Ë(*(wh©Ë~(0), 0)

	)

203 
	#sigismembî
(
wh©
,
sig
Ë(((*(wh©)Ë& (1<<(sig))Ë!0)

	)

212 #i‡
__XSI_VISIBLE
 && !
deföed
(
__INSIDE_CYGWIN__
)

213 #ifde‡
__GNUC__


214 
_EXFUN
(
sig∑u£
, ()Ë
__asm__
 (
__ASMNAME
 ("__xpg_sigpause"));

216 
_EXFUN
(
__xpg_sig∑u£
, ());

217 
	#sig∑u£
 
__xpg_sig∑u£


	)

219 #ñi‡
__BSD_VISIBLE


220 
_EXFUN
(
sig∑u£
, ());

223 #i‡
__BSD_VISIBLE
 || 
__XSI_VISIBLE
 >4 || 
__POSIX_VISIBLE
 >= 200809

224 
_EXFUN
(
sigÆt°ack
, (c⁄° 
°ack_t
 *
__ª°ri˘
, stack_t *__restrict));

227 #i‡
__POSIX_VISIBLE
 >= 199506

228 
_EXFUN
(
±hªad_kûl
, (
±hªad_t
 
thªad
, 
sig
));

231 #i‡
__POSIX_VISIBLE
 >= 199309

236 
_EXFUN
(
sigwaôöfo
, (c⁄° 
sig£t_t
 *
£t
, 
sigöfo_t
 *
öfo
));

237 
_EXFUN
(
sigtimedwaô
,

238 (c⁄° 
sig£t_t
 *
£t
, 
sigöfo_t
 *
öfo
, c⁄° 
time•ec
 *
timeout
)

241 
_EXFUN
(
sigqueue
, (
pid_t
 
pid
, 
signo
, c⁄° 
sigvÆ
 
vÆue
));

245 #i‡
deföed
(
___AM29K__
)

248 
	#SIGABRT
 1

	)

249 
	#SIGFPE
 1

	)

250 
	#SIGILL
 1

	)

251 
	#SIGINT
 1

	)

252 
	#SIGSEGV
 1

	)

253 
	#SIGTERM
 1

	)

255 
	#SIGHUP
 1

	)

256 
	#SIGQUIT
 1

	)

257 
	#NSIG
 2

	)

258 #ñi‡
deföed
(
__GO32__
)

259 
	#SIGINT
 1

	)

260 
	#SIGKILL
 2

	)

261 
	#SIGPIPE
 3

	)

262 
	#SIGFPE
 4

	)

263 
	#SIGHUP
 5

	)

264 
	#SIGTERM
 6

	)

265 
	#SIGSEGV
 7

	)

266 
	#SIGTSTP
 8

	)

267 
	#SIGQUIT
 9

	)

268 
	#SIGTRAP
 10

	)

269 
	#SIGILL
 11

	)

270 
	#SIGEMT
 12

	)

271 
	#SIGALRM
 13

	)

272 
	#SIGBUS
 14

	)

273 
	#SIGLOST
 15

	)

274 
	#SIGSTOP
 16

	)

275 
	#SIGABRT
 17

	)

276 
	#SIGUSR1
 18

	)

277 
	#SIGUSR2
 19

	)

278 
	#NSIG
 20

	)

279 #ñi‡!
deföed
(
SIGTRAP
)

280 
	#SIGHUP
 1

	)

281 
	#SIGINT
 2

	)

282 
	#SIGQUIT
 3

	)

283 
	#SIGILL
 4

	)

284 
	#SIGTRAP
 5

	)

285 
	#SIGIOT
 6

	)

286 
	#SIGABRT
 6

	)

287 
	#SIGEMT
 7

	)

288 
	#SIGFPE
 8

	)

289 
	#SIGKILL
 9

	)

290 
	#SIGBUS
 10

	)

291 
	#SIGSEGV
 11

	)

292 
	#SIGSYS
 12

	)

293 
	#SIGPIPE
 13

	)

294 
	#SIGALRM
 14

	)

295 
	#SIGTERM
 15

	)

297 #i‡
deföed
(
__πems__
)

298 
	#SIGURG
 16

	)

299 
	#SIGSTOP
 17

	)

300 
	#SIGTSTP
 18

	)

301 
	#SIGCONT
 19

	)

302 
	#SIGCHLD
 20

	)

303 
	#SIGCLD
 20

	)

304 
	#SIGTTIN
 21

	)

305 
	#SIGTTOU
 22

	)

306 
	#SIGIO
 23

	)

307 
	#SIGPOLL
 
SIGIO


	)

308 
	#SIGWINCH
 24

	)

309 
	#SIGUSR1
 25

	)

310 
	#SIGUSR2
 26

	)

316 
	#SIGRTMIN
 27

	)

317 
	#SIGRTMAX
 31

	)

318 
	#__SIGFIRSTNOTRT
 
SIGHUP


	)

319 
	#__SIGLASTNOTRT
 
SIGUSR2


	)

321 
	#NSIG
 32

	)

323 #ñi‡
deföed
(
__svr4__
)

325 
	#SIGUSR1
 16

	)

326 
	#SIGUSR2
 17

	)

327 
	#SIGCLD
 18

	)

328 
	#SIGPWR
 19

	)

329 
	#SIGWINCH
 20

	)

330 
	#SIGPOLL
 22

	)

331 
	#SIGSTOP
 23

	)

332 
	#SIGTSTP
 24

	)

333 
	#SIGCONT
 25

	)

334 
	#SIGTTIN
 26

	)

335 
	#SIGTTOU
 27

	)

336 
	#NSIG
 28

	)

338 
	#SIGURG
 16

	)

339 
	#SIGSTOP
 17

	)

340 
	#SIGTSTP
 18

	)

341 
	#SIGCONT
 19

	)

342 
	#SIGCHLD
 20

	)

343 
	#SIGCLD
 20

	)

344 
	#SIGTTIN
 21

	)

345 
	#SIGTTOU
 22

	)

346 
	#SIGIO
 23

	)

347 
	#SIGPOLL
 
SIGIO


	)

348 
	#SIGXCPU
 24

	)

349 
	#SIGXFSZ
 25

	)

350 
	#SIGVTALRM
 26

	)

351 
	#SIGPROF
 27

	)

352 
	#SIGWINCH
 28

	)

353 
	#SIGLOST
 29

	)

354 
	#SIGUSR1
 30

	)

355 
	#SIGUSR2
 31

	)

356 
	#NSIG
 32

	)

360 #ifde‡
__˝lu•lus


364 #i‡
deföed
(
__CYGWIN__
)

365 #i‡
__XSI_VISIBLE
 >4 || 
__POSIX_VISIBLE
 >= 200809

366 
	~<sys/uc⁄ãxt.h
>

370 #i‚de‡
_SIGNAL_H_


373 
	~<sig«l.h
>

	@/usr/include/cygwin/signal.h

9 #i‚de‡
_CYGWIN_SIGNAL_H


10 
	#_CYGWIN_SIGNAL_H


	)

12 
	~<bôs/w‹dsize.h
>

14 #ifde‡
__˝lu•lus


22 #ifde‡
__x86_64__


24 
	s_uc_Âxªg
 {

25 
__uöt16_t
 
signifiˇnd
[4];

26 
__uöt16_t
 
exp⁄ít
;

27 
__uöt16_t
 
∑ddög
[3];

30 
	s_uc_xmmªg
 {

31 
__uöt32_t
 
	mñemít
[4];

34 
	s_Â°©e


36 
__uöt16_t
 
	mcwd
;

37 
__uöt16_t
 
	mswd
;

38 
__uöt16_t
 
	m·w
;

39 
__uöt16_t
 
	mf›
;

40 
__uöt64_t
 
	mrù
;

41 
__uöt64_t
 
	mrdp
;

42 
__uöt32_t
 
	mmxc§
;

43 
__uöt32_t
 
	mmx¸_mask
;

44 
_uc_Âxªg
 
	m°
[8];

45 
_uc_xmmªg
 
	mxmm
[16];

46 
__uöt32_t
 
	m∑ddög
[24];

49 
__©åibuã__
 ((
	$__Æig√d__
 (16))Ë
__mc⁄ãxt


51 
__uöt64_t
 
p1home
;

52 
__uöt64_t
 
p2home
;

53 
__uöt64_t
 
p3home
;

54 
__uöt64_t
 
p4home
;

55 
__uöt64_t
 
p5home
;

56 
__uöt64_t
 
p6home
;

57 
__uöt32_t
 
˘xÊags
;

58 
__uöt32_t
 
mxc§
;

59 
__uöt16_t
 
cs
;

60 
__uöt16_t
 
ds
;

61 
__uöt16_t
 
es
;

62 
__uöt16_t
 
fs
;

63 
__uöt16_t
 
gs
;

64 
__uöt16_t
 
ss
;

65 
__uöt32_t
 
eÊags
;

66 
__uöt64_t
 
dr0
;

67 
__uöt64_t
 
dr1
;

68 
__uöt64_t
 
dr2
;

69 
__uöt64_t
 
dr3
;

70 
__uöt64_t
 
dr6
;

71 
__uöt64_t
 
dr7
;

72 
__uöt64_t
 
øx
;

73 
__uöt64_t
 
rcx
;

74 
__uöt64_t
 
rdx
;

75 
__uöt64_t
 
rbx
;

76 
__uöt64_t
 
r•
;

77 
__uöt64_t
 
rbp
;

78 
__uöt64_t
 
rsi
;

79 
__uöt64_t
 
rdi
;

80 
__uöt64_t
 
r8
;

81 
__uöt64_t
 
r9
;

82 
__uöt64_t
 
r10
;

83 
__uöt64_t
 
r11
;

84 
__uöt64_t
 
r12
;

85 
__uöt64_t
 
r13
;

86 
__uöt64_t
 
r14
;

87 
__uöt64_t
 
r15
;

88 
__uöt64_t
 
rù
;

89 
_Â°©e
 
Âªgs
;

90 
__uöt64_t
 
vªgs
[52];

91 
__uöt64_t
 
vcx
;

92 
__uöt64_t
 
dbc
;

93 
__uöt64_t
 
bå
;

94 
__uöt64_t
 
b‰
;

95 
__uöt64_t
 
ër
;

96 
__uöt64_t
 
e‰
;

97 
__uöt64_t
 
ﬁdmask
;

98 
__uöt64_t
 
¸2
;

99 
	}
};

103 
	s_uc_Âªg


105 
__uöt16_t
 
	msignifiˇnd
[4];

106 
__uöt16_t
 
	mexp⁄ít
;

109 
	s_Â°©e


111 
__uöt32_t
 
	mcw
;

112 
__uöt32_t
 
	msw
;

113 
__uöt32_t
 
	mèg
;

114 
__uöt32_t
 
	mùoff
;

115 
__uöt32_t
 
	mcs£l
;

116 
__uöt32_t
 
	md©aoff
;

117 
__uöt32_t
 
	md©a£l
;

118 
_uc_Âªg
 
	m_°
[8];

119 
__uöt32_t
 
	mnx°
;

122 
	s__mc⁄ãxt


124 
__uöt32_t
 
	m˘xÊags
;

125 
__uöt32_t
 
	mdr0
;

126 
__uöt32_t
 
	mdr1
;

127 
__uöt32_t
 
	mdr2
;

128 
__uöt32_t
 
	mdr3
;

129 
__uöt32_t
 
	mdr6
;

130 
__uöt32_t
 
	mdr7
;

131 
_Â°©e
 
	mÂ°©e
;

132 
__uöt32_t
 
	mgs
;

133 
__uöt32_t
 
	mfs
;

134 
__uöt32_t
 
	mes
;

135 
__uöt32_t
 
	mds
;

136 
__uöt32_t
 
	medi
;

137 
__uöt32_t
 
	mesi
;

138 
__uöt32_t
 
	mebx
;

139 
__uöt32_t
 
	medx
;

140 
__uöt32_t
 
	mecx
;

141 
__uöt32_t
 
	móx
;

142 
__uöt32_t
 
	mebp
;

143 
__uöt32_t
 
	meù
;

144 
__uöt32_t
 
	mcs
;

145 
__uöt32_t
 
	meÊags
;

146 
__uöt32_t
 
	me•
;

147 
__uöt32_t
 
	mss
;

148 
__uöt32_t
 
	mª£rved
[128];

149 
__uöt32_t
 
	mﬁdmask
;

150 
__uöt32_t
 
	m¸2
;

157 #ifde‡
__x86_64__


158 
	#__COPY_CONTEXT_SIZE
 816

	)

160 
	#__COPY_CONTEXT_SIZE
 204

	)

163 
	usigvÆ


165 
	gsivÆ_öt
;

166 *
	gsivÆ_±r
;

167 } 
	tsigvÆ_t
;

169 
	ssigevít


171 
sigvÆ_t
 
	gsigev_vÆue
;

172 
	gsigev_signo
;

173 
	gsigev_nŸify
;

174 (*
	gsigev_nŸify_fun˘i⁄
Ë(
	gsigvÆ_t
);

175 
±hªad_©å_t
 *
	gsigev_nŸify_©åibuãs
;

176 } 
	tsigevít_t
;

178 #i‡
__POSIX_VISIBLE
 >= 199309

180 #¥agm®
∑ck
(
push
,4)

182 
	s_sigcommu√


184 
__uöt32_t
 
	g_si_code
;

185 *
	g_si_ªad_h™dÀ
;

186 *
	g_si_wrôe_h™dÀ
;

187 *
	g_si_¥o˚ss_h™dÀ
;

188 
__exãnsi⁄__
 union

190 
	g_si_fd
;

191 
öt64_t
 
	g_si_pùe_unique_id
;

192 *
	g_si_°r
;

196 
	#__SI_PAD_SIZE
 32

	)

197 #ifde‡
__INSIDE_CYGWIN__


198 #i‚de‡
max


199 
	#max
(
a
,
b
Ë((◊Ë> (b)Ë? (aË: (b))

	)

201 
	#__uöt32_size
(
__x
Ë(
	`max
( (__xË/  (
uöt32_t
), 1))

	)

206 
	#__SI_CYG_PAD
 (
__SI_PAD_SIZE
 - 
	`__uöt32_size
 (*))

	)

211 
	gsi_signo
;

212 
	gsi_code
;

213 
pid_t
 
	gsi_pid
;

214 
uid_t
 
	gsi_uid
;

215 
	gsi_î∫o
;

217 
__exãnsi⁄__
 union

219 
__uöt32_t
 
	g__∑d
[
__SI_PAD_SIZE
];

220 
_sigcommu√
 
	g_si_commu√
;

221 
__exãnsi⁄__
 struct

223 
__exãnsi⁄__
 union

225 
sigvÆ_t
 
	gsi_sigvÆ
;

226 
sigvÆ_t
 
	gsi_vÆue
;

228 
__exãnsi⁄__
 struct

230 
timî_t
 
	gsi_tid
;

231 
	gsi_ovîrun
;

235 
__exãnsi⁄__
 struct

237 
	gsi_°©us
;

238 
˛ock_t
 
	gsi_utime
;

239 
˛ock_t
 
	gsi_°ime
;

242 *
	gsi_addr
;

245 #ifde‡
__INSIDE_CYGWIN__


246 
__exãnsi⁄__
 struct

248 
__uöt32_t
 
	g__∑d2
[
__SI_CYG_PAD
];

249 *
	gsi_cyg
;

254 } 
	tsigöfo_t
;

256 #¥agm®
∑ck
(
p›
)

262 
	gSI_USER
 = 0,

263 
	gSI_ASYNCIO
 = 2,

265 
	gSI_MESGQ
,

267 
	gSI_TIMER
,

268 
	gSI_QUEUE
,

269 
	gSI_KERNEL
,

271 
	gILL_ILLOPC
,

272 
	gILL_ILLOPN
,

273 
	gILL_ILLADR
,

274 
	gILL_ILLTRP
,

275 
	gILL_PRVOPC
,

276 
	gILL_PRVREG
,

277 
	gILL_COPROC
,

278 
	gILL_BADSTK
,

280 
	gFPE_INTDIV
,

281 
	gFPE_INTOVF
,

282 
	gFPE_FLTDIV
,

283 
	gFPE_FLTOVF
,

284 
	gFPE_FLTUND
,

285 
	gFPE_FLTRES
,

286 
	gFPE_FLTINV
,

287 
	gFPE_FLTSUB
,

289 
	gSEGV_MAPERR
,

290 
	gSEGV_ACCERR
,

292 
	gBUS_ADRALN
,

293 
	gBUS_ADRERR
,

294 
	gBUS_OBJERR
,

296 
	gCLD_EXITED
,

297 
	gCLD_KILLED
,

298 
	gCLD_DUMPED
,

299 
	gCLD_TRAPPED
,

300 
	gCLD_STOPPED
,

301 
	gCLD_CONTINUED


306 
	gSIGEV_SIGNAL
 = 0,

309 
	gSIGEV_NONE
,

312 
	gSIGEV_THREAD


316 
	#SIGEV_SIGNAL
 
SIGEV_SIGNAL


	)

317 
	#SIGEV_NONE
 
SIGEV_NONE


	)

318 
	#SIGEV_THREAD
 
SIGEV_THREAD


	)

320 (*
	g_sig_func_±r
)();

322 #i‡
__POSIX_VISIBLE


324 
	ssiga˘i⁄


326 
__exãnsi⁄__
 union

328 
_sig_func_±r
 
	gß_h™dÀr
;

329 #i‡
__POSIX_VISIBLE
 >= 199309

330 (*
	gß_siga˘i⁄
Ë–, 
	gsigöfo_t
 *, * );

333 
sig£t_t
 
	gß_mask
;

334 
	gß_Êags
;

337 
	#SA_NOCLDSTOP
 1

	)

339 
	#SA_SIGINFO
 2

	)

342 
	#SA_RESTART
 0x10000000

	)

343 
	#SA_ONSTACK
 0x20000000

	)

346 
	#SA_NODEFER
 0x40000000

	)

348 
	#SA_RESETHAND
 0x80000000

	)

349 
	#SA_ONESHOT
 
SA_RESETHAND


	)

350 
	#SA_NOMASK
 
SA_NODEFER


	)

354 
	#_SA_INTERNAL_MASK
 0xf000

	)

358 #i‡
__BSD_VISIBLE
 || 
__XSI_VISIBLE
 >4 || 
__POSIX_VISIBLE
 >= 200809

360 #unde‡
MINSIGSTKSZ


361 
	#MINSIGSTKSZ
 8192

	)

362 #unde‡
SIGSTKSZ


363 
	#SIGSTKSZ
 32768

	)

367 
	#SIGHUP
 1

	)

368 
	#SIGINT
 2

	)

369 
	#SIGQUIT
 3

	)

370 
	#SIGILL
 4

	)

371 
	#SIGTRAP
 5

	)

372 
	#SIGABRT
 6

	)

373 
	#SIGIOT
 
SIGABRT


	)

374 
	#SIGEMT
 7

	)

375 
	#SIGFPE
 8

	)

376 
	#SIGKILL
 9

	)

377 
	#SIGBUS
 10

	)

378 
	#SIGSEGV
 11

	)

379 
	#SIGSYS
 12

	)

380 
	#SIGPIPE
 13

	)

381 
	#SIGALRM
 14

	)

382 
	#SIGTERM
 15

	)

383 
	#SIGURG
 16

	)

384 
	#SIGSTOP
 17

	)

385 
	#SIGTSTP
 18

	)

386 
	#SIGCONT
 19

	)

387 
	#SIGCHLD
 20

	)

388 
	#SIGCLD
 20

	)

389 
	#SIGTTIN
 21

	)

390 
	#SIGTTOU
 22

	)

391 
	#SIGIO
 23

	)

392 
	#SIGPOLL
 
SIGIO


	)

393 
	#SIGXCPU
 24

	)

394 
	#SIGXFSZ
 25

	)

395 
	#SIGVTALRM
 26

	)

396 
	#SIGPROF
 27

	)

397 
	#SIGWINCH
 28

	)

398 
	#SIGLOST
 29

	)

399 
	#SIGPWR
 
SIGLOST


	)

400 
	#SIGUSR1
 30

	)

401 
	#SIGUSR2
 31

	)

403 #i‡
__WORDSIZE
 == 64

404 
	#NSIG
 65

	)

406 
	#NSIG
 33

	)

410 
	#SIGRTMIN
 32

	)

411 
	#SIGRTMAX
 (
NSIG
 - 1)

	)

413 
	#SIG_HOLD
 ((
_sig_func_±r
)2Ë

	)

415 #i‡
__POSIX_VISIBLE
 >= 200809

416 
psigöfo
 (c⁄° 
sigöfo_t
 *, const *);

418 #i‡
__POSIX_VISIBLE


419 
sigwaô
 (c⁄° 
sig£t_t
 *, *);

421 #i‡
__POSIX_VISIBLE
 >= 199309

422 
sigwaôöfo
 (c⁄° 
sig£t_t
 *, 
sigöfo_t
 *);

424 #i‡
__XSI_VISIBLE
 >= 4

425 
sighﬁd
 ();

426 
sigign‹e
 ();

427 
sigªl£
 ();

428 
_sig_func_±r
 
sig£t
 (, _sig_func_ptr);

431 #i‡
__POSIX_VISIBLE
 >= 199309

432 
sigqueue
(
pid_t
, , c⁄° 
sigvÆ
);

434 #i‡
__BSD_VISIBLE
 || 
__XSI_VISIBLE
 >4 || 
__POSIX_VISIBLE
 >= 200809

435 
sigöãºu±
 (, );

437 #ifde‡
__INSIDE_CYGWIN__


438 c⁄° *
sys_sigabbªv
[];

439 c⁄° *
sys_sigli°
[];

440 #ñi‡
__BSD_VISIBLE


441 c⁄° 
__de˛•ec
(
dŒimp‹t
Ë*
sys_sigabbªv
[];

442 c⁄° 
__de˛•ec
(
dŒimp‹t
Ë*
sys_sigli°
[];

445 #ifde‡
__˝lu•lus


	@/usr/include/sys/ucontext.h

9 #i‚de‡
_SYS_UCONTEXT_H_


10 
	#_SYS_UCONTEXT_H_


	)

12 
	~<sig«l.h
>

14 
__mc⁄ãxt
 
	tmc⁄ãxt_t
;

16 
__©åibuã__
 ((
	t__Æig√d__
 (16))Ë
	s__uc⁄ãxt
 {

17 
mc⁄ãxt_t
 
uc_mc⁄ãxt
;

18 
__uc⁄ãxt
 *
uc_lök
;

19 
sig£t_t
 
uc_sigmask
;

20 
°ack_t
 
uc_°ack
;

21 
uc_Êags
;

22 } 
	tuc⁄ãxt_t
;

	@
1
.
1
/usr/include
111
2636
libass/ass.c
libass/ass.h
libass/ass_bitmap.c
libass/ass_bitmap.h
libass/ass_blur.c
libass/ass_cache.c
libass/ass_cache.h
libass/ass_cache_template.h
libass/ass_compat.h
libass/ass_coretext.c
libass/ass_coretext.h
libass/ass_directwrite.c
libass/ass_directwrite.h
libass/ass_drawing.c
libass/ass_drawing.h
libass/ass_font.c
libass/ass_font.h
libass/ass_fontconfig.c
libass/ass_fontconfig.h
libass/ass_fontselect.c
libass/ass_fontselect.h
libass/ass_func_template.h
libass/ass_library.c
libass/ass_library.h
libass/ass_outline.c
libass/ass_outline.h
libass/ass_parse.c
libass/ass_parse.h
libass/ass_rasterizer.c
libass/ass_rasterizer.h
libass/ass_rasterizer_c.c
libass/ass_render.c
libass/ass_render.h
libass/ass_render_api.c
libass/ass_shaper.c
libass/ass_shaper.h
libass/ass_string.c
libass/ass_string.h
libass/ass_strtod.c
libass/ass_types.h
libass/ass_utils.c
libass/ass_utils.h
libass/dwrite_c.h
libass/x86/cpuid.h
profile/profile.c
test/test.c
/usr/include/assert.h
/usr/include/dirent.h
/usr/include/errno.h
/usr/include/iconv.h
/usr/include/inttypes.h
/usr/include/limits.h
/usr/include/math.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/sys/stat.h
/usr/include/sys/types.h
/usr/include/_ansi.h
/usr/include/alloca.h
/usr/include/bits/wordsize.h
/usr/include/cygwin/stat.h
/usr/include/cygwin/stdlib.h
/usr/include/features.h
/usr/include/machine/_default_types.h
/usr/include/machine/_types.h
/usr/include/machine/endian.h
/usr/include/machine/fastmath.h
/usr/include/machine/ieeefp.h
/usr/include/machine/stdlib.h
/usr/include/machine/types.h
/usr/include/newlib.h
/usr/include/strings.h
/usr/include/sys/_intsup.h
/usr/include/sys/_pthreadtypes.h
/usr/include/sys/_stdint.h
/usr/include/sys/_timespec.h
/usr/include/sys/_types.h
/usr/include/sys/cdefs.h
/usr/include/sys/config.h
/usr/include/sys/dirent.h
/usr/include/sys/errno.h
/usr/include/sys/features.h
/usr/include/sys/reent.h
/usr/include/sys/select.h
/usr/include/sys/stdio.h
/usr/include/sys/string.h
/usr/include/time.h
/usr/include/wchar.h
/usr/include/xlocale.h
/usr/include/_newlib_version.h
/usr/include/cygwin/config.h
/usr/include/cygwin/time.h
/usr/include/cygwin/wait.h
/usr/include/endian.h
/usr/include/machine/_endian.h
/usr/include/machine/time.h
/usr/include/signal.h
/usr/include/sys/_sigset.h
/usr/include/sys/_timeval.h
/usr/include/sys/custom_file.h
/usr/include/sys/lock.h
/usr/include/sys/sysmacros.h
/usr/include/sys/timespec.h
/usr/include/wctype.h
/usr/include/bits/byteswap.h
/usr/include/bits/endian.h
/usr/include/sys/signal.h
/usr/include/cygwin/signal.h
/usr/include/sys/ucontext.h
